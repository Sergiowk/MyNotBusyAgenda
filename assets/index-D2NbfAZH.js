(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var tm={exports:{}},Il={};var vv;function BS(){if(vv)return Il;vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var Ev;function qS(){return Ev||(Ev=1,tm.exports=BS()),tm.exports}var V=qS(),nm={exports:{}},Se={};var Tv;function HS(){if(Tv)return Se;Tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function k(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,H={};function ne(O,Z,ae){this.props=O,this.context=Z,this.refs=H,this.updater=ae||Q}ne.prototype.isReactComponent={},ne.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},ne.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ie(){}ie.prototype=ne.prototype;function te(O,Z,ae){this.props=O,this.context=Z,this.refs=H,this.updater=ae||Q}var ge=te.prototype=new ie;ge.constructor=te,J(ge,ne.prototype),ge.isPureReactComponent=!0;var Te=Array.isArray;function be(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,Z,ae){var ue=ae.ref;return{$$typeof:r,type:O,key:Z,ref:ue!==void 0?ue:null,props:ae}}function M(O,Z){return R(O.type,Z,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ae){return Z[ae]})}var C=/\/+/g;function rt(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):Z.toString(36)}function Dt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(be,be):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Y(O,Z,ae,ue,ve){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Pe=!1;if(O===null)Pe=!0;else switch(Ce){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(O.$$typeof){case r:case e:Pe=!0;break;case E:return Pe=O._init,Y(Pe(O._payload),Z,ae,ue,ve)}}if(Pe)return ve=ve(O),Pe=ue===""?"."+rt(O,0):ue,Te(ve)?(ae="",Pe!=null&&(ae=Pe.replace(C,"$&/")+"/"),Y(ve,Z,ae,"",function(cs){return cs})):ve!=null&&(D(ve)&&(ve=M(ve,ae+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(C,"$&/")+"/")+Pe)),Z.push(ve)),1;Pe=0;var xt=ue===""?".":ue+":";if(Te(O))for(var st=0;st<O.length;st++)ue=O[st],Ce=xt+rt(ue,st),Pe+=Y(ue,Z,ae,Ce,ve);else if(st=k(O),typeof st=="function")for(O=st.call(O),st=0;!(ue=O.next()).done;)ue=ue.value,Ce=xt+rt(ue,st++),Pe+=Y(ue,Z,ae,Ce,ve);else if(Ce==="object"){if(typeof O.then=="function")return Y(Dt(O),Z,ae,ue,ve);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function se(O,Z,ae){if(O==null)return O;var ue=[],ve=0;return Y(O,ue,"","",function(Ce){return Z.call(ae,Ce,ve++)}),ue}function me(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=ae)},function(ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=ae)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var ze=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ge={map:se,forEach:function(O,Z,ae){se(O,function(){Z.apply(this,arguments)},ae)},count:function(O){var Z=0;return se(O,function(){Z++}),Z},toArray:function(O){return se(O,function(Z){return Z})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=T,Se.Children=Ge,Se.Component=ne,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=te,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,Z,ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=J({},O.props),ve=O.key;if(Z!=null)for(Ce in Z.key!==void 0&&(ve=""+Z.key),Z)!w.call(Z,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Z.ref===void 0||(ue[Ce]=Z[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var Pe=Array(Ce),xt=0;xt<Ce;xt++)Pe[xt]=arguments[xt+2];ue.children=Pe}return R(O.type,ve,ue)},Se.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Se.createElement=function(O,Z,ae){var ue,ve={},Ce=null;if(Z!=null)for(ue in Z.key!==void 0&&(Ce=""+Z.key),Z)w.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=Z[ue]);var Pe=arguments.length-2;if(Pe===1)ve.children=ae;else if(1<Pe){for(var xt=Array(Pe),st=0;st<Pe;st++)xt[st]=arguments[st+2];ve.children=xt}if(O&&O.defaultProps)for(ue in Pe=O.defaultProps,Pe)ve[ue]===void 0&&(ve[ue]=Pe[ue]);return R(O,Ce,ve)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:m,render:O}},Se.isValidElement=D,Se.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:me}},Se.memo=function(O,Z){return{$$typeof:y,type:O,compare:Z===void 0?null:Z}},Se.startTransition=function(O){var Z=N.T,ae={};N.T=ae;try{var ue=O(),ve=N.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(be,ze)}catch(Ce){ze(Ce)}finally{Z!==null&&ae.types!==null&&(Z.types=ae.types),N.T=Z}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(O){return N.H.use(O)},Se.useActionState=function(O,Z,ae){return N.H.useActionState(O,Z,ae)},Se.useCallback=function(O,Z){return N.H.useCallback(O,Z)},Se.useContext=function(O){return N.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,Z){return N.H.useDeferredValue(O,Z)},Se.useEffect=function(O,Z){return N.H.useEffect(O,Z)},Se.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(O,Z,ae){return N.H.useImperativeHandle(O,Z,ae)},Se.useInsertionEffect=function(O,Z){return N.H.useInsertionEffect(O,Z)},Se.useLayoutEffect=function(O,Z){return N.H.useLayoutEffect(O,Z)},Se.useMemo=function(O,Z){return N.H.useMemo(O,Z)},Se.useOptimistic=function(O,Z){return N.H.useOptimistic(O,Z)},Se.useReducer=function(O,Z,ae){return N.H.useReducer(O,Z,ae)},Se.useRef=function(O){return N.H.useRef(O)},Se.useState=function(O){return N.H.useState(O)},Se.useSyncExternalStore=function(O,Z,ae){return N.H.useSyncExternalStore(O,Z,ae)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.0",Se}var bv;function Jm(){return bv||(bv=1,nm.exports=HS()),nm.exports}var B=Jm(),im={exports:{}},Nl={},rm={exports:{}},sm={};var Sv;function FS(){return Sv||(Sv=1,(function(r){function e(Y,se){var me=Y.length;Y.push(se);e:for(;0<me;){var ze=me-1>>>1,Ge=Y[ze];if(0<o(Ge,se))Y[ze]=se,Y[me]=Ge,me=ze;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var se=Y[0],me=Y.pop();if(me!==se){Y[0]=me;e:for(var ze=0,Ge=Y.length,O=Ge>>>1;ze<O;){var Z=2*(ze+1)-1,ae=Y[Z],ue=Z+1,ve=Y[ue];if(0>o(ae,me))ue<Ge&&0>o(ve,ae)?(Y[ze]=ve,Y[ue]=me,ze=ue):(Y[ze]=ae,Y[Z]=me,ze=Z);else if(ue<Ge&&0>o(ve,me))Y[ze]=ve,Y[ue]=me,ze=ue;else break e}}return se}function o(Y,se){var me=Y.sortIndex-se.sortIndex;return me!==0?me:Y.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,T=null,A=3,k=!1,Q=!1,J=!1,H=!1,ne=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ge(Y){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=Y)s(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function Te(Y){if(J=!1,ge(Y),!Q)if(n(p)!==null)Q=!0,be||(be=!0,P());else{var se=n(y);se!==null&&Dt(Te,se.startTime-Y)}}var be=!1,N=-1,w=5,R=-1;function M(){return H?!0:!(r.unstable_now()-R<w)}function D(){if(H=!1,be){var Y=r.unstable_now();R=Y;var se=!0;try{e:{Q=!1,J&&(J=!1,ie(N),N=-1),k=!0;var me=A;try{t:{for(ge(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&M());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,A=T.priorityLevel;var Ge=ze(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,ge(Y),se=!0;break t}T===n(p)&&s(p),ge(Y)}else s(p);T=n(p)}if(T!==null)se=!0;else{var O=n(y);O!==null&&Dt(Te,O.startTime-Y),se=!1}}break e}finally{T=null,A=me,k=!1}se=void 0}}finally{se?P():be=!1}}}var P;if(typeof te=="function")P=function(){te(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,rt=C.port2;C.port1.onmessage=D,P=function(){rt.postMessage(null)}}else P=function(){ne(D,0)};function Dt(Y,se){N=ne(function(){Y(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var se=3;break;default:se=A}var me=A;A=se;try{return Y()}finally{A=me}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=A;A=Y;try{return se()}finally{A=me}},r.unstable_scheduleCallback=function(Y,se,me){var ze=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,Y){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,Y={id:E++,callback:se,priorityLevel:Y,startTime:me,expirationTime:Ge,sortIndex:-1},me>ze?(Y.sortIndex=me,e(y,Y),n(p)===null&&Y===n(y)&&(J?(ie(N),N=-1):J=!0,Dt(Te,me-ze))):(Y.sortIndex=Ge,e(p,Y),Q||k||(Q=!0,be||(be=!0,P()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var se=A;return function(){var me=A;A=se;try{return Y.apply(this,arguments)}finally{A=me}}}})(sm)),sm}var Av;function GS(){return Av||(Av=1,rm.exports=FS()),rm.exports}var am={exports:{}},$t={};var wv;function QS(){if(wv)return $t;wv=1;var r=Jm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},$t.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},$t.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},$t.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,y){return p(y)},$t.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var Rv;function KS(){if(Rv)return am.exports;Rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=QS(),am.exports}var Cv;function YS(){if(Cv)return Nl;Cv=1;var r=GS(),e=Jm(),n=KS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case ne:return"Profiler";case H:return"StrictMode";case Te:return"Suspense";case be:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case te:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Dt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function O(t){return{current:t}}function Z(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function ae(t,i){Ge++,ze[Ge]=t.current,t.current=i}var ue=O(null),ve=O(null),Ce=O(null),Pe=O(null);function xt(t,i){switch(ae(Ce,i),ae(ve,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?q_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=q_(i),t=H_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),ae(ue,t)}function st(){Z(ue),Z(ve),Z(Ce)}function cs(t){t.memoizedState!==null&&ae(Pe,t);var i=ue.current,a=H_(i,t.type);i!==a&&(ae(ve,t),ae(ue,a))}function ia(t){ve.current===t&&(Z(ue),Z(ve)),Pe.current===t&&(Z(Pe),Al._currentValue=me)}var ra,sa;function ri(t){if(ra===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ra=i&&i[1]||"",sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+t+sa}var Ao=!1;function hs(t,i){if(!t||Ao)return"";Ao=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var q=G}Reflect.construct(t,[],$)}else{try{$.call()}catch(G){q=G}t.call($.prototype)}}else{try{throw Error()}catch(G){q=G}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var I=_.split(`
`),j=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var K=`
`+I[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Ao=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function wo(t,i){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==i&&i!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return hs(t.type,!1);case 11:return hs(t.type.render,!1);case 1:return hs(t.type,!0);case 31:return ri("Activity");default:return""}}function Ro(t){try{var i="",a=null;do i+=wo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,dr=r.unstable_cancelCallback,nf=r.unstable_shouldYield,hu=r.unstable_requestPaint,tn=r.unstable_now,fs=r.unstable_getCurrentPriorityLevel,Co=r.unstable_ImmediatePriority,Io=r.unstable_UserBlockingPriority,mr=r.unstable_NormalPriority,rf=r.unstable_LowPriority,fu=r.unstable_IdlePriority,du=r.log,mu=r.unstable_setDisableYieldValue,Bn=null,jt=null;function An(t){if(typeof du=="function"&&mu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Bn,t)}catch{}}var ft=Math.clz32?Math.clz32:gu,pu=Math.log,aa=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(pu(t)/aa|0)|0}var si=256,ds=262144,vt=4194304;function ai(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=ai(l):(_&=b,_!==0?h=ai(_):a||(a=b&~t,a!==0&&(h=ai(a))))):(b=l&~d,b!==0?h=ai(b):_!==0?h=ai(_):a||(a=l&~t,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function sf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function li(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ms(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function af(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-ft(a),$=1<<K;b[K]=0,I[K]=-1;var q=j[K];if(q!==null)for(j[K]=null,K=0;K<q.length;K++){var G=q[K];G!==null&&(G.lane&=-536870913)}a&=~$}l!==0&&ps(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ps(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function No(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Do(t,i){var a=i&-i;return a=(a&42)!==0?1:gs(a),(a&(t.suspendedLanes|i))!==0?0:a}function gs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Li(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function _u(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:fv(t.type))}function Hn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Fn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Fn,kt="__reactProps$"+Fn,ui="__reactContainer$"+Fn,oa="__reactEvents$"+Fn,of="__reactListeners$"+Fn,vu="__reactHandles$"+Fn,Eu="__reactResources$"+Fn,ci="__reactMarker$"+Fn;function la(t){delete t[Et],delete t[kt],delete t[oa],delete t[of],delete t[vu]}function hi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ui]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=$_(t);t!==null;){if(a=t[Et])return a;t=$_(t)}return i}t=a,a=t.parentNode}return null}function wn(t){if(t=t[Et]||t[ui]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function fi(t){var i=t[Eu];return i||(i=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[ci]=!0}var xo=new Set,Oo={};function di(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(Oo[t]=i,t=0;t<i.length;t++)xo.add(i[t])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},ko={};function Tu(t){return _t.call(ko,t)?!0:_t.call(Vo,t)?!1:Mo.test(t)?ko[t]=!0:(Vo[t]=!0,!1)}function ua(t,i,a){if(Tu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=pr(t)?"checked":"value";t._valueTracker=Lo(t,i,""+t[i])}}function ys(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=pr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _s=/[\n"\\]/g;function sn(t){return t.replace(_s,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(t,i,a,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Po(t,_,Lt(i)):a!=null?Po(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Lt(b):t.removeAttribute("name")}function bu(t,i,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Po(t,i,a){i==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Su(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function yr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Au.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function zo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Uo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Uo(t,d,i[d])}function ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_r=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return _r.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var jo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vr=null,gi=null;function vs(t){var i=wn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(s(90));ca(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ys(l)}break e;case"textarea":Su(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&gr(t,!!a.multiple,i,!1)}}}var da=!1;function Er(t,i,a){if(da)return t(i,a);da=!0;try{var l=t(i);return l}finally{if(da=!1,(vr!==null||gi!==null)&&(_c(),vr&&(i=vr,t=gi,gi=vr=null,vs(i),t)))for(i=0;i<t.length;i++)vs(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(Cn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Es=!1}var yi=null,Bo=null,Ts=null;function qo(){if(Ts)return Ts;var t,i=Bo,a=i.length,l,h="value"in yi?yi.value:yi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ts=h.slice(t,1<l?1-l:void 0)}function bs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Pi(){return!0}function Kn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Pi:Kn,this.isPropagationStopped=Kn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),i}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Bt(Ui),Tr=T({},Ui,{view:0,detail:0}),Ho=Bt(Tr),br,ma,vi,pa=T({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(br=t.screenX-vi.screenX,ma=t.screenY-vi.screenY):ma=br=0,vi=t),br)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),Fo=Bt(pa),Ss=T({},pa,{dataTransfer:0}),Ru=Bt(Ss),Cu=T({},Tr,{relatedTarget:0}),As=Bt(Cu),Go=T({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=Bt(Go),ga=T({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nu=Bt(ga),Du=T({},Ui,{data:0}),Ei=Bt(Du),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Mu[t])?!!i[t]:!1}function Sr(){return Vu}var nn=T({},Tr,{key:function(t){if(t.key){var i=xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(t){return t.type==="keypress"?bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ku=Bt(nn),Lu=T({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Bt(Lu),c=T({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),g=Bt(c),v=T({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Bt(v),U=T({},pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(U),re=T({},Ui,{newState:0,oldState:0}),we=Bt(re),dt=[9,13,27,32],qe=Cn&&"CompositionEvent"in window,at=null;Cn&&"documentMode"in document&&(at=document.documentMode);var In=Cn&&"TextEvent"in window&&!at,Ti=Cn&&(!qe||at&&8<at&&11>=at),Yn=" ",Xn=!1;function ws(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function h1(t,i){switch(t){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:(Xn=!0,Yn);case"textInput":return t=i.data,t===Yn&&Xn?null:t;default:return null}}function f1(t,i){if(_a)return t==="compositionend"||!qe&&ws(t,i)?(t=qo(),Ts=Bo=yi=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var d1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!d1[t.type]:i==="textarea"}function eg(t,i,a,l){vr?gi?gi.push(l):gi=[l]:vr=l,i=wc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Qo=null,Ko=null;function m1(t){L_(t,0)}function Pu(t){var i=mn(t);if(ys(i))return t}function tg(t,i){if(t==="change")return i}var ng=!1;if(Cn){var lf;if(Cn){var uf="oninput"in document;if(!uf){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),uf=typeof ig.oninput=="function"}lf=uf}else lf=!1;ng=lf&&(!document.documentMode||9<document.documentMode)}function rg(){Qo&&(Qo.detachEvent("onpropertychange",sg),Ko=Qo=null)}function sg(t){if(t.propertyName==="value"&&Pu(Ko)){var i=[];eg(i,Ko,t,Rn(t)),Er(m1,i)}}function p1(t,i,a){t==="focusin"?(rg(),Qo=i,Ko=a,Qo.attachEvent("onpropertychange",sg)):t==="focusout"&&rg()}function g1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(Ko)}function y1(t,i){if(t==="click")return Pu(i)}function _1(t,i){if(t==="input"||t==="change")return Pu(i)}function v1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:v1;function Yo(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function og(t,i){var a=ag(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ag(a)}}function lg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?lg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pi(t.document)}return i}function cf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var E1=Cn&&"documentMode"in document&&11>=document.documentMode,va=null,hf=null,Xo=null,ff=!1;function cg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ff||va==null||va!==pi(l)||(l=va,"selectionStart"in l&&cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Yo(Xo,l)||(Xo=l,l=wc(hf,"onSelect"),0<l.length&&(i=new _i("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=va)))}function Rs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ea={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},df={},hg={};Cn&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Cs(t){if(df[t])return df[t];if(!Ea[t])return t;var i=Ea[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in hg)return df[t]=i[a];return t}var fg=Cs("animationend"),dg=Cs("animationiteration"),mg=Cs("animationstart"),T1=Cs("transitionrun"),b1=Cs("transitionstart"),S1=Cs("transitioncancel"),pg=Cs("transitionend"),gg=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function $n(t,i){gg.set(t,i),di(i,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],Ta=0,pf=0;function zu(){for(var t=Ta,i=pf=Ta=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&yg(a,h,d)}}function ju(t,i,a,l){Nn[Ta++]=t,Nn[Ta++]=i,Nn[Ta++]=a,Nn[Ta++]=l,pf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function gf(t,i,a,l){return ju(t,i,a,l),Bu(t)}function Is(t,i){return ju(t,null,null,i),Bu(t)}function yg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Bu(t){if(50<yl)throw yl=0,wd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ba={};function A1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,l){return new A1(t,i,a,l)}function yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _g(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function qu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")yf(t)&&(_=1);else if(typeof t=="string")_=NS(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=yn(31,a,i,h),t.elementType=R,t.lanes=d,t;case J:return Ns(a.children,h,d,i);case H:_=8,h|=24;break;case ne:return t=yn(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case Te:return t=yn(13,a,i,h),t.elementType=Te,t.lanes=d,t;case be:return t=yn(19,a,i,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:_=10;break e;case ie:_=9;break e;case ge:_=11;break e;case N:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=yn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ns(t,i,a,l){return t=yn(7,t,l,i),t.lanes=a,t}function _f(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function vg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function vf(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Eg=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var a=Eg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ro(i)},Eg.set(t,i),i)}return{value:t,source:i,stack:Ro(i)}}var Sa=[],Aa=0,Hu=null,$o=0,xn=[],On=0,Ar=null,bi=1,Si="";function Bi(t,i){Sa[Aa++]=$o,Sa[Aa++]=Hu,Hu=t,$o=i}function Tg(t,i,a){xn[On++]=bi,xn[On++]=Si,xn[On++]=Ar,Ar=t;var l=bi;t=Si;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,bi=1<<32-ft(i)+h|a<<h|l,Si=d+t}else bi=1<<d|a<<h|l,Si=t}function Ef(t){t.return!==null&&(Bi(t,1),Tg(t,1,0))}function Tf(t){for(;t===Hu;)Hu=Sa[--Aa],Sa[Aa]=null,$o=Sa[--Aa],Sa[Aa]=null;for(;t===Ar;)Ar=xn[--On],xn[On]=null,Si=xn[--On],xn[On]=null,bi=xn[--On],xn[On]=null}function bg(t,i){xn[On++]=bi,xn[On++]=Si,xn[On++]=Ar,bi=i.id,Si=i.overflow,Ar=t}var qt=null,tt=null,Le=!1,wr=null,Mn=!1,bf=Error(s(519));function Rr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(Dn(i,t)),bf}function Sg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[kt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<vl.length;a++)De(vl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),bu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),yr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||j_(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Rr(t,!0)}function Ag(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function wa(t){if(t!==qt)return!1;if(!Le)return Ag(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||jd(t.type,t.memoizedProps)),a=!a),a&&tt&&Rr(t),Ag(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=X_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=X_(t)}else i===27?(i=tt,jr(t.type)?(t=Gd,Gd=null,tt=t):tt=i):tt=qt?kn(t.stateNode.nextSibling):null;return!0}function Ds(){tt=qt=null,Le=!1}function Sf(){var t=wr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),wr=null),t}function Jo(t){wr===null?wr=[t]:wr.push(t)}var Af=O(null),xs=null,qi=null;function Cr(t,i,a){ae(Af,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=Af.current,Z(Af)}function wf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Rf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var I=0;I<i.length;I++)if(b.context===i[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),wf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),wf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ra(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;gn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&Rf(i,t,a,l),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){xs=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return wg(xs,t)}function Gu(t,i){return xs===null&&Os(t),wg(t,i)}function wg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(s(308));qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else qi=qi.next=i;return a}var w1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},R1=r.unstable_scheduleCallback,C1=r.unstable_NormalPriority,St={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new w1,data:new Map,refCount:0}}function Zo(t){t.refCount--,t.refCount===0&&R1(C1,function(){t.controller.abort()})}var Wo=null,If=0,Ca=0,Ia=null;function I1(t,i){if(Wo===null){var a=Wo=[];If=0,Ca=xd(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return If++,i.then(Rg,Rg),i}function Rg(){if(--If===0&&Wo!==null){Ia!==null&&(Ia.status="fulfilled");var t=Wo;Wo=null,Ca=0,Ia=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function N1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Cg=Y.S;Y.S=function(t,i){c_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&I1(t,i),Cg!==null&&Cg(t,i)};var Ms=O(null);function Nf(){var t=Ms.current;return t!==null?t:We.pooledCache}function Qu(t,i){i===null?ae(Ms,Ms.current):ae(Ms,i.pool)}function Ig(){var t=Nf();return t===null?null:{parent:St._currentValue,pool:t}}var Na=Error(s(460)),Df=Error(s(474)),Ku=Error(s(542)),Yu={then:function(){}};function Ng(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Dg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Og(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Og(t),t}throw ks=i,Na}}function Vs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ks=a,Na):a}}var ks=null;function xg(){if(ks===null)throw Error(s(459));var t=ks;return ks=null,t}function Og(t){if(t===Na||t===Ku)throw Error(s(483))}var Da=null,el=0;function Xu(t){var i=el;return el+=1,Da===null&&(Da=[]),Dg(Da,t,i)}function tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function $u(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Mg(t){function i(L,x){if(t){var z=L.deletions;z===null?(L.deletions=[x],L.flags|=16):z.push(x)}}function a(L,x){if(!t)return null;for(;x!==null;)i(L,x),x=x.sibling;return null}function l(L){for(var x=new Map;L!==null;)L.key!==null?x.set(L.key,L):x.set(L.index,L),L=L.sibling;return x}function h(L,x){return L=ji(L,x),L.index=0,L.sibling=null,L}function d(L,x,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<x?(L.flags|=67108866,x):z):(L.flags|=67108866,x)):(L.flags|=1048576,x)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,x,z,X){return x===null||x.tag!==6?(x=_f(z,L.mode,X),x.return=L,x):(x=h(x,z),x.return=L,x)}function I(L,x,z,X){var fe=z.type;return fe===J?K(L,x,z.props.children,X,z.key):x!==null&&(x.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Vs(fe)===x.type)?(x=h(x,z.props),tl(x,z),x.return=L,x):(x=qu(z.type,z.key,z.props,null,L.mode,X),tl(x,z),x.return=L,x)}function j(L,x,z,X){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=vf(z,L.mode,X),x.return=L,x):(x=h(x,z.children||[]),x.return=L,x)}function K(L,x,z,X,fe){return x===null||x.tag!==7?(x=Ns(z,L.mode,X,fe),x.return=L,x):(x=h(x,z),x.return=L,x)}function $(L,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=_f(""+x,L.mode,z),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k:return z=qu(x.type,x.key,x.props,null,L.mode,z),tl(z,x),z.return=L,z;case Q:return x=vf(x,L.mode,z),x.return=L,x;case w:return x=Vs(x),$(L,x,z)}if(Dt(x)||P(x))return x=Ns(x,L.mode,z,null),x.return=L,x;if(typeof x.then=="function")return $(L,Xu(x),z);if(x.$$typeof===te)return $(L,Gu(L,x),z);$u(L,x)}return null}function q(L,x,z,X){var fe=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:b(L,x,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===fe?I(L,x,z,X):null;case Q:return z.key===fe?j(L,x,z,X):null;case w:return z=Vs(z),q(L,x,z,X)}if(Dt(z)||P(z))return fe!==null?null:K(L,x,z,X,null);if(typeof z.then=="function")return q(L,x,Xu(z),X);if(z.$$typeof===te)return q(L,x,Gu(L,z),X);$u(L,z)}return null}function G(L,x,z,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(z)||null,b(x,L,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case k:return L=L.get(X.key===null?z:X.key)||null,I(x,L,X,fe);case Q:return L=L.get(X.key===null?z:X.key)||null,j(x,L,X,fe);case w:return X=Vs(X),G(L,x,z,X,fe)}if(Dt(X)||P(X))return L=L.get(z)||null,K(x,L,X,fe,null);if(typeof X.then=="function")return G(L,x,z,Xu(X),fe);if(X.$$typeof===te)return G(L,x,z,Gu(x,X),fe);$u(x,X)}return null}function ce(L,x,z,X){for(var fe=null,je=null,he=x,Ie=x=0,Oe=null;he!==null&&Ie<z.length;Ie++){he.index>Ie?(Oe=he,he=null):Oe=he.sibling;var Be=q(L,he,z[Ie],X);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(L,he),x=d(Be,x,Ie),je===null?fe=Be:je.sibling=Be,je=Be,he=Oe}if(Ie===z.length)return a(L,he),Le&&Bi(L,Ie),fe;if(he===null){for(;Ie<z.length;Ie++)he=$(L,z[Ie],X),he!==null&&(x=d(he,x,Ie),je===null?fe=he:je.sibling=he,je=he);return Le&&Bi(L,Ie),fe}for(he=l(he);Ie<z.length;Ie++)Oe=G(he,L,Ie,z[Ie],X),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ie:Oe.key),x=d(Oe,x,Ie),je===null?fe=Oe:je.sibling=Oe,je=Oe);return t&&he.forEach(function(Gr){return i(L,Gr)}),Le&&Bi(L,Ie),fe}function pe(L,x,z,X){if(z==null)throw Error(s(151));for(var fe=null,je=null,he=x,Ie=x=0,Oe=null,Be=z.next();he!==null&&!Be.done;Ie++,Be=z.next()){he.index>Ie?(Oe=he,he=null):Oe=he.sibling;var Gr=q(L,he,Be.value,X);if(Gr===null){he===null&&(he=Oe);break}t&&he&&Gr.alternate===null&&i(L,he),x=d(Gr,x,Ie),je===null?fe=Gr:je.sibling=Gr,je=Gr,he=Oe}if(Be.done)return a(L,he),Le&&Bi(L,Ie),fe;if(he===null){for(;!Be.done;Ie++,Be=z.next())Be=$(L,Be.value,X),Be!==null&&(x=d(Be,x,Ie),je===null?fe=Be:je.sibling=Be,je=Be);return Le&&Bi(L,Ie),fe}for(he=l(he);!Be.done;Ie++,Be=z.next())Be=G(he,L,Ie,Be.value,X),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ie:Be.key),x=d(Be,x,Ie),je===null?fe=Be:je.sibling=Be,je=Be);return t&&he.forEach(function(jS){return i(L,jS)}),Le&&Bi(L,Ie),fe}function Ze(L,x,z,X){if(typeof z=="object"&&z!==null&&z.type===J&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:e:{for(var fe=z.key;x!==null;){if(x.key===fe){if(fe=z.type,fe===J){if(x.tag===7){a(L,x.sibling),X=h(x,z.props.children),X.return=L,L=X;break e}}else if(x.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Vs(fe)===x.type){a(L,x.sibling),X=h(x,z.props),tl(X,z),X.return=L,L=X;break e}a(L,x);break}else i(L,x);x=x.sibling}z.type===J?(X=Ns(z.props.children,L.mode,X,z.key),X.return=L,L=X):(X=qu(z.type,z.key,z.props,null,L.mode,X),tl(X,z),X.return=L,L=X)}return _(L);case Q:e:{for(fe=z.key;x!==null;){if(x.key===fe)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){a(L,x.sibling),X=h(x,z.children||[]),X.return=L,L=X;break e}else{a(L,x);break}else i(L,x);x=x.sibling}X=vf(z,L.mode,X),X.return=L,L=X}return _(L);case w:return z=Vs(z),Ze(L,x,z,X)}if(Dt(z))return ce(L,x,z,X);if(P(z)){if(fe=P(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),pe(L,x,z,X)}if(typeof z.then=="function")return Ze(L,x,Xu(z),X);if(z.$$typeof===te)return Ze(L,x,Gu(L,z),X);$u(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(a(L,x.sibling),X=h(x,z),X.return=L,L=X):(a(L,x),X=_f(z,L.mode,X),X.return=L,L=X),_(L)):a(L,x)}return function(L,x,z,X){try{el=0;var fe=Ze(L,x,z,X);return Da=null,fe}catch(he){if(he===Na||he===Ku)throw he;var je=yn(29,he,null,L.mode);return je.lanes=X,je.return=L,je}finally{}}}var Ls=Mg(!0),Vg=Mg(!1),Ir=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(t),yg(t,null,a),i}return ju(t,l,i,a),Bu(t)}function nl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,No(t,a)}}function Mf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Vf=!1;function il(){if(Vf){var t=Ia;if(t!==null)throw t}}function rl(t,i,a,l){Vf=!1;var h=t.updateQueue;Ir=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,j=I.next;I.next=null,_===null?d=j:_.next=j,_=I;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==_&&(b===null?K.firstBaseUpdate=j:b.next=j,K.lastBaseUpdate=I))}if(d!==null){var $=h.baseState;_=0,K=j=I=null,b=d;do{var q=b.lane&-536870913,G=q!==b.lane;if(G?(xe&q)===q:(l&q)===q){q!==0&&q===Ca&&(Vf=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=t,pe=b;q=i;var Ze=a;switch(pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){$=ce.call(Ze,$,q);break e}$=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,q=typeof ce=="function"?ce.call(Ze,$,q):ce,q==null)break e;$=T({},$,q);break e;case 2:Ir=!0}}q=b.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(j=K=G,I=$):K=K.next=G,_|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;G=b,b=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);K===null&&(I=$),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),kr|=_,t.lanes=_,t.memoizedState=$}}function kg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Lg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)kg(a[t],i)}var xa=O(null),Ju=O(0);function Pg(t,i){t=Zi,ae(Ju,t),ae(xa,i),Zi=t|i.baseLanes}function kf(){ae(Ju,Zi),ae(xa,xa.current)}function Lf(){Zi=Ju.current,Z(xa),Z(Ju)}var _n=O(null),Vn=null;function xr(t){var i=t.alternate;ae(mt,mt.current&1),ae(_n,t),Vn===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(Vn=t)}function Pf(t){ae(mt,mt.current),ae(_n,t),Vn===null&&(Vn=t)}function Ug(t){t.tag===22?(ae(mt,mt.current),ae(_n,t),Vn===null&&(Vn=t)):Or()}function Or(){ae(mt,mt.current),ae(_n,_n.current)}function vn(t){Z(_n),Vn===t&&(Vn=null),Z(mt)}var mt=O(0);function Zu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Hd(a)||Fd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,Re=null,$e=null,At=null,Wu=!1,Oa=!1,Ps=!1,ec=0,sl=0,Ma=null,D1=0;function ct(){throw Error(s(321))}function Uf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function zf(t,i,a,l,h,d){return Fi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Ty:ed,Ps=!1,d=a(l,h),Ps=!1,Oa&&(d=jg(i,a,l,h)),zg(t),d}function zg(t){Y.H=ll;var i=$e!==null&&$e.next!==null;if(Fi=0,At=$e=Re=null,Wu=!1,sl=0,Ma=null,i)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&Fu(t)&&(wt=!0))}function jg(t,i,a,l){Re=t;var h=0;do{if(Oa&&(Ma=null),sl=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,At=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=by,d=i(a,l)}while(Oa);return d}function x1(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?al(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),i}function jf(){var t=ec!==0;return ec=0,t}function Bf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function qf(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}Fi=0,At=$e=Re=null,Oa=!1,sl=ec=0,Ma=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=t:At=At.next=t,At}function pt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=At===null?Re.memoizedState:At.next;if(i!==null)At=i,$e=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},At===null?Re.memoizedState=At=t:At=At.next=t}return At}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var i=sl;return sl+=1,Ma===null&&(Ma=[]),t=Dg(Ma,t,i),i=Re,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Ty:ed),t}function nc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===te)return Ht(t)}throw Error(s(438,String(t)))}function Hf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=tc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Gi(t,i){return typeof i=="function"?i(t):i}function ic(t){var i=pt();return Ff(i,$e,t)}function Ff(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=_=null,I=null,j=i,K=!1;do{var $=j.lane&-536870913;if($!==j.lane?(xe&$)===$:(Fi&$)===$){var q=j.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Ca&&(K=!0);else if((Fi&q)===q){j=j.next,q===Ca&&(K=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(b=I=$,_=d):I=I.next=$,Re.lanes|=q,kr|=q;$=j.action,Ps&&a(d,$),d=j.hasEagerState?j.eagerState:a(d,$)}else q={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(b=I=q,_=d):I=I.next=q,Re.lanes|=$,kr|=$;j=j.next}while(j!==null&&j!==i);if(I===null?_=d:I.next=b,!gn(d,t.memoizedState)&&(wt=!0,K&&(a=Ia,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Gf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);gn(d,i.memoizedState)||(wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Bg(t,i,a){var l=Re,h=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!gn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,wt=!0),h=h.queue,Yf(Fg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Va(9,{destroy:void 0},Hg.bind(null,l,h,a,i),null),We===null)throw Error(s(349));d||(Fi&127)!==0||qg(l,i,a)}return a}function qg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=tc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Hg(t,i,a,l){i.value=a,i.getSnapshot=l,Gg(i)&&Qg(t)}function Fg(t,i,a){return a(function(){Gg(i)&&Qg(t)})}function Gg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function Qg(t){var i=Is(t,2);i!==null&&hn(i,t,2)}function Qf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Ps){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},i}function Kg(t,i,a,l){return t.baseState=a,Ff(t,$e,typeof l=="function"?l:Gi)}function O1(t,i,a,l,h){if(ac(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Yg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Yg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var b=a(h,l),I=Y.S;I!==null&&I(_,b),Xg(t,i,b)}catch(j){Kf(t,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),Xg(t,i,d)}catch(j){Kf(t,i,j)}}function Xg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$g(t,i,l)},function(l){return Kf(t,i,l)}):$g(t,i,a)}function $g(t,i,a){i.status="fulfilled",i.value=a,Jg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Yg(t,a)))}function Kf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Jg(i),i=i.next;while(i!==l)}t.action=null}function Jg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Zg(t,i){return i}function Wg(t,i){if(Le){var a=We.formState;if(a!==null){e:{var l=Re;if(Le){if(tt){t:{for(var h=tt,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=kn(h.nextSibling),l=h.data==="F!";break e}}Rr(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:i},a.queue=l,a=_y.bind(null,Re,l),l.dispatch=a,l=Qf(!1),d=Wf.bind(null,Re,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=O1.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ey(t){var i=pt();return ty(i,$e,t)}function ty(t,i,a){if(i=Ff(t,i,Zg)[0],t=ic(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=al(i)}catch(_){throw _===Na?Ku:_}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Va(9,{destroy:void 0},M1.bind(null,h,a),null)),[l,d,t]}function M1(t,i){t.action=i}function ny(t){var i=pt(),a=$e;if(a!==null)return ty(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Va(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=tc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function iy(){return pt().memoizedState}function rc(t,i,a,l){var h=rn();Re.flags|=t,h.memoizedState=Va(1|i,{destroy:void 0},a,l===void 0?null:l)}function sc(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Uf(l,$e.memoizedState.deps)?h.memoizedState=Va(i,d,a,l):(Re.flags|=t,h.memoizedState=Va(1|i,d,a,l))}function ry(t,i){rc(8390656,8,t,i)}function Yf(t,i){sc(2048,8,t,i)}function V1(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=tc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function sy(t){var i=pt().memoizedState;return V1({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ay(t,i){return sc(4,2,t,i)}function oy(t,i){return sc(4,4,t,i)}function ly(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function uy(t,i,a){a=a!=null?a.concat([t]):null,sc(4,4,ly.bind(null,i,t),a)}function Xf(){}function cy(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Uf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function hy(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Uf(i,l[1]))return l[0];if(l=t(),Ps){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function $f(t,i,a){return a===void 0||(Fi&1073741824)!==0&&(xe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=f_(),Re.lanes|=t,kr|=t,a)}function fy(t,i,a,l){return gn(a,i)?a:xa.current!==null?(t=$f(t,a,l),gn(t,i)||(wt=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(xe&261930)===0?(wt=!0,t.memoizedState=a):(t=f_(),Re.lanes|=t,kr|=t,i)}function dy(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=Y.T,b={};Y.T=b,Wf(t,!1,i,a);try{var I=h(),j=Y.S;if(j!==null&&j(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=N1(I,l);ol(t,i,K,bn(t))}else ol(t,i,l,bn(t))}catch($){ol(t,i,{then:function(){},status:"rejected",reason:$},bn())}finally{se.p=d,_!==null&&b.types!==null&&(_.types=b.types),Y.T=_}}function k1(){}function Jf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=my(t).queue;dy(t,h,i,me,a===null?k1:function(){return py(t),a(l)})}function my(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function py(t){var i=my(t);i.next===null&&(i=t.alternate.memoizedState),ol(t,i.next.queue,{},bn())}function Zf(){return Ht(Al)}function gy(){return pt().memoizedState}function yy(){return pt().memoizedState}function L1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Nr(a);var l=Dr(i,t,a);l!==null&&(hn(l,i,a),nl(l,i,a)),i={cache:Cf()},t.payload=i;return}i=i.return}}function P1(t,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(t)?vy(i,a):(a=gf(t,i,a,l),a!==null&&(hn(a,t,l),Ey(a,i,l)))}function _y(t,i,a){var l=bn();ol(t,i,a,l)}function ol(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(t))vy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,gn(b,_))return ju(t,i,h,0),We===null&&zu(),!1}catch{}finally{}if(a=gf(t,i,h,l),a!==null)return hn(a,t,l),Ey(a,i,l),!0}return!1}function Wf(t,i,a,l){if(l={lane:2,revertLane:xd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ac(t)){if(i)throw Error(s(479))}else i=gf(t,a,l,2),i!==null&&hn(i,t,2)}function ac(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function vy(t,i){Oa=Wu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ey(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,No(t,a)}}var ll={readContext:Ht,use:nc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};ll.useEffectEvent=ct;var Ty={readContext:Ht,use:nc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:ry,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,rc(4194308,4,ly.bind(null,i,t),a)},useLayoutEffect:function(t,i){return rc(4194308,4,t,i)},useInsertionEffect:function(t,i){rc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Ps){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Ps){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=P1.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Qf(t);var i=t.queue,a=_y.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(t,i){var a=rn();return $f(a,t,i)},useTransition:function(){var t=Qf(!1);return t=dy.bind(null,Re,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=rn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(xe&127)!==0||qg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ry(Fg.bind(null,l,d,t),[t]),l.flags|=2048,Va(9,{destroy:void 0},Hg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=We.identifierPrefix;if(Le){var a=Si,l=bi;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=D1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Zf,useFormState:Wg,useActionState:Wg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Wf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Hf,useCacheRefresh:function(){return rn().memoizedState=L1.bind(null,Re)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ed={readContext:Ht,use:nc,useCallback:cy,useContext:Ht,useEffect:Yf,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:ic,useRef:iy,useState:function(){return ic(Gi)},useDebugValue:Xf,useDeferredValue:function(t,i){var a=pt();return fy(a,$e.memoizedState,t,i)},useTransition:function(){var t=ic(Gi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:al(t),i]},useSyncExternalStore:Bg,useId:gy,useHostTransitionStatus:Zf,useFormState:ey,useActionState:ey,useOptimistic:function(t,i){var a=pt();return Kg(a,$e,t,i)},useMemoCache:Hf,useCacheRefresh:yy};ed.useEffectEvent=sy;var by={readContext:Ht,use:nc,useCallback:cy,useContext:Ht,useEffect:Yf,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:Gf,useRef:iy,useState:function(){return Gf(Gi)},useDebugValue:Xf,useDeferredValue:function(t,i){var a=pt();return $e===null?$f(a,t,i):fy(a,$e.memoizedState,t,i)},useTransition:function(){var t=Gf(Gi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:al(t),i]},useSyncExternalStore:Bg,useId:gy,useHostTransitionStatus:Zf,useFormState:ny,useActionState:ny,useOptimistic:function(t,i){var a=pt();return $e!==null?Kg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Hf,useCacheRefresh:yy};by.useEffectEvent=sy;function td(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Nr(l);h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(hn(i,t,l),nl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Nr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(hn(i,t,l),nl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=Nr(a);l.tag=2,i!=null&&(l.callback=i),i=Dr(t,l,a),i!==null&&(hn(i,t,a),nl(i,t,a))}};function Sy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Yo(a,l)||!Yo(h,d):!0}function Ay(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&nd.enqueueReplaceState(i,i.state,null)}function Us(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function wy(t){Uu(t)}function Ry(t){console.error(t)}function Cy(t){Uu(t)}function oc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Iy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function id(t,i,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(t,i)},a}function Ny(t){return t=Nr(t),t.tag=3,t}function Dy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Iy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Iy(i,a,l),typeof h!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function U1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?vc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Id(t,l,h)),!1;case 22:return a.flags|=65536,l===Yu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Id(t,l,h)),!1}throw Error(s(435,a.tag))}return Id(t,l,h),vc(),!1}if(Le)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==bf&&(t=Error(s(422),{cause:l}),Jo(Dn(t,a)))):(l!==bf&&(i=Error(s(423),{cause:l}),Jo(Dn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=id(t.stateNode,l,h),Mf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),gl===null?gl=[d]:gl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=id(a.stateNode,l,t),Mf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ny(h),Dy(h,t,a,l),Mf(a,h),!1}a=a.return}while(a!==null);return!1}var rd=Error(s(461)),wt=!1;function Ft(t,i,a,l){i.child=t===null?Vg(i,null,a,l):Ls(i,t.child,a,l)}function xy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Os(i),l=zf(t,i,a,_,d,h),b=jf(),t!==null&&!wt?(Bf(t,i,h),Qi(t,i,h)):(Le&&b&&Ef(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Oy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!yf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,My(t,i,d,l,h)):(t=qu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!fd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(_,l)&&t.ref===i.ref)return Qi(t,i,h)}return i.flags|=1,t=ji(d,l),t.ref=i.ref,t.return=i,i.child=t}function My(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Yo(d,l)&&t.ref===i.ref)if(wt=!1,i.pendingProps=l=d,fd(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,Qi(t,i,h)}return sd(t,i,a,l,h)}function Vy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return ky(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(i,d!==null?d.cachePool:null),d!==null?Pg(i,d):kf(),Ug(i);else return l=i.lanes=536870912,ky(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Qu(i,d.cachePool),Pg(i,d),Or(),i.memoizedState=null):(t!==null&&Qu(i,null),kf(),Or());return Ft(t,i,h,a),i.child}function ul(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ky(t,i,a,l,h){var d=Nf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Qu(i,null),kf(),Ug(i),t!==null&&Ra(t,i,l,!0),i.childLanes=h,null}function lc(t,i){return i=cc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ly(t,i,a){return Ls(i,t.child,null,a),t=lc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function z1(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=lc(i,l),i.lanes=536870912,ul(null,t);if(Pf(i),(t=tt)?(t=Y_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:bi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=vg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Rr(i);return i.lanes=536870912,null}return lc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Pf(i),h)if(i.flags&256)i.flags&=-257,i=Ly(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(wt||Ra(t,i,a,!1),h=(a&t.childLanes)!==0,wt||h){if(l=We,l!==null&&(_=Do(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Is(t,_),hn(l,t,_),rd;vc(),i=Ly(t,i,a)}else t=d.treeContext,tt=kn(_.nextSibling),qt=i,Le=!0,wr=null,Mn=!1,t!==null&&bg(i,t),i=lc(i,l),i.flags|=4096;return i}return t=ji(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function sd(t,i,a,l,h){return Os(i),a=zf(t,i,a,l,void 0,h),l=jf(),t!==null&&!wt?(Bf(t,i,h),Qi(t,i,h)):(Le&&l&&Ef(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Py(t,i,a,l,h,d){return Os(i),i.updateQueue=null,a=jg(i,l,a,h),zg(t),l=jf(),t!==null&&!wt?(Bf(t,i,d),Qi(t,i,d)):(Le&&l&&Ef(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Uy(t,i,a,l,h){if(Os(i),i.stateNode===null){var d=ba,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},xf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):ba,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(td(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&nd.enqueueReplaceState(d,d.state,null),rl(i,l,d,h),il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,I=Us(a,b);d.props=I;var j=d.context,K=a.contextType;_=ba,typeof K=="object"&&K!==null&&(_=Ht(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||j!==_)&&Ay(i,d,l,_),Ir=!1;var q=i.memoizedState;d.state=q,rl(i,l,d,h),il(),j=i.memoizedState,b||q!==j||Ir?(typeof $=="function"&&(td(i,a,$,l),j=i.memoizedState),(I=Ir||Sy(i,a,I,l,q,j,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Of(t,i),_=i.memoizedProps,K=Us(a,_),d.props=K,$=i.pendingProps,q=d.context,j=a.contextType,I=ba,typeof j=="object"&&j!==null&&(I=Ht(j)),b=a.getDerivedStateFromProps,(j=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||q!==I)&&Ay(i,d,l,I),Ir=!1,q=i.memoizedState,d.state=q,rl(i,l,d,h),il();var G=i.memoizedState;_!==$||q!==G||Ir||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof b=="function"&&(td(i,a,b,l),G=i.memoizedState),(K=Ir||Sy(i,a,K,l,q,G,I)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=I,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,uc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ls(i,t.child,null,h),i.child=Ls(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Qi(t,i,h),t}function zy(t,i,a,l){return Ds(),i.flags|=256,Ft(t,i,a,l),i.child}var ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(t){return{baseLanes:t,cachePool:Ig()}}function ld(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function jy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?xr(i):Or(),(t=tt)?(t=Y_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:bi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=vg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Rr(i);return Fd(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Or(),h=i.mode,b=cc({mode:"hidden",children:b},h),l=Ns(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=od(a),l.childLanes=ld(t,_,a),i.memoizedState=ad,ul(null,l)):(xr(i),ud(i,b))}var I=t.memoizedState;if(I!==null&&(b=I.dehydrated,b!==null)){if(d)i.flags&256?(xr(i),i.flags&=-257,i=cd(t,i,a)):i.memoizedState!==null?(Or(),i.child=t.child,i.flags|=128,i=null):(Or(),b=l.fallback,h=i.mode,l=cc({mode:"visible",children:l.children},h),b=Ns(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Ls(i,t.child,null,a),l=i.child,l.memoizedState=od(a),l.childLanes=ld(t,_,a),i.memoizedState=ad,i=ul(null,l));else if(xr(i),Fd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,Jo({value:l,source:null,stack:null}),i=cd(t,i,a)}else if(wt||Ra(t,i,a,!1),_=(a&t.childLanes)!==0,wt||_){if(_=We,_!==null&&(l=Do(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Is(t,l),hn(_,t,l),rd;Hd(b)||vc(),i=cd(t,i,a)}else Hd(b)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,tt=kn(b.nextSibling),qt=i,Le=!0,wr=null,Mn=!1,t!==null&&bg(i,t),i=ud(i,l.children),i.flags|=4096);return i}return h?(Or(),b=l.fallback,h=i.mode,I=t.child,j=I.sibling,l=ji(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?b=ji(j,b):(b=Ns(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,ul(null,l),l=i.child,b=t.child.memoizedState,b===null?b=od(a):(h=b.cachePool,h!==null?(I=St._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Ig(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=ld(t,_,a),i.memoizedState=ad,ul(t.child,l)):(xr(i),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function ud(t,i){return i=cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function cc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function cd(t,i,a){return Ls(i,t.child,null,a),t=ud(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function By(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),wf(t.return,i,a)}function hd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function qy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,ae(mt,_),Ft(t,i,l,a),l=Le?$o:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&By(t,a,i);else if(t.tag===19)By(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),hd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}hd(i,!0,a,null,d,l);break;case"together":hd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),kr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ra(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function fd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function j1(t,i,a){switch(i.tag){case 3:xt(i,i.stateNode.containerInfo),Cr(i,St,t.memoizedState.cache),Ds();break;case 27:case 5:cs(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:Cr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Pf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?jy(t,i,a):(xr(i),t=Qi(t,i,a),t!==null?t.sibling:null);xr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ra(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return qy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return i.lanes=0,Vy(t,i,a,i.pendingProps);case 24:Cr(i,St,t.memoizedState.cache)}return Qi(t,i,a)}function Hy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!fd(t,a)&&(i.flags&128)===0)return wt=!1,j1(t,i,a);wt=(t.flags&131072)!==0}else wt=!1,Le&&(i.flags&1048576)!==0&&Tg(i,$o,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Vs(i.elementType),i.type=t,typeof t=="function")yf(t)?(l=Us(t,l),i.tag=1,i=Uy(null,i,t,l,a)):(i.tag=0,i=sd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ge){i.tag=11,i=xy(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=Oy(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return sd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Us(l,i.pendingProps),Uy(t,i,l,h,a);case 3:e:{if(xt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Of(t,i),rl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Cr(i,St,l),l!==d.cache&&Rf(i,[St],a,!0),il(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=zy(t,i,l,a);break e}else if(l!==h){h=Dn(Error(s(424)),i),Jo(h),i=zy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=kn(t.firstChild),qt=i,Le=!0,wr=null,Mn=!0,a=Vg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ds(),l===h){i=Qi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return uc(t,i),t===null?(a=ev(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Rc(Ce.current).createElement(a),l[Et]=i,l[kt]=t,Gt(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=ev(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return cs(i),t===null&&Le&&(l=i.stateNode=J_(i.type,i.pendingProps,Ce.current),qt=i,Mn=!0,h=tt,jr(i.type)?(Gd=h,tt=kn(l.firstChild)):tt=h),Ft(t,i,i.pendingProps.children,a),uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=tt)&&(l=gS(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,qt=i,tt=kn(l.firstChild),Mn=!1,h=!0):h=!1),h||Rr(i)),cs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,jd(h,d)?l=null:_!==null&&jd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=zf(t,i,x1,null,null,a),Al._currentValue=h),uc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=yS(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qt=i,tt=null,t=!0):t=!1),t||Rr(i)),null;case 13:return jy(t,i,a);case 4:return xt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ls(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return xy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Cr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Os(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Oy(t,i,i.type,i.pendingProps,a);case 15:return My(t,i,i.type,i.pendingProps,a);case 19:return qy(t,i,a);case 31:return z1(t,i,a);case 22:return Vy(t,i,a,i.pendingProps);case 24:return Os(i),l=Ht(St),t===null?(h=Nf(),h===null&&(h=We,d=Cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},xf(i),Cr(i,St,h)):((t.lanes&a)!==0&&(Of(t,i),rl(i,null,null,a),il()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cr(i,St,l)):(l=d.cache,Cr(i,St,l),l!==h.cache&&Rf(i,[St],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ki(t){t.flags|=4}function dd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(g_())t.flags|=8192;else throw ks=Yu,Df}else t.flags&=-16777217}function Fy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sv(i))if(g_())t.flags|=8192;else throw ks=Yu,Df}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yu():536870912,t.lanes|=i,Ua|=i)}function cl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function B1(t,i,a){var l=i.pendingProps;switch(Tf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(wa(i)?Ki(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Sf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ki(i),d!==null?(nt(i),Fy(i,d)):(nt(i),dd(i,h,null,l,a))):d?d!==t.memoizedState?(Ki(i),nt(i),Fy(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ki(i),nt(i),dd(i,h,t,l,a)),null;case 27:if(ia(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,wa(i)?Sg(i):(t=J_(h,l,a),i.stateNode=t,Ki(i))}return nt(i),null;case 5:if(ia(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,wa(i))Sg(i);else{var _=Rc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Et]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ki(i)}}return nt(i),dd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,wa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||j_(t.nodeValue,a)),t||Rr(i,!0)}else t=Rc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=wa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else Ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=Sf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&kd(i.stateNode.containerInfo),nt(i),null;case 10:return Hi(i.type),nt(i),null;case 19:if(Z(mt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)cl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Zu(t),d!==null){for(i.flags|=128,cl(l,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)_g(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Le&&Bi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>gc&&(i.flags|=128,h=!0,cl(l,!1),i.lanes=4194304)}else{if(!h)if(t=Zu(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*tn()-l.renderingStartTime>gc&&a!==536870912&&(i.flags|=128,h=!0,cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=mt.current,ae(mt,h?a&1|2:a&1),Le&&Bi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return vn(i),Lf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Z(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function q1(t,i){switch(Tf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ia(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(s(340));Ds()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ds()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(mt),null;case 4:return st(),null;case 10:return Hi(i.type),null;case 22:case 23:return vn(i),Lf(),t!==null&&Z(Ms),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(St),null;case 25:return null;default:return null}}function Gy(t,i){switch(Tf(i),i.tag){case 3:Hi(St),st();break;case 26:case 27:case 5:ia(i);break;case 4:st();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:Z(mt);break;case 10:Hi(i.type);break;case 22:case 23:vn(i),Lf(),t!==null&&Z(Ms);break;case 24:Hi(St)}}function hl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){Ye(i,i.return,b)}}function Mr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var I=a,j=b;try{j()}catch(K){Ye(h,I,K)}}}l=l.next}while(l!==d)}}catch(K){Ye(i,i.return,K)}}function Qy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Lg(i,a)}catch(l){Ye(t,t.return,l)}}}function Ky(t,i,a){a.props=Us(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function fl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,i,h)}}function Ai(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function Yy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function md(t,i,a){try{var l=t.stateNode;cS(l,t.type,a,i),l[kt]=i}catch(h){Ye(t,t.return,h)}}function Xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&jr(t.type)||t.tag===4}function pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(l!==4&&(l===27&&jr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(gd(t,i,a),t=t.sibling;t!==null;)gd(t,i,a),t=t.sibling}function fc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,i,a),t=t.sibling;t!==null;)fc(t,i,a),t=t.sibling}function $y(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Et]=t,i[kt]=a}catch(d){Ye(t,t.return,d)}}var Yi=!1,Rt=!1,yd=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function H1(t,i){if(t=t.containerInfo,Ud=Mc,t=ug(t),cf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,I=-1,j=0,K=0,$=t,q=null;t:for(;;){for(var G;$!==a||h!==0&&$.nodeType!==3||(b=_+h),$!==d||l!==0&&$.nodeType!==3||(I=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(G=$.firstChild)!==null;)q=$,$=G;for(;;){if($===t)break t;if(q===a&&++j===h&&(b=_),q===d&&++K===l&&(I=_),(G=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=G}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:t,selectionRange:a},Mc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Us(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ye(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function Zy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),l&4&&hl(5,a);break;case 1:if($i(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=Us(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&Qy(a),l&512&&fl(a,a.return);break;case 3:if($i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Lg(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&$y(a);case 26:case 5:$i(t,a),i===null&&l&4&&Yy(a),l&512&&fl(a,a.return);break;case 12:$i(t,a);break;case 31:$i(t,a),l&4&&t_(t,a);break;case 13:$i(t,a),l&4&&n_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Z1.bind(null,a),_S(t,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||Rt,h=Yi;var d=Rt;Yi=l,(Rt=i)&&!d?Ji(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),Yi=h,Rt=d}break;case 30:break;default:$i(t,a)}}function Wy(t){var i=t.alternate;i!==null&&(t.alternate=null,Wy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&la(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function Xi(t,i,a){for(a=a.child;a!==null;)e_(t,i,a),a=a.sibling}function e_(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Rt||Ai(a,i),Xi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ai(a,i);var l=ot,h=on;jr(a.type)&&(ot=a.stateNode,on=!1),Xi(t,i,a),Tl(a.stateNode),ot=l,on=h;break;case 5:Rt||Ai(a,i);case 6:if(l=ot,h=on,ot=null,Xi(t,i,a),ot=l,on=h,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:ot!==null&&(on?(t=ot,Q_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Qa(t)):Q_(ot,a.stateNode));break;case 4:l=ot,h=on,ot=a.stateNode.containerInfo,on=!0,Xi(t,i,a),ot=l,on=h;break;case 0:case 11:case 14:case 15:Mr(2,a,i),Rt||Mr(4,a,i),Xi(t,i,a);break;case 1:Rt||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ky(a,i,l)),Xi(t,i,a);break;case 21:Xi(t,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,Xi(t,i,a),Rt=l;break;default:Xi(t,i,a)}}function t_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(a){Ye(i,i.return,a)}}}function n_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(a){Ye(i,i.return,a)}}function F1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Jy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Jy),i;default:throw Error(s(435,t.tag))}}function dc(t,i){var a=F1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=W1.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(jr(b.type)){ot=b.stateNode,on=!1;break e}break;case 5:ot=b.stateNode,on=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,on=!0;break e}b=b.return}if(ot===null)throw Error(s(160));e_(d,_,h),ot=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)i_(i,t),i=i.sibling}var Jn=null;function i_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(Mr(3,t,t.return),hl(3,t),Mr(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(Rt||a===null||Ai(a,a.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(ln(i,t),un(t),l&512&&(Rt||a===null||Ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Et]=t,Tt(d),l=d;break e;case"link":var _=iv("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=iv("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else rv(h,t.type,t.stateNode);else t.stateNode=nv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?rv(h,t.type,t.stateNode):nv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&md(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(Rt||a===null||Ai(a,a.return)),a!==null&&l&4&&md(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(Rt||a===null||Ai(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(ce){Ye(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,md(t,h,a!==null?a.memoizedProps:h)),l&1024&&(yd=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ye(t,t.return,ce)}}break;case 3:if(Nc=null,h=Jn,Jn=Cc(i.containerInfo),ln(i,t),Jn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(ce){Ye(t,t.return,ce)}yd&&(yd=!1,r_(t));break;case 4:l=Jn,Jn=Cc(t.stateNode.containerInfo),ln(i,t),un(t),Jn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=Yi,K=Rt;if(Yi=j||h,Rt=K||I,ln(i,t),Rt=K,Yi=j,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Yi||Rt||zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=I.stateNode;var $=I.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Ye(I,I.return,ce)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ce){Ye(I,I.return,ce)}}}else if(i.tag===18){if(a===null){I=i;try{var G=I.stateNode;h?K_(G,!0):K_(I.stateNode,!1)}catch(ce){Ye(I,I.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,dc(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,dc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Xy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=pd(t);fc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var b=pd(t);fc(t,b,_);break;case 3:case 4:var I=a.stateNode.containerInfo,j=pd(t);gd(t,j,I);break;default:throw Error(s(161))}}catch(K){Ye(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function r_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;r_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function $i(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Zy(t,i.alternate,i),i=i.sibling}function zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),zs(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ky(i,i.return,a),zs(i);break;case 27:Tl(i.stateNode);case 26:case 5:Ai(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}t=t.sibling}}function Ji(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ji(h,d,a),hl(4,d);break;case 1:if(Ji(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ye(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)kg(I[h],b)}catch(j){Ye(l,l.return,j)}}a&&_&64&&Qy(d),fl(d,d.return);break;case 27:$y(d);case 26:case 5:Ji(h,d,a),a&&l===null&&_&4&&Yy(d),fl(d,d.return);break;case 12:Ji(h,d,a);break;case 31:Ji(h,d,a),a&&_&4&&t_(h,d);break;case 13:Ji(h,d,a),a&&_&4&&n_(h,d);break;case 22:d.memoizedState===null&&Ji(h,d,a),fl(d,d.return);break;case 30:break;default:Ji(h,d,a)}i=i.sibling}}function _d(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zo(a))}function vd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Zo(t))}function Zn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s_(t,i,a,l),i=i.sibling}function s_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,l),h&2048&&hl(9,i);break;case 1:Zn(t,i,a,l);break;case 3:Zn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Zo(t)));break;case 12:if(h&2048){Zn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ye(i,i.return,I)}}else Zn(t,i,a,l);break;case 31:Zn(t,i,a,l);break;case 13:Zn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,a,l):dl(t,i):d._visibility&2?Zn(t,i,a,l):(d._visibility|=2,ka(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&_d(_,i);break;case 24:Zn(t,i,a,l),h&2048&&vd(i.alternate,i);break;default:Zn(t,i,a,l)}}function ka(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,I=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:ka(d,_,b,I,h),hl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?ka(d,_,b,I,h):dl(d,_):(K._visibility|=2,ka(d,_,b,I,h)),h&&j&2048&&_d(_.alternate,_);break;case 24:ka(d,_,b,I,h),h&&j&2048&&vd(_.alternate,_);break;default:ka(d,_,b,I,h)}i=i.sibling}}function dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&_d(l.alternate,l);break;case 24:dl(a,l),h&2048&&vd(l.alternate,l);break;default:dl(a,l)}i=i.sibling}}var ml=8192;function La(t,i,a){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)a_(t,i,a),t=t.sibling}function a_(t,i,a){switch(t.tag){case 26:La(t,i,a),t.flags&ml&&t.memoizedState!==null&&DS(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:La(t,i,a);break;case 3:case 4:var l=Jn;Jn=Cc(t.stateNode.containerInfo),La(t,i,a),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ml,ml=16777216,La(t,i,a),ml=l):La(t,i,a));break;default:La(t,i,a)}}function o_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,u_(l,t)}o_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)l_(t),t=t.sibling}function l_(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,mc(t)):pl(t);break;default:pl(t)}}function mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,u_(l,t)}o_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,mc(i));break;default:mc(i)}t=t.sibling}}function u_(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(Wy(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var G1={getCacheForType:function(t){var i=Ht(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},Q1=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,Ne=null,xe=0,Ke=0,En=null,Vr=!1,Pa=!1,Ed=!1,Zi=0,ht=0,kr=0,js=0,Td=0,Tn=0,Ua=0,gl=null,cn=null,bd=!1,pc=0,c_=0,gc=1/0,yc=null,Lr=null,Mt=0,Pr=null,za=null,Wi=0,Sd=0,Ad=null,h_=null,yl=0,wd=null;function bn(){return(He&2)!==0&&xe!==0?xe&-xe:Y.T!==null?xd():_u()}function f_(){if(Tn===0)if((xe&536870912)===0||Le){var t=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(ja(t,0),Ur(t,xe,Tn,!1)),ms(t,a),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(js|=a),ht===4&&Ur(t,xe,Tn,!1)),wi(t))}function d_(t,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qn(t,i),h=l?X1(t,i):Cd(t,i,!0),d=l;do{if(h===0){Pa&&!l&&Ur(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!K1(a)){h=Cd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;h=gl;var I=b.current.memoizedState.isDehydrated;if(I&&(ja(b,_).flags|=256),_=Cd(b,_,!1),_!==2){if(Ed&&!I){b.errorRecoveryDisabledLanes|=d,js|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){ja(t,0),Ur(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ur(l,i,Tn,!Vr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=pc+300-tn(),10<h)){if(Ur(l,i,Tn,!Vr),oi(l,0,!0)!==0)break e;Wi=i,l.timeoutHandle=F_(m_.bind(null,l,a,cn,yc,bd,i,Tn,js,Ua,Vr,d,"Throttled",-0,0),h);break e}m_(l,a,cn,yc,bd,i,Tn,js,Ua,Vr,d,null,-0,0)}}break}while(!0);wi(t)}function m_(t,i,a,l,h,d,_,b,I,j,K,$,q,G){if(t.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},a_(i,d,$);var ce=(d&62914560)===d?pc-tn():(d&4194048)===d?c_-tn():0;if(ce=xS($,ce),ce!==null){Wi=d,t.cancelPendingCommit=ce(b_.bind(null,t,i,d,a,l,h,_,b,I,K,$,null,q,G)),Ur(t,d,_,!j);return}}b_(t,i,d,a,l,h,_,b,I)}function K1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(t,i,a,l){i&=~Td,i&=~js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ps(t,a,i)}function _c(){return(He&6)===0?(_l(0),!1):!0}function Rd(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,qi=xs=null,qf(t),Da=null,el=0,t=Ne;for(;t!==null;)Gy(t.alternate,t),t=t.return;Ne=null}}function ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,dS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Wi=0,Rd(),We=t,Ne=a=ji(t.current,null),xe=i,Ke=0,En=null,Vr=!1,Pa=qn(t,i),Ed=!1,Ua=Tn=Td=js=kr=ht=0,cn=gl=null,bd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ft(l),d=1<<h;i|=t[h],l&=~d}return Zi=i,zu(),a}function p_(t,i){Re=null,Y.H=ll,i===Na||i===Ku?(i=xg(),Ke=3):i===Df?(i=xg(),Ke=4):Ke=i===rd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Ne===null&&(ht=1,oc(t,Dn(i,t.current)))}function g_(){var t=_n.current;return t===null?!0:(xe&4194048)===xe?Vn===null:(xe&62914560)===xe||(xe&536870912)!==0?t===Vn:!1}function y_(){var t=Y.H;return Y.H=ll,t===null?ll:t}function __(){var t=Y.A;return Y.A=G1,t}function vc(){ht=4,Vr||(xe&4194048)!==xe&&_n.current!==null||(Pa=!0),(kr&134217727)===0&&(js&134217727)===0||We===null||Ur(We,xe,Tn,!1)}function Cd(t,i,a){var l=He;He|=2;var h=y_(),d=__();(We!==t||xe!==i)&&(yc=null,ja(t,i)),i=!1;var _=ht;e:do try{if(Ke!==0&&Ne!==null){var b=Ne,I=En;switch(Ke){case 8:Rd(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var j=Ke;if(Ke=0,En=null,Ba(t,b,I,j),a&&Pa){_=0;break e}break;default:j=Ke,Ke=0,En=null,Ba(t,b,I,j)}}Y1(),_=ht;break}catch(K){p_(t,K)}while(!0);return i&&t.shellSuspendCounter++,qi=xs=null,He=l,Y.H=h,Y.A=d,Ne===null&&(We=null,xe=0,zu()),_}function Y1(){for(;Ne!==null;)v_(Ne)}function X1(t,i){var a=He;He|=2;var l=y_(),h=__();We!==t||xe!==i?(yc=null,gc=tn()+500,ja(t,i)):Pa=qn(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var d=En;t:switch(Ke){case 1:Ke=0,En=null,Ba(t,i,d,1);break;case 2:case 9:if(Ng(d)){Ke=0,En=null,E_(i);break}i=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),wi(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ng(d)?(Ke=0,En=null,E_(i)):(Ke=0,En=null,Ba(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var b=Ne;if(_?sv(_):b.stateNode.complete){Ke=0,En=null;var I=b.sibling;if(I!==null)Ne=I;else{var j=b.return;j!==null?(Ne=j,Ec(j)):Ne=null}break t}}Ke=0,En=null,Ba(t,i,d,5);break;case 6:Ke=0,En=null,Ba(t,i,d,6);break;case 8:Rd(),ht=6;break e;default:throw Error(s(462))}}$1();break}catch(K){p_(t,K)}while(!0);return qi=xs=null,Y.H=l,Y.A=h,He=a,Ne!==null?0:(We=null,xe=0,zu(),ht)}function $1(){for(;Ne!==null&&!nf();)v_(Ne)}function v_(t){var i=Hy(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,i===null?Ec(t):Ne=i}function E_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Py(a,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=Py(a,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:qf(i);default:Gy(a,i),i=Ne=_g(i,Zi),i=Hy(a,i,Zi)}t.memoizedProps=t.pendingProps,i===null?Ec(t):Ne=i}function Ba(t,i,a,l){qi=xs=null,qf(i),Da=null,el=0;var h=i.return;try{if(U1(t,h,i,a,xe)){ht=1,oc(t,Dn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,oc(t,Dn(a,t.current)),Ne=null;return}i.flags&32768?(Le||l===1?t=!0:Pa||(xe&536870912)!==0?t=!1:(Vr=t=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),T_(i,t)):Ec(i)}function Ec(t){var i=t;do{if((i.flags&32768)!==0){T_(i,Vr);return}t=i.return;var a=B1(i.alternate,i,Zi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function T_(t,i){do{var a=q1(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function b_(t,i,a,l,h,d,_,b,I){t.cancelPendingCommit=null;do Tc();while(Mt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=pf,af(t,a,d,_,b,I),t===We&&(Ne=We=null,xe=0),za=i,Pr=t,Wi=a,Sd=d,Ad=h,h_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eS(mr,function(){return C_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=se.p,se.p=2,_=He,He|=4;try{H1(t,i,a)}finally{He=_,se.p=h,Y.T=l}}Mt=1,S_(),A_(),w_()}}function S_(){if(Mt===1){Mt=0;var t=Pr,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{i_(i,t);var d=zd,_=ug(t.containerInfo),b=d.focusedElem,I=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&lg(b.ownerDocument.documentElement,b)){if(I!==null&&cf(b)){var j=I.start,K=I.end;if(K===void 0&&(K=j),"selectionStart"in b)b.selectionStart=j,b.selectionEnd=Math.min(K,b.value.length);else{var $=b.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var G=q.getSelection(),ce=b.textContent.length,pe=Math.min(I.start,ce),Ze=I.end===void 0?pe:Math.min(I.end,ce);!G.extend&&pe>Ze&&(_=Ze,Ze=pe,pe=_);var L=og(b,pe),x=og(b,Ze);if(L&&x&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==x.node||G.focusOffset!==x.offset)){var z=$.createRange();z.setStart(L.node,L.offset),G.removeAllRanges(),pe>Ze?(G.addRange(z),G.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),G.addRange(z))}}}}for($=[],G=b;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var X=$[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Mc=!!Ud,zd=Ud=null}finally{He=h,se.p=l,Y.T=a}}t.current=i,Mt=2}}function A_(){if(Mt===2){Mt=0;var t=Pr,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var h=He;He|=4;try{Zy(t,i.alternate,i)}finally{He=h,se.p=l,Y.T=a}}Mt=3}}function w_(){if(Mt===4||Mt===3){Mt=0,hu();var t=Pr,i=za,a=Wi,l=h_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,za=Pr=null,R_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Lr=null),Li(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=se.p,se.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Y.T=i,se.p=h}}(Wi&3)!==0&&Tc(),wi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===wd?yl++:(yl=0,wd=t):yl=0,_l(0)}}function R_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Zo(i)))}function Tc(){return S_(),A_(),w_(),C_()}function C_(){if(Mt!==5)return!1;var t=Pr,i=Sd;Sd=0;var a=Li(Wi),l=Y.T,h=se.p;try{se.p=32>a?32:a,Y.T=null,a=Ad,Ad=null;var d=Pr,_=Wi;if(Mt=0,za=Pr=null,Wi=0,(He&6)!==0)throw Error(s(331));var b=He;if(He|=4,l_(d.current),s_(d,d.current,_,a),He=b,_l(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{se.p=h,Y.T=l,R_(t,i)}}function I_(t,i,a){i=Dn(a,i),i=id(t.stateNode,i,2),t=Dr(t,i,2),t!==null&&(ms(t,2),wi(t))}function Ye(t,i,a){if(t.tag===3)I_(t,t,a);else for(;i!==null;){if(i.tag===3){I_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Lr===null||!Lr.has(l))){t=Dn(a,t),a=Ny(2),l=Dr(i,a,2),l!==null&&(Dy(a,l,i,t),ms(l,2),wi(l));break}}i=i.return}}function Id(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Q1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Ed=!0,h.add(a),t=J1.bind(null,t,i,a),i.then(t,t))}function J1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(xe&a)===a&&(ht===4||ht===3&&(xe&62914560)===xe&&300>tn()-pc?(He&2)===0&&ja(t,0):Td|=a,Ua===xe&&(Ua=0)),wi(t)}function N_(t,i){i===0&&(i=yu()),t=Is(t,i),t!==null&&(ms(t,i),wi(t))}function Z1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),N_(t,a)}function W1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),N_(t,a)}function eS(t,i){return Ot(t,i)}var bc=null,qa=null,Nd=!1,Sc=!1,Dd=!1,zr=0;function wi(t){t!==qa&&t.next===null&&(qa===null?bc=qa=t:qa=qa.next=t),Sc=!0,Nd||(Nd=!0,nS())}function _l(t,i){if(!Dd&&Sc){Dd=!0;do for(var a=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,M_(l,d))}else d=xe,d=oi(l,l===We?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qn(l,d)||(a=!0,M_(l,d));l=l.next}while(a);Dd=!1}}function tS(){D_()}function D_(){Sc=Nd=!1;var t=0;zr!==0&&fS()&&(t=zr);for(var i=tn(),a=null,l=bc;l!==null;){var h=l.next,d=x_(l,i);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Sc=!0)),l=h}Mt!==0&&Mt!==5||_l(t),zr!==0&&(zr=0)}function x_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),b=1<<_,I=h[_];I===-1?((b&a)===0||(b&l)!==0)&&(h[_]=sf(b,i)):I<=i&&(t.expiredLanes|=b),d&=~b}if(i=We,a=xe,a=oi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&dr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&dr(l),Li(a)){case 2:case 8:a=Io;break;case 32:a=mr;break;case 268435456:a=fu;break;default:a=mr}return l=O_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&dr(l),t.callbackPriority=2,t.callbackNode=null,2}function O_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=xe;return l=oi(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(d_(t,l,i),x_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?O_.bind(null,t):null)}function M_(t,i){if(Tc())return null;d_(t,i,!0)}function nS(){mS(function(){(He&6)!==0?Ot(Co,tS):D_()})}function xd(){if(zr===0){var t=Ca;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),zr=t}return zr}function V_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function k_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function iS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=V_((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?V_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new _i("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zr!==0){var I=_?k_(h,_):new FormData(h);Jf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=_?k_(h,_):new FormData(h),Jf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Od=0;Od<mf.length;Od++){var Md=mf[Od],rS=Md.toLowerCase(),sS=Md[0].toUpperCase()+Md.slice(1);$n(rS,"on"+sS)}$n(fg,"onAnimationEnd"),$n(dg,"onAnimationIteration"),$n(mg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(T1,"onTransitionRun"),$n(b1,"onTransitionStart"),$n(S1,"onTransitionCancel"),$n(pg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function L_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],I=b.instance,j=b.currentTarget;if(b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=j;try{d(h)}catch(K){Uu(K)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(b=l[_],I=b.instance,j=b.currentTarget,b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=j;try{d(h)}catch(K){Uu(K)}h.currentTarget=null,d=I}}}}function De(t,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var l=t+"__bubble";a.has(l)||(P_(i,t,2,!1),a.add(l))}function Vd(t,i,a){var l=0;i&&(l|=4),P_(a,t,l,i)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[Ac]){t[Ac]=!0,xo.forEach(function(a){a!=="selectionchange"&&(aS.has(a)||Vd(a,!1,t),Vd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ac]||(i[Ac]=!0,Vd("selectionchange",!1,i))}}function P_(t,i,a,l){switch(fv(i)){case 2:var h=VS;break;case 8:h=kS;break;default:h=$d}a=h.bind(null,i,a,t),h=void 0,!Es||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ld(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=hi(b),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Er(function(){var j=d,K=Rn(a),$=[];e:{var q=gg.get(t);if(q!==void 0){var G=_i,ce=t;switch(t){case"keypress":if(bs(a)===0)break e;case"keydown":case"keyup":G=ku;break;case"focusin":ce="focus",G=As;break;case"focusout":ce="blur",G=As;break;case"beforeblur":case"afterblur":G=As;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=g;break;case fg:case dg:case mg:G=Iu;break;case pg:G=S;break;case"scroll":case"scrollend":G=Ho;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=zi;break;case"toggle":case"beforetoggle":G=we}var pe=(i&4)!==0,Ze=!pe&&(t==="scroll"||t==="scrollend"),L=pe?q!==null?q+"Capture":null:q;pe=[];for(var x=j,z;x!==null;){var X=x;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||L===null||(X=Qn(x,L),X!=null&&pe.push(El(x,X,z))),Ze)break;x=x.return}0<pe.length&&(q=new G(q,ce,null,a,K),$.push({event:q,listeners:pe}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==jo&&(ce=a.relatedTarget||a.fromElement)&&(hi(ce)||ce[ui]))break e;if((G||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,G?(ce=a.relatedTarget||a.toElement,G=j,ce=ce?hi(ce):null,ce!==null&&(Ze=u(ce),pe=ce.tag,ce!==Ze||pe!==5&&pe!==27&&pe!==6)&&(ce=null)):(G=null,ce=j),G!==ce)){if(pe=Fo,X="onMouseLeave",L="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(pe=zi,X="onPointerLeave",L="onPointerEnter",x="pointer"),Ze=G==null?q:mn(G),z=ce==null?q:mn(ce),q=new pe(X,x+"leave",G,a,K),q.target=Ze,q.relatedTarget=z,X=null,hi(K)===j&&(pe=new pe(L,x+"enter",ce,a,K),pe.target=z,pe.relatedTarget=Ze,X=pe),Ze=X,G&&ce)t:{for(pe=oS,L=G,x=ce,z=0,X=L;X;X=pe(X))z++;X=0;for(var fe=x;fe;fe=pe(fe))X++;for(;0<z-X;)L=pe(L),z--;for(;0<X-z;)x=pe(x),X--;for(;z--;){if(L===x||x!==null&&L===x.alternate){pe=L;break t}L=pe(L),x=pe(x)}pe=null}else pe=null;G!==null&&U_($,q,G,pe,!1),ce!==null&&Ze!==null&&U_($,Ze,ce,pe,!0)}}e:{if(q=j?mn(j):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var je=tg;else if(Wp(q))if(ng)je=_1;else{je=g1;var he=p1}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&ha(j.elementType)&&(je=tg):je=y1;if(je&&(je=je(t,j))){eg($,je,a,K);break e}he&&he(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&Po(q,"number",q.value)}switch(he=j?mn(j):window,t){case"focusin":(Wp(he)||he.contentEditable==="true")&&(va=he,hf=j,Xo=null);break;case"focusout":Xo=hf=va=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,cg($,a,K);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":cg($,a,K)}var Ie;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else _a?ws(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ti&&a.locale!=="ko"&&(_a||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&_a&&(Ie=qo()):(yi=K,Bo="value"in yi?yi.value:yi.textContent,_a=!0)),he=wc(j,Oe),0<he.length&&(Oe=new Ei(Oe,t,null,a,K),$.push({event:Oe,listeners:he}),Ie?Oe.data=Ie:(Ie=ya(a),Ie!==null&&(Oe.data=Ie)))),(Ie=In?h1(t,a):f1(t,a))&&(Oe=wc(j,"onBeforeInput"),0<Oe.length&&(he=new Ei("onBeforeInput","beforeinput",null,a,K),$.push({event:he,listeners:Oe}),he.data=Ie)),iS($,t,j,a,K)}L_($,i)})}function El(t,i,a){return{instance:t,listener:i,currentTarget:a}}function wc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&l.unshift(El(t,h,d)),h=Qn(t,i),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function oS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function U_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,I=b.alternate,j=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||j===null||(I=j,h?(j=Qn(a,d),j!=null&&_.unshift(El(a,j,I))):h||(j=Qn(a,d),j!=null&&_.push(El(a,j,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var lS=/\r\n?/g,uS=/\u0000|\uFFFD/g;function z_(t){return(typeof t=="string"?t:""+t).replace(lS,`
`).replace(uS,"")}function j_(t,i){return i=z_(i),z_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":pn(t,"class",l);break;case"tabIndex":pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,l);break;case"style":zo(t,l,d);break;case"data":if(i!=="object"){pn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),ua(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ua(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wu.get(a)||a,ua(t,a,l))}}function Pd(t,i,a,l,h,d){switch(a){case"style":zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ua(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var b=d=_=h=null,I=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":I=K;break;case"defaultChecked":j=K;break;case"value":d=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Je(t,i,l,K,a,null)}}bu(t,d,b,I,j,_,h,!1);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Je(t,i,h,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?gr(t,!!l,i,!1):a!=null&&gr(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Je(t,i,_,b,a,null)}yr(t,l,h,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,I,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)De(vl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,j,l,a,null)}return;default:if(ha(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Pd(t,i,K,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Je(t,i,b,l,a,null))}function cS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,I=null,j=null,K=null;for(G in a){var $=a[G];if(a.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(G)||Je(t,i,G,null,l,$)}}for(var q in l){var G=l[q];if($=a[q],l.hasOwnProperty(q)&&(G!=null||$!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":j=G;break;case"defaultChecked":K=G;break;case"value":_=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==$&&Je(t,i,q,G,l,$)}}ca(t,_,b,I,j,K,d,h);return;case"select":G=_=b=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==I&&Je(t,i,h,d,l,I)}i=b,a=_,l=G,q!=null?gr(t,!!a,q,!1):!!l!=!!a&&(i!=null?gr(t,!!a,i,!0):gr(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(t,i,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Su(t,q,G);return;case"option":for(var ce in a)if(q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Je(t,i,ce,null,l,q)}for(I in l)if(q=l[I],G=a[I],l.hasOwnProperty(I)&&q!==G&&(q!=null||G!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,I,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)q=a[pe],a.hasOwnProperty(pe)&&q!=null&&!l.hasOwnProperty(pe)&&Je(t,i,pe,null,l,q);for(j in l)if(q=l[j],G=a[j],l.hasOwnProperty(j)&&q!==G&&(q!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,j,q,l,G)}return;default:if(ha(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&Pd(t,i,Ze,void 0,l,q);for(K in l)q=l[K],G=a[K],!l.hasOwnProperty(K)||q===G||q===void 0&&G===void 0||Pd(t,i,K,q,l,G);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Je(t,i,L,null,l,q);for($ in l)q=l[$],G=a[$],!l.hasOwnProperty($)||q===G||q==null&&G==null||Je(t,i,$,q,l,G)}function B_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&B_(_)){for(_=0,b=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],j=I.startTime;if(j>b)break;var K=I.transferSize,$=I.initiatorType;K&&B_($)&&(I=I.responseEnd,_+=K*(I<b?1:(b-j)/(I-j)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ud=null,zd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function q_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function jd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bd=null;function fS(){var t=window.event;return t&&t.type==="popstate"?t===Bd?!1:(Bd=t,!0):(Bd=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,mS=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(t){return G_.resolve(null).then(t).catch(pS)}:F_;function pS(t){setTimeout(function(){throw t})}function jr(t){return t==="head"}function Q_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Qa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Tl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Tl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[ci]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Tl(t.ownerDocument.body);a=h}while(a);Qa(i)}function K_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function qd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qd(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function gS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function yS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function Y_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function Hd(t){return t.data==="$?"||t.data==="$~"}function Fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _S(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Gd=null;function X_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function $_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function J_(t,i,a){switch(i=Rc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);la(t)}var Ln=new Map,Z_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var er=se.d;se.d={f:vS,r:ES,D:TS,C:bS,L:SS,m:AS,X:RS,S:wS,M:CS};function vS(){var t=er.f(),i=_c();return t||i}function ES(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?py(i):er.r(t)}var Ha=typeof document>"u"?null:document;function W_(t,i,a){var l=Ha;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Z_.has(h)||(Z_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function TS(t){er.D(t),W_("dns-prefetch",t,null)}function bS(t,i){er.C(t,i),W_("preconnect",t,i)}function SS(t,i,a){er.L(t,i,a);var l=Ha;if(l&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=Fa(t);break;case"script":d=Ga(t)}Ln.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(bl(d))||i==="script"&&l.querySelector(Sl(d))||(i=l.createElement("link"),Gt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function AS(t,i){er.m(t,i);var a=Ha;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(t)}if(!Ln.has(d)&&(t=T({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(d)))return}l=a.createElement("link"),Gt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function wS(t,i,a){er.S(t,i,a);var l=Ha;if(l&&t){var h=fi(l).hoistableStyles,d=Fa(t);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(bl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&Qd(t,a);var I=_=l.createElement("link");Tt(I),Gt(I,"link",t),I._p=new Promise(function(j,K){I.onload=j,I.onerror=K}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ic(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function RS(t,i){er.X(t,i);var a=Ha;if(a&&t){var l=fi(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(t=T({src:t,async:!0},i),(i=Ln.get(h))&&Kd(t,i),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function CS(t,i){er.M(t,i);var a=Ha;if(a&&t){var l=fi(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(Sl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&Kd(t,i),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ev(t,i,a,l){var h=(h=Ce.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Fa(a.href);var d=fi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(bl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||IS(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Fa(t){return'href="'+sn(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function tv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function IS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),Tt(i),t.head.appendChild(i))}function Ga(t){return'[src="'+sn(t)+'"]'}function Sl(t){return"script[async]"+t}function nv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Gt(l,"style",h),Ic(l,a.precedence,t),i.instance=l;case"stylesheet":h=Fa(a.href);var d=t.querySelector(bl(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=tv(a),(h=Ln.get(h))&&Qd(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(b,I){_.onload=b,_.onerror=I}),Gt(d,"link",l),i.state.loading|=4,Ic(d,a.precedence,t),i.instance=d;case"script":return d=Ga(a.src),(h=t.querySelector(Sl(d)))?(i.instance=h,Tt(h),h):(l=a,(h=Ln.get(d))&&(l=T({},a),Kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ic(l,a.precedence,t));return i.instance}function Ic(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Nc=null;function iv(t,i,a){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(a,l)}else h=Nc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function rv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function NS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function DS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(l.href),d=i.querySelector(bl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Dc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=tv(l),(h=Ln.get(h))&&Qd(l,h),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(b,I){_.onload=b,_.onerror=I}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Dc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Yd=0;function xS(t,i){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Yd===0&&(Yd=62500*hS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Yd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Oc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,i.forEach(OS,t),xc=null,Dc.call(t))}function OS(t,i){if(!(i.state.loading&4)){var a=xc.get(t);if(a)var l=a.get(null);else{a=new Map,xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Al={$$typeof:te,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function MS(t,i,a,l,h,d,_,b,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function av(t,i,a,l,h,d,_,b,I,j,K,$){return t=new MS(t,i,a,_,I,j,K,$,b),i=1,d===!0&&(i|=24),d=yn(3,null,null,i),t.current=d,d.stateNode=t,i=Cf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},xf(d),t}function ov(t){return t?(t=ba,t):ba}function lv(t,i,a,l,h,d){h=ov(h),l.context===null?l.context=h:l.pendingContext=h,l=Nr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Dr(t,l,i),a!==null&&(hn(a,t,i),nl(a,t,i))}function uv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Xd(t,i){uv(t,i),(t=t.alternate)&&uv(t,i)}function cv(t){if(t.tag===13||t.tag===31){var i=Is(t,67108864);i!==null&&hn(i,t,67108864),Xd(t,67108864)}}function hv(t){if(t.tag===13||t.tag===31){var i=bn();i=gs(i);var a=Is(t,i);a!==null&&hn(a,t,i),Xd(t,i)}}var Mc=!0;function VS(t,i,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=2,$d(t,i,a,l)}finally{se.p=d,Y.T=h}}function kS(t,i,a,l){var h=Y.T;Y.T=null;var d=se.p;try{se.p=8,$d(t,i,a,l)}finally{se.p=d,Y.T=h}}function $d(t,i,a,l){if(Mc){var h=Jd(l);if(h===null)Ld(t,i,l,Vc,a),dv(t,l);else if(PS(h,t,i,a,l))l.stopPropagation();else if(dv(t,l),i&4&&-1<LS.indexOf(t)){for(;h!==null;){var d=wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ai(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var I=1<<31-ft(_);b.entanglements[1]|=I,_&=~I}wi(d),(He&6)===0&&(gc=tn()+500,_l(0))}}break;case 31:case 13:b=Is(d,2),b!==null&&hn(b,d,2),_c(),Xd(d,2)}if(d=Jd(l),d===null&&Ld(t,i,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(t,i,l,null,a)}}function Jd(t){return t=Rn(t),Zd(t)}var Vc=null;function Zd(t){if(Vc=null,t=hi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vc=t,null}function fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fs()){case Co:return 2;case Io:return 8;case mr:case rf:return 32;case fu:return 268435456;default:return 32}default:return 32}}var Wd=!1,Br=null,qr=null,Hr=null,wl=new Map,Rl=new Map,Fr=[],LS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(t,i){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(i.pointerId)}}function Cl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&cv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function PS(t,i,a,l,h){switch(i){case"focusin":return Br=Cl(Br,t,i,a,l,h),!0;case"dragenter":return qr=Cl(qr,t,i,a,l,h),!0;case"mouseover":return Hr=Cl(Hr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return wl.set(d,Cl(wl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Cl(Rl.get(d)||null,t,i,a,l,h)),!0}return!1}function mv(t){var i=hi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){hv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){hv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);jo=l,a.target.dispatchEvent(l),jo=null}else return i=wn(a),i!==null&&cv(i),t.blockedOn=a,!1;i.shift()}return!0}function pv(t,i,a){kc(t)&&a.delete(i)}function US(){Wd=!1,Br!==null&&kc(Br)&&(Br=null),qr!==null&&kc(qr)&&(qr=null),Hr!==null&&kc(Hr)&&(Hr=null),wl.forEach(pv),Rl.forEach(pv)}function Lc(t,i){t.blockedOn===i&&(t.blockedOn=null,Wd||(Wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,US)))}var Pc=null;function gv(t){Pc!==t&&(Pc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=wn(a);d!==null&&(t.splice(i,3),i-=3,Jf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Qa(t){function i(I){return Lc(I,t)}Br!==null&&Lc(Br,t),qr!==null&&Lc(qr,t),Hr!==null&&Lc(Hr,t),wl.forEach(i),Rl.forEach(i);for(var a=0;a<Fr.length;a++){var l=Fr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)mv(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||gv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)b=_.formAction;else if(Zd(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),gv(a)}}}function yv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function em(t){this._internalRoot=t}Uc.prototype.render=em.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();lv(a,l,t,i,null,null)},Uc.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;lv(t.current,2,null,t,null,null),_c(),i[ui]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var i=_u();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Fr.length&&i!==0&&i<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&mv(t)}};var _v=e.version;if(_v!=="19.2.0")throw Error(s(527,_v,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var zS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Bn=zc.inject(zS),jt=zc}catch{}}return Nl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=wy,d=Ry,_=Cy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=av(t,1,!1,null,null,a,l,null,h,d,_,yv),t[ui]=i.current,kd(t),new em(i)},Nl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=wy,_=Ry,b=Cy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=av(t,1,!0,i,a??null,l,h,I,d,_,b,yv),i.context=ov(null),a=i.current,l=bn(),l=gs(l),h=Nr(l),h.callback=null,Dr(a,h,l),a=l,i.current.lanes=a,ms(i,a),wi(i),t[ui]=i.current,kd(t),new Uc(i)},Nl.version="19.2.0",Nl}var Iv;function XS(){if(Iv)return im.exports;Iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),im.exports=YS(),im.exports}var $S=XS();var Nv="popstate";function JS(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Sm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Bl(o)}return WS(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZS(){return Math.random().toString(36).substring(2,10)}function Dv(r,e){return{usr:r.state,key:r.key,idx:e}}function Sm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ho(e):e,state:n,key:e&&e.key||s||ZS()}}function Bl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ho(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function WS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let H=E(),ne=H==null?null:H-y;y=H,p&&p({action:m,location:J.location,delta:ne})}function A(H,ne){m="PUSH";let ie=Sm(J.location,H,ne);y=E()+1;let te=Dv(ie,y),ge=J.createHref(ie);try{f.pushState(te,"",ge)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(ge)}u&&p&&p({action:m,location:J.location,delta:1})}function k(H,ne){m="REPLACE";let ie=Sm(J.location,H,ne);y=E();let te=Dv(ie,y),ge=J.createHref(ie);f.replaceState(te,"",ge),u&&p&&p({action:m,location:J.location,delta:0})}function Q(H){return eA(H)}let J={get action(){return m},get location(){return r(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Nv,T),p=H,()=>{o.removeEventListener(Nv,T),p=null}},createHref(H){return e(o,H)},createURL:Q,encodeLocation(H){let ne=Q(H);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:A,replace:k,go(H){return f.go(H)}};return J}function eA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Bl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function mT(r,e,n="/"){return tA(r,e,n,!1)}function tA(r,e,n,s){let o=typeof e=="string"?ho(e):e,u=sr(o.pathname||"/",n);if(u==null)return null;let f=pT(r);nA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=dA(u);m=hA(f[p],y,s)}return m}function pT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=rr([s,E.relativePath]),A=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),pT(f.children,e,A,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:uA(T,f.index),routesMeta:A})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of gT(f.path))u(f,m,!0,p)}),e}function gT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=gT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function nA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:cA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var iA=/^:[\w-]+$/,rA=3,sA=2,aA=1,oA=10,lA=-2,xv=r=>r==="*";function uA(r,e){let n=r.split("/"),s=n.length;return n.some(xv)&&(s+=lA),e&&(s+=sA),n.filter(o=>!xv(o)).reduce((o,u)=>o+(iA.test(u)?rA:u===""?aA:oA),s)}function cA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function hA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),A=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:rr([u,T.pathname]),pathnameBase:_A(rr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=rr([u,T.pathnameBase]))}return f}function sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=fA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},A)=>{if(E==="*"){let Q=m[A]||"";f=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const k=m[A];return T&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function fA(r,e=!1,n=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function dA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function sr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var mA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pA=r=>mA.test(r);function gA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ho(r):r,u;if(n)if(pA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),zn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Ov(n.substring(1),"/"):u=Ov(n,e)}else u=e;return{pathname:u,search:vA(s),hash:EA(o)}}function Ov(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function om(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zm(r){let e=yA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Wm(r,e,n,s=!1){let o;typeof r=="string"?o=ho(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=gA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var rr=r=>r.join("/").replace(/\/\/+/g,"/"),_A=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),vA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,EA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function TA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function bA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yT=["POST","PUT","PATCH","DELETE"];new Set(yT);var SA=["GET",...yT];new Set(SA);var fo=B.createContext(null);fo.displayName="DataRouter";var Dh=B.createContext(null);Dh.displayName="DataRouterState";B.createContext(!1);var _T=B.createContext({isTransitioning:!1});_T.displayName="ViewTransition";var AA=B.createContext(new Map);AA.displayName="Fetchers";var wA=B.createContext(null);wA.displayName="Await";var jn=B.createContext(null);jn.displayName="Navigation";var Zl=B.createContext(null);Zl.displayName="Location";var ii=B.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var ep=B.createContext(null);ep.displayName="RouteError";function RA(r,{relative:e}={}){lt(mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(jn),{hash:o,pathname:u,search:f}=Wl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:rr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function mo(){return B.useContext(Zl)!=null}function cr(){return lt(mo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Zl).location}var vT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ET(r){B.useContext(jn).static||B.useLayoutEffect(r)}function TT(){let{isDataRoute:r}=B.useContext(ii);return r?BA():CA()}function CA(){lt(mo(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(fo),{basename:e,navigator:n}=B.useContext(jn),{matches:s}=B.useContext(ii),{pathname:o}=cr(),u=JSON.stringify(Zm(s)),f=B.useRef(!1);return ET(()=>{f.current=!0}),B.useCallback((p,y={})=>{if(zn(f.current,vT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Wm(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:rr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}var IA=B.createContext(null);function NA(r){let e=B.useContext(ii).outlet;return B.useMemo(()=>e&&B.createElement(IA.Provider,{value:r},e),[e,r])}function Wl(r,{relative:e}={}){let{matches:n}=B.useContext(ii),{pathname:s}=cr(),o=JSON.stringify(Zm(n));return B.useMemo(()=>Wm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function DA(r,e){return bT(r,e)}function bT(r,e,n,s,o){lt(mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(jn),{matches:f}=B.useContext(ii),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ie=T&&T.path||"";ST(y,!T||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let A=cr(),k;if(e){let ie=typeof e=="string"?ho(e):e;lt(E==="/"||ie.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),k=ie}else k=A;let Q=k.pathname||"/",J=Q;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");J="/"+Q.replace(/^\//,"").split("/").slice(ie.length).join("/")}let H=mT(r,{pathname:J});zn(T||H!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),zn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=kA(H&&H.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:rr([E,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:rr([E,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&ne?B.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},ne):ne}function xA(){let r=jA(),e=TA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var OA=B.createElement(xA,null),MA=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?B.createElement(ii.Provider,{value:this.props.routeContext},B.createElement(ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VA({routeContext:r,match:e,children:n}){let s=B.useContext(fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(ii.Provider,{value:r},n)}function kA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:k}=n,Q=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||Q){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:bA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let k,Q=!1,J=null,H=null;n&&(k=f&&T.route.id?f[T.route.id]:void 0,J=T.route.errorElement||OA,m&&(p<0&&A===0?(ST("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,H=null):p===A&&(Q=!0,H=T.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,A+1)),ie=()=>{let te;return k?te=J:Q?te=H:T.route.Component?te=B.createElement(T.route.Component,null):T.route.element?te=T.route.element:te=E,B.createElement(VA,{match:T,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:te})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?B.createElement(MA,{location:n.location,revalidation:n.revalidation,component:J,error:k,children:ie(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:y}):ie()},null)}function tp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LA(r){let e=B.useContext(fo);return lt(e,tp(r)),e}function PA(r){let e=B.useContext(Dh);return lt(e,tp(r)),e}function UA(r){let e=B.useContext(ii);return lt(e,tp(r)),e}function np(r){let e=UA(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function zA(){return np("useRouteId")}function jA(){let r=B.useContext(ep),e=PA("useRouteError"),n=np("useRouteError");return r!==void 0?r:e.errors?.[n]}function BA(){let{router:r}=LA("useNavigate"),e=np("useNavigate"),n=B.useRef(!1);return ET(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{zn(n.current,vT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Mv={};function ST(r,e,n){!e&&!Mv[r]&&(Mv[r]=!0,zn(!1,n))}B.memo(qA);function qA({routes:r,future:e,state:n,unstable_onError:s}){return bT(r,void 0,n,s,e)}function HA({to:r,replace:e,state:n,relative:s}){lt(mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(jn);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(ii),{pathname:f}=cr(),m=TT(),p=Wm(r,Zm(u),f,s==="path"),y=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function FA(r){return NA(r.context)}function Ka(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=ho(n));let{pathname:y="/",search:E="",hash:T="",state:A=null,key:k="default"}=n,Q=B.useMemo(()=>{let J=sr(y,m);return J==null?null:{location:{pathname:J,search:E,hash:T,state:A,key:k},navigationType:s}},[m,y,E,T,A,k,s]);return zn(Q!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:B.createElement(jn.Provider,{value:p},B.createElement(Zl.Provider,{children:e,value:Q}))}function QA({children:r,location:e}){return DA(Am(r),e)}function Am(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,Am(s.props.children,u));return}lt(s.type===Ka,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Am(s.props.children,u)),n.push(f)}),n}var Kc="get",Yc="application/x-www-form-urlencoded";function xh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function KA(r){return xh(r)&&r.tagName.toLowerCase()==="button"}function YA(r){return xh(r)&&r.tagName.toLowerCase()==="form"}function XA(r){return xh(r)&&r.tagName.toLowerCase()==="input"}function $A(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function JA(r,e){return r.button===0&&(!e||e==="_self")&&!$A(r)}var jc=null;function ZA(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var WA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(r){return r!=null&&!WA.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):r}function ew(r,e){let n,s,o,u,f;if(YA(r)){let m=r.getAttribute("action");s=m?sr(m,e):null,n=r.getAttribute("method")||Kc,o=lm(r.getAttribute("enctype"))||Yc,u=new FormData(r)}else if(KA(r)||XA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?sr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Kc,o=lm(r.getAttribute("formenctype"))||lm(m.getAttribute("enctype"))||Yc,u=new FormData(m,r),!ZA()){let{name:y,type:E,value:T}=r;if(E==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,T)}}else{if(xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,s=null,o=Yc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&sr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function nw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function rw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await nw(u,n);return f.links?f.links():[]}return[]}));return lw(s.flat(1).filter(iw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Vv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function sw(r,e,{includeHydrateFallback:n}={}){return aw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function aw(r){return[...new Set(r)]}function ow(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function lw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ow(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function AT(){let r=B.useContext(fo);return ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function uw(){let r=B.useContext(Dh);return ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rp=B.createContext(void 0);rp.displayName="FrameworkContext";function wT(){let r=B.useContext(rp);return ip(r,"You must render this element inside a <HydratedRouter> element"),r}function cw(r,e){let n=B.useContext(rp),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,A=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let J=ne=>{ne.forEach(ie=>{f(ie.isIntersecting)})},H=new IntersectionObserver(J,{threshold:.5});return A.current&&H.observe(A.current),()=>{H.disconnect()}}},[r]),B.useEffect(()=>{if(s){let J=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(J)}}},[s]);let k=()=>{o(!0)},Q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Dl(m,k),onBlur:Dl(p,Q),onMouseEnter:Dl(y,k),onMouseLeave:Dl(E,Q),onTouchStart:Dl(T,k)}]:[!1,A,{}]}function Dl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function hw({page:r,...e}){let{router:n}=AT(),s=B.useMemo(()=>mT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(dw,{page:r,matches:s,...e}):null}function fw(r){let{manifest:e,routeModules:n}=wT(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return rw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function dw({page:r,matches:e,...n}){let s=cr(),{manifest:o,routeModules:u}=wT(),{basename:f}=AT(),{loaderData:m,matches:p}=uw(),y=B.useMemo(()=>Vv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=B.useMemo(()=>Vv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let Q=new Set,J=!1;if(e.forEach(ne=>{let ie=o.routes[ne.route.id];!ie||!ie.hasLoader||(!y.some(te=>te.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||ie.hasClientLoader?J=!0:Q.add(ne.route.id))}),Q.size===0)return[];let H=tw(r,f,"data");return J&&Q.size>0&&H.searchParams.set("_routes",e.filter(ne=>Q.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,y,e,r,u]),A=B.useMemo(()=>sw(E,o),[E,o]),k=fw(E);return B.createElement(B.Fragment,null,T.map(Q=>B.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),A.map(Q=>B.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),k.map(({key:Q,link:J})=>B.createElement("link",{key:Q,nonce:n.nonce,...J})))}function mw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RT&&(window.__reactRouterVersion="7.10.0")}catch{}function pw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=B.useRef();o.current==null&&(o.current=JS({window:s,v5Compat:!0}));let u=o.current,[f,m]=B.useState({action:u.action,location:u.location}),p=B.useCallback(y=>{n===!1?m(y):B.startTransition(()=>m(y))},[n]);return B.useLayoutEffect(()=>u.listen(p),[u,p]),B.createElement(GA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var CT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ql=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,...A},k){let{basename:Q,unstable_useTransitions:J}=B.useContext(jn),H=typeof y=="string"&&CT.test(y),ne,ie=!1;if(typeof y=="string"&&H&&(ne=y,RT))try{let M=new URL(window.location.href),D=y.startsWith("//")?new URL(M.protocol+y):new URL(y),P=sr(D.pathname,Q);D.origin===M.origin&&P!=null?y=P+D.search+D.hash:ie=!0}catch{zn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=RA(y,{relative:o}),[ge,Te,be]=cw(s,A),N=vw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:J});function w(M){e&&e(M),M.defaultPrevented||N(M)}let R=B.createElement("a",{...A,...be,href:ne||te,onClick:ie||u?e:w,ref:mw(k,Te),target:p,"data-discover":!H&&n==="render"?"true":void 0});return ge&&!H?B.createElement(B.Fragment,null,R,B.createElement(hw,{page:te})):R});ql.displayName="Link";var gw=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let T=Wl(f,{relative:y.relative}),A=cr(),k=B.useContext(Dh),{navigator:Q,basename:J}=B.useContext(jn),H=k!=null&&Aw(T)&&m===!0,ne=Q.encodeLocation?Q.encodeLocation(T).pathname:T.pathname,ie=A.pathname,te=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),te=te?te.toLowerCase():null,ne=ne.toLowerCase()),te&&J&&(te=sr(te,J)||te);const ge=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Te=ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(ge)==="/",be=te!=null&&(te===ne||!o&&te.startsWith(ne)&&te.charAt(ne.length)==="/"),N={isActive:Te,isPending:be,isTransitioning:H},w=Te?e:void 0,R;typeof s=="function"?R=s(N):R=[s,Te?"active":null,be?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return B.createElement(ql,{...y,"aria-current":w,className:R,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(N):p)});gw.displayName="NavLink";var yw=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Kc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,...A},k)=>{let{unstable_useTransitions:Q}=B.useContext(jn),J=bw(),H=Sw(m,{relative:y}),ne=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&CT.test(m),te=ge=>{if(p&&p(ge),ge.defaultPrevented)return;ge.preventDefault();let Te=ge.nativeEvent.submitter,be=Te?.getAttribute("formmethod")||f,N=()=>J(Te||ge.currentTarget,{fetcherKey:e,method:be,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T});Q&&n!==!1?B.startTransition(()=>N()):N()};return B.createElement("form",{ref:k,method:ne,action:H,onSubmit:s?p:te,...A,"data-discover":!ie&&r==="render"?"true":void 0})});yw.displayName="Form";function _w(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IT(r){let e=B.useContext(fo);return lt(e,_w(r)),e}function vw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let p=TT(),y=cr(),E=Wl(r,{relative:u});return B.useCallback(T=>{if(JA(T,e)){T.preventDefault();let A=n!==void 0?n:Bl(y)===Bl(E),k=()=>p(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?B.startTransition(()=>k()):k()}},[y,p,E,n,s,e,r,o,u,f,m])}var Ew=0,Tw=()=>`__${String(++Ew)}__`;function bw(){let{router:r}=IT("useSubmit"),{basename:e}=B.useContext(jn),n=zA(),s=r.fetch,o=r.navigate;return B.useCallback(async(u,f={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=ew(u,e);if(f.navigate===!1){let A=f.fetcherKey||Tw();await s(A,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Sw(r,{relative:e}={}){let{basename:n}=B.useContext(jn),s=B.useContext(ii);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Wl(r||".",{relative:e})},f=cr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rr([n,u.pathname])),Bl(u)}function Aw(r,{relative:e}={}){let n=B.useContext(_T);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=IT("useViewTransitionState"),o=Wl(r,{relative:e});if(!n.isTransitioning)return!1;let u=sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return sh(o.pathname,f)!=null||sh(o.pathname,u)!=null}const ww=()=>{};var kv={};const NT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Rw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},DT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,k=y&63;p||(k=64,f||(A=64)),s.push(n[E],n[T],n[A],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(NT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Rw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new Cw;const A=u<<2|m>>4;if(s.push(A),y!==64){const k=m<<4&240|y>>2;if(s.push(k),T!==64){const Q=y<<6&192|T;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Cw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Iw=function(r){const e=NT(r);return DT.encodeByteArray(e,!0)},ah=function(r){return Iw(r).replace(/\./g,"")},xT=function(r){try{return DT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Dw=()=>Nw().__FIREBASE_DEFAULTS__,xw=()=>{if(typeof process>"u"||typeof kv>"u")return;const r=kv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ow=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&xT(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return ww()||Dw()||xw()||Ow()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},OT=r=>Oh()?.emulatorHosts?.[r],Mw=r=>{const e=OT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},MT=()=>Oh()?.config,VT=r=>Oh()?.[`_${r}`];class Vw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function po(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kT(r){return(await fetch(r,{credentials:"include"})).ok}function kw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ah(JSON.stringify(n)),ah(JSON.stringify(f)),""].join(".")}const kl={};function Lw(){const r={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?r.emulator.push(e):r.prod.push(e);return r}function Pw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Lv=!1;function LT(r,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||kl[r]===e||kl[r]||Lv)return;kl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=Lw().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Lv=!0,f()},A}function E(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=Pw(s),k=n("text"),Q=document.getElementById(k)||document.createElement("span"),J=n("learnmore"),H=document.getElementById(J)||document.createElement("a"),ne=n("preprendIcon"),ie=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const te=A.element;m(te),E(H,J);const ge=y();p(ie,ne),te.append(ie,Q,H,ge),document.body.appendChild(te)}u?(Q.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function zw(){const r=Oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hw(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Fw(){return!zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gw(){try{return typeof indexedDB=="object"}catch{return!1}}function Qw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Kw="FirebaseError";class hr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Kw,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Yw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new hr(o,m,s)}}function Yw(r,e){return r.replace(Xw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Xw=/\{\$([^}]+)}/g;function $w(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ys(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Pv(u)&&Pv(f)){if(!Ys(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Pv(r){return r!==null&&typeof r=="object"}function tu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jw(r,e){const n=new Zw(r,e);return n.subscribe.bind(n)}class Zw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ww(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ww(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function um(){}function zt(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bs="[DEFAULT]";class eR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Vw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nR(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(r){return r===Bs?void 0:r}function nR(r){return r.instantiationMode==="EAGER"}class iR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const rR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},sR=Me.INFO,aR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},oR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=aR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sp{constructor(e){this.name=e,this._logLevel=sR,this._logHandler=oR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const lR=(r,e)=>e.some(n=>r instanceof n);let Uv,zv;function uR(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PT=new WeakMap,wm=new WeakMap,UT=new WeakMap,cm=new WeakMap,ap=new WeakMap;function hR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&PT.set(n,r)}).catch(()=>{}),ap.set(e,r),e}function fR(r){if(wm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});wm.set(r,e)}let Rm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return wm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||UT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function dR(r){Rm=r(Rm)}function mR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(hm(this),e,...n);return UT.set(s,e.sort?e.sort():[e]),Jr(s)}:cR().includes(r)?function(...e){return r.apply(hm(this),e),Jr(PT.get(this))}:function(...e){return Jr(r.apply(hm(this),e))}}function pR(r){return typeof r=="function"?mR(r):(r instanceof IDBTransaction&&fR(r),lR(r,uR())?new Proxy(r,Rm):r)}function Jr(r){if(r instanceof IDBRequest)return hR(r);if(cm.has(r))return cm.get(r);const e=pR(r);return e!==r&&(cm.set(r,e),ap.set(e,r)),e}const hm=r=>ap.get(r);function gR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Jr(f.result),p.oldVersion,p.newVersion,Jr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const yR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],fm=new Map;function jv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=_R.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return fm.set(e,u),u}dR(r=>({...r,get:(e,n,s)=>jv(e,n)||r.get(e,n,s),has:(e,n)=>!!jv(e,n)||r.has(e,n)}));class vR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ER(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ER(r){return r.getComponent()?.type==="VERSION"}const Cm="@firebase/app",Bv="0.14.6";const ar=new sp("@firebase/app"),TR="@firebase/app-compat",bR="@firebase/analytics-compat",SR="@firebase/analytics",AR="@firebase/app-check-compat",wR="@firebase/app-check",RR="@firebase/auth",CR="@firebase/auth-compat",IR="@firebase/database",NR="@firebase/data-connect",DR="@firebase/database-compat",xR="@firebase/functions",OR="@firebase/functions-compat",MR="@firebase/installations",VR="@firebase/installations-compat",kR="@firebase/messaging",LR="@firebase/messaging-compat",PR="@firebase/performance",UR="@firebase/performance-compat",zR="@firebase/remote-config",jR="@firebase/remote-config-compat",BR="@firebase/storage",qR="@firebase/storage-compat",HR="@firebase/firestore",FR="@firebase/ai",GR="@firebase/firestore-compat",QR="firebase",KR="12.6.0";const Im="[DEFAULT]",YR={[Cm]:"fire-core",[TR]:"fire-core-compat",[SR]:"fire-analytics",[bR]:"fire-analytics-compat",[wR]:"fire-app-check",[AR]:"fire-app-check-compat",[RR]:"fire-auth",[CR]:"fire-auth-compat",[IR]:"fire-rtdb",[NR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[xR]:"fire-fn",[OR]:"fire-fn-compat",[MR]:"fire-iid",[VR]:"fire-iid-compat",[kR]:"fire-fcm",[LR]:"fire-fcm-compat",[PR]:"fire-perf",[UR]:"fire-perf-compat",[zR]:"fire-rc",[jR]:"fire-rc-compat",[BR]:"fire-gcs",[qR]:"fire-gcs-compat",[HR]:"fire-fst",[GR]:"fire-fst-compat",[FR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};const oh=new Map,XR=new Map,Nm=new Map;function qv(r,e){try{r.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function io(r){const e=r.name;if(Nm.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,r);for(const n of oh.values())qv(n,r);for(const n of XR.values())qv(n,r);return!0}function op(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Wn(r){return r==null?!1:r.settings!==void 0}const $R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new eu("app","Firebase",$R);class JR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}const go=KR;function zT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Im,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=MT()),!n)throw Zr.create("no-options");const u=oh.get(o);if(u){if(Ys(n,u.options)&&Ys(s,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new iR(o);for(const p of Nm.values())f.addComponent(p);const m=new JR(n,s,f);return oh.set(o,m),m}function jT(r=Im){const e=oh.get(r);if(!e&&r===Im&&MT())return zT();if(!e)throw Zr.create("no-app",{appName:r});return e}function Wr(r,e,n){let s=YR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(f.join(" "));return}io(new Xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const ZR="firebase-heartbeat-database",WR=1,Hl="firebase-heartbeat-store";let dm=null;function BT(){return dm||(dm=gR(ZR,WR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),dm}async function e2(r){try{const n=(await BT()).transaction(Hl),s=await n.objectStore(Hl).get(qT(r));return await n.done,s}catch(e){if(e instanceof hr)ar.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e?.message});ar.warn(n.message)}}}async function Hv(r,e){try{const s=(await BT()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(e,qT(r)),await s.done}catch(n){if(n instanceof hr)ar.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n?.message});ar.warn(s.message)}}}function qT(r){return`${r.name}!${r.options.appId}`}const t2=1024,n2=30;class i2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Fv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>n2){const o=a2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fv(),{heartbeatsToSend:n,unsentEntries:s}=r2(this._heartbeatsCache.heartbeats),o=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ar.warn(e),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function r2(r,e=t2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Gv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Gv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class s2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gw()?Qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gv(r){return ah(JSON.stringify({version:2,heartbeats:r})).length}function a2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function o2(r){io(new Xs("platform-logger",e=>new vR(e),"PRIVATE")),io(new Xs("heartbeat",e=>new i2(e),"PRIVATE")),Wr(Cm,Bv,r),Wr(Cm,Bv,"esm2020"),Wr("fire-js","")}o2("");function HT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l2=HT,FT=new eu("auth","Firebase",HT());const lh=new sp("@firebase/auth");function u2(r,...e){lh.logLevel<=Me.WARN&&lh.warn(`Auth (${go}): ${r}`,...e)}function Xc(r,...e){lh.logLevel<=Me.ERROR&&lh.error(`Auth (${go}): ${r}`,...e)}function Vi(r,...e){throw up(r,...e)}function ti(r,...e){return up(r,...e)}function lp(r,e,n){const s={...l2(),[e]:n};return new eu("auth","Firebase",s).create(e,{appName:r.name})}function Fs(r){return lp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c2(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Vi(r,"argument-error"),lp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function up(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return FT.create(r,...e)}function _e(r,e,...n){if(!r)throw up(e,...n)}function nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xc(e),new Error(e)}function or(r,e){r||nr(e)}function Dm(){return typeof self<"u"&&self.location?.href||""}function h2(){return Qv()==="http:"||Qv()==="https:"}function Qv(){return typeof self<"u"&&self.location?.protocol||null}function f2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h2()||Bw()||"connection"in navigator)?navigator.onLine:!0}function d2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=Uw()||qw()}get(){return f2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cp(r,e){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class GT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const m2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const p2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g2=new nu(3e4,6e4);function hp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function yo(r,e,n,s,o={}){return QT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=tu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return jw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&po(r.emulatorConfig.host)&&(y.credentials="include"),GT.fetch()(await KT(r,r.config.apiHost,n,m),y)})}async function QT(r,e,n){r._canInitEmulator=!1;const s={...m2,...e};try{const o=new _2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw lp(r,E,y);Vi(r,E)}}catch(o){if(o instanceof hr)throw o;Vi(r,"network-request-failed",{message:String(o)})}}async function y2(r,e,n,s,o={}){const u=await yo(r,e,n,s,o);return"mfaPendingCredential"in u&&Vi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function KT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?cp(r.config,o):`${r.config.apiScheme}://${o}`;return p2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class _2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ti(this.auth,"network-request-failed")),g2.get())})}}function Bc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ti(r,e,s);return o.customData._tokenResponse=n,o}async function v2(r,e){return yo(r,"POST","/v1/accounts:delete",e)}async function uh(r,e){return yo(r,"POST","/v1/accounts:lookup",e)}function Ll(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E2(r,e=!1){const n=zt(r),s=await n.getIdToken(e),o=fp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ll(mm(o.auth_time)),issuedAtTime:Ll(mm(o.iat)),expirationTime:Ll(mm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function mm(r){return Number(r)*1e3}function fp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=xT(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Kv(r){const e=fp(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof hr&&T2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function T2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class b2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ch(r){const e=r.auth,n=await r.getIdToken(),s=await Fl(r,uh(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?YT(o.providerUserInfo):[],f=A2(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function S2(r){const e=zt(r);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function YT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function w2(r,e){const n=await QT(r,{},async()=>{const s=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await KT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&po(r.emulatorConfig.host)&&(p.credentials="include"),GT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R2(r,e){return yo(r,"POST","/v2/accounts:revokeToken",hp(r,e))}class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Kv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await w2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return nr("not implemented")}}function Qr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new b2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E2(this,e)}reload(){return S2(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await Fl(this,v2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:k,providerData:Q,stsTokenManager:J}=n;_e(T&&J,e,"internal-error");const H=Za.fromJSON(this.name,J);_e(typeof T=="string",e,"internal-error"),Qr(s,e.name),Qr(o,e.name),_e(typeof A=="boolean",e,"internal-error"),_e(typeof k=="boolean",e,"internal-error"),Qr(u,e.name),Qr(f,e.name),Qr(m,e.name),Qr(p,e.name),Qr(y,e.name),Qr(E,e.name);const ne=new ei({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:E});return Q&&Array.isArray(Q)&&(ne.providerData=Q.map(ie=>({...ie}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?YT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Za;m.updateFromIdToken(s);const p=new ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new xm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const Yv=new Map;function ir(r){or(r instanceof Function,"Expected a class definition");let e=Yv.get(r);return e?(or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Yv.set(r,e),e)}class XT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XT.type="NONE";const Xv=XT;function $c(r,e,n){return`firebase:${r}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,u),this.fullPersistenceKey=$c("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa(ir(Xv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ir(Xv);const f=$c(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const A=await uh(e,{idToken:E}).catch(()=>{});if(!A)break;T=await ei._fromGetAccountInfoResponse(e,A,E)}else T=ei._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Wa(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Wa(u,e,s))}}function $v(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t0(e))return"Blackberry";if(n0(e))return"Webos";if(JT(e))return"Safari";if((e.includes("chrome/")||ZT(e))&&!e.includes("edge/"))return"Chrome";if(e0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function $T(r=en()){return/firefox\//i.test(r)}function JT(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZT(r=en()){return/crios\//i.test(r)}function WT(r=en()){return/iemobile/i.test(r)}function e0(r=en()){return/android/i.test(r)}function t0(r=en()){return/blackberry/i.test(r)}function n0(r=en()){return/webos/i.test(r)}function dp(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function C2(r=en()){return dp(r)&&!!window.navigator?.standalone}function I2(){return Hw()&&document.documentMode===10}function i0(r=en()){return dp(r)||e0(r)||n0(r)||t0(r)||/windows phone/i.test(r)||WT(r)}function r0(r,e=[]){let n;switch(r){case"Browser":n=$v(en());break;case"Worker":n=`${$v(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${s}`}class N2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function D2(r,e={}){return yo(r,"GET","/v2/passwordPolicy",hp(r,e))}const x2=6;class O2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??x2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class M2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new N2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),s=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Fs(this));const n=e?zt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D2(this),n=new O2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await R2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&u2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Mh(r){return zt(r)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jw(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V2(r){mp=r}function k2(r){return mp.loadJS(r)}function L2(){return mp.gapiScript}function P2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function U2(r,e){const n=op(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ys(u,e??{}))return o;Vi(o,"already-initialized")}return n.initialize({options:e})}function z2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ir);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function j2(r,e,n){const s=Mh(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=s0(e),{host:f,port:m}=B2(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(Ys(y,s.config.emulator)&&Ys(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,po(f)?(kT(`${u}//${f}${p}`),LT("Auth",!0)):q2()}function s0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function B2(r){const e=s0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Zv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Zv(f)}}}function Zv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function q2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class a0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function eo(r,e){return y2(r,"POST","/v1/accounts:signInWithIdp",hp(r,e))}const H2="http://localhost";class $s extends a0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new $s(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:H2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}class pp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends pp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Kr extends iu{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";class tr extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return tr.credential(n,s)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class Yr extends iu{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";class Xr extends iu{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ei._fromIdTokenResponse(e,s,o),f=Wv(s);return new ro({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Wv(s);return new ro({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Wv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class hh extends hr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new hh(e,n,s,o)}}function o0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(r,u,e,s):u})}async function F2(r,e,n=!1){const s=await Fl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ro._forOperation(r,"link",s)}async function G2(r,e,n=!1){const{auth:s}=r;if(Wn(s.app))return Promise.reject(Fs(s));const o="reauthenticate";try{const u=await Fl(r,o0(s,o,e,r),n);_e(u.idToken,s,"internal-error");const f=fp(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(r.uid===m,s,"user-mismatch"),ro._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Vi(s,"user-mismatch"),u}}async function Q2(r,e,n=!1){if(Wn(r.app))return Promise.reject(Fs(r));const s="signIn",o=await o0(r,s,e),u=await ro._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function K2(r,e,n,s){return zt(r).onIdTokenChanged(e,n,s)}function Y2(r,e,n){return zt(r).beforeAuthStateChanged(e,n)}function X2(r,e,n,s){return zt(r).onAuthStateChanged(e,n,s)}function $2(r){return zt(r).signOut()}const fh="__sak";class l0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const J2=1e3,Z2=10;class u0 extends l0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);I2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Z2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},J2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}u0.type="LOCAL";const W2=u0;class c0 extends l0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}c0.type="SESSION";const h0=c0;function eC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Vh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await eC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];function gp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class tC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=gp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ii(){return window}function nC(r){Ii().location.href=r}function f0(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function iC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rC(){return navigator?.serviceWorker?.controller||null}function sC(){return f0()?self:null}const d0="firebaseLocalStorageDb",aC=1,dh="firebaseLocalStorage",m0="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(r,e){return r.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function oC(){const r=indexedDB.deleteDatabase(d0);return new ru(r).toPromise()}function Om(){const r=indexedDB.open(d0,aC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(dh,{keyPath:m0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(dh)?e(s):(s.close(),await oC(),e(await Om()))})})}async function eE(r,e,n){const s=kh(r,!0).put({[m0]:e,value:n});return new ru(s).toPromise()}async function lC(r,e){const n=kh(r,!1).get(e),s=await new ru(n).toPromise();return s===void 0?null:s.value}function tE(r,e){const n=kh(r,!0).delete(e);return new ru(n).toPromise()}const uC=800,cC=3;class p0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>cC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(sC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iC(),!this.activeServiceWorker)return;this.sender=new tC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await eE(e,fh,"1"),await tE(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>eE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>lC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=kh(o,!1).getAll();return new ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p0.type="LOCAL";const hC=p0;new nu(3e4,6e4);function g0(r,e){return e?ir(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class yp extends a0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fC(r){return Q2(r.auth,new yp(r),r.bypassAuthState)}function dC(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),G2(n,new yp(r),r.bypassAuthState)}async function mC(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),F2(n,new yp(r),r.bypassAuthState)}class y0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fC;case"linkViaPopup":case"linkViaRedirect":return mC;case"reauthViaPopup":case"reauthViaRedirect":return dC;default:Vi(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pC=new nu(2e3,1e4);async function gC(r,e,n){if(Wn(r.app))return Promise.reject(ti(r,"operation-not-supported-in-this-environment"));const s=Mh(r);c2(r,e,pp);const o=g0(s,n);return new qs(s,"signInViaPopup",e,o).executeNotNull()}class qs extends y0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pC.get())};e()}}qs.currentPopupAction=null;const yC="pendingRedirect",Jc=new Map;class _C extends y0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const s=await vC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vC(r,e){const n=bC(e),s=TC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function EC(r,e){Jc.set(r._key(),e)}function TC(r){return ir(r._redirectPersistence)}function bC(r){return $c(yC,r.config.apiKey,r.name)}async function SC(r,e,n=!1){if(Wn(r.app))return Promise.reject(Fs(r));const s=Mh(r),o=g0(s,e),f=await new _C(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const AC=600*1e3;class wC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ti(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AC&&this.cachedEventUids.clear(),this.cachedEventUids.has(nE(e))}saveEventToCache(e){this.cachedEventUids.add(nE(e)),this.lastProcessedEventTime=Date.now()}}function nE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function _0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function RC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _0(r);default:return!1}}async function CC(r,e={}){return yo(r,"GET","/v1/projects",e)}const IC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NC=/^https?/;async function DC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await CC(r);for(const n of e)try{if(xC(n))return}catch{}Vi(r,"unauthorized-domain")}function xC(r){const e=Dm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!NC.test(n))return!1;if(IC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const OC=new nu(3e4,6e4);function iE(){const r=Ii().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function MC(r){return new Promise((e,n)=>{function s(){iE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iE(),n(ti(r,"network-request-failed"))},timeout:OC.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=P2("iframefcb");return Ii()[o]=()=>{gapi.load?s():n(ti(r,"network-request-failed"))},k2(`${L2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function VC(r){return Zc=Zc||MC(r),Zc}const kC=new nu(5e3,15e3),LC="__/auth/iframe",PC="emulator/auth/iframe",UC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jC(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?cp(e,PC):`https://${r.config.authDomain}/${LC}`,s={apiKey:e.apiKey,appName:r.name,v:go},o=zC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${tu(s).slice(1)}`}async function BC(r){const e=await VC(r),n=Ii().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:jC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ti(r,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},kC.get());function p(){Ii().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const qC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HC=500,FC=600,GC="_blank",QC="http://localhost";class rE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KC(r,e,n,s=HC,o=FC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...qC,width:s.toString(),height:o.toString(),top:u,left:f},y=en().toLowerCase();n&&(m=ZT(y)?GC:n),$T(y)&&(e=e||QC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[k,Q])=>`${A}${k}=${Q},`,"");if(C2(y)&&m!=="_self")return YC(e||"",m),new rE(null);const T=window.open(e||"",m,E);_e(T,r,"popup-blocked");try{T.focus()}catch{}return new rE(T)}function YC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const XC="__/auth/handler",$C="emulator/auth/handler",JC=encodeURIComponent("fac");async function sE(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:go,eventId:o};if(e instanceof pp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",$w(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof iu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${JC}=${encodeURIComponent(p)}`:"";return`${ZC(r)}?${tu(m).slice(1)}${y}`}function ZC({config:r}){return r.emulator?cp(r,$C):`https://${r.authDomain}/${XC}`}const pm="webStorageSupport";class WC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h0,this._completeRedirectFn=SC,this._overrideRedirectResult=EC}async _openPopup(e,n,s,o){or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await sE(e,n,s,Dm(),o);return KC(e,u,gp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await sE(e,n,s,Dm(),o);return nC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await BC(e),s=new wC(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pm,{type:pm},o=>{const u=o?.[0]?.[pm];u!==void 0&&n(!!u),Vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return i0()||JT()||dp()}}const eI=WC;var aE="@firebase/auth",oE="1.11.1";class tI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iI(r){io(new Xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r0(r)},y=new M2(s,o,u,p);return z2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),io(new Xs("auth-internal",e=>{const n=Mh(e.getProvider("auth").getImmediate());return(s=>new tI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(aE,oE,nI(r)),Wr(aE,oE,"esm2020")}const rI=300,sI=VT("authIdTokenMaxAge")||rI;let lE=null;const aI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sI)return;const o=n?.token;lE!==o&&(lE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function oI(r=jT()){const e=op(r,"auth");if(e.isInitialized())return e.getImmediate();const n=U2(r,{popupRedirectResolver:eI,persistence:[hC,W2,h0]}),s=VT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=aI(u.toString());Y2(n,f,()=>f(n.currentUser)),K2(n,m=>f(m))}}const o=OT("auth");return o&&j2(n,`http://${o}`),n}function lI(){return document.getElementsByTagName("head")?.[0]??document}V2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ti("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",lI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iI("Browser");var uI="firebase",cI="12.6.0";Wr(uI,cI,"app");var uE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var es,v0;(function(){var r;function e(N,w){function R(){}R.prototype=w.prototype,N.F=w.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(M,D,P){for(var C=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)C[rt-2]=arguments[rt];return w.prototype[D].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)M[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=N.g[0],R=N.g[1],D=N.g[2];let P=N.g[3],C;C=w+(P^R&(D^P))+M[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(D^w&(R^D))+M[1]+3905402710&4294967295,P=w+(C<<12&4294967295|C>>>20),C=D+(R^P&(w^R))+M[2]+606105819&4294967295,D=P+(C<<17&4294967295|C>>>15),C=R+(w^D&(P^w))+M[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(P^R&(D^P))+M[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(D^w&(R^D))+M[5]+1200080426&4294967295,P=w+(C<<12&4294967295|C>>>20),C=D+(R^P&(w^R))+M[6]+2821735955&4294967295,D=P+(C<<17&4294967295|C>>>15),C=R+(w^D&(P^w))+M[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(P^R&(D^P))+M[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(D^w&(R^D))+M[9]+2336552879&4294967295,P=w+(C<<12&4294967295|C>>>20),C=D+(R^P&(w^R))+M[10]+4294925233&4294967295,D=P+(C<<17&4294967295|C>>>15),C=R+(w^D&(P^w))+M[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(P^R&(D^P))+M[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=P+(D^w&(R^D))+M[13]+4254626195&4294967295,P=w+(C<<12&4294967295|C>>>20),C=D+(R^P&(w^R))+M[14]+2792965006&4294967295,D=P+(C<<17&4294967295|C>>>15),C=R+(w^D&(P^w))+M[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(D^P&(R^D))+M[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^D&(w^R))+M[6]+3225465664&4294967295,P=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(P^w))+M[11]+643717713&4294967295,D=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(D^P))+M[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^P&(R^D))+M[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^D&(w^R))+M[10]+38016083&4294967295,P=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(P^w))+M[15]+3634488961&4294967295,D=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(D^P))+M[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^P&(R^D))+M[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^D&(w^R))+M[14]+3275163606&4294967295,P=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(P^w))+M[3]+4107603335&4294967295,D=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(D^P))+M[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^P&(R^D))+M[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=P+(R^D&(w^R))+M[2]+4243563512&4294967295,P=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(P^w))+M[7]+1735328473&4294967295,D=P+(C<<14&4294967295|C>>>18),C=R+(P^w&(D^P))+M[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(R^D^P)+M[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^D)+M[8]+2272392833&4294967295,P=w+(C<<11&4294967295|C>>>21),C=D+(P^w^R)+M[11]+1839030562&4294967295,D=P+(C<<16&4294967295|C>>>16),C=R+(D^P^w)+M[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^P)+M[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^D)+M[4]+1272893353&4294967295,P=w+(C<<11&4294967295|C>>>21),C=D+(P^w^R)+M[7]+4139469664&4294967295,D=P+(C<<16&4294967295|C>>>16),C=R+(D^P^w)+M[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^P)+M[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^D)+M[0]+3936430074&4294967295,P=w+(C<<11&4294967295|C>>>21),C=D+(P^w^R)+M[3]+3572445317&4294967295,D=P+(C<<16&4294967295|C>>>16),C=R+(D^P^w)+M[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^P)+M[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=P+(w^R^D)+M[12]+3873151461&4294967295,P=w+(C<<11&4294967295|C>>>21),C=D+(P^w^R)+M[15]+530742520&4294967295,D=P+(C<<16&4294967295|C>>>16),C=R+(D^P^w)+M[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(D^(R|~P))+M[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~D))+M[7]+1126891415&4294967295,P=w+(C<<10&4294967295|C>>>22),C=D+(w^(P|~R))+M[14]+2878612391&4294967295,D=P+(C<<15&4294967295|C>>>17),C=R+(P^(D|~w))+M[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~P))+M[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~D))+M[3]+2399980690&4294967295,P=w+(C<<10&4294967295|C>>>22),C=D+(w^(P|~R))+M[10]+4293915773&4294967295,D=P+(C<<15&4294967295|C>>>17),C=R+(P^(D|~w))+M[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~P))+M[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~D))+M[15]+4264355552&4294967295,P=w+(C<<10&4294967295|C>>>22),C=D+(w^(P|~R))+M[6]+2734768916&4294967295,D=P+(C<<15&4294967295|C>>>17),C=R+(P^(D|~w))+M[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~P))+M[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=P+(R^(w|~D))+M[11]+3174756917&4294967295,P=w+(C<<10&4294967295|C>>>22),C=D+(w^(P|~R))+M[2]+718787259&4294967295,D=P+(C<<15&4294967295|C>>>17),C=R+(P^(D|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+P&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const R=w-this.blockSize,M=this.C;let D=this.h,P=0;for(;P<w;){if(D==0)for(;P<=R;)o(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<w;)if(M[D++]=N.charCodeAt(P++),D==this.blockSize){o(this,M),D=0;break}}else for(;P<w;)if(M[D++]=N[P++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)N[w++]=this.g[R]>>>M&255;return N};function u(N,w){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=w(N)}function f(N,w){this.h=w;const R=[];let M=!0;for(let D=N.length-1;D>=0;D--){const P=N[D]|0;M&&P==w||(R[D]=P,M=!1)}this.g=R}var m={};function p(N){return-128<=N&&N<128?u(N,function(w){return new f([w|0],w<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return H(y(-N));const w=[];let R=1;for(let M=0;N>=R;M++)w[M]=N/R|0,R*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return H(E(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let M=T;for(let P=0;P<N.length;P+=8){var D=Math.min(8,N.length-P);const C=parseInt(N.substring(P,P+D),w);D<8?(D=y(Math.pow(w,D)),M=M.j(D).add(y(C))):(M=M.j(R),M=M.add(y(C)))}return M}var T=p(0),A=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(J(this))return-H(this).m();let N=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Q(this))return"0";if(J(this))return"-"+H(this).toString(N);const w=y(Math.pow(N,6));var R=this;let M="";for(;;){const D=ge(R,w).g;R=ne(R,D.j(w));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,Q(R))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Q(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function J(N){return N.h==-1}r.l=function(N){return N=ne(this,N),J(N)?-1:Q(N)?0:1};function H(N){const w=N.g.length,R=[];for(let M=0;M<w;M++)R[M]=~N.g[M];return new f(R,~N.h).add(A)}r.abs=function(){return J(this)?H(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),R=[];let M=0;for(let D=0;D<=w;D++){let P=M+(this.i(D)&65535)+(N.i(D)&65535),C=(P>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=C>>>16,P&=65535,C&=65535,R[D]=C<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ne(N,w){return N.add(H(w))}r.j=function(N){if(Q(this)||Q(N))return T;if(J(this))return J(N)?H(this).j(H(N)):H(H(this).j(N));if(J(N))return H(this.j(H(N)));if(this.l(k)<0&&N.l(k)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const P=this.i(M)>>>16,C=this.i(M)&65535,rt=N.i(D)>>>16,Dt=N.i(D)&65535;R[2*M+2*D]+=C*Dt,ie(R,2*M+2*D),R[2*M+2*D+1]+=P*Dt,ie(R,2*M+2*D+1),R[2*M+2*D+1]+=C*rt,ie(R,2*M+2*D+1),R[2*M+2*D+2]+=P*rt,ie(R,2*M+2*D+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new f(R,0)};function ie(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function te(N,w){this.g=N,this.h=w}function ge(N,w){if(Q(w))throw Error("division by zero");if(Q(N))return new te(T,T);if(J(N))return w=ge(H(N),w),new te(H(w.g),H(w.h));if(J(w))return w=ge(N,H(w)),new te(H(w.g),w.h);if(N.g.length>30){if(J(N)||J(w))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=w;M.l(N)<=0;)R=Te(R),M=Te(M);var D=be(R,1),P=be(M,1);for(M=be(M,2),R=be(R,2);!Q(M);){var C=P.add(M);C.l(N)<=0&&(D=D.add(R),P=C),M=be(M,1),R=be(R,1)}return w=ne(N,D.j(w)),new te(D,w)}for(D=T;N.l(w)>=0;){for(R=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=y(R),C=P.j(w);J(C)||C.l(N)>0;)R-=M,P=y(R),C=P.j(w);Q(P)&&(P=A),D=D.add(P),N=ne(N,C)}return new te(D,N)}r.B=function(N){return ge(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&N.i(M);return new f(R,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|N.i(M);return new f(R,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^N.i(M);return new f(R,this.h^N.h)};function Te(N){const w=N.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(R,N.h)}function be(N,w){const R=w>>5;w%=32;const M=N.g.length-R,D=[];for(let P=0;P<M;P++)D[P]=w>0?N.i(P+R)>>>w|N.i(P+R+1)<<32-w:N.i(P+R);return new f(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,v0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,es=f}).apply(typeof uE<"u"?uE:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var E0,xl,T0,Wc,Mm,b0,S0,A0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break e;v=v[U]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],S;for(S in g)Object.prototype.hasOwnProperty.call(g,S)&&v.push([S,g[S]]);return v}});var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,U,F){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return g.prototype[U].apply(S,re)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const g=c.length;if(g>0){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function Q(c,g){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const F=U.length||0;c.length=v+F;for(let re=0;re<F;re++)c[v+re]=U[re]}else c.push(U)}}class J{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=N;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ie{constructor(){this.h=this.g=null}add(g,v){const S=te.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new J(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,be=!1,N=new ie,w=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(R)}};function R(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){H(v)}var g=te;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}be=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,g),f.removeEventListener("test",v,g)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function rt(c,g){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(rt,D),rt.prototype.init=function(c,g){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(c,g,v,S,U){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=U,this.key=++Y,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function Ge(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function O(c){const g={};for(const v in c)g[v]=c[v];return g}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,g){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let F=0;F<Z.length;F++)v=Z[F],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,g,v,S,U){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const re=Ce(c,g,S,U);return re>-1?(g=c[re],v||(g.fa=!1)):(g=new se(g,this.src,F,!!S,U),g.fa=v,c.push(g)),g};function ve(c,g){const v=g.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,g,void 0),F;(F=U>=0)&&Array.prototype.splice.call(S,U,1),F&&(me(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,g,v,S){for(let U=0;U<c.length;++U){const F=c[U];if(!F.da&&F.listener==g&&F.capture==!!v&&F.ha==S)return U}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),xt={};function st(c,g,v,S,U){if(Array.isArray(g)){for(let F=0;F<g.length;F++)st(c,g[F],v,S,U);return null}return v=Ro(v),c&&c[Dt]?c.J(g,v,m(S)?!!S.capture:!1,U):cs(c,g,v,!1,S,U)}function cs(c,g,v,S,U,F){if(!g)throw Error("Invalid event type");const re=m(U)?!!U.capture:!!U;let we=hs(c);if(we||(c[Pe]=we=new ue(c)),v=we.add(g,v,S,re,F),v.proxy)return v;if(S=ia(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)P||(U=re),U===void 0&&(U=!1),c.addEventListener(g.toString(),S,U);else if(c.attachEvent)c.attachEvent(ri(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ia(){function c(v){return g.call(c.src,c.listener,v)}const g=Ao;return c}function ra(c,g,v,S,U){if(Array.isArray(g))for(var F=0;F<g.length;F++)ra(c,g[F],v,S,U);else S=m(S)?!!S.capture:!!S,v=Ro(v),c&&c[Dt]?(c=c.i,F=String(g).toString(),F in c.g&&(g=c.g[F],v=Ce(g,v,S,U),v>-1&&(me(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[F],c.h--)))):c&&(c=hs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ce(g,v,S,U)),(v=c>-1?g[c]:null)&&sa(v))}function sa(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Dt])ve(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(ri(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=hs(g))?(ve(v,c),v.h==0&&(v.src=null,g[Pe]=null)):me(c)}}}function ri(c){return c in xt?xt[c]:xt[c]="on"+c}function Ao(c,g){if(c.da)c=!0;else{g=new rt(g,this);const v=c.listener,S=c.ha||c.src;c.fa&&sa(c),c=v.call(S,g)}return c}function hs(c){return c=c[Pe],c instanceof ue?c:null}var wo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ro(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(g){return c.handleEvent(g)}),c[wo])}function _t(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}T(_t,M),_t.prototype[Dt]=!0,_t.prototype.removeEventListener=function(c,g,v,S){ra(this,c,g,v,S)};function Ot(c,g){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new D(g,c);else if(g instanceof D)g.target=g.target||c;else{var U=g;g=new D(S,c),ae(g,U)}U=!0;let F,re;if(v)for(re=v.length-1;re>=0;re--)F=g.g=v[re],U=dr(F,S,!0,g)&&U;if(F=g.g=c,U=dr(F,S,!0,g)&&U,U=dr(F,S,!1,g)&&U,v)for(re=0;re<v.length;re++)F=g.g=v[re],U=dr(F,S,!1,g)&&U}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let S=0;S<v.length;S++)me(v[S]);delete c.g[g],c.h--}}this.G=null},_t.prototype.J=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},_t.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function dr(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let F=0;F<g.length;++F){const re=g[F];if(re&&!re.da&&re.capture==v){const we=re.listener,dt=re.ha||re.src;re.fa&&ve(c.i,re),U=we.call(dt,S)!==!1&&U}}return U&&!S.defaultPrevented}function nf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function hu(c){c.g=nf(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class tn extends M{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){M.call(this),this.h=c,this.g={}}T(fs,M);var Co=[];function Io(c){ze(c.g,function(g,v){this.g.hasOwnProperty(v)&&sa(g)},c),c.g={}}fs.prototype.N=function(){fs.Z.N.call(this),Io(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mr=f.JSON.stringify,rf=f.JSON.parse,fu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function du(){}function mu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){D.call(this,"d")}T(jt,D);function An(){D.call(this,"c")}T(An,D);var ft={},pu=null;function aa(){return pu=pu||new _t}ft.Ia="serverreachability";function gu(c){D.call(this,ft.Ia,c)}T(gu,D);function si(c){const g=aa();Ot(g,new gu(g))}ft.STAT_EVENT="statevent";function ds(c,g){D.call(this,ft.STAT_EVENT,c),this.stat=g}T(ds,D);function vt(c){const g=aa();Ot(g,new ds(g,c))}ft.Ja="timingevent";function ai(c,g){D.call(this,ft.Ja,c),this.size=g}T(ai,D);function oi(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function sf(c,g,v,S,U,F){c.info(function(){if(c.g)if(F){var re="",we=F.split("&");for(let qe=0;qe<we.length;qe++){var dt=we[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const In=at.split("_");re=In.length>=2&&In[1]=="type"?re+(at+"="+dt+"&"):re+(at+"=redacted&")}}}else re=null;else re=F;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+v+`
`+re})}function yu(c,g,v,S,U,F,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+v+`
`+F+" "+re})}function li(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+af(c,v)+(S?" "+S:"")})}function ms(c,g){c.info(function(){return"TIMEOUT: "+g})}qn.prototype.info=function(){};function af(c,g){if(!c.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return mr(F)}catch{return g}}var ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function gs(){}T(gs,du),gs.prototype.g=function(){return new XMLHttpRequest},Do=new gs;function Li(c){return encodeURIComponent(String(c))}function _u(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Hn(c,g,v,S){this.j=c,this.i=g,this.l=v,this.S=S||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Et={},kt={};function ui(c,g,v){c.M=1,c.A=ys(bt(g)),c.u=v,c.R=!0,oa(c,null)}function oa(c,g){c.F=Date.now(),ci(c),c.B=bt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ha(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Fn,c.g=Mu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Co[0]=U.toString()),U=Co);for(let F=0;F<U.length;F++){const re=st(v,U[F],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),si(),sf(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Kn(c)==3?g.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Kn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||we!=4||dt==7||(dt==8||qe<=0?si(3):si(2)),hi(this);var g=this.g.ca();this.X=g;var v=of(this);if(this.o=g==200,yu(this.i,this.v,this.B,this.l,this.S,we,g),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var F=S;break t}}F=null}if(c=F)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,vt(12),mn(this),wn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Eu(this,v),at==kt){we==4&&(this.m=4,vt(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Et){this.m=4,vt(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,at,null),fi(this,at);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(re),re.P=!0,vt(11))}}else li(this.i,this.l,v,null),fi(this,v);we==4&&mn(this),this.o&&!this.K&&(we==4?Nu(this.j,this):(this.o=!1,ci(this)))}else Ui(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),mn(this),wn(this)}}}catch{}finally{}};function of(c){if(!vu(c))return c.g.la();const g=Bt(c.g);if(g==="")return"";let v="";const S=g.length,U=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),wn(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<S;F++)c.h.h=!0,v+=c.h.i.decode(g[F],{stream:!(U&&F==S-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Eu(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?kt:(v=Number(g.substring(v,S)),isNaN(v)?Et:(S+=1,S+v>g.length?kt:(g=g.slice(S,S+v),c.C=S+v,g)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function ci(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(y(c.aa,c),g)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ms(this.i,this.B),this.M!=2&&(si(),vt(17)),mn(this),this.m=2,wn(this)):la(this,this.T-c)};function wn(c){c.j.I==0||c.K||Nu(c.j,c)}function mn(c){hi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Io(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function fi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ga(v),br(v);else break e;As(v),vt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&ga(v),!C(g))for(U=v.Ba.g.parse(g),g=0;g<U.length;g++){let qe=U[g];const at=qe[0];if(!(at<=v.K))if(v.K=at,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const In=qe[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Ti=qe[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const Yn=qe[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(S=1.5*Yn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Xn=c.g;if(Xn){const ws=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var F=S.h;F.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Mo(F,F.h),F.h=null))}if(S.G){const ya=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(S.wa=ya,Qe(S.J,S.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=c;if(S.na=Ou(S,S.L?S.ba:null,S.W),re.L){Vo(S.h,re);var we=re,dt=S.O;dt&&(we.H=dt),we.D&&(hi(we),ci(we)),S.g=re}else Cu(S);v.i.length>0&&vi(v)}else qe[0]!="stop"&&qe[0]!="close"||Ei(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ei(v,7):Ho(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}si(4)}catch{}}var Tt=class{constructor(c,g){this.g=c,this.map=g}};function xo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Oo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Mo(c,g){c.g?c.g.add(g):c.h=g}function Vo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}xo.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return k(c.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let U,F=null;S>=0?(U=c[v].substring(0,S),F=c[v].substring(S+1)):U=c[v],g(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof pn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,pr(this,c.u),this.h=c.h,Lo(this,wu(c.i)),this.m=c.m):c&&(g=String(c).match(Tu))?(this.l=!1,Lt(this,g[1]||"",!0),this.o=pi(g[2]||""),this.g=pi(g[3]||"",!0),pr(this,g[4]),this.h=pi(g[5]||"",!0),Lo(this,g[6]||"",!0),this.m=pi(g[7]||"")):(this.l=!1,this.i=new yr(null,this.l))}pn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(_s(g,ca,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(_s(g,ca,!0),"@"),c.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_s(v,v.charAt(0)=="/"?Po:bu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_s(v,Su)),c.join("")},pn.prototype.resolve=function(c){const g=bt(this);let v=!!c.j;v?Lt(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var S=c.h;if(v)pr(g,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=g.h.lastIndexOf("/");U!=-1&&(S=g.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let re=0;re<U.length;){const we=U[re++];we=="."?S&&re==U.length&&F.push(""):we==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&re==U.length&&F.push("")):(F.push(we),S=!0)}S=F.join("/")}else S=U}return v?g.h=S:v=c.i.toString()!=="",v?Lo(g,wu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function bt(c){return new pn(c)}function Lt(c,g,v){c.j=v?pi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function pr(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Lo(c,g,v){g instanceof yr?(c.i=g,fa(c.i,c.l)):(v||(g=_s(g,gr)),c.i=new yr(g,c.l))}function Qe(c,g,v){c.i.set(g,v)}function ys(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,bu=/[#\?:]/g,Po=/[#\?]/g,gr=/[#\?@]/g,Su=/#/g;function yr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=yr.prototype,r.add=function(c,g){an(this),this.i=null,c=_r(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Au(c,g){an(c),g=_r(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Uo(c,g){return an(c),g=_r(c,g),c.g.has(g)}r.forEach=function(c,g){an(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(g,U,S,this)},this)},this)};function zo(c,g){an(c);let v=[];if(typeof g=="string")Uo(c,g)&&(v=v.concat(c.g.get(_r(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}r.set=function(c,g){return an(this),this.i=null,c=_r(this,c),Uo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=zo(this,c),c.length>0?String(c[0]):g):g};function ha(c,g,v){Au(c,g),v.length>0&&(c.i=null,c.g.set(_r(c,g),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let S=0;S<g.length;S++){var v=g[S];const U=Li(v);v=zo(this,v);for(let F=0;F<v.length;F++){let re=U;v[F]!==""&&(re+="="+Li(v[F])),c.push(re)}}return this.i=c.join("&")};function wu(c){const g=new yr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function _r(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function fa(c,g){g&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(Au(this,S),ha(this,U,v))},c)),c.j=g}function Gn(c,g){const v=new qn;if(f.Image){const S=new Image;S.onload=E(Rn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=E(Rn,v,"TestLoadImage: error",!1,g,S),S.onabort=E(Rn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=E(Rn,v,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function jo(c,g){const v=new qn,S=new AbortController,U=setTimeout(()=>{S.abort(),Rn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(U),F.ok?Rn(v,"TestPingServer: ok",!0,g):Rn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Rn(v,"TestPingServer: error",!1,g)})}function Rn(c,g,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function vr(){this.g=new fu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(gi,du),gi.prototype.g=function(){return new vs(this.i,this.h)};function vs(c,g){_t.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(vs,_t),r=vs.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Er(this):Qn(this),this.readyState==3&&da(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Er(this))},r.Na=function(c){this.g&&(this.response=c,Er(this))},r.ga=function(){this.g&&Er(this)};function Er(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let g="";return ze(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Es(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Cn(v),typeof c=="string"?v!=null&&Li(v):Qe(c,g,v))}function Xe(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xe,_t);var yi=/^https?$/i,Bo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=A(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){Ts(this,F);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())v.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Bo,g,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of v)this.g.setRequestHeader(F,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Ts(this,F)}};function Ts(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,qo(c),Pi(c)}function qo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?bs(this):this.Xa())},r.Xa=function(){bs(this)};function bs(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=F===0){let re=String(c.D).match(Tu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),S=!yi.test(re?re.toLowerCase():"")}v=S}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var U=Kn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",qo(c)}}finally{Pi(c)}}}}function Pi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),rf(g)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(c){const g={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var v=_u(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=g[U]||[];g[U]=F,F.push(v)}Ge(g,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Tr(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(c&&c.concurrentRequestLimit),this.Ba=new vr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Tr.prototype,r.ka=8,r.I=1,r.connect=function(c,g,v,S){vt(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Ou(this,null,this.W),vi(this)};function Ho(c){if(ma(c),c.I==3){var g=c.V++,v=bt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",g),Qe(v,"TYPE","terminate"),Ss(c,v),g=new Hn(c,c.j,g),g.M=2,g.A=ys(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=g.A,v=!0),v||(g.g=Mu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ci(g)}xu(c)}function br(c){c.g&&(Go(c),c.g.cancel(),c.g=null)}function ma(c){br(c),c.v&&(f.clearTimeout(c.v),c.v=null),ga(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!Oo(c.h)&&!c.m){c.m=!0;var g=c.Ea;Te||w(),be||(Te(),be=!0),N.add(g,c),c.D=0}}function pa(c,g){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(y(c.Ea,c,g),Du(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Hn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=O(F),ae(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Ru(this,U,g),v=bt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Ss(this,v),F&&(this.R?g="headers="+Li(Cn(F))+"&"+g:this.u&&Es(v,this.u,F)),Mo(this.h,U),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",g),Qe(v,"SID","null"),U.U=!0,ui(U,v,null)):ui(U,v,g),this.I=2}}else this.I==3&&(c?Fo(this,c):this.i.length==0||Oo(this.h)||Fo(this))};function Fo(c,g){var v;g?v=g.l:v=c.V++;const S=bt(c.J);Qe(S,"SID",c.M),Qe(S,"RID",v),Qe(S,"AID",c.K),Ss(c,S),c.u&&c.o&&Es(S,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Ru(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Mo(c.h,v),ui(v,S,g)}function Ss(c,g){c.H&&ze(c.H,function(v,S){Qe(g,S,v)}),c.l&&ze({},function(v,S){Qe(g,S,v)})}function Ru(c,g,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var U=c.i;let we=-1;for(;;){const dt=["count="+v];we==-1?v>0?(we=U[0].g,dt.push("ofs="+we)):we=0:dt.push("ofs="+we);let qe=!0;for(let at=0;at<v;at++){var F=U[at].g;const In=U[at].map;if(F-=we,F<0)we=Math.max(0,U[at].g-100),qe=!1;else try{F="req"+F+"_"||"";try{var re=In instanceof Map?In:Object.entries(In);for(const[Ti,Yn]of re){let Xn=Yn;m(Yn)&&(Xn=mr(Yn)),dt.push(F+Ti+"="+encodeURIComponent(Xn))}}catch(Ti){throw dt.push(F+"type="+encodeURIComponent("_badmap")),Ti}}catch{S&&S(In)}}if(qe){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),g.G=c,re}function Cu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;Te||w(),be||(Te(),be=!0),N.add(g,c),c.A=0}}function As(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(y(c.Da,c),Du(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),br(this),Iu(this))};function Go(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Iu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=bt(c.na);Qe(g,"RID","rpc"),Qe(g,"SID",c.M),Qe(g,"AID",c.K),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(g,"TO",c.ia),Qe(g,"TYPE","xmlhttp"),Ss(c,g),c.u&&c.o&&Es(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ys(bt(g)),v.u=null,v.R=!0,oa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,br(this),As(this),vt(19))};function ga(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Nu(c,g){var v=null;if(c.g==g){ga(c),Go(c),c.g=null;var S=2}else if(mi(c.h,g))v=g.G,Vo(c.h,g),S=1;else return;if(c.I!=0){if(g.o)if(S==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var U=c.D;S=aa(),Ot(S,new ai(S,v)),vi(c)}else Cu(c);else if(U=g.m,U==3||U==0&&g.X>0||!(S==1&&pa(c,g)||S==2&&As(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),U){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Du(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function Ei(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),S=c.Ua;const U=!S;S=new pn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(S,"https"),ys(S),U?Gn(S.toString(),v):jo(S.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(g),xu(c),ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function xu(c){if(c.I=0,c.ja=[],c.l){const g=ko(c.h);(g.length!=0||c.i.length!=0)&&(Q(c.ja,g),Q(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Ou(c,g,v){var S=v instanceof pn?bt(v):new pn(v);if(S.g!="")g&&(S.g=g+"."+S.g),pr(S,S.u);else{var U=f.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const F=new pn(null);S&&Lt(F,S),g&&(F.g=g),U&&pr(F,U),v&&(F.h=v),S=F}return v=c.G,g=c.wa,v&&g&&Qe(S,v,g),Qe(S,"VER",c.ka),Ss(c,S),S}function Mu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Xe(new gi({ab:v})):new Xe(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sr(){}Sr.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){_t.call(this),this.g=new Tr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!C(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new zi(this)}T(nn,_t),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ho(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=mr(c),c=v);g.i.push(new Tt(g.Ya++,c)),g.I==3&&vi(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,nn.Z.N.call(this)};function ku(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(ku,jt);function Lu(){An.call(this),this.status=1}T(Lu,An);function zi(c){this.g=c}T(zi,Vu),zi.prototype.ra=function(){Ot(this.g,"a")},zi.prototype.qa=function(c){Ot(this.g,new ku(c))},zi.prototype.pa=function(c){Ot(this.g,new Lu)},zi.prototype.oa=function(){Ot(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,A0=function(){return new Sr},S0=function(){return aa()},b0=ft,Mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Wc=ps,No.COMPLETE="complete",T0=No,mu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,xl=mu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,E0=Xe}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const cE="@firebase/firestore",hE="4.9.2";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let _o="12.3.0";const Js=new sp("@firebase/firestore");function Ya(){return Js.logLevel}function le(r,...e){if(Js.logLevel<=Me.DEBUG){const n=e.map(_p);Js.debug(`Firestore (${_o}): ${r}`,...n)}}function lr(r,...e){if(Js.logLevel<=Me.ERROR){const n=e.map(_p);Js.error(`Firestore (${_o}): ${r}`,...n)}}function so(r,...e){if(Js.logLevel<=Me.WARN){const n=e.map(_p);Js.warn(`Firestore (${_o}): ${r}`,...n)}}function _p(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,w0(r,s,n)}function w0(r,e,n){let s=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||w0(e,o,s)}function Ae(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class R0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class fI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new R0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class mI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new mI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Vm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return gm(o)===gm(u)?Ve(o,u):gm(o)?1:-1}return Ve(r.length,e.length)}const _I=55296,vI=57343;function gm(r){const e=r.charCodeAt(0);return e>=_I&&e<=vI}function ao(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const dE="__name__";class Ri{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ri.isNumericId(e),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class et extends Ri{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const EI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ri{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return EI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dE}static keyField(){return new Kt([dE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(et.fromString(e))}static fromName(e){return new de(et.fromString(e).popFirst(5))}static empty(){return new de(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new et(e.slice()))}}function C0(r,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function TI(r,e,n,s){if(e===!0&&s===!0)throw new oe(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function mE(r){if(!de.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pE(r){if(de.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function I0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function Ni(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(r);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function su(r,e){if(!I0(r))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(W.INVALID_ARGUMENT,n);return!0}const gE=-62135596800,yE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*yE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gE)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Nt("string",it._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new it(0,0))}static max(){return new Ee(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gl=-1;function bI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new ns(o,de.empty(),e)}function SI(r){return new ns(r.readTime,r.key,Gl)}class ns{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ns(Ee.min(),de.empty(),Gl)}static max(){return new ns(Ee.max(),de.empty(),Gl)}}function AI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const wI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==wI)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function CI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;const Ep=-1;function Uh(r){return r==null}function mh(r){return r===0&&1/r==-1/0}function II(r){return typeof r=="number"&&Number.isInteger(r)&&!mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const N0="";function NI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=_E(e)),e=DI(r.get(n),e);return _E(e)}function DI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case N0:n+="";break;default:n+=u}}return n}function _E(r){return r+N0+""}function vE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ls(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function D0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EE(this.data.getIterator())}getIteratorFrom(e){return new EE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class EE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Vt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class x0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new x0("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const xI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=xI.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rs(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const O0="server_timestamp",M0="__type__",V0="__previous_value__",k0="__local_write_time__";function Tp(r){return(r?.mapValue?.fields||{})[M0]?.stringValue===O0}function zh(r){const e=r.mapValue.fields[V0];return Tp(e)?zh(e):e}function Ql(r){const e=is(r.mapValue.fields[k0].timestampValue);return new it(e.seconds,e.nanos)}class OI{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const ph="(default)";class Kl{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}const L0="__type__",MI="__max__",Fc={mapValue:{}},P0="__vector__",gh="value";function ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tp(r)?4:kI(r)?9007199254740991:VI(r)?10:11:ye(28295,{value:r})}function ki(r,e){if(r===e)return!0;const n=ss(r);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ql(r).isEqual(Ql(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=is(o.timestampValue),m=is(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return rs(o.bytesValue).isEqual(rs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ao(r.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(vE(f)!==vE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!ki(f[p],m[p])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Yl(r,e){return(r.values||[]).find((n=>ki(n,e)))!==void 0}function oo(r,e){if(r===e)return 0;const n=ss(r),s=ss(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return TE(r.timestampValue,e.timestampValue);case 4:return TE(Ql(r),Ql(e));case 5:return Vm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=rs(u),p=rs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ve(m[y],p[y]);if(E!==0)return E}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(gt(u.latitude),gt(f.latitude));return m!==0?m:Ve(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return bE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[gh]?.arrayValue,E=p[gh]?.arrayValue,T=Ve(y?.values?.length||0,E?.values?.length||0);return T!==0?T:bE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=Vm(p[T],E[T]);if(A!==0)return A;const k=oo(m[p[T]],y[E[T]]);if(k!==0)return k}return Ve(p.length,E.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function TE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=is(r),s=is(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function bE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function lo(r){return km(r)}function km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=is(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return rs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=km(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${km(n.fields[f])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function eh(r){switch(ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(r);return e?16+eh(e):16;case 5:return 2*r.stringValue.length;case 6:return rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ls(s.fields,((u,f)=>{o+=u.length+eh(f)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function SE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Lm(r){return!!r&&"integerValue"in r}function bp(r){return!!r&&"arrayValue"in r}function AE(r){return!!r&&"nullValue"in r}function wE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function VI(r){return(r?.mapValue?.fields||{})[L0]?.stringValue===P0}function Pl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ls(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Pl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(r.arrayValue.values[n]);return e}return{...r}}function kI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MI}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Pl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ls(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn(Pl(this.value))}}function U0(r){const e=[];return ls(r.fields,((n,s)=>{const o=new Kt([n]);if(th(s)){const u=U0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Sn(e)}class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ee.min(),Ee.min(),Ee.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Ee.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ee.min(),Ee.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ee.min(),Ee.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(e,n){this.position=e,this.inclusive=n}}function RE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(f.referenceValue),n.key):s=oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function CE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],e.position[n]))return!1;return!0}class Xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function LI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class z0{}class It extends z0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new UI(e,n,s):n==="array-contains"?new BI(e,s):n==="in"?new qI(e,s):n==="not-in"?new HI(e,s):n==="array-contains-any"?new FI(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new zI(e,s):new jI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends z0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ni(e,n)}matches(e){return j0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function j0(r){return r.op==="and"}function B0(r){return PI(r)&&j0(r)}function PI(r){for(const e of r.filters)if(e instanceof ni)return!1;return!0}function Pm(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(B0(r))return r.filters.map((e=>Pm(e))).join(",");{const e=r.filters.map((n=>Pm(n))).join(",");return`${r.op}(${e})`}}function q0(r,e){return r instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(r,e):r instanceof ni?(function(s,o){return o instanceof ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&q0(f,o.filters[m])),!0):!1})(r,e):void ye(19439)}function H0(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`})(r):r instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(H0).join(" ,")+"}"})(r):"Filter"}class UI extends It{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class zI extends It{constructor(e,n){super(e,"in",n),this.keys=F0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class jI extends It{constructor(e,n){super(e,"not-in",n),this.keys=F0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function F0(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class BI extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bp(n)&&Yl(n.arrayValue,this.value)}}class qI extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class HI extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class FI extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Yl(this.value.arrayValue,s)))}}class GI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function IE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new GI(r,e,n,s,o,u,f)}function Sp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Pm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>lo(s))).join(",")),e.Te=n}return e.Te}function Ap(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!LI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!q0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!CE(r.startAt,e.startAt)&&CE(r.endAt,e.endAt)}function Um(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class To{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QI(r,e,n,s,o,u,f,m){return new To(r,e,n,s,o,u,f,m)}function wp(r){return new To(r)}function NE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function G0(r){return r.collectionGroup!==null}function Ul(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Xl(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Xl(Kt.keyField(),s))}return e.Ie}function Di(r){const e=Ae(r);return e.Ee||(e.Ee=KI(e,Ul(r))),e.Ee}function KI(r,e){if(r.limitType==="F")return IE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Xl(o.field,u)}));const n=r.endAt?new yh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new yh(r.startAt.position,r.startAt.inclusive):null;return IE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function zm(r,e){const n=r.filters.concat([e]);return new To(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function jm(r,e,n){return new To(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function jh(r,e){return Ap(Di(r),Di(e))&&r.limitType===e.limitType}function Q0(r){return`${Sp(Di(r))}|lt:${r.limitType}`}function Xa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>H0(o))).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>lo(o))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Bh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Ul(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const y=RE(f,m,p);return f.inclusive?y<=0:y<0})(s.startAt,Ul(s),o)||s.endAt&&!(function(f,m,p){const y=RE(f,m,p);return f.inclusive?y>=0:y>0})(s.endAt,Ul(s),o))})(r,e)}function YI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function K0(r){return(e,n)=>{let s=!1;for(const o of Ul(r)){const u=XI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function XI(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?oo(p,y):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return D0(this.inner)}size(){return this.innerSize}}const $I=new ut(de.comparator);function ur(){return $I}const Y0=new ut(de.comparator);function Ol(...r){let e=Y0;for(const n of r)e=e.insert(n.key,n);return e}function X0(r){let e=Y0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Hs(){return zl()}function $0(){return zl()}function zl(){return new ea((r=>r.toString()),((r,e)=>r.isEqual(e)))}const JI=new ut(de.comparator),ZI=new Vt(de.comparator);function ke(...r){let e=ZI;for(const n of r)e=e.add(n);return e}const WI=new Vt(Ve);function eN(){return WI}function Rp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function J0(r){return{integerValue:""+r}}function tN(r,e){return II(e)?J0(e):Rp(r,e)}class qh{constructor(){this._=void 0}}function nN(r,e,n){return r instanceof _h?(function(o,u){const f={fields:{[M0]:{stringValue:O0},[k0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tp(u)&&(u=zh(u)),u&&(f.fields[V0]=u),{mapValue:f}})(n,e):r instanceof $l?W0(r,e):r instanceof Jl?eb(r,e):(function(o,u){const f=Z0(o,u),m=DE(f)+DE(o.Ae);return Lm(f)&&Lm(o.Ae)?J0(m):Rp(o.serializer,m)})(r,e)}function iN(r,e,n){return r instanceof $l?W0(r,e):r instanceof Jl?eb(r,e):n}function Z0(r,e){return r instanceof vh?(function(s){return Lm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class _h extends qh{}class $l extends qh{constructor(e){super(),this.elements=e}}function W0(r,e){const n=tb(e);for(const s of r.elements)n.some((o=>ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Jl extends qh{constructor(e){super(),this.elements=e}}function eb(r,e){let n=tb(e);for(const s of r.elements)n=n.filter((o=>!ki(o,s)));return{arrayValue:{values:n}}}class vh extends qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function DE(r){return gt(r.integerValue||r.doubleValue)}function tb(r){return bp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function rN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof $l&&o instanceof $l||s instanceof Jl&&o instanceof Jl?ao(s.elements,o.elements,ki):s instanceof vh&&o instanceof vh?ki(s.Ae,o.Ae):s instanceof _h&&o instanceof _h})(r.transform,e.transform)}class sN{constructor(e,n){this.version=e,this.transformResults=n}}class Un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hh{}function nb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Cp(r.key,Un.none()):new au(r.key,r.data,Un.none());{const n=r.data,s=dn.empty();let o=new Vt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new us(r.key,s,new Sn(o.toArray()),Un.none())}}function aN(r,e,n){r instanceof au?(function(o,u,f){const m=o.value.clone(),p=OE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof us?(function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=OE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ib(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function jl(r,e,n,s){return r instanceof au?(function(u,f,m,p){if(!nh(u.precondition,f))return m;const y=u.value.clone(),E=ME(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof us?(function(u,f,m,p){if(!nh(u.precondition,f))return m;const y=ME(u.fieldTransforms,p,f),E=f.data;return E.setAll(ib(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function oN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Z0(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function xE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,((u,f)=>rN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends Hh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends Hh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ib(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function OE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,iN(f,m,n[o]))}return s}function ME(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,nN(u,f,e))}return s}class Cp extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lN extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&aN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=$0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=nb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,((n,s)=>xE(n,s)))&&ao(this.baseMutations,e.baseMutations,((n,s)=>xE(n,s)))}}class Ip{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return JI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ip(e,n,s,o)}}class cN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Ue;function fN(r){switch(r){case W.OK:return ye(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function rb(r){if(r===void 0)return lr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ct.OK:return W.OK;case Ct.CANCELLED:return W.CANCELLED;case Ct.UNKNOWN:return W.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return W.INTERNAL;case Ct.UNAVAILABLE:return W.UNAVAILABLE;case Ct.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ct.NOT_FOUND:return W.NOT_FOUND;case Ct.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ct.ABORTED:return W.ABORTED;case Ct.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ct.DATA_LOSS:return W.DATA_LOSS;default:return ye(39323,{code:r})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function dN(){return new TextEncoder}const mN=new es([4294967295,4294967295],0);function VE(r){const e=dN().encode(r),n=new v0;return n.update(e),new Uint8Array(n.digest())}function kE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([o,u],0)]}class Np{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(s<0)throw new Ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=es.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(es.fromNumber(s)));return o.compare(mN)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VE(e),[s,o]=kE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Np(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=VE(e),[s,o]=kE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fh(Ee.min(),o,new ut(Ve),ur(),ke())}}class ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ou(s,n,ke(),ke(),ke())}}class ih{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class sb{constructor(e,n){this.targetId=e,this.Ce=n}}class ab{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class LE{constructor(){this.ve=0,this.Fe=PE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new ou(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=PE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pN{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.Je=Gc(),this.He=Gc(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Um(u))if(s===0){const f=new de(u.path);this.et(n,f,Wt.newNoDocument(f,Ee.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=rs(s).toUint8Array()}catch(p){if(p instanceof x0)return so("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Np(f,o,u)}catch(p){return so(p instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Um(m.target)){const p=new de(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Wt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Fh(e,n,this.Ye,this.je,s);return this.je=ur(),this.Je=Gc(),this.He=Gc(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new LE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new LE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new ut(de.comparator)}function PE(){return new ut(de.comparator)}const gN={asc:"ASCENDING",desc:"DESCENDING"},yN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_N={and:"AND",or:"OR"};class vN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bm(r,e){return r.useProto3Json||Uh(e)?e:{value:e}}function Eh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ob(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function EN(r,e){return Eh(r,e.toTimestamp())}function xi(r){return Fe(!!r,49232),Ee.fromTimestamp((function(n){const s=is(n);return new it(s.seconds,s.nanos)})(r))}function Dp(r,e){return qm(r,e).canonicalString()}function qm(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function lb(r){const e=et.fromString(r);return Fe(db(e),10190,{key:e.toString()}),e}function Hm(r,e){return Dp(r.databaseId,e.path)}function ym(r,e){const n=lb(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(cb(n))}function ub(r,e){return Dp(r.databaseId,e)}function TN(r){const e=lb(r);return e.length===4?et.emptyPath():cb(e)}function Fm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function cb(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function UE(r,e,n){return{name:Hm(r,e),fields:n.value.mapValue.fields}}function bN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:rb(y.code);return new oe(E,y.message||"")})(f);n=new ab(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ym(r,s.document.name),u=xi(s.document.updateTime),f=s.document.createTime?xi(s.document.createTime):Ee.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new ih(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ym(r,s.document),u=s.readTime?xi(s.readTime):Ee.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ym(r,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new hN(o,u),m=s.targetId;n=new sb(m,f)}}return n}function SN(r,e){let n;if(e instanceof au)n={update:UE(r,e.key,e.value)};else if(e instanceof Cp)n={delete:Hm(r,e.key)};else if(e instanceof us)n={update:UE(r,e.key,e.data),updateMask:ON(e.fieldMask)};else{if(!(e instanceof lN))return ye(16599,{Vt:e.type});n={verify:Hm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof _h)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:EN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function AN(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?xi(o.updateTime):xi(u);return f.isEqual(Ee.min())&&(f=xi(u)),new sN(f,o.transformResults||[])})(n,e)))):[]}function wN(r,e){return{documents:[ub(r,e.path)]}}function RN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ub(r,o);const u=(function(y){if(y.length!==0)return fb(ni.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(A){return{field:$a(A.field),direction:NN(A.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Bm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function CN(r){let e=TN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=hb(T);return A instanceof ni&&B0(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((A=>(function(Q){return new Xl(Ja(Q.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Uh(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,k=T.values||[];return new yh(k,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const A=!T.before,k=T.values||[];return new yh(k,A)})(n.endAt)),QI(e,o,f,u,m,"F",p,y)}function IN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(Ja(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((s=>hb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function NN(r){return gN[r]}function DN(r){return yN[r]}function xN(r){return _N[r]}function $a(r){return{fieldPath:r.canonicalString()}}function Ja(r){return Kt.fromServerFormat(r.fieldPath)}function fb(r){return r instanceof It?(function(n){if(n.op==="=="){if(wE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NAN"}};if(AE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NAN"}};if(AE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(n.field),op:DN(n.op),value:n.value}}})(r):r instanceof ni?(function(n){const s=n.getFilters().map((o=>fb(o)));return s.length===1?s[0]:{compositeFilter:{op:xN(n.op),filters:s}}})(r):ye(54877,{filter:r})}function ON(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function db(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class $r{constructor(e,n,s,o,u=Ee.min(),f=Ee.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class MN{constructor(e){this.yt=e}}function VN(r){const e=CN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(e,e.limit,"L"):e}class kN{constructor(){this.Cn=new LN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ns.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class LN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(et.comparator)).toArray()}}const zE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mb=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(mb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}const jE="LruGarbageCollector",PN=1048576;function BE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class UN{constructor(e){this.Ir=e,this.buffer=new Vt(BE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();BE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(jE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?le(jE,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Vr(3e5)}))}}class jN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Ph.ce);const s=new UN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(zE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Ya()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function BN(r,e){return new jN(r,e)}class qN{constructor(){this.changes=new ea((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class FN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&jl(s.mutation,o,Sn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=Hs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Ol();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Hs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=ur();const f=zl(),m=(function(){return zl()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof us)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),jl(E.mutation,y,E.mutation.getFieldMask(),it.now())):f.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new HN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=zl();let o=new ut(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Sn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=$0();E.forEach((A=>{if(!u.has(A)){const k=nb(n.get(A),s.get(A));k!==null&&T.set(A,k),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return de.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Hs());let m=Gl,p=u;return f.next((y=>ee.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,ke()))).next((E=>({batchId:m,changes:X0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=Ol();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ol();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const y=(function(T,A){return new To(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let m=Ol();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&jl(E.mutation,y,Sn.empty(),it.now()),Bh(n,y)&&(m=m.insert(p,y))})),m}))}}class GN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:VN(o.bundledQuery),readTime:xi(o.readTime)}})(n)),ee.resolve()}}class QN{constructor(){this.overlays=new ut(de.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Hs();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Hs(),u=n.length+1,f=new de(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Hs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Hs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new cN(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class KN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class xp{constructor(){this.Qr=new Vt(Ut.$r),this.Ur=new Vt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new et([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new et([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}class YN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Ut.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new uN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Ep:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Ve);return n.forEach((o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new de(u),0);let m=new Vt(Ve);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class XN{constructor(e){this.ri=e,this.docs=(function(){return new ut(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ur();const f=n.path,m=new de(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||AI(SI(E),s)<=0||(o.has(E.key)||Bh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new $N(this)}getSize(e){return ee.resolve(this.size)}}class $N extends qN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class JN{constructor(e){this.persistence=e,this.si=new ea((n=>Sp(n)),Ap),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new xp,this.targetCount=0,this.ai=uo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class pb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new KN,this.referenceDelegate=e(this),this.Pi=new JN(this),this.indexManager=new kN,this.remoteDocumentCache=(function(o){return new XN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new MN(n),this.Ii=new GN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new YN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new ZN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class ZN extends RI{constructor(e){super(),this.currentSequenceNumber=e}}class Op{constructor(e){this.persistence=e,this.Ri=new xp,this.Vi=null}static mi(e){return new Op(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=de.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.pi=new ea((s=>NI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=BN(this,n)}static mi(e,n){return new Th(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Mp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mp(e,n.fromCache,s,o)}}class WN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class eD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Fw()?8:CI(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new WN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ya()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Ya()<=Me.DEBUG&&le("QueryEngine","Query:",Xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ya()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):ee.resolve())}ys(e,n){if(NE(n))return ee.resolve(null);let s=Di(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,f,p.readTime)?this.ys(e,jm(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return NE(n)||o.isEqual(Ee.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(Ya()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(n)),this.vs(e,f,n,bI(o,Gl)).next((m=>m)))}))}Ds(e,n){let s=new Vt(K0(e));return n.forEach(((o,u)=>{Bh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ya()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.ps.getDocumentsMatchingQuery(e,n,ns.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Vp="LocalStore",tD=3e8;class nD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new ea((u=>Sp(u)),Ap),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function iD(r,e,n,s){return new nD(r,e,n,s)}async function gb(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=ke();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function rD(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,A=T.keys();let k=ee.resolve();return A.forEach((Q=>{k=k.next((()=>E.getEntry(p,Q))).next((J=>{const H=y.docVersions.get(Q);Fe(H!==null,48541),J.version.compareTo(H)<0&&(T.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function yb(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function sD(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Yt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(J,H,ne){return J.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=tD?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(A,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=ur(),y=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(aD(u,f,e.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!s.isEqual(Ee.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function aD(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=ur();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(Vp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function oD(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ep),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function lD(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new $r(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Gm(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eo(f))throw f;le(Vp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function qE(r,e,n){const s=Ae(r);let o=Ee.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const T=Ae(p),A=T.xs.get(E);return A!==void 0?ee.resolve(T.Ms.get(A)):T.Pi.getTargetData(y,E)})(s,f,Di(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ee.min(),n?u:ke()))).next((m=>(uD(s,YI(e),m),{documents:m,Qs:u})))))}function uD(r,e,n){let s=r.Os.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class HE{constructor(){this.activeTargetIds=eN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cD{constructor(){this.Mo=new HE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new HE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hD{Oo(e){}shutdown(){}}const FE="ConnectivityMonitor";class GE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(FE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(FE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qc=null;function Qm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}const _m="RestConnection",fD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Qm(),m=this.zo(e,n.toUriEncodedString());le(_m,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=po(y);return this.Jo(e,m,p,s,E).then((T=>(le(_m,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw so(_m,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=fD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class mD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class pD extends dD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Qm();return new Promise(((m,p)=>{const y=new E0;y.setWithCredentials(!0),y.listenOnce(T0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Wc.NO_ERROR:const T=y.getResponseJson();le(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case Wc.TIMEOUT:le(Jt,`RPC '${e}' ${f} timed out`),p(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const A=y.getStatus();if(le(Jt,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const Q=k?.error;if(Q&&Q.status&&Q.message){const J=(function(ne){const ie=ne.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ie)>=0?ie:W.UNKNOWN})(Q.status);p(new oe(J,Q.message))}else p(new oe(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new oe(W.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(Jt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le(Jt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Qm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=A0(),m=S0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let A=!1,k=!1;const Q=new mD({Yo:H=>{k?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(A||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,H),T.send(H))},Zo:()=>T.close()}),J=(H,ne,ie)=>{H.listen(ne,(te=>{try{ie(te)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return J(T,xl.EventType.OPEN,(()=>{k||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),Q.o_())})),J(T,xl.EventType.CLOSE,(()=>{k||(k=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),Q.a_(),this.E_(T))})),J(T,xl.EventType.ERROR,(H=>{k||(k=!0,so(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),Q.a_(new oe(W.UNAVAILABLE,"The operation could not be completed")))})),J(T,xl.EventType.MESSAGE,(H=>{if(!k){const ne=H.data[0];Fe(!!ne,16349);const ie=ne,te=ie?.error||ie[0]?.error;if(te){le(Jt,`RPC '${e}' stream ${o} received error:`,te);const ge=te.status;let Te=(function(w){const R=Ct[w];if(R!==void 0)return rb(R)})(ge),be=te.message;Te===void 0&&(Te=W.INTERNAL,be="Unknown error status: "+ge+" with message "+te.message),k=!0,Q.a_(new oe(Te,be)),T.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,ne),Q.u_(ne)}})),J(m,b0.STAT_EVENT,(H=>{H.stat===Mm.PROXY?le(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Mm.NOPROXY&&le(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function vm(){return typeof document<"u"?document:null}function Gh(r){return new vN(r,!0)}class _b{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const QE="PersistentStream";class vb{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _b(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(QE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(QE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gD extends vb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ee.min():f.readTime?xi(f.readTime):Ee.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Fm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Um(p)?{documents:wN(u,p)}:{query:RN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ob(u,f.resumeToken);const y=Bm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ee.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const y=Bm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=IN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.q_(n)}}class yD extends vb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=AN(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Fm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>SN(this.serializer,s)))};this.q_(n)}}class _D{}class vD extends _D{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,qm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,qm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ED{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zs="RemoteStore";class TD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ta(this)&&(le(Zs,"Restarting streams for network reachability change."),await(async function(p){const y=Ae(p);y.Ea.add(4),await lu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Qh(y)})(this))}))})),this.Ra=new ED(s,o)}}async function Qh(r){if(ta(r))for(const e of r.da)await e(!0)}async function lu(r){for(const e of r.da)await e(!1)}function Eb(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Up(n)?Pp(n):bo(n).O_()&&Lp(n,e))}function kp(r,e){const n=Ae(r),s=bo(n);n.Ia.delete(e),s.O_()&&Tb(n,e),n.Ia.size===0&&(s.O_()?s.L_():ta(n)&&n.Ra.set("Unknown"))}function Lp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(r).Y_(e)}function Tb(r,e){r.Va.Ue(e),bo(r).Z_(e)}function Pp(r){r.Va=new pN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),bo(r).start(),r.Ra.ua()}function Up(r){return ta(r)&&!bo(r).x_()&&r.Ia.size>0}function ta(r){return Ae(r).Ea.size===0}function bb(r){r.Va=void 0}async function bD(r){r.Ra.set("Online")}async function SD(r){r.Ia.forEach(((e,n)=>{Lp(r,e)}))}async function AD(r,e){bb(r),Up(r)?(r.Ra.ha(e),Pp(r)):r.Ra.set("Unknown")}async function wD(r,e,n){if(r.Ra.set("Online"),e instanceof ab&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bh(r,s)}else if(e instanceof ih?r.Va.Ze(e):e instanceof sb?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ee.min()))try{const s=await yb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),Tb(u,p);const T=new $r(E.target,p,y,E.sequenceNumber);Lp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(Zs,"Failed to raise snapshot:",s),await bh(r,s)}}async function bh(r,e,n){if(!Eo(e))throw e;r.Ea.add(1),await lu(r),r.Ra.set("Offline"),n||(n=()=>yb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(Zs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Qh(r)}))}function Sb(r,e){return e().catch((n=>bh(r,n,e)))}async function Kh(r){const e=Ae(r),n=as(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ep;for(;RD(e);)try{const o=await oD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,CD(e,o)}catch(o){await bh(e,o)}Ab(e)&&wb(e)}function RD(r){return ta(r)&&r.Ta.length<10}function CD(r,e){r.Ta.push(e);const n=as(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Ab(r){return ta(r)&&!as(r).x_()&&r.Ta.length>0}function wb(r){as(r).start()}async function ID(r){as(r).ra()}async function ND(r){const e=as(r);for(const n of r.Ta)e.ea(n.mutations)}async function DD(r,e,n){const s=r.Ta.shift(),o=Ip.from(s,e,n);await Sb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Kh(r)}async function xD(r,e){e&&as(r).X_&&await(async function(s,o){if((function(f){return fN(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();as(s).B_(),await Sb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Kh(s)}})(r,e),Ab(r)&&wb(r)}async function KE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(Zs,"RemoteStore received new credentials");const s=ta(n);n.Ea.add(3),await lu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qh(n)}async function OD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Qh(n)):e||(n.Ea.add(2),await lu(n),n.Ra.set("Unknown"))}function bo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new gD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:bD.bind(null,r),t_:SD.bind(null,r),r_:AD.bind(null,r),H_:wD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Up(r)?Pp(r):r.Ra.set("Unknown")):(await r.ma.stop(),bb(r))}))),r.ma}function as(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new yD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ID.bind(null,r),r_:xD.bind(null,r),ta:ND.bind(null,r),na:DD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Kh(r)):(await r.fa.stop(),r.Ta.length>0&&(le(Zs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class zp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new zp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jp(r,e){if(lr("AsyncQueue",`${e}: ${r}`),Eo(r))return new oe(W.UNAVAILABLE,`${e}: ${r}`);throw r}class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Ol(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class YE{constructor(){this.ga=new ut(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class co{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new co(e,n,to.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class MD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class VD{constructor(){this.queries=XE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=XE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function XE(){return new ea((r=>Q0(r)),jh)}async function kD(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new MD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=jp(f,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Bp(n)}async function LD(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function PD(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Bp(n)}function UD(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Bp(r){r.Ca.forEach((e=>{e.next()}))}var Km,$E;($E=Km||(Km={})).Ma="default",$E.Cache="cache";class zD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Km.Cache}}class Rb{constructor(e){this.key=e}}class Cb{constructor(e){this.key=e}}class jD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=K0(e),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new YE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),k=Bh(this.query,T)?T:null,Q=!!A&&this.mutatedKeys.has(A.key),J=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let H=!1;A&&k?A.data.isEqual(k.data)?Q!==J&&(s.track({type:3,doc:k}),H=!0):this.su(A,k)||(s.track({type:2,doc:k}),H=!0,(p&&this.eu(k,p)>0||y&&this.eu(k,y)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),H=!0):A&&!k&&(s.track({type:1,doc:A}),H=!0,(p||y)&&(m=!0)),H&&(k?(f=f.add(k),u=J?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(k,Q){const J=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:H})}};return J(k)-J(Q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new co(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Cb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Rb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qp="SyncEngine";class BD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class qD{constructor(e){this.key=e,this.hu=!1}}class HD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ea((m=>Q0(m)),jh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(de.comparator),this.Au=new Map,this.Ru=new xp,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FD(r,e,n=!0){const s=Mb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Ib(s,e,n,!0),o}async function GD(r,e){const n=Mb(r);await Ib(n,e,!0,!1)}async function Ib(r,e,n,s){const o=await lD(r.localStore,Di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await QD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Eb(r.remoteStore,o),m}async function QD(r,e,n,s,o){r.pu=(T,A,k)=>(async function(J,H,ne,ie){let te=H.view.ru(ne);te.Cs&&(te=await qE(J.localStore,H.query,!1).then((({documents:N})=>H.view.ru(N,te))));const ge=ie&&ie.targetChanges.get(H.targetId),Te=ie&&ie.targetMismatches.get(H.targetId)!=null,be=H.view.applyChanges(te,J.isPrimaryClient,ge,Te);return ZE(J,H.targetId,be.au),be.snapshot})(r,T,A,k);const u=await qE(r.localStore,e,!0),f=new jD(e,u.Qs),m=f.ru(u.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);ZE(r,n,y.au);const E=new BD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function KD(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!jh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&kp(s.remoteStore,o.targetId),Ym(s,o.targetId)})).catch(vo)):(Ym(s,o.targetId),await Gm(s.localStore,o.targetId,!0))}async function YD(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),kp(n.remoteStore,s.targetId))}async function XD(r,e,n){const s=nx(r);try{const o=await(function(f,m){const p=Ae(f),y=it.now(),E=m.reduce(((k,Q)=>k.add(Q.key)),ke());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Q=ur(),J=ke();return p.Ns.getEntries(k,E).next((H=>{Q=H,Q.forEach(((ne,ie)=>{ie.isValidDocument()||(J=J.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,Q))).next((H=>{T=H;const ne=[];for(const ie of m){const te=oN(ie,T.get(ie.key).overlayedDocument);te!=null&&ne.push(new us(ie.key,te,U0(te.value.mapValue),Un.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,ne,m)})).next((H=>{A=H;const ne=H.applyToLocalDocumentSet(T,J);return p.documentOverlayCache.saveOverlays(k,H.batchId,ne)}))})).then((()=>({batchId:A.batchId,changes:X0(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(Ve)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await uu(s,o.changes),await Kh(s.remoteStore)}catch(o){const u=jp(o,"Failed to persist write");n.reject(u)}}async function Nb(r,e){const n=Ae(r);try{const s=await sD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await uu(n,s,e)}catch(s){await vo(s)}}function JE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ae(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const A of T.Sa)A.va(m)&&(y=!0)})),y&&Bp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $D(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(de.comparator);f=f.insert(u,Wt.newNoDocument(u,Ee.min()));const m=ke().add(u),p=new Fh(Ee.min(),new Map,new ut(Ve),f,m);await Nb(s,p),s.du=s.du.remove(u),s.Au.delete(e),Hp(s)}else await Gm(s.localStore,e,!1).then((()=>Ym(s,e,n))).catch(vo)}async function JD(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await rD(n.localStore,e);xb(n,s,null),Db(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,o)}catch(o){await vo(o)}}async function ZD(r,e,n){const s=Ae(r);try{const o=await(function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Fe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);xb(s,e,n),Db(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uu(s,o)}catch(o){await vo(o)}}function Db(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function xb(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ym(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Ob(r,s)}))}function Ob(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(kp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Hp(r))}function ZE(r,e,n){for(const s of n)s instanceof Rb?(r.Ru.addReference(s.key,e),WD(r,s)):s instanceof Cb?(le(qp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Ob(r,s.key)):ye(19791,{wu:s})}function WD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(qp,"New document in limbo: "+n),r.Eu.add(s),Hp(r))}function Hp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(et.fromString(e)),s=r.fu.next();r.Au.set(s,new qD(n)),r.du=r.du.insert(n,s),Eb(r.remoteStore,new $r(Di(wp(n.path)),s,"TargetPurposeLimboResolution",Ph.ce))}}async function uu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Mp.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(y,(A=>ee.forEach(A.Es,(k=>E.persistence.referenceDelegate.addReference(T,A.targetId,k))).next((()=>ee.forEach(A.ds,(k=>E.persistence.referenceDelegate.removeReference(T,A.targetId,k)))))))))}catch(T){if(!Eo(T))throw T;le(Vp,"Failed to update sequence numbers: "+T)}for(const T of y){const A=T.targetId;if(!T.fromCache){const k=E.Ms.get(A),Q=k.snapshotVersion,J=k.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(A,J)}}})(s.localStore,u))}async function ex(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(qp,"User change. New user:",e.toKey());const s=await gb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(n,s.Ls)}}function tx(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Mb(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$D.bind(null,e),e.Pu.H_=PD.bind(null,e.eventManager),e.Pu.yu=UD.bind(null,e.eventManager),e}function nx(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZD.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iD(this.persistence,new eD,e.initialUser,this.serializer)}Cu(e){return new pb(Op.mi,this.serializer)}Du(e){return new cD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class ix extends Sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new zN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new pb((s=>Th.mi(s,n)),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>JE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ex.bind(null,this.syncEngine),await OD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VD})()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),s=(function(u){return new pD(u)})(e.databaseInfo);return(function(u,f,m,p){return new vD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new TD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>JE(this.syncEngine,n,0)),(function(){return GE.v()?new GE:new hD})())}createSyncEngine(e,n){return(function(o,u,f,m,p,y,E){const T=new HD(o,u,f,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(Zs,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xm.provider={build:()=>new Xm};class rx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const os="FirestoreClient";class sx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(os,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(os,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=jp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Em(r,e){r.asyncQueue.verifyOperationInProgress(),le(os,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await gb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function WE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await ax(r);le(os,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>KE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>KE(e.remoteStore,o))),r._onlineComponents=e}async function ax(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(os,"Using user provided OfflineComponentProvider");try{await Em(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await Em(r,new Sh)}}else le(os,"Using default OfflineComponentProvider"),await Em(r,new ix(void 0));return r._offlineComponents}async function Vb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(os,"Using user provided OnlineComponentProvider"),await WE(r,r._uninitializedComponentsProvider._online)):(le(os,"Using default OnlineComponentProvider"),await WE(r,new Xm))),r._onlineComponents}function ox(r){return Vb(r).then((e=>e.syncEngine))}async function eT(r){const e=await Vb(r),n=e.eventManager;return n.onListen=FD.bind(null,e.syncEngine),n.onUnlisten=KD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YD.bind(null,e.syncEngine),n}function kb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const tT=new Map;const Lb="firestore.googleapis.com",nT=!0;class iT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lb,this.ssl=nT}else this.host=e.host,this.ssl=e.ssl??nT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PN)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hI;switch(s.type){case"firstParty":return new pI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=tT.get(n);s&&(le("ComponentProvider","Removing Datastore"),tT.delete(n),s.terminate())})(this),Promise.resolve()}}function lx(r,e,n,s={}){r=Ni(r,Yh);const o=po(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(kT(`https://${m}`),LT("Firestore",!0)),u.host!==Lb&&u.host!==m&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ys(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Zt.MOCK_USER;else{y=kw(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(T)}r._authCredentials=new fI(new R0(y,E))}}class na{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(su(n,yt._jsonSchema))return new yt(e,s||null,new de(et.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Nt("string",yt._jsonSchemaVersion),referencePath:Nt("string")};class ts extends na{constructor(e,n,s){super(e,n,wp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new de(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function Ah(r,e,...n){if(r=zt(r),C0("collection","path",e),r instanceof Yh){const s=et.fromString(e,...n);return pE(s),new ts(r,null,s)}{if(!(r instanceof yt||r instanceof ts))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return pE(s),new ts(r.firestore,null,s)}}function Qs(r,e,...n){if(r=zt(r),arguments.length===1&&(e=vp.newId()),C0("doc","path",e),r instanceof Yh){const s=et.fromString(e,...n);return mE(s),new yt(r,null,new de(s))}{if(!(r instanceof yt||r instanceof ts))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return mE(s),new yt(r.firestore,r instanceof ts?r.converter:null,new de(s))}}const rT="AsyncQueue";class sT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _b(this,"async_queue_retry"),this._c=()=>{const s=vm();s&&le(rT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;le(rT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",aT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=zp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:aT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function oT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Ws extends Yh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new sT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sT(e),this._firestoreClient=void 0,await e}}}function ux(r,e){const n=typeof r=="object"?r:jT(),s=typeof r=="string"?r:ph,o=op(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Mw("firestore");u&&lx(o,...u)}return o}function Pb(r){if(r._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cx(r),r._firestoreClient}function cx(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new OI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,kb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new sx(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Yt.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Nt("string",Pn._jsonSchemaVersion),bytes:Nt("string")};class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fp{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(su(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Nt("string",Oi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Nt("string",Mi._jsonSchemaVersion),vectorValues:Nt("object")};const hx=/^__.*__$/;class fx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class Ub{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:r})}}class Gp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zb(this.Ac)&&hx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(e)}Cc(e,n,s,o=!1){return new Gp({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $h(r){const e=r._freezeSettings(),n=Gh(r._databaseId);return new dx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function jb(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Qp("Data must be an object, but it was:",f,s);const m=Bb(s,f);let p,y;if(u.merge)p=new Sn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=$m(e,T,n);if(!f.contains(A))throw new oe(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Hb(E,A)||E.push(A)}p=new Sn(E),y=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=f.fieldTransforms;return new fx(new dn(m),p,y)}class Jh extends Fp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}function mx(r,e,n,s){const o=r.Cc(1,e,n);Qp("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();ls(s,((p,y)=>{const E=Kp(e,p,n);y=zt(y);const T=o.yc(E);if(y instanceof Jh)u.push(E);else{const A=cu(y,T);A!=null&&(u.push(E),f.set(E,A))}}));const m=new Sn(u);return new Ub(f,m,o.fieldTransforms)}function px(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[$m(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push($m(e,u[A])),p.push(u[A+1]);const y=[],E=dn.empty();for(let A=m.length-1;A>=0;--A)if(!Hb(y,m[A])){const k=m[A];let Q=p[A];Q=zt(Q);const J=f.yc(k);if(Q instanceof Jh)y.push(k);else{const H=cu(Q,J);H!=null&&(y.push(k),E.set(k,H))}}const T=new Sn(y);return new Ub(E,T,f.fieldTransforms)}function gx(r,e,n,s=!1){return cu(n,r.Cc(s?4:3,e))}function cu(r,e){if(qb(r=zt(r)))return Qp("Unsupported field value:",e,r),Bb(r,e);if(r instanceof Fp)return(function(s,o){if(!zb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=cu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Eh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:ob(o.serializer,s._byteString)};if(s instanceof yt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mi)return(function(f,m){return{mapValue:{fields:{[L0]:{stringValue:P0},[gh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Rp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Lh(s)}`)})(r,e)}function Bb(r,e){const n={};return D0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(r,((s,o)=>{const u=cu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function qb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Oi||r instanceof Pn||r instanceof yt||r instanceof Fp||r instanceof Mi)}function Qp(r,e,n){if(!qb(n)||!I0(n)){const s=Lh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function $m(r,e,n){if((e=zt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Kp(r,e);throw wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const yx=new RegExp("[~\\*/\\[\\]]");function Kp(r,e,n){if(e.search(yx)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function wh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new oe(W.INVALID_ARGUMENT,m+r+p)}function Hb(r,e){return r.some((n=>n.isEqual(e)))}class Fb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _x(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _x extends Fb{data(){return super.data()}}function Zh(r,e){return typeof e=="string"?Kp(r,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}function vx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yp{}class Gb extends Yp{}function Rh(r,e,...n){let s=[];e instanceof Yp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof Xp)).length,m=u.filter((p=>p instanceof Wh)).length;if(f>1||f>0&&m>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Wh extends Gb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Wh(e,n,s)}_apply(e){const n=this._parse(e);return Qb(e._query,n),new na(e.firestore,e.converter,zm(e._query,n))}_parse(e){const n=$h(e.firestore);return(function(u,f,m,p,y,E,T){let A;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){uT(T,E);const Q=[];for(const J of T)Q.push(lT(p,u,J));A={arrayValue:{values:Q}}}else A=lT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||uT(T,E),A=gx(m,f,T,E==="in"||E==="not-in");return It.create(y,E,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ch(r,e,n){const s=e,o=Zh("where",r);return Wh._create(o,s,n)}class Xp extends Yp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Qb(f,p),f=zm(f,p)})(e._query,n),new na(e.firestore,e.converter,zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $p extends Gb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $p(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xl(u,f)})(e._query,this._field,this._direction);return new na(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new To(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Ih(r,e="asc"){const n=e,s=Zh("orderBy",r);return $p._create(s,n)}function lT(r,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G0(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!de.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return SE(r,new de(s))}if(n instanceof yt)return SE(r,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function uT(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qb(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ex{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ls(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[gh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new Oi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=is(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(db(s),9688,{name:e});const o=new Kl(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Kb(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ks extends Fb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Zh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:Nt("string",Ks._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class rh extends Ks{data(e={}){return super.data(e)}}class no{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Vl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new Vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:Tx(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=no._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Tx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Nt("string",no._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Yb extends Ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function cT(r,e,n){r=Ni(r,yt);const s=Ni(r.firestore,Ws),o=Kb(r.converter,e,n);return ef(s,[jb($h(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Un.none())])}function bx(r,e,n,...s){r=Ni(r,yt);const o=Ni(r.firestore,Ws),u=$h(o);let f;return f=typeof(e=zt(e))=="string"||e instanceof Xh?px(u,"updateDoc",r._key,e,n,s):mx(u,"updateDoc",r._key,e),ef(o,[f.toMutation(r._key,Un.exists(!0))])}function Xb(r){return ef(Ni(r.firestore,Ws),[new Cp(r._key,Un.none())])}function $b(r,e){const n=Ni(r.firestore,Ws),s=Qs(r),o=Kb(r.converter,e);return ef(n,[jb($h(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then((()=>s))}function Jp(r,...e){r=zt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||oT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(oT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof yt)f=Ni(r.firestore,Ws),m=wp(r._key.path),u={next:p=>{e[s]&&e[s](Sx(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Ni(r,na);f=Ni(p.firestore,Ws),m=p._query;const y=new Yb(f);u={next:E=>{e[s]&&e[s](new no(f,y,p,E))},error:e[s+1],complete:e[s+2]},vx(r._query)}return(function(y,E,T,A){const k=new rx(A),Q=new zD(E,k,T);return y.asyncQueue.enqueueAndForget((async()=>kD(await eT(y),Q))),()=>{k.Nu(),y.asyncQueue.enqueueAndForget((async()=>LD(await eT(y),Q)))}})(Pb(f),m,o,u)}function ef(r,e){return(function(s,o){const u=new Gs;return s.asyncQueue.enqueueAndForget((async()=>XD(await ox(s),o,u))),u.promise})(Pb(r),e)}function Sx(r,e,n){const s=n.docs.get(e._key),o=new Yb(r);return new Ks(r,o,e._key,s,new Vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){_o=o})(go),io(new Xs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ws(new dI(s.getProvider("auth-internal")),new gI(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Wr(cE,hE,e),Wr(cE,hE,"esm2020")})();const Ax={apiKey:"AIzaSyDo6mqSgh8ifjBCbPJmRDCHJvDhkq_o61o",authDomain:"mynotbusyagenda.firebaseapp.com",projectId:"mynotbusyagenda",storageBucket:"mynotbusyagenda.firebasestorage.app",messagingSenderId:"290830129452",appId:"1:290830129452:web:c051a1cbd6d8a230303489",measurementId:"G-S7H89W117V"},Jb=zT(Ax),Tm=oI(Jb),wx=new tr,Ci=ux(Jb),Zb=B.createContext();function So(){return B.useContext(Zb)}function Rx({children:r}){const[e,n]=B.useState(null),[s,o]=B.useState(!0);B.useEffect(()=>X2(Tm,y=>{n(y),o(!1)}),[]);const m={user:e,loading:s,signInWithGoogle:async()=>{try{await gC(Tm,wx)}catch(p){throw console.error("Error signing in with Google:",p),p}},logout:async()=>{try{await $2(Tm)}catch(p){throw console.error("Error signing out:",p),p}}};return V.jsx(Zb.Provider,{value:m,children:r})}const Cx={en:{common:{loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",close:"Close",back:"Back",today:"Today",clear_filter:"Clear filter",view_history:"View History"},auth:{welcome:"Welcome back",subtitle:"Sign in to your account",sign_in_google:"Sign in with Google",sign_out:"Sign Out"},dashboard:{greeting:{morning:"Good Morning",afternoon:"Good Afternoon",evening:"Good Evening"},subtitle:"Ready for a clear mind?",focus_title:"Focus for Today",focus_placeholder:"What is your main goal?",tasks_card:{title:"Tasks",pending:"Pending",action:"View Tasks"},journal_card:{title:"Journal",subtitle:"Reflect",action:"Write"}},tasks:{title:"Tasks",subtitle:"Organize your day.",past_title:"Past Tasks",past_subtitle:"Viewing tasks for",placeholder:"Add a new task...",empty:"No tasks yet. Add one above!",empty_past:"No tasks found for this date.",delete_label:"Delete task"},journal:{title:"Journal",subtitle:"Reflect on your thoughts.",past_title:"Past Entries",past_subtitle:"Viewing entries for",placeholder:"What's on your mind?",empty:"No entries yet. Start writing!",empty_past:"No entries found for this date.",submit:"Send"},calendar:{select_date:"Select Date",summary_title:"Summary for",tasks_section:"Tasks",journal_section:"Journal Entries",no_tasks:"No tasks recorded.",no_entries:"No journal entries."}},es:{common:{loading:"Cargando...",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",close:"Cerrar",back:"Volver",today:"Hoy",clear_filter:"Borrar filtro",view_history:"Ver Historial"},auth:{welcome:"Bienvenido de nuevo",subtitle:"Inicia sesin en tu cuenta",sign_in_google:"Iniciar sesin con Google",sign_out:"Cerrar Sesin"},dashboard:{greeting:{morning:"Buenos Das",afternoon:"Buenas Tardes",evening:"Buenas Noches"},subtitle:"Listo para una mente clara?",focus_title:"Enfoque de Hoy",focus_placeholder:"Cul es tu objetivo principal?",tasks_card:{title:"Tareas",pending:"Pendientes",action:"Ver Tareas"},journal_card:{title:"Diario",subtitle:"Reflexiona",action:"Escribir"}},tasks:{title:"Tareas",subtitle:"Organiza tu da.",past_title:"Tareas Pasadas",past_subtitle:"Viendo tareas del",placeholder:"Aadir nueva tarea...",empty:"No hay tareas. Aade una arriba!",empty_past:"No se encontraron tareas para esta fecha.",delete_label:"Eliminar tarea"},journal:{title:"Diario",subtitle:"Reflexiona sobre tus pensamientos.",past_title:"Entradas Pasadas",past_subtitle:"Viendo entradas del",placeholder:"Qu tienes en mente?",empty:"No hay entradas. Empieza a escribir!",empty_past:"No se encontraron entradas para esta fecha.",submit:"Enviar"},calendar:{select_date:"Seleccionar Fecha",summary_title:"Resumen del",tasks_section:"Tareas",journal_section:"Entradas del Diario",no_tasks:"No hay tareas registradas.",no_entries:"No hay entradas en el diario."}},zh:{common:{loading:"...",save:"",cancel:"",delete:"",edit:"",close:"",back:"",today:"",clear_filter:"",view_history:""},auth:{welcome:"",subtitle:"",sign_in_google:" Google ",sign_out:""},dashboard:{greeting:{morning:"",afternoon:"",evening:""},subtitle:"",focus_title:"",focus_placeholder:"",tasks_card:{title:"",pending:"",action:""},journal_card:{title:"",subtitle:"",action:""}},tasks:{title:"",subtitle:"",past_title:"",past_subtitle:"",placeholder:"...",empty:"",empty_past:"",delete_label:""},journal:{title:"",subtitle:"",past_title:"",past_subtitle:"",placeholder:"",empty:"",empty_past:"",submit:""},calendar:{select_date:"",summary_title:"",tasks_section:"",journal_section:"",no_tasks:"",no_entries:""}},fr:{common:{loading:"Chargement...",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",close:"Fermer",back:"Retour",today:"Aujourd'hui",clear_filter:"Effacer le filtre",view_history:"Voir l'historique"},auth:{welcome:"Bon retour",subtitle:"Connectez-vous  votre compte",sign_in_google:"Se connecter avec Google",sign_out:"Se dconnecter"},dashboard:{greeting:{morning:"Bonjour",afternoon:"Bon aprs-midi",evening:"Bonsoir"},subtitle:"Prt pour un esprit clair ?",focus_title:"Objectif du jour",focus_placeholder:"Quel est votre objectif principal ?",tasks_card:{title:"Tches",pending:"En attente",action:"Voir les tches"},journal_card:{title:"Journal",subtitle:"Rflchir",action:"crire"}},tasks:{title:"Tches",subtitle:"Organisez votre journe.",past_title:"Tches passes",past_subtitle:"Tches du",placeholder:"Ajouter une nouvelle tche...",empty:"Pas encore de tches. Ajoutez-en une ci-dessus !",empty_past:"Aucune tche trouve pour cette date.",delete_label:"Supprimer la tche"},journal:{title:"Journal",subtitle:"Rflchissez  vos penses.",past_title:"Entres passes",past_subtitle:"Entres du",placeholder:"Qu'avez-vous en tte ?",empty:"Pas encore d'entres. Commencez  crire !",empty_past:"Aucune entre trouve pour cette date.",submit:"Envoyer"},calendar:{select_date:"Slectionner une date",summary_title:"Rsum du",tasks_section:"Tches",journal_section:"Entres du journal",no_tasks:"Aucune tche enregistre.",no_entries:"Aucune entre de journal."}},de:{common:{loading:"Laden...",save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",close:"Schlieen",back:"Zurck",today:"Heute",clear_filter:"Filter lschen",view_history:"Verlauf anzeigen"},auth:{welcome:"Willkommen zurck",subtitle:"Melden Sie sich an",sign_in_google:"Mit Google anmelden",sign_out:"Abmelden"},dashboard:{greeting:{morning:"Guten Morgen",afternoon:"Guten Tag",evening:"Guten Abend"},subtitle:"Bereit fr einen klaren Kopf?",focus_title:"Fokus fr heute",focus_placeholder:"Was ist Ihr Hauptziel?",tasks_card:{title:"Aufgaben",pending:"Ausstehend",action:"Aufgaben ansehen"},journal_card:{title:"Journal",subtitle:"Reflektieren",action:"Schreiben"}},tasks:{title:"Aufgaben",subtitle:"Organisieren Sie Ihren Tag.",past_title:"Vergangene Aufgaben",past_subtitle:"Aufgaben vom",placeholder:"Neue Aufgabe hinzufgen...",empty:"Noch keine Aufgaben. Fgen Sie oben eine hinzu!",empty_past:"Keine Aufgaben fr dieses Datum gefunden.",delete_label:"Aufgabe lschen"},journal:{title:"Journal",subtitle:"Reflektieren Sie Ihre Gedanken.",past_title:"Vergangene Eintrge",past_subtitle:"Eintrge vom",placeholder:"Was beschftigt Sie?",empty:"Noch keine Eintrge. Fangen Sie an zu schreiben!",empty_past:"Keine Eintrge fr dieses Datum gefunden.",submit:"Senden"},calendar:{select_date:"Datum auswhlen",summary_title:"Zusammenfassung fr",tasks_section:"Aufgaben",journal_section:"Journaleintrge",no_tasks:"Keine Aufgaben aufgezeichnet.",no_entries:"Keine Journaleintrge."}}},Wb=B.createContext();function Ix({children:r}){const[e,n]=B.useState(()=>localStorage.getItem("language")||"en");B.useEffect(()=>{localStorage.setItem("language",e)},[e]);const s=o=>{const u=o.split(".");let f=Cx[e];for(const m of u){if(f[m]===void 0)return console.warn(`Translation missing for key: ${o} in language: ${e}`),o;f=f[m]}return f};return V.jsx(Wb.Provider,{value:{language:e,setLanguage:n,t:s},children:r})}function fr(){const r=B.useContext(Wb);if(!r)throw new Error("useLanguage must be used within a LanguageProvider");return r}const Nx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),hT=r=>{const e=Dx(r);return e.charAt(0).toUpperCase()+e.slice(1)},e1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),xx=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Ox={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mx=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>B.createElement("svg",{ref:p,...Ox,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:e1("lucide",o),...!u&&!xx(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,E])=>B.createElement(y,E)),...Array.isArray(u)?u:[u]]));const Xt=(r,e)=>{const n=B.forwardRef(({className:s,...o},u)=>B.createElement(Mx,{ref:u,iconNode:e,className:e1(`lucide-${Nx(hT(r))}`,`lucide-${r}`,s),...o}));return n.displayName=hT(r),n};const Vx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fT=Xt("arrow-right",Vx);const kx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Lx=Xt("book-open",kx);const Px=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ux=Xt("chevron-right",Px);const zx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jx=Xt("chevron-left",zx);const Bx=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qx=Xt("chevron-up",Bx);const Hx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],t1=Xt("circle-check-big",Hx);const Fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],n1=Xt("circle",Fx);const Gx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],i1=Xt("clock",Gx);const Qx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Kx=Xt("house",Qx);const Yx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Xx=Xt("log-out",Yx);const $x=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Jx=Xt("moon",$x);const Zx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wx=Xt("plus",Zx);const eO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tO=Xt("send",eO);const nO=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iO=Xt("square-check-big",nO);const rO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],sO=Xt("sun",rO);const aO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],r1=Xt("trash-2",aO);const oO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tf=Xt("x",oO),bm=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"zh",name:"",flag:""},{code:"fr",name:"Franais",flag:""},{code:"de",name:"Deutsch",flag:""}];function s1(){const{language:r,setLanguage:e}=fr(),[n,s]=B.useState(!1),o=B.useRef(null),u=bm.find(f=>f.code===r)||bm[0];return B.useEffect(()=>{const f=m=>{o.current&&!o.current.contains(m.target)&&s(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]),V.jsxs("div",{className:"relative",ref:o,children:[V.jsxs("button",{onClick:()=>s(!n),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-[var(--color-bg-secondary)] transition-colors text-sm font-medium",children:[V.jsx("span",{className:"text-lg",children:u.flag}),V.jsx("span",{className:"hidden md:inline",children:u.name}),V.jsx(qx,{size:16,className:`transition-transform duration-200 ${n?"rotate-180":""}`})]}),n&&V.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-[var(--color-bg-primary)] border border-[var(--color-border)] rounded-xl shadow-lg overflow-hidden py-1 z-50",children:bm.map(f=>V.jsxs("button",{onClick:()=>{e(f.code),s(!1)},className:`w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-[var(--color-bg-secondary)] transition-colors ${r===f.code?"bg-[var(--color-bg-secondary)] text-[var(--color-primary)]":""}`,children:[V.jsx("span",{className:"text-lg",children:f.flag}),V.jsx("span",{className:"text-sm",children:f.name})]},f.code))})]})}const dT="my_not_busy_agenda_theme";function lO(){const[r,e]=B.useState(()=>{const s=localStorage.getItem(dT);return s?JSON.parse(s):!1});return B.useEffect(()=>{localStorage.setItem(dT,JSON.stringify(r)),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),{isDark:r,toggleDarkMode:()=>e(!r)}}function a1(r){var e,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=a1(r[e]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function Nh(){for(var r,e,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=a1(r))&&(s&&(s+=" "),s+=e);return s}const o1="/MyNotBusyAgenda/assets/logo-Bj79zbMH.png";function uO(){const r=cr(),{isDark:e,toggleDarkMode:n}=lO(),{logout:s}=So(),o=[{path:"/",icon:Kx,label:"Home"},{path:"/todos",icon:iO,label:"Todos"},{path:"/journal",icon:Lx,label:"Journal"}],u=async()=>{try{await s()}catch(f){console.error("Failed to log out:",f)}};return V.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] transition-colors duration-200 pb-20",children:[V.jsxs("header",{className:"px-6 py-4 flex justify-between items-center sticky top-0 z-10 backdrop-blur-md bg-[var(--color-bg-primary)]/80 border-b border-[var(--color-border)]",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx("img",{src:o1,alt:"MyNotBusyAgenda Logo",className:"h-10 w-16"}),V.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent",children:"MyNotBusyAgenda"})]}),V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsx(s1,{}),V.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",children:e?V.jsx(sO,{size:20}):V.jsx(Jx,{size:20})}),V.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors text-red-400",children:V.jsx(Xx,{size:20})})]})]}),V.jsx("main",{className:"p-6",children:V.jsx(FA,{})}),V.jsx("nav",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-md px-8 py-4 flex justify-between items-center z-10",style:{backgroundColor:"var(--color-bg-secondary)cc",borderTop:"1px solid var(--color-border)"},children:o.map(({path:f,icon:m,label:p})=>V.jsxs(ql,{to:f,className:Nh("flex flex-col items-center gap-1 transition-all duration-200",r.pathname===f?"scale-110":""),style:{color:r.pathname===f?"var(--color-text-primary)":"var(--color-text-muted)"},children:[V.jsx(m,{size:24,strokeWidth:r.pathname===f?2.5:2}),V.jsx("span",{className:"text-[10px] font-medium tracking-wide",children:p})]},f))})]})}function cO(){const[r,e]=B.useState({text:"",date:new Date().toISOString(),completed:!1}),{user:n}=So();return B.useEffect(()=>{if(!n){e({text:"",date:new Date().toISOString(),completed:!1});return}const u=new Date().toISOString().split("T")[0],f=Qs(Ci,"users",n.uid,"focus",u);return Jp(f,p=>{if(p.exists()){const y=p.data();e({text:y.text||"",date:y.date?.toDate?.()?.toISOString()||y.date,completed:y.completed||!1})}else e({text:"",date:new Date().toISOString(),completed:!1})})},[n]),{focus:r,setFocusText:async u=>{if(n)try{const f=new Date().toISOString().split("T")[0],m=Qs(Ci,"users",n.uid,"focus",f);await cT(m,{text:u,date:new Date,completed:r.completed},{merge:!0})}catch(f){console.error("Error setting focus:",f)}},toggleFocus:async()=>{if(n)try{const u=new Date().toISOString().split("T")[0],f=Qs(Ci,"users",n.uid,"focus",u);await cT(f,{text:r.text,date:new Date,completed:!r.completed},{merge:!0})}catch(u){console.error("Error toggling focus:",u)}}}}function Zp(r=null){const[e,n]=B.useState([]),{user:s}=So();return B.useEffect(()=>{if(!s){n([]);return}const m=Ah(Ci,"users",s.uid,"todos");let p;if(r){const E=new Date(r);E.setHours(0,0,0,0);const T=new Date(r);T.setHours(23,59,59,999),p=Rh(m,Ch("createdAt",">=",E),Ch("createdAt","<=",T),Ih("createdAt","desc"))}else p=Rh(m,Ih("createdAt","desc"));return Jp(p,E=>{const T=E.docs.map(A=>({id:A.id,...A.data()}));n(T)})},[s,r]),{todos:e,addTodo:async(m,p="general")=>{if(!(!m.trim()||!s))try{await $b(Ah(Ci,"users",s.uid,"todos"),{text:m,completed:!1,category:p,createdAt:new Date})}catch(y){console.error("Error adding todo:",y)}},toggleTodo:async m=>{if(s)try{const p=e.find(E=>E.id===m),y=Qs(Ci,"users",s.uid,"todos",m);await bx(y,{completed:!p.completed})}catch(p){console.error("Error toggling todo:",p)}},deleteTodo:async m=>{if(s)try{await Xb(Qs(Ci,"users",s.uid,"todos",m))}catch(p){console.error("Error deleting todo:",p)}}}}function hO(){const[r,e]=B.useState(new Date),{t:n,language:s}=fr();B.useEffect(()=>{const f=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(f)},[]);const o=()=>{const f=r.getHours();return f<12?n("dashboard.greeting.morning"):f<18?n("dashboard.greeting.afternoon"):n("dashboard.greeting.evening")},u=()=>r.toLocaleTimeString(s,{hour:"2-digit",minute:"2-digit",hour12:!1});return{time:r,greeting:o(),formattedTime:u()}}function l1({onDateSelect:r,selectedDate:e}){const[n,s]=B.useState(new Date),{language:o}=fr(),u=n.getMonth(),f=n.getFullYear(),m=new Date,p=new Date(f,u,1).getDay(),y=p===0?6:p-1,E=new Date(f,u+1,0).getDate(),T=n.toLocaleString(o,{month:"long"}),A=()=>{s(new Date(f,u-1,1))},k=()=>{s(new Date(f,u+1,1))},Q=te=>{if(!te)return;const ge=new Date(f,u,te);r&&r(ge)},J=te=>!e||!te?!1:e.getDate()===te&&e.getMonth()===u&&e.getFullYear()===f,H=te=>te?m.getDate()===te&&m.getMonth()===u&&m.getFullYear()===f:!1,ne=[];for(let te=0;te<y;te++)ne.push(null);for(let te=1;te<=E;te++)ne.push(te);const ie=Array.from({length:7},(te,ge)=>new Date(2023,0,ge+2).toLocaleString(o,{weekday:"short"}));return V.jsxs("div",{className:"p-5 rounded-2xl border",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[V.jsxs("div",{className:"flex items-center justify-between mb-4",children:[V.jsxs("h3",{className:"text-lg font-semibold capitalize",style:{color:"var(--color-text-primary)"},children:[T," ",f]}),V.jsxs("div",{className:"flex gap-1",children:[V.jsx("button",{onClick:A,className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:V.jsx(jx,{size:20})}),V.jsx("button",{onClick:k,className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:V.jsx(Ux,{size:20})})]})]}),V.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[ie.map(te=>V.jsx("div",{className:"text-center text-xs font-medium py-2 capitalize",style:{color:"var(--color-text-tertiary)"},children:te},te)),ne.map((te,ge)=>{const Te=J(te),be=H(te);return V.jsx("button",{onClick:()=>Q(te),disabled:!te,className:`aspect-square flex items-center justify-center text-sm rounded-lg transition-all ${te?"hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer":""}`,style:{backgroundColor:Te?"var(--color-accent)":be?"var(--color-bg-hover)":"transparent",color:Te?"#ffffff":te?"var(--color-text-primary)":"transparent",fontWeight:Te||be?"600":"400",border:be&&!Te?"1px solid var(--color-accent)":"none"},children:te||""},ge)})]})]})}function u1(r=null){const[e,n]=B.useState([]),{user:s}=So();return B.useEffect(()=>{if(!s){n([]);return}const f=Ah(Ci,"users",s.uid,"journal");let m;if(r){const y=new Date(r);y.setHours(0,0,0,0);const E=new Date(r);E.setHours(23,59,59,999),m=Rh(f,Ch("date",">=",y),Ch("date","<=",E),Ih("date","desc"))}else m=Rh(f,Ih("date","desc"));return Jp(m,y=>{const E=y.docs.map(T=>({id:T.id,...T.data(),date:T.data().date?.toDate?.()?.toISOString()||T.data().date}));n(E)})},[s,r]),{entries:e,addEntry:async f=>{if(!(!f.trim()||!s))try{await $b(Ah(Ci,"users",s.uid,"journal"),{text:f,date:new Date})}catch(m){console.error("Error adding journal entry:",m)}},deleteEntry:async f=>{if(s)try{await Xb(Qs(Ci,"users",s.uid,"journal",f))}catch(m){console.error("Error deleting journal entry:",m)}}}}function fO({isOpen:r,onClose:e,date:n}){const{todos:s}=Zp(n),{entries:o}=u1(n),{t:u,language:f}=fr();return!r||!n?null:V.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:V.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl shadow-xl overflow-hidden max-h-[80vh] flex flex-col",style:{backgroundColor:"var(--color-bg-card)"},children:[V.jsxs("div",{className:"flex items-center justify-between p-4 border-b shrink-0",style:{borderColor:"var(--color-border)"},children:[V.jsxs("h2",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:[u("calendar.summary_title")," ",n.toLocaleDateString(f)]}),V.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:V.jsx(tf,{size:20})})]}),V.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[V.jsxs("div",{children:[V.jsxs("h3",{className:"text-sm font-medium mb-3 uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:[u("calendar.tasks_section")," (",s.length,")"]}),s.length===0?V.jsx("p",{className:"text-sm italic",style:{color:"var(--color-text-muted)"},children:u("calendar.no_tasks")}):V.jsx("ul",{className:"space-y-2",children:s.map(m=>V.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[V.jsx("span",{style:{color:m.completed?"var(--color-accent)":"var(--color-text-muted)"},children:m.completed?"":""}),V.jsx("span",{style:{color:"var(--color-text-primary)",textDecoration:m.completed?"line-through":"none",opacity:m.completed?.7:1},children:m.text})]},m.id))})]}),V.jsxs("div",{children:[V.jsxs("h3",{className:"text-sm font-medium mb-3 uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:[u("calendar.journal_section")," (",o.length,")"]}),o.length===0?V.jsx("p",{className:"text-sm italic",style:{color:"var(--color-text-muted)"},children:u("calendar.no_entries")}):V.jsx("div",{className:"space-y-3",children:o.map(m=>V.jsxs("div",{className:"p-3 rounded-lg border",style:{borderColor:"var(--color-border)"},children:[V.jsx("p",{className:"text-xs mb-1",style:{color:"var(--color-text-tertiary)"},children:new Date(m.date).toLocaleTimeString(f,{hour:"2-digit",minute:"2-digit"})}),V.jsx("p",{className:"text-sm whitespace-pre-wrap",style:{color:"var(--color-text-primary)"},children:m.text})]},m.id))})]})]})]})})}function dO(){const{focus:r,setFocusText:e,toggleFocus:n}=cO(),{todos:s}=Zp(),{greeting:o,formattedTime:u}=hO(),{t:f}=fr(),[m,p]=B.useState(!r.text),[y,E]=B.useState(null),[T,A]=B.useState(!1),k=s.filter(H=>!H.completed).length,Q=H=>{H.preventDefault(),p(!1)},J=H=>{E(H),A(!0)};return V.jsxs("div",{className:"space-y-8",children:[V.jsxs("header",{className:"flex items-start justify-between",children:[V.jsxs("div",{children:[V.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:o}),V.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:f("dashboard.subtitle")})]}),V.jsx("div",{className:"text-right",children:V.jsx("div",{className:"text-3xl font-semibold tabular-nums",style:{color:"var(--color-text-primary)"},children:u})})]}),V.jsxs("div",{className:"p-6 rounded-2xl border",style:{backgroundColor:"var(--color-bg-hover)",borderColor:"var(--color-border)"},children:[V.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--color-text-primary)"},children:f("dashboard.focus_title")}),m?V.jsx("form",{onSubmit:Q,children:V.jsx("input",{type:"text",value:r.text,onChange:H=>e(H.target.value),placeholder:f("dashboard.focus_placeholder"),className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--color-bg-input)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},autoFocus:!0,onBlur:()=>{r.text&&p(!1)}})}):V.jsxs("div",{className:"flex items-center gap-3 group cursor-pointer",onClick:n,children:[V.jsx("button",{style:{color:"var(--color-accent)"},children:r.completed?V.jsx(t1,{size:24}):V.jsx(n1,{size:24})}),V.jsx("span",{className:Nh("text-xl font-medium flex-1",r.completed&&"line-through opacity-75"),style:{color:"var(--color-text-primary)"},children:r.text}),V.jsx("button",{onClick:H=>{H.stopPropagation(),p(!0)},className:"text-xs opacity-0 group-hover:opacity-100 transition-opacity",style:{color:"var(--color-text-tertiary)"},children:f("common.edit")})]})]}),V.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[V.jsxs(ql,{to:"/todos",className:"p-5 rounded-2xl border shadow-sm hover:shadow-md transition-all",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[V.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:f("dashboard.tasks_card.title")}),V.jsxs("p",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:[k," ",f("dashboard.tasks_card.pending")]}),V.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium",style:{color:"var(--color-accent)"},children:[f("dashboard.tasks_card.action")," ",V.jsx(fT,{size:16,className:"ml-1"})]})]}),V.jsxs(ql,{to:"/journal",className:"p-5 rounded-2xl border shadow-sm hover:shadow-md transition-all",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[V.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:f("dashboard.journal_card.title")}),V.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:f("dashboard.journal_card.subtitle")}),V.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium",style:{color:"var(--color-accent)"},children:[f("dashboard.journal_card.action")," ",V.jsx(fT,{size:16,className:"ml-1"})]})]})]}),V.jsx(l1,{onDateSelect:J,selectedDate:y}),V.jsx(fO,{isOpen:T,onClose:()=>A(!1),date:y})]})}function c1({isOpen:r,onClose:e,onDateSelect:n,selectedDate:s}){const{t:o}=fr();return r?V.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:V.jsxs("div",{className:"relative w-full max-w-md rounded-2xl shadow-xl overflow-hidden",style:{backgroundColor:"var(--color-bg-card)"},children:[V.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--color-border)"},children:[V.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:o("calendar.select_date")}),V.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:V.jsx(tf,{size:20})})]}),V.jsx("div",{className:"p-4",children:V.jsx(l1,{onDateSelect:u=>{n(u),e()},selectedDate:s})})]})}):null}function mO(){const[r,e]=B.useState(null),[n,s]=B.useState(!1),{todos:o,addTodo:u,toggleTodo:f,deleteTodo:m}=Zp(r),[p,y]=B.useState(""),{t:E}=fr(),T=k=>{k.preventDefault(),p.trim()&&(u(p),y(""))},A=!!r;return V.jsxs("div",{className:"space-y-6",children:[V.jsxs("header",{className:"flex items-start justify-between",children:[V.jsxs("div",{children:[V.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:E(A?"tasks.past_title":"tasks.title")}),V.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:A?`${E("tasks.past_subtitle")} ${r.toLocaleDateString()}`:E("tasks.subtitle")})]}),V.jsxs("div",{className:"flex gap-2",children:[A&&V.jsx("button",{onClick:()=>e(null),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},title:E("common.clear_filter"),children:V.jsx(tf,{size:24})}),V.jsx("button",{onClick:()=>s(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:E("common.view_history"),children:V.jsx(i1,{size:24})})]})]}),!A&&V.jsxs("form",{onSubmit:T,className:"relative",children:[V.jsx("input",{type:"text",value:p,onChange:k=>y(k.target.value),placeholder:E("tasks.placeholder"),className:"w-full p-4 pr-12 rounded-xl border shadow-sm focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"}}),V.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-white rounded-lg transition-colors",style:{backgroundColor:"var(--color-accent)"},children:V.jsx(Wx,{size:20})})]}),V.jsx("div",{className:"space-y-3",children:o.length===0?V.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-muted)"},children:V.jsx("p",{children:E(A?"tasks.empty_past":"tasks.empty")})}):o.map(k=>V.jsxs("div",{className:Nh("group flex items-center justify-between p-4 rounded-xl border shadow-sm transition-all hover:shadow-md",k.completed&&"opacity-75"),style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[V.jsxs("button",{onClick:()=>f(k.id),className:"flex items-center gap-3 flex-1 text-left",disabled:A,children:[k.completed?V.jsx(t1,{className:"text-green-600",size:24}):V.jsx(n1,{size:24,style:{color:"var(--color-text-muted)"}}),V.jsx("span",{className:Nh("text-lg transition-all",k.completed&&"line-through"),style:{color:k.completed?"var(--color-text-muted)":"var(--color-text-primary)"},children:k.text})]}),!A&&V.jsx("button",{onClick:()=>m(k.id),className:"p-2 hover:text-red-600 transition-colors opacity-0 group-hover:opacity-100 focus:opacity-100",style:{color:"var(--color-text-muted)"},"aria-label":E("tasks.delete_label"),children:V.jsx(r1,{size:20})})]},k.id))}),V.jsx(c1,{isOpen:n,onClose:()=>s(!1),onDateSelect:e,selectedDate:r})]})}function pO(){const[r,e]=B.useState(null),[n,s]=B.useState(!1),{entries:o,addEntry:u,deleteEntry:f}=u1(r),[m,p]=B.useState(""),{t:y}=fr(),E=A=>{A.preventDefault(),m.trim()&&(u(m),p(""))},T=!!r;return V.jsxs("div",{className:"space-y-6",children:[V.jsxs("header",{className:"flex items-start justify-between",children:[V.jsxs("div",{children:[V.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:y(T?"journal.past_title":"journal.title")}),V.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:T?`${y("journal.past_subtitle")} ${r.toLocaleDateString()}`:y("journal.subtitle")})]}),V.jsxs("div",{className:"flex gap-2",children:[T&&V.jsx("button",{onClick:()=>e(null),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},title:y("common.clear_filter"),children:V.jsx(tf,{size:24})}),V.jsx("button",{onClick:()=>s(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:y("common.view_history"),children:V.jsx(i1,{size:24})})]})]}),!T&&V.jsxs("form",{onSubmit:E,className:"relative",children:[V.jsx("textarea",{value:m,onChange:A=>p(A.target.value),placeholder:y("journal.placeholder"),className:"w-full p-4 pr-12 rounded-xl border shadow-sm focus:outline-none focus:ring-2 transition-all min-h-[120px] resize-none",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"}}),V.jsx("button",{type:"submit",className:"absolute right-2 bottom-2 p-2 text-white rounded-lg transition-colors",style:{backgroundColor:"var(--color-accent)"},children:V.jsx(tO,{size:20})})]}),V.jsx("div",{className:"space-y-4",children:o.length===0?V.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-muted)"},children:V.jsx("p",{children:y(T?"journal.empty_past":"journal.empty")})}):o.map(A=>V.jsxs("div",{className:"p-5 rounded-xl border shadow-sm hover:shadow-md transition-all group",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[V.jsxs("div",{className:"flex justify-between items-start mb-2",children:[V.jsx("span",{className:"text-xs font-medium",style:{color:"var(--color-text-tertiary)"},children:new Date(A.date).toLocaleString()}),!T&&V.jsx("button",{onClick:()=>f(A.id),className:"hover:text-red-600 transition-colors opacity-0 group-hover:opacity-100",style:{color:"var(--color-text-muted)"},children:V.jsx(r1,{size:16})})]}),V.jsx("p",{className:"whitespace-pre-wrap",style:{color:"var(--color-text-primary)"},children:A.text})]},A.id))}),V.jsx(c1,{isOpen:n,onClose:()=>s(!1),onDateSelect:e,selectedDate:r})]})}function gO(){const{signInWithGoogle:r}=So(),{t:e}=fr(),n=async()=>{try{await r()}catch(s){console.error("Failed to sign in:",s)}};return V.jsx("div",{className:"min-h-screen flex items-center justify-center font-sans",style:{backgroundColor:"var(--color-bg-primary)"},children:V.jsxs("div",{className:"w-full max-w-md p-8",children:[V.jsxs("div",{className:"text-center mb-8",children:[V.jsx("img",{src:o1,alt:"MyNotBusyAgenda Logo",className:"h-50 w-100 mx-auto mb-4"}),V.jsx("h1",{className:"text-3xl md:text-5xl font-serif font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"MyNotBusyAgenda"}),V.jsx("p",{className:"text-lg",style:{color:"var(--color-text-secondary)"},children:e("auth.subtitle")})]}),V.jsxs("div",{className:"p-8 rounded-2xl border",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[V.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",style:{color:"var(--color-text-primary)"},children:e("auth.welcome")}),V.jsxs("button",{onClick:n,className:"w-full py-3 px-4 rounded-lg font-medium transition-all hover:opacity-90 flex items-center justify-center gap-3",style:{backgroundColor:"var(--color-accent)",color:"#ffffff"},children:[V.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[V.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),V.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),V.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),V.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e("auth.sign_in_google")]}),V.jsx("p",{className:"mt-6 text-sm text-center",style:{color:"var(--color-text-tertiary)"},children:e("auth.subtitle")})]})]})})}function yO(){const{user:r,loading:e}=So();return e?V.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--color-bg-primary)"},children:V.jsx("div",{className:"text-center",children:V.jsx("div",{className:"text-2xl font-semibold",style:{color:"var(--color-text-primary)"},children:"Loading..."})})}):r?V.jsxs(QA,{children:[V.jsxs(Ka,{path:"/",element:V.jsx(uO,{}),children:[V.jsx(Ka,{index:!0,element:V.jsx(dO,{})}),V.jsx(Ka,{path:"todos",element:V.jsx(mO,{})}),V.jsx(Ka,{path:"journal",element:V.jsx(pO,{})})]}),V.jsx(Ka,{path:"*",element:V.jsx(HA,{to:"/",replace:!0})})]}):V.jsx(gO,{})}function _O(){return V.jsx(Ix,{children:V.jsx(Rx,{children:V.jsxs(pw,{children:[V.jsx(yO,{}),V.jsx(s1,{})]})})})}$S.createRoot(document.getElementById("root")).render(V.jsx(B.StrictMode,{children:V.jsx(_O,{})}));
