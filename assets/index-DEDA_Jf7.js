(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var rm={exports:{}},Ml={};var Rv;function KS(){if(Rv)return Ml;Rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var Cv;function XS(){return Cv||(Cv=1,rm.exports=KS()),rm.exports}var I=XS(),sm={exports:{}},Se={};var Iv;function $S(){if(Iv)return Se;Iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,B={};function $(V,W,ae){this.props=V,this.context=W,this.refs=B,this.updater=ae||F}$.prototype.isReactComponent={},$.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=$.prototype;function ie(V,W,ae){this.props=V,this.context=W,this.refs=B,this.updater=ae||F}var _e=ie.prototype=new ne;_e.constructor=ie,Y(_e,$.prototype),_e.isPureReactComponent=!0;var he=Array.isArray;function oe(){}var A={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(V,W,ae){var ce=ae.ref;return{$$typeof:r,type:V,key:W,ref:ce!==void 0?ce:null,props:ae}}function O(V,W){return C(V.type,W,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return W[ae]})}var D=/\/+/g;function We(V,W){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):W.toString(36)}function Nt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(oe,oe):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,W,ae,ce,Te){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Pe=!1;if(V===null)Pe=!0;else switch(Ce){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(V.$$typeof){case r:case e:Pe=!0;break;case E:return Pe=V._init,X(Pe(V._payload),W,ae,ce,Te)}}if(Pe)return Te=Te(V),Pe=ce===""?"."+We(V,0):ce,he(Te)?(ae="",Pe!=null&&(ae=Pe.replace(D,"$&/")+"/"),X(Te,W,ae,"",function(ds){return ds})):Te!=null&&(x(Te)&&(Te=O(Te,ae+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+Pe)),W.push(Te)),1;Pe=0;var xt=ce===""?".":ce+":";if(he(V))for(var st=0;st<V.length;st++)ce=V[st],Ce=xt+We(ce,st),Pe+=X(ce,W,ae,Ce,Te);else if(st=k(V),typeof st=="function")for(V=st.call(V),st=0;!(ce=V.next()).done;)ce=ce.value,Ce=xt+We(ce,st++),Pe+=X(ce,W,ae,Ce,Te);else if(Ce==="object"){if(typeof V.then=="function")return X(Nt(V),W,ae,ce,Te);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function se(V,W,ae){if(V==null)return V;var ce=[],Te=0;return X(V,ce,"","",function(Ce){return W.call(ae,Ce,Te++)}),ce}function ge(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var ze=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,W,ae){se(V,function(){W.apply(this,arguments)},ae)},count:function(V){var W=0;return se(V,function(){W++}),W},toArray:function(V){return se(V,function(W){return W})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=T,Se.Children=Ge,Se.Component=$,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ie,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return A.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,W,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=Y({},V.props),Te=V.key;if(W!=null)for(Ce in W.key!==void 0&&(Te=""+W.key),W)!R.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(ce[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)ce.children=ae;else if(1<Ce){for(var Pe=Array(Ce),xt=0;xt<Ce;xt++)Pe[xt]=arguments[xt+2];ce.children=Pe}return C(V.type,Te,ce)},Se.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Se.createElement=function(V,W,ae){var ce,Te={},Ce=null;if(W!=null)for(ce in W.key!==void 0&&(Ce=""+W.key),W)R.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=W[ce]);var Pe=arguments.length-2;if(Pe===1)Te.children=ae;else if(1<Pe){for(var xt=Array(Pe),st=0;st<Pe;st++)xt[st]=arguments[st+2];Te.children=xt}if(V&&V.defaultProps)for(ce in Pe=V.defaultProps,Pe)Te[ce]===void 0&&(Te[ce]=Pe[ce]);return C(V,Ce,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:p,render:V}},Se.isValidElement=x,Se.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ge}},Se.memo=function(V,W){return{$$typeof:m,type:V,compare:W===void 0?null:W}},Se.startTransition=function(V){var W=A.T,ae={};A.T=ae;try{var ce=V(),Te=A.S;Te!==null&&Te(ae,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(oe,ze)}catch(Ce){ze(Ce)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),A.T=W}},Se.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Se.use=function(V){return A.H.use(V)},Se.useActionState=function(V,W,ae){return A.H.useActionState(V,W,ae)},Se.useCallback=function(V,W){return A.H.useCallback(V,W)},Se.useContext=function(V){return A.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,W){return A.H.useDeferredValue(V,W)},Se.useEffect=function(V,W){return A.H.useEffect(V,W)},Se.useEffectEvent=function(V){return A.H.useEffectEvent(V)},Se.useId=function(){return A.H.useId()},Se.useImperativeHandle=function(V,W,ae){return A.H.useImperativeHandle(V,W,ae)},Se.useInsertionEffect=function(V,W){return A.H.useInsertionEffect(V,W)},Se.useLayoutEffect=function(V,W){return A.H.useLayoutEffect(V,W)},Se.useMemo=function(V,W){return A.H.useMemo(V,W)},Se.useOptimistic=function(V,W){return A.H.useOptimistic(V,W)},Se.useReducer=function(V,W,ae){return A.H.useReducer(V,W,ae)},Se.useRef=function(V){return A.H.useRef(V)},Se.useState=function(V){return A.H.useState(V)},Se.useSyncExternalStore=function(V,W,ae){return A.H.useSyncExternalStore(V,W,ae)},Se.useTransition=function(){return A.H.useTransition()},Se.version="19.2.0",Se}var Dv;function tp(){return Dv||(Dv=1,sm.exports=$S()),sm.exports}var U=tp(),am={exports:{}},Vl={},om={exports:{}},lm={};var Nv;function JS(){return Nv||(Nv=1,(function(r){function e(X,se){var ge=X.length;X.push(se);e:for(;0<ge;){var ze=ge-1>>>1,Ge=X[ze];if(0<o(Ge,se))X[ze]=se,X[ge]=Ge,ge=ze;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var se=X[0],ge=X.pop();if(ge!==se){X[0]=ge;e:for(var ze=0,Ge=X.length,V=Ge>>>1;ze<V;){var W=2*(ze+1)-1,ae=X[W],ce=W+1,Te=X[ce];if(0>o(ae,ge))ce<Ge&&0>o(Te,ae)?(X[ze]=Te,X[ce]=ge,ze=ce):(X[ze]=ae,X[W]=ge,ze=W);else if(ce<Ge&&0>o(Te,ge))X[ze]=Te,X[ce]=ge,ze=ce;else break e}}return se}function o(X,se){var ge=X.sortIndex-se.sortIndex;return ge!==0?ge:X.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],m=[],E=1,T=null,w=3,k=!1,F=!1,Y=!1,B=!1,$=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function _e(X){for(var se=n(m);se!==null;){if(se.callback===null)s(m);else if(se.startTime<=X)s(m),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(m)}}function he(X){if(Y=!1,_e(X),!F)if(n(g)!==null)F=!0,oe||(oe=!0,L());else{var se=n(m);se!==null&&Nt(he,se.startTime-X)}}var oe=!1,A=-1,R=5,C=-1;function O(){return B?!0:!(r.unstable_now()-C<R)}function x(){if(B=!1,oe){var X=r.unstable_now();C=X;var se=!0;try{e:{F=!1,Y&&(Y=!1,ne(A),A=-1),k=!0;var ge=w;try{t:{for(_e(X),T=n(g);T!==null&&!(T.expirationTime>X&&O());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,w=T.priorityLevel;var Ge=ze(T.expirationTime<=X);if(X=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,_e(X),se=!0;break t}T===n(g)&&s(g),_e(X)}else s(g);T=n(g)}if(T!==null)se=!0;else{var V=n(m);V!==null&&Nt(he,V.startTime-X),se=!1}}break e}finally{T=null,w=ge,k=!1}se=void 0}}finally{se?L():oe=!1}}}var L;if(typeof ie=="function")L=function(){ie(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,We=D.port2;D.port1.onmessage=x,L=function(){We.postMessage(null)}}else L=function(){$(x,0)};function Nt(X,se){A=$(function(){X(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var ge=w;w=se;try{return X()}finally{w=ge}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=w;w=X;try{return se()}finally{w=ge}},r.unstable_scheduleCallback=function(X,se,ge){var ze=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ze+ge:ze):ge=ze,X){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ge+Ge,X={id:E++,callback:se,priorityLevel:X,startTime:ge,expirationTime:Ge,sortIndex:-1},ge>ze?(X.sortIndex=ge,e(m,X),n(g)===null&&X===n(m)&&(Y?(ne(A),A=-1):Y=!0,Nt(he,ge-ze))):(X.sortIndex=Ge,e(g,X),F||k||(F=!0,oe||(oe=!0,L()))),X},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(X){var se=w;return function(){var ge=w;w=se;try{return X.apply(this,arguments)}finally{w=ge}}}})(lm)),lm}var xv;function ZS(){return xv||(xv=1,om.exports=JS()),om.exports}var um={exports:{}},$t={};var Ov;function WS(){if(Ov)return $t;Ov=1;var r=tp();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)m+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:m,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(g,m){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(g,m,null,E)},$t.flushSync=function(g){var m=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=m,s.p=E,s.d.f()}},$t.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},$t.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$t.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var E=m.as,T=p(E,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,k=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;E==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:k}):E==="script"&&s.d.X(g,{crossOrigin:T,integrity:w,fetchPriority:k,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},$t.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var E=p(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},$t.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var E=m.as,T=p(E,m.crossOrigin);s.d.L(g,E,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},$t.preloadModule=function(g,m){if(typeof g=="string")if(m){var E=p(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},$t.requestFormReset=function(g){s.d.r(g)},$t.unstable_batchedUpdates=function(g,m){return g(m)},$t.useFormState=function(g,m,E){return f.H.useFormState(g,m,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var Mv;function T0(){if(Mv)return um.exports;Mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=WS(),um.exports}var Vv;function eA(){if(Vv)return Vl;Vv=1;var r=ZS(),e=tp(),n=T0();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case $:return"Profiler";case B:return"StrictMode";case he:return"Suspense";case oe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case _e:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return i=t.displayName||null,i!==null?i:We(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return We(t(i))}catch{}}return null}var Nt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function V(t){return{current:t}}function W(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function ae(t,i){Ge++,ze[Ge]=t.current,t.current=i}var ce=V(null),Te=V(null),Ce=V(null),Pe=V(null);function xt(t,i){switch(ae(Ce,i),ae(Te,t),ae(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?X_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=X_(i),t=$_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ce),ae(ce,t)}function st(){W(ce),W(Te),W(Ce)}function ds(t){t.memoizedState!==null&&ae(Pe,t);var i=ce.current,a=$_(i,t.type);i!==a&&(ae(Te,t),ae(ce,a))}function sa(t){Te.current===t&&(W(ce),W(Te)),Pe.current===t&&(W(Pe),Dl._currentValue=ge)}var aa,oa;function oi(t){if(aa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);aa=i&&i[1]||"",oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+t+oa}var Do=!1;function ms(t,i){if(!t||Do)return"";Do=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var q=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){q=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){q=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var N=_.split(`
`),H=b.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===H.length)for(l=N.length-1,h=H.length-1;1<=l&&0<=h&&N[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==H[h]){var K=`
`+N[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Do=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?oi(a):""}function No(t,i){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return t.child!==i&&i!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return ms(t.type,!1);case 11:return ms(t.type.render,!1);case 1:return ms(t.type,!0);case 31:return oi("Activity");default:return""}}function xo(t){try{var i="",a=null;do i+=No(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,pr=r.unstable_cancelCallback,af=r.unstable_shouldYield,yu=r.unstable_requestPaint,nn=r.unstable_now,ps=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,Mo=r.unstable_UserBlockingPriority,gr=r.unstable_NormalPriority,of=r.unstable_LowPriority,_u=r.unstable_IdlePriority,vu=r.log,Eu=r.unstable_setDisableYieldValue,Hn=null,Bt=null;function wn(t){if(typeof vu=="function"&&Eu(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Hn,t)}catch{}}var ft=Math.clz32?Math.clz32:bu,Tu=Math.log,la=Math.LN2;function bu(t){return t>>>=0,t===0?32:31-(Tu(t)/la|0)|0}var li=256,gs=262144,vt=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=ui(l):(_&=b,_!==0?h=ui(_):a||(a=b&~t,a!==0&&(h=ui(a))))):(b=l&~d,b!==0?h=ui(b):_!==0?h=ui(_):a||(a=l&~t,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function lf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Su(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ys(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-ft(a),Z=1<<K;b[K]=0,N[K]=-1;var q=H[K];if(q!==null)for(H[K]=null,K=0;K<q.length;K++){var Q=q[K];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&_s(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function _s(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Vo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ko(t,i){var a=i&-i;return a=(a&42)!==0?1:vs(a),(a&(t.suspendedLanes|i))!==0?0:a}function vs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ui(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Au(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:vv(t.type))}function Fn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Gn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Gn,Lt="__reactProps$"+Gn,fi="__reactContainer$"+Gn,ua="__reactEvents$"+Gn,cf="__reactListeners$"+Gn,wu="__reactHandles$"+Gn,Ru="__reactResources$"+Gn,di="__reactMarker$"+Gn;function ca(t){delete t[Et],delete t[Lt],delete t[ua],delete t[cf],delete t[wu]}function mi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=iv(t);t!==null;){if(a=t[Et])return a;t=iv(t)}return i}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Et]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function pi(t){var i=t[Ru];return i||(i=t[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[di]=!0}var Lo=new Set,Po={};function gi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Po[t]=i,t=0;t<i.length;t++)Lo.add(i[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},jo={};function Cu(t){return _t.call(jo,t)?!0:_t.call(zo,t)?!1:Uo.test(t)?jo[t]=!0:(zo[t]=!0,!1)}function ha(t,i,a){if(Cu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=yr(t)?"checked":"value";t._valueTracker=Bo(t,i,""+t[i])}}function Es(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=yr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ts=/[\n"\\]/g;function an(t){return t.replace(Ts,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fa(t,i,a,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ho(t,_,Pt(i)):a!=null?Ho(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Pt(b):t.removeAttribute("name")}function Iu(t,i,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Ho(t,i,a){i==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _r(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Du(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function vr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Nu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Fo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&qo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&qo(t,d,i[d])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return Er.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var Go=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tr=null,vi=null;function bs(t){var i=Rn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));fa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Es(l)}break e;case"textarea":Du(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&_r(t,!!a.multiple,i,!1)}}}var pa=!1;function br(t,i,a){if(pa)return t(i,a);pa=!0;try{var l=t(i);return l}finally{if(pa=!1,(Tr!==null||vi!==null)&&(Ac(),Tr&&(i=Tr,t=vi,vi=Tr=null,bs(i),t)))for(i=0;i<t.length;i++)bs(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=!1;if(In)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ss=!1}var Ei=null,Qo=null,As=null;function Yo(){if(As)return As;var t,i=Qo,a=i.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return As=h.slice(t,1<l?1-l:void 0)}function ws(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Kn(){return!1}function Ht(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Kn,this.isPropagationStopped=Kn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Ht(ji),Sr=T({},ji,{view:0,detail:0}),Ko=Ht(Sr),Ar,ga,bi,ya=T({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(Ar=t.screenX-bi.screenX,ga=t.screenY-bi.screenY):ga=Ar=0,bi=t),Ar)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),Xo=Ht(ya),Rs=T({},ya,{dataTransfer:0}),Ou=Ht(Rs),Mu=T({},Sr,{relatedTarget:0}),Cs=Ht(Mu),$o=T({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Vu=Ht($o),_a=T({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ku=Ht(_a),Lu=T({},ji,{data:0}),Si=Ht(Lu),Pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zu[t])?!!i[t]:!1}function wr(){return ju}var rn=T({},Sr,{key:function(t){if(t.key){var i=Pu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wr,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bu=Ht(rn),Hu=T({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Ht(Hu),c=T({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wr}),y=Ht(c),v=T({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(v),z=T({},ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ht(z),re=T({},ji,{newState:0,oldState:0}),we=Ht(re),dt=[9,13,27,32],He=In&&"CompositionEvent"in window,at=null;In&&"documentMode"in document&&(at=document.documentMode);var Dn=In&&"TextEvent"in window&&!at,Ai=In&&(!He||at&&8<at&&11>=at),Xn=" ",$n=!1;function Is(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function _1(t,i){switch(t){case"compositionend":return va(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return t=i.data,t===Xn&&$n?null:t;default:return null}}function v1(t,i){if(Ea)return t==="compositionend"||!He&&Is(t,i)?(t=Yo(),As=Qo=Ei=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!E1[t.type]:i==="textarea"}function og(t,i,a,l){Tr?vi?vi.push(l):vi=[l]:Tr=l,i=xc(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Jo=null,Zo=null;function T1(t){q_(t,0)}function qu(t){var i=pn(t);if(Es(i))return t}function lg(t,i){if(t==="change")return i}var ug=!1;if(In){var hf;if(In){var ff="oninput"in document;if(!ff){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),ff=typeof cg.oninput=="function"}hf=ff}else hf=!1;ug=hf&&(!document.documentMode||9<document.documentMode)}function hg(){Jo&&(Jo.detachEvent("onpropertychange",fg),Zo=Jo=null)}function fg(t){if(t.propertyName==="value"&&qu(Zo)){var i=[];og(i,Zo,t,Cn(t)),br(T1,i)}}function b1(t,i,a){t==="focusin"?(hg(),Jo=i,Zo=a,Jo.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function S1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(Zo)}function A1(t,i){if(t==="click")return qu(i)}function w1(t,i){if(t==="input"||t==="change")return qu(i)}function R1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:R1;function Wo(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,i){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_i(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=_i(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var C1=In&&"documentMode"in document&&11>=document.documentMode,Ta=null,mf=null,el=null,pf=!1;function yg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Ta==null||Ta!==_i(l)||(l=Ta,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Wo(el,l)||(el=l,l=xc(mf,"onSelect"),0<l.length&&(i=new Ti("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ta)))}function Ds(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ba={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},gf={},_g={};In&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Ns(t){if(gf[t])return gf[t];if(!ba[t])return t;var i=ba[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in _g)return gf[t]=i[a];return t}var vg=Ns("animationend"),Eg=Ns("animationiteration"),Tg=Ns("animationstart"),I1=Ns("transitionrun"),D1=Ns("transitionstart"),N1=Ns("transitioncancel"),bg=Ns("transitionend"),Sg=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function Jn(t,i){Sg.set(t,i),gi(i,[t])}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],Sa=0,_f=0;function Gu(){for(var t=Sa,i=_f=Sa=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Ag(a,h,d)}}function Qu(t,i,a,l){Nn[Sa++]=t,Nn[Sa++]=i,Nn[Sa++]=a,Nn[Sa++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,a,l){return Qu(t,i,a,l),Yu(t)}function xs(t,i){return Qu(t,null,null,i),Yu(t)}function Ag(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Yu(t){if(50<bl)throw bl=0,Id=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Aa={};function x1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new x1(t,i,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function wg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ku(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Ef(t)&&(_=1);else if(typeof t=="string")_=LS(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=_n(31,a,i,h),t.elementType=C,t.lanes=d,t;case Y:return Os(a.children,h,d,i);case B:_=8,h|=24;break;case $:return t=_n(12,a,i,h|2),t.elementType=$,t.lanes=d,t;case he:return t=_n(13,a,i,h),t.elementType=he,t.lanes=d,t;case oe:return t=_n(19,a,i,h),t.elementType=oe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case _e:_=11;break e;case A:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Os(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function Tf(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function Rg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function bf(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Cg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=Cg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:xo(i)},Cg.set(t,i),i)}return{value:t,source:i,stack:xo(i)}}var wa=[],Ra=0,Xu=null,tl=0,On=[],Mn=0,Rr=null,wi=1,Ri="";function qi(t,i){wa[Ra++]=tl,wa[Ra++]=Xu,Xu=t,tl=i}function Ig(t,i,a){On[Mn++]=wi,On[Mn++]=Ri,On[Mn++]=Rr,Rr=t;var l=wi;t=Ri;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-ft(i)+h|a<<h|l,Ri=d+t}else wi=1<<d|a<<h|l,Ri=t}function Sf(t){t.return!==null&&(qi(t,1),Ig(t,1,0))}function Af(t){for(;t===Xu;)Xu=wa[--Ra],wa[Ra]=null,tl=wa[--Ra],wa[Ra]=null;for(;t===Rr;)Rr=On[--Mn],On[Mn]=null,Ri=On[--Mn],On[Mn]=null,wi=On[--Mn],On[Mn]=null}function Dg(t,i){On[Mn++]=wi,On[Mn++]=Ri,On[Mn++]=Rr,wi=i.id,Ri=i.overflow,Rr=t}var qt=null,nt=null,Le=!1,Cr=null,Vn=!1,wf=Error(s(519));function Ir(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(xn(i,t)),wf}function Ng(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)Ne(Al[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Iu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),vr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Y_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Ir(t,!0)}function xg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qt=qt.return}}function Ca(t){if(t!==qt)return!1;if(!Le)return xg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||qd(t.type,t.memoizedProps)),a=!a),a&&nt&&Ir(t),xg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=nv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=nv(t)}else i===27?(i=nt,Hr(t.type)?(t=Kd,Kd=null,nt=t):nt=i):nt=qt?Ln(t.stateNode.nextSibling):null;return!0}function Ms(){nt=qt=null,Le=!1}function Rf(){var t=Cr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Cr=null),t}function nl(t){Cr===null?Cr=[t]:Cr.push(t)}var Cf=V(null),Vs=null,Fi=null;function Dr(t,i,a){ae(Cf,i._currentValue),i._currentValue=a}function Gi(t){t._currentValue=Cf.current,W(Cf)}function If(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Df(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),If(d.return,a,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),If(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ia(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===Pe.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&Df(i,t,a,l),i.flags|=262144}function $u(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ks(t){Vs=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Og(Vs,t)}function Ju(t,i){return Vs===null&&ks(t),Og(t,i)}function Og(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(s(308));Fi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fi=Fi.next=i;return a}var O1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},M1=r.unstable_scheduleCallback,V1=r.unstable_NormalPriority,St={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new O1,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&M1(V1,function(){t.controller.abort()})}var rl=null,xf=0,Da=0,Na=null;function k1(t,i){if(rl===null){var a=rl=[];xf=0,Da=Vd(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,i.then(Mg,Mg),i}function Mg(){if(--xf===0&&rl!==null){Na!==null&&(Na.status="fulfilled");var t=rl;rl=null,Da=0,Na=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function L1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Vg=X.S;X.S=function(t,i){y_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&k1(t,i),Vg!==null&&Vg(t,i)};var Ls=V(null);function Of(){var t=Ls.current;return t!==null?t:et.pooledCache}function Zu(t,i){i===null?ae(Ls,Ls.current):ae(Ls,i.pool)}function kg(){var t=Of();return t===null?null:{parent:St._currentValue,pool:t}}var xa=Error(s(460)),Mf=Error(s(474)),Wu=Error(s(542)),ec={then:function(){}};function Lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zg(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zg(t),t}throw Us=i,xa}}function Ps(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Us=a,xa):a}}var Us=null;function Ug(){if(Us===null)throw Error(s(459));var t=Us;return Us=null,t}function zg(t){if(t===xa||t===Wu)throw Error(s(483))}var Oa=null,sl=0;function tc(t){var i=sl;return sl+=1,Oa===null&&(Oa=[]),Pg(Oa,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function jg(t){function i(P,M){if(t){var j=P.deletions;j===null?(P.deletions=[M],P.flags|=16):j.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Hi(P,M),P.index=0,P.sibling=null,P}function d(P,M,j){return P.index=j,t?(j=P.alternate,j!==null?(j=j.index,j<M?(P.flags|=67108866,M):j):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,M,j,J){return M===null||M.tag!==6?(M=Tf(j,P.mode,J),M.return=P,M):(M=h(M,j),M.return=P,M)}function N(P,M,j,J){var me=j.type;return me===Y?K(P,M,j.props.children,J,j.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Ps(me)===M.type)?(M=h(M,j.props),al(M,j),M.return=P,M):(M=Ku(j.type,j.key,j.props,null,P.mode,J),al(M,j),M.return=P,M)}function H(P,M,j,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=bf(j,P.mode,J),M.return=P,M):(M=h(M,j.children||[]),M.return=P,M)}function K(P,M,j,J,me){return M===null||M.tag!==7?(M=Os(j,P.mode,J,me),M.return=P,M):(M=h(M,j),M.return=P,M)}function Z(P,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Tf(""+M,P.mode,j),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return j=Ku(M.type,M.key,M.props,null,P.mode,j),al(j,M),j.return=P,j;case F:return M=bf(M,P.mode,j),M.return=P,M;case R:return M=Ps(M),Z(P,M,j)}if(Nt(M)||L(M))return M=Os(M,P.mode,j,null),M.return=P,M;if(typeof M.then=="function")return Z(P,tc(M),j);if(M.$$typeof===ie)return Z(P,Ju(P,M),j);nc(P,M)}return null}function q(P,M,j,J){var me=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return me!==null?null:b(P,M,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case k:return j.key===me?N(P,M,j,J):null;case F:return j.key===me?H(P,M,j,J):null;case R:return j=Ps(j),q(P,M,j,J)}if(Nt(j)||L(j))return me!==null?null:K(P,M,j,J,null);if(typeof j.then=="function")return q(P,M,tc(j),J);if(j.$$typeof===ie)return q(P,M,Ju(P,j),J);nc(P,j)}return null}function Q(P,M,j,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(j)||null,b(M,P,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return P=P.get(J.key===null?j:J.key)||null,N(M,P,J,me);case F:return P=P.get(J.key===null?j:J.key)||null,H(M,P,J,me);case R:return J=Ps(J),Q(P,M,j,J,me)}if(Nt(J)||L(J))return P=P.get(j)||null,K(M,P,J,me,null);if(typeof J.then=="function")return Q(P,M,j,tc(J),me);if(J.$$typeof===ie)return Q(P,M,j,Ju(M,J),me);nc(M,J)}return null}function fe(P,M,j,J){for(var me=null,je=null,de=M,Ie=M=0,Oe=null;de!==null&&Ie<j.length;Ie++){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var Be=q(P,de,j[Ie],J);if(Be===null){de===null&&(de=Oe);break}t&&de&&Be.alternate===null&&i(P,de),M=d(Be,M,Ie),je===null?me=Be:je.sibling=Be,je=Be,de=Oe}if(Ie===j.length)return a(P,de),Le&&qi(P,Ie),me;if(de===null){for(;Ie<j.length;Ie++)de=Z(P,j[Ie],J),de!==null&&(M=d(de,M,Ie),je===null?me=de:je.sibling=de,je=de);return Le&&qi(P,Ie),me}for(de=l(de);Ie<j.length;Ie++)Oe=Q(de,P,Ie,j[Ie],J),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ie:Oe.key),M=d(Oe,M,Ie),je===null?me=Oe:je.sibling=Oe,je=Oe);return t&&de.forEach(function(Yr){return i(P,Yr)}),Le&&qi(P,Ie),me}function ye(P,M,j,J){if(j==null)throw Error(s(151));for(var me=null,je=null,de=M,Ie=M=0,Oe=null,Be=j.next();de!==null&&!Be.done;Ie++,Be=j.next()){de.index>Ie?(Oe=de,de=null):Oe=de.sibling;var Yr=q(P,de,Be.value,J);if(Yr===null){de===null&&(de=Oe);break}t&&de&&Yr.alternate===null&&i(P,de),M=d(Yr,M,Ie),je===null?me=Yr:je.sibling=Yr,je=Yr,de=Oe}if(Be.done)return a(P,de),Le&&qi(P,Ie),me;if(de===null){for(;!Be.done;Ie++,Be=j.next())Be=Z(P,Be.value,J),Be!==null&&(M=d(Be,M,Ie),je===null?me=Be:je.sibling=Be,je=Be);return Le&&qi(P,Ie),me}for(de=l(de);!Be.done;Ie++,Be=j.next())Be=Q(de,P,Ie,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?Ie:Be.key),M=d(Be,M,Ie),je===null?me=Be:je.sibling=Be,je=Be);return t&&de.forEach(function(YS){return i(P,YS)}),Le&&qi(P,Ie),me}function Ze(P,M,j,J){if(typeof j=="object"&&j!==null&&j.type===Y&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case k:e:{for(var me=j.key;M!==null;){if(M.key===me){if(me=j.type,me===Y){if(M.tag===7){a(P,M.sibling),J=h(M,j.props.children),J.return=P,P=J;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Ps(me)===M.type){a(P,M.sibling),J=h(M,j.props),al(J,j),J.return=P,P=J;break e}a(P,M);break}else i(P,M);M=M.sibling}j.type===Y?(J=Os(j.props.children,P.mode,J,j.key),J.return=P,P=J):(J=Ku(j.type,j.key,j.props,null,P.mode,J),al(J,j),J.return=P,P=J)}return _(P);case F:e:{for(me=j.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(P,M.sibling),J=h(M,j.children||[]),J.return=P,P=J;break e}else{a(P,M);break}else i(P,M);M=M.sibling}J=bf(j,P.mode,J),J.return=P,P=J}return _(P);case R:return j=Ps(j),Ze(P,M,j,J)}if(Nt(j))return fe(P,M,j,J);if(L(j)){if(me=L(j),typeof me!="function")throw Error(s(150));return j=me.call(j),ye(P,M,j,J)}if(typeof j.then=="function")return Ze(P,M,tc(j),J);if(j.$$typeof===ie)return Ze(P,M,Ju(P,j),J);nc(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(a(P,M.sibling),J=h(M,j),J.return=P,P=J):(a(P,M),J=Tf(j,P.mode,J),J.return=P,P=J),_(P)):a(P,M)}return function(P,M,j,J){try{sl=0;var me=Ze(P,M,j,J);return Oa=null,me}catch(de){if(de===xa||de===Wu)throw de;var je=_n(29,de,null,P.mode);return je.lanes=J,je.return=P,je}finally{}}}var zs=jg(!0),Bg=jg(!1),Nr=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Or(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(t),Ag(t,null,a),i}return Qu(t,l,i,a),Yu(t)}function ol(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}function Lf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Pf=!1;function ll(){if(Pf){var t=Na;if(t!==null)throw t}}function ul(t,i,a,l){Pf=!1;var h=t.updateQueue;Nr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==_&&(b===null?K.firstBaseUpdate=H:b.next=H,K.lastBaseUpdate=N))}if(d!==null){var Z=h.baseState;_=0,K=H=N=null,b=d;do{var q=b.lane&-536870913,Q=q!==b.lane;if(Q?(xe&q)===q:(l&q)===q){q!==0&&q===Da&&(Pf=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=t,ye=b;q=i;var Ze=a;switch(ye.tag){case 1:if(fe=ye.payload,typeof fe=="function"){Z=fe.call(Ze,Z,q);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ye.payload,q=typeof fe=="function"?fe.call(Ze,Z,q):fe,q==null)break e;Z=T({},Z,q);break e;case 2:Nr=!0}}q=b.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(H=K=Q,N=Z):K=K.next=Q,_|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);K===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=H,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Pr|=_,t.lanes=_,t.memoizedState=Z}}function Hg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function qg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hg(a[t],i)}var Ma=V(null),ic=V(0);function Fg(t,i){t=er,ae(ic,t),ae(Ma,i),er=t|i.baseLanes}function Uf(){ae(ic,er),ae(Ma,Ma.current)}function zf(){er=ic.current,W(Ma),W(ic)}var vn=V(null),kn=null;function Mr(t){var i=t.alternate;ae(mt,mt.current&1),ae(vn,t),kn===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(kn=t)}function jf(t){ae(mt,mt.current),ae(vn,t),kn===null&&(kn=t)}function Gg(t){t.tag===22?(ae(mt,mt.current),ae(vn,t),kn===null&&(kn=t)):Vr()}function Vr(){ae(mt,mt.current),ae(vn,vn.current)}function En(t){W(vn),kn===t&&(kn=null),W(mt)}var mt=V(0);function rc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||Yd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Re=null,$e=null,At=null,sc=!1,Va=!1,js=!1,ac=0,cl=0,ka=null,P1=0;function ct(){throw Error(s(321))}function Bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function Hf(t,i,a,l,h,d){return Qi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Iy:id,js=!1,d=a(l,h),js=!1,Va&&(d=Yg(i,a,l,h)),Qg(t),d}function Qg(t){X.H=dl;var i=$e!==null&&$e.next!==null;if(Qi=0,At=$e=Re=null,sc=!1,cl=0,ka=null,i)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&$u(t)&&(wt=!0))}function Yg(t,i,a,l){Re=t;var h=0;do{if(Va&&(ka=null),cl=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,At=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Dy,d=i(a,l)}while(Va);return d}function U1(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?hl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),i}function qf(){var t=ac!==0;return ac=0,t}function Ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Gf(t){if(sc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}sc=!1}Qi=0,At=$e=Re=null,Va=!1,cl=ac=0,ka=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=t:At=At.next=t,At}function pt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=At===null?Re.memoizedState:At.next;if(i!==null)At=i,$e=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},At===null?Re.memoizedState=At=t:At=At.next=t}return At}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var i=cl;return cl+=1,ka===null&&(ka=[]),t=Pg(ka,t,i),i=Re,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Iy:id),t}function lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===ie)return Ft(t)}throw Error(s(438,String(t)))}function Qf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=oc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Yi(t,i){return typeof i=="function"?i(t):i}function uc(t){var i=pt();return Yf(i,$e,t)}function Yf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=_=null,N=null,H=i,K=!1;do{var Z=H.lane&-536870913;if(Z!==H.lane?(xe&Z)===Z:(Qi&Z)===Z){var q=H.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),Z===Da&&(K=!0);else if((Qi&q)===q){H=H.next,q===Da&&(K=!0);continue}else Z={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(b=N=Z,_=d):N=N.next=Z,Re.lanes|=q,Pr|=q;Z=H.action,js&&a(d,Z),d=H.hasEagerState?H.eagerState:a(d,Z)}else q={lane:Z,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(b=N=q,_=d):N=N.next=q,Re.lanes|=Z,Pr|=Z;H=H.next}while(H!==null&&H!==i);if(N===null?_=d:N.next=b,!yn(d,t.memoizedState)&&(wt=!0,K&&(a=Na,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kf(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Kg(t,i,a){var l=Re,h=pt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,wt=!0),h=h.queue,Jf(Jg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},$g.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Qi&127)!==0||Xg(l,i,a)}return a}function Xg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=oc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function $g(t,i,a,l){i.value=a,i.getSnapshot=l,Zg(i)&&Wg(t)}function Jg(t,i,a){return a(function(){Zg(i)&&Wg(t)})}function Zg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Wg(t){var i=xs(t,2);i!==null&&fn(i,t,2)}function Xf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),js){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function ey(t,i,a,l){return t.baseState=a,Yf(t,$e,typeof l=="function"?l:Yi)}function z1(t,i,a,l,h){if(fc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ty(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var b=a(h,l),N=X.S;N!==null&&N(_,b),ny(t,i,b)}catch(H){$f(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(h,l),ny(t,i,d)}catch(H){$f(t,i,H)}}function ny(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){iy(t,i,l)},function(l){return $f(t,i,l)}):iy(t,i,a)}function iy(t,i,a){i.status="fulfilled",i.value=a,ry(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ty(t,a)))}function $f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ry(i),i=i.next;while(i!==l)}t.action=null}function ry(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function sy(t,i){return i}function ay(t,i){if(Le){var a=et.formState;if(a!==null){e:{var l=Re;if(Le){if(nt){t:{for(var h=nt,d=Vn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=Ln(h.nextSibling),l=h.data==="F!";break e}}Ir(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:i},a.queue=l,a=wy.bind(null,Re,l),l.dispatch=a,l=Xf(!1),d=nd.bind(null,Re,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=z1.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function oy(t){var i=pt();return ly(i,$e,t)}function ly(t,i,a){if(i=Yf(t,i,sy)[0],t=uc(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=hl(i)}catch(_){throw _===xa?Wu:_}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,La(9,{destroy:void 0},j1.bind(null,h,a),null)),[l,d,t]}function j1(t,i){t.action=i}function uy(t){var i=pt(),a=$e;if(a!==null)return ly(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function La(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=oc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function cy(){return pt().memoizedState}function cc(t,i,a,l){var h=sn();Re.flags|=t,h.memoizedState=La(1|i,{destroy:void 0},a,l===void 0?null:l)}function hc(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Bf(l,$e.memoizedState.deps)?h.memoizedState=La(i,d,a,l):(Re.flags|=t,h.memoizedState=La(1|i,d,a,l))}function hy(t,i){cc(8390656,8,t,i)}function Jf(t,i){hc(2048,8,t,i)}function B1(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=oc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function fy(t){var i=pt().memoizedState;return B1({ref:i,nextImpl:t}),function(){if((qe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function dy(t,i){return hc(4,2,t,i)}function my(t,i){return hc(4,4,t,i)}function py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gy(t,i,a){a=a!=null?a.concat([t]):null,hc(4,4,py.bind(null,i,t),a)}function Zf(){}function yy(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function _y(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Bf(i,l[1]))return l[0];if(l=t(),js){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function Wf(t,i,a){return a===void 0||(Qi&1073741824)!==0&&(xe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=v_(),Re.lanes|=t,Pr|=t,a)}function vy(t,i,a,l){return yn(a,i)?a:Ma.current!==null?(t=Wf(t,a,l),yn(t,i)||(wt=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(xe&261930)===0?(wt=!0,t.memoizedState=a):(t=v_(),Re.lanes|=t,Pr|=t,i)}function Ey(t,i,a,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=X.T,b={};X.T=b,nd(t,!1,i,a);try{var N=h(),H=X.S;if(H!==null&&H(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=L1(N,l);fl(t,i,K,Sn(t))}else fl(t,i,l,Sn(t))}catch(Z){fl(t,i,{then:function(){},status:"rejected",reason:Z},Sn())}finally{se.p=d,_!==null&&b.types!==null&&(_.types=b.types),X.T=_}}function H1(){}function ed(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ty(t).queue;Ey(t,h,i,ge,a===null?H1:function(){return by(t),a(l)})}function Ty(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function by(t){var i=Ty(t);i.next===null&&(i=t.alternate.memoizedState),fl(t,i.next.queue,{},Sn())}function td(){return Ft(Dl)}function Sy(){return pt().memoizedState}function Ay(){return pt().memoizedState}function q1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=xr(a);var l=Or(i,t,a);l!==null&&(fn(l,i,a),ol(l,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function F1(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fc(t)?Ry(i,a):(a=vf(t,i,a,l),a!==null&&(fn(a,t,l),Cy(a,i,l)))}function wy(t,i,a){var l=Sn();fl(t,i,a,l)}function fl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fc(t))Ry(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,yn(b,_))return Qu(t,i,h,0),et===null&&Gu(),!1}catch{}finally{}if(a=vf(t,i,h,l),a!==null)return fn(a,t,l),Cy(a,i,l),!0}return!1}function nd(t,i,a,l){if(l={lane:2,revertLane:Vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fc(t)){if(i)throw Error(s(479))}else i=vf(t,a,l,2),i!==null&&fn(i,t,2)}function fc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Ry(t,i){Va=sc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Cy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}var dl={readContext:Ft,use:lc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};dl.useEffectEvent=ct;var Iy={readContext:Ft,use:lc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:hy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,cc(4194308,4,py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return cc(4194308,4,t,i)},useInsertionEffect:function(t,i){cc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(js){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(js){wn(!0);try{a(i)}finally{wn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=F1.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Xf(t);var i=t.queue,a=wy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,i){var a=sn();return Wf(a,t,i)},useTransition:function(){var t=Xf(!1);return t=Ey.bind(null,Re,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=sn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(xe&127)!==0||Xg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,hy(Jg.bind(null,l,d,t),[t]),l.flags|=2048,La(9,{destroy:void 0},$g.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=et.identifierPrefix;if(Le){var a=Ri,l=wi;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ac++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=P1++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:td,useFormState:ay,useActionState:ay,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=nd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return sn().memoizedState=q1.bind(null,Re)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((qe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},id={readContext:Ft,use:lc,useCallback:yy,useContext:Ft,useEffect:Jf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:uc,useRef:cy,useState:function(){return uc(Yi)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=pt();return vy(a,$e.memoizedState,t,i)},useTransition:function(){var t=uc(Yi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:Kg,useId:Sy,useHostTransitionStatus:td,useFormState:oy,useActionState:oy,useOptimistic:function(t,i){var a=pt();return ey(a,$e,t,i)},useMemoCache:Qf,useCacheRefresh:Ay};id.useEffectEvent=fy;var Dy={readContext:Ft,use:lc,useCallback:yy,useContext:Ft,useEffect:Jf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:Kf,useRef:cy,useState:function(){return Kf(Yi)},useDebugValue:Zf,useDeferredValue:function(t,i){var a=pt();return $e===null?Wf(a,t,i):vy(a,$e.memoizedState,t,i)},useTransition:function(){var t=Kf(Yi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:Kg,useId:Sy,useHostTransitionStatus:td,useFormState:uy,useActionState:uy,useOptimistic:function(t,i){var a=pt();return $e!==null?ey(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Ay};Dy.useEffectEvent=fy;function rd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=xr(l);h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(fn(i,t,l),ol(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=xr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(fn(i,t,l),ol(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=xr(a);l.tag=2,i!=null&&(l.callback=i),i=Or(t,l,a),i!==null&&(fn(i,t,a),ol(i,t,a))}};function Ny(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function xy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&sd.enqueueReplaceState(i,i.state,null)}function Bs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Oy(t){Fu(t)}function My(t){console.error(t)}function Vy(t){Fu(t)}function dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ky(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,i,a){return a=xr(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,i)},a}function Ly(t){return t=xr(t),t.tag=3,t}function Py(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ky(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ky(i,a,l),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function G1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ia(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?wc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ec?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),xd(t,l,h)),!1;case 22:return a.flags|=65536,l===ec?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),xd(t,l,h)),!1}throw Error(s(435,a.tag))}return xd(t,l,h),wc(),!1}if(Le)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wf&&(t=Error(s(422),{cause:l}),nl(xn(t,a)))):(l!==wf&&(i=Error(s(423),{cause:l}),nl(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=ad(t.stateNode,l,h),Lf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),Tl===null?Tl=[d]:Tl.push(d),ht!==4&&(ht=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,l,t),Lf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ly(h),Py(h,t,a,l),Lf(a,h),!1}a=a.return}while(a!==null);return!1}var od=Error(s(461)),wt=!1;function Gt(t,i,a,l){i.child=t===null?Bg(i,null,a,l):zs(i,t.child,a,l)}function Uy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return ks(i),l=Hf(t,i,a,_,d,h),b=qf(),t!==null&&!wt?(Ff(t,i,h),Ki(t,i,h)):(Le&&b&&Sf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function zy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,jy(t,i,d,l,h)):(t=Ku(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!pd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,l)&&t.ref===i.ref)return Ki(t,i,h)}return i.flags|=1,t=Hi(d,l),t.ref=i.ref,t.return=i,i.child=t}function jy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===i.ref)if(wt=!1,i.pendingProps=l=d,pd(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,Ki(t,i,h)}return ld(t,i,a,l,h)}function By(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Hy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,d!==null?d.cachePool:null),d!==null?Fg(i,d):Uf(),Gg(i);else return l=i.lanes=536870912,Hy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Zu(i,d.cachePool),Fg(i,d),Vr(),i.memoizedState=null):(t!==null&&Zu(i,null),Uf(),Vr());return Gt(t,i,h,a),i.child}function ml(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Hy(t,i,a,l,h){var d=Of();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Zu(i,null),Uf(),Gg(i),t!==null&&Ia(t,i,l,!0),i.childLanes=h,null}function mc(t,i){return i=gc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function qy(t,i,a){return zs(i,t.child,null,a),t=mc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function Q1(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=mc(i,l),i.lanes=536870912,ml(null,t);if(jf(i),(t=nt)?(t=tv(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Rg(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw Ir(i);return i.lanes=536870912,null}return mc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(jf(i),h)if(i.flags&256)i.flags&=-257,i=qy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(wt||Ia(t,i,a,!1),h=(a&t.childLanes)!==0,wt||h){if(l=et,l!==null&&(_=ko(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,xs(t,_),fn(l,t,_),od;wc(),i=qy(t,i,a)}else t=d.treeContext,nt=Ln(_.nextSibling),qt=i,Le=!0,Cr=null,Vn=!1,t!==null&&Dg(i,t),i=mc(i,l),i.flags|=4096;return i}return t=Hi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function pc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ld(t,i,a,l,h){return ks(i),a=Hf(t,i,a,l,void 0,h),l=qf(),t!==null&&!wt?(Ff(t,i,h),Ki(t,i,h)):(Le&&l&&Sf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function Fy(t,i,a,l,h,d){return ks(i),i.updateQueue=null,a=Yg(i,l,a,h),Qg(t),l=qf(),t!==null&&!wt?(Ff(t,i,d),Ki(t,i,d)):(Le&&l&&Sf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function Gy(t,i,a,l,h){if(ks(i),i.stateNode===null){var d=Aa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Aa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(rd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&sd.enqueueReplaceState(d,d.state,null),ul(i,l,d,h),ll(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,N=Bs(a,b);d.props=N;var H=d.context,K=a.contextType;_=Aa,typeof K=="object"&&K!==null&&(_=Ft(K));var Z=a.getDerivedStateFromProps;K=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&xy(i,d,l,_),Nr=!1;var q=i.memoizedState;d.state=q,ul(i,l,d,h),ll(),H=i.memoizedState,b||q!==H||Nr?(typeof Z=="function"&&(rd(i,a,Z,l),H=i.memoizedState),(N=Nr||Ny(i,a,N,l,q,H,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,kf(t,i),_=i.memoizedProps,K=Bs(a,_),d.props=K,Z=i.pendingProps,q=d.context,H=a.contextType,N=Aa,typeof H=="object"&&H!==null&&(N=Ft(H)),b=a.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||q!==N)&&xy(i,d,l,N),Nr=!1,q=i.memoizedState,d.state=q,ul(i,l,d,h),ll();var Q=i.memoizedState;_!==Z||q!==Q||Nr||t!==null&&t.dependencies!==null&&$u(t.dependencies)?(typeof b=="function"&&(rd(i,a,b,l),Q=i.memoizedState),(K=Nr||Ny(i,a,K,l,q,Q,N)||t!==null&&t.dependencies!==null&&$u(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,pc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=zs(i,t.child,null,h),i.child=zs(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ki(t,i,h),t}function Qy(t,i,a,l){return Ms(),i.flags|=256,Gt(t,i,a,l),i.child}var ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(t){return{baseLanes:t,cachePool:kg()}}function hd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=bn),t}function Yy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?Mr(i):Vr(),(t=nt)?(t=tv(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Rg(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw Ir(i);return Yd(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Vr(),h=i.mode,b=gc({mode:"hidden",children:b},h),l=Os(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,ml(null,l)):(Mr(i),fd(i,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(Mr(i),i.flags&=-257,i=dd(t,i,a)):i.memoizedState!==null?(Vr(),i.child=t.child,i.flags|=128,i=null):(Vr(),b=l.fallback,h=i.mode,l=gc({mode:"visible",children:l.children},h),b=Os(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,zs(i,t.child,null,a),l=i.child,l.memoizedState=cd(a),l.childLanes=hd(t,_,a),i.memoizedState=ud,i=ml(null,l));else if(Mr(i),Yd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),i=dd(t,i,a)}else if(wt||Ia(t,i,a,!1),_=(a&t.childLanes)!==0,wt||_){if(_=et,_!==null&&(l=ko(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,xs(t,l),fn(_,t,l),od;Qd(b)||wc(),i=dd(t,i,a)}else Qd(b)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,nt=Ln(b.nextSibling),qt=i,Le=!0,Cr=null,Vn=!1,t!==null&&Dg(i,t),i=fd(i,l.children),i.flags|=4096);return i}return h?(Vr(),b=l.fallback,h=i.mode,N=t.child,H=N.sibling,l=Hi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?b=Hi(H,b):(b=Os(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,ml(null,l),l=i.child,b=t.child.memoizedState,b===null?b=cd(a):(h=b.cachePool,h!==null?(N=St._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=kg(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=hd(t,_,a),i.memoizedState=ud,ml(t.child,l)):(Mr(i),a=t.child,t=a.sibling,a=Hi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function fd(t,i){return i=gc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function gc(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function dd(t,i,a){return zs(i,t.child,null,a),t=fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ky(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),If(t.return,i,a)}function md(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Xy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,ae(mt,_),Gt(t,i,l,a),l=Le?tl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ky(t,a,i);else if(t.tag===19)Ky(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),md(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}md(i,!0,a,null,d,l);break;case"together":md(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Pr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ia(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Hi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function pd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&$u(t)))}function Y1(t,i,a){switch(i.tag){case 3:xt(i,i.stateNode.containerInfo),Dr(i,St,t.memoizedState.cache),Ms();break;case 27:case 5:ds(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,jf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Mr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Yy(t,i,a):(Mr(i),t=Ki(t,i,a),t!==null?t.sibling:null);Mr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ia(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Xy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(mt,mt.current),l)break;return null;case 22:return i.lanes=0,By(t,i,a,i.pendingProps);case 24:Dr(i,St,t.memoizedState.cache)}return Ki(t,i,a)}function $y(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!pd(t,a)&&(i.flags&128)===0)return wt=!1,Y1(t,i,a);wt=(t.flags&131072)!==0}else wt=!1,Le&&(i.flags&1048576)!==0&&Ig(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ps(i.elementType),i.type=t,typeof t=="function")Ef(t)?(l=Bs(t,l),i.tag=1,i=Gy(null,i,t,l,a)):(i.tag=0,i=ld(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===_e){i.tag=11,i=Uy(null,i,t,l,a);break e}else if(h===A){i.tag=14,i=zy(null,i,t,l,a);break e}}throw i=We(t)||t,Error(s(306,i,""))}}return i;case 0:return ld(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Bs(l,i.pendingProps),Gy(t,i,l,h,a);case 3:e:{if(xt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,kf(t,i),ul(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Dr(i,St,l),l!==d.cache&&Df(i,[St],a,!0),ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Qy(t,i,l,a);break e}else if(l!==h){h=xn(Error(s(424)),i),nl(h),i=Qy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Ln(t.firstChild),qt=i,Le=!0,Cr=null,Vn=!0,a=Bg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ms(),l===h){i=Ki(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return pc(t,i),t===null?(a=ov(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Oc(Ce.current).createElement(a),l[Et]=i,l[Lt]=t,Qt(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=ov(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ds(i),t===null&&Le&&(l=i.stateNode=rv(i.type,i.pendingProps,Ce.current),qt=i,Vn=!0,h=nt,Hr(i.type)?(Kd=h,nt=Ln(l.firstChild)):nt=h),Gt(t,i,i.pendingProps.children,a),pc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=nt)&&(l=SS(l,i.type,i.pendingProps,Vn),l!==null?(i.stateNode=l,qt=i,nt=Ln(l.firstChild),Vn=!1,h=!0):h=!1),h||Ir(i)),ds(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,qd(h,d)?l=null:_!==null&&qd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Hf(t,i,U1,null,null,a),Dl._currentValue=h),pc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=nt)&&(a=AS(a,i.pendingProps,Vn),a!==null?(i.stateNode=a,qt=i,nt=null,t=!0):t=!1),t||Ir(i)),null;case 13:return Yy(t,i,a);case 4:return xt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=zs(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return Uy(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ks(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return zy(t,i,i.type,i.pendingProps,a);case 15:return jy(t,i,i.type,i.pendingProps,a);case 19:return Xy(t,i,a);case 31:return Q1(t,i,a);case 22:return By(t,i,a,i.pendingProps);case 24:return ks(i),l=Ft(St),t===null?(h=Of(),h===null&&(h=et,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),Dr(i,St,h)):((t.lanes&a)!==0&&(kf(t,i),ul(i,null,null,a),ll()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Dr(i,St,l)):(l=d.cache,Dr(i,St,l),l!==h.cache&&Df(i,[St],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xi(t){t.flags|=4}function gd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(S_())t.flags|=8192;else throw Us=ec,Mf}else t.flags&=-16777217}function Jy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fv(i))if(S_())t.flags|=8192;else throw Us=ec,Mf}function yc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Su():536870912,t.lanes|=i,ja|=i)}function pl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function K1(t,i,a){var l=i.pendingProps;switch(Af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ca(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rf())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Xi(i),d!==null?(it(i),Jy(i,d)):(it(i),gd(i,h,null,l,a))):d?d!==t.memoizedState?(Xi(i),it(i),Jy(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xi(i),it(i),gd(i,h,t,l,a)),null;case 27:if(sa(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ce.current,Ca(i)?Ng(i):(t=rv(h,l,a),i.stateNode=t,Xi(i))}return it(i),null;case 5:if(sa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=ce.current,Ca(i))Ng(i);else{var _=Oc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Et]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xi(i)}}return it(i),gd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Ca(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Y_(t.nodeValue,a)),t||Ir(i,!0)}else t=Oc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ca(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ca(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=Rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),yc(i,i.updateQueue),it(i),null);case 4:return st(),t===null&&Ud(i.stateNode.containerInfo),it(i),null;case 10:return Gi(i.type),it(i),null;case 19:if(W(mt),l=i.memoizedState,l===null)return it(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)pl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=rc(t),d!==null){for(i.flags|=128,pl(l,!1),t=d.updateQueue,i.updateQueue=t,yc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)wg(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Le&&qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>bc&&(i.flags|=128,h=!0,pl(l,!1),i.lanes=4194304)}else{if(!h)if(t=rc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,yc(i,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return it(i),null}else 2*nn()-l.renderingStartTime>bc&&a!==536870912&&(i.flags|=128,h=!0,pl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=mt.current,ae(mt,h?a&1|2:a&1),Le&&qi(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return En(i),zf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&yc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&W(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(St),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function X1(t,i){switch(Af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gi(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return sa(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));Ms()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ms()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(mt),null;case 4:return st(),null;case 10:return Gi(i.type),null;case 22:case 23:return En(i),zf(),t!==null&&W(Ls),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gi(St),null;case 25:return null;default:return null}}function Zy(t,i){switch(Af(i),i.tag){case 3:Gi(St),st();break;case 26:case 27:case 5:sa(i);break;case 4:st();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:W(mt);break;case 10:Gi(i.type);break;case 22:case 23:En(i),zf(),t!==null&&W(Ls);break;case 24:Gi(St)}}function gl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){Ke(i,i.return,b)}}function kr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var N=a,H=b;try{H()}catch(K){Ke(h,N,K)}}}l=l.next}while(l!==d)}}catch(K){Ke(i,i.return,K)}}function Wy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{qg(i,a)}catch(l){Ke(t,t.return,l)}}}function e_(t,i,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ke(t,i,l)}}function yl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ke(t,i,h)}}function Ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ke(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ke(t,i,h)}else a.current=null}function t_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ke(t,t.return,h)}}function yd(t,i,a){try{var l=t.stateNode;yS(l,t.type,a,i),l[Lt]=i}catch(h){Ke(t,t.return,h)}}function n_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hr(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(vd(t,i,a),t=t.sibling;t!==null;)vd(t,i,a),t=t.sibling}function _c(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Hr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_c(t,i,a),t=t.sibling;t!==null;)_c(t,i,a),t=t.sibling}function i_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[Et]=t,i[Lt]=a}catch(d){Ke(t,t.return,d)}}var $i=!1,Rt=!1,Ed=!1,r_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function $1(t,i){if(t=t.containerInfo,Bd=zc,t=gg(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,N=-1,H=0,K=0,Z=t,q=null;t:for(;;){for(var Q;Z!==a||h!==0&&Z.nodeType!==3||(b=_+h),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)q=Z,Z=Q;for(;;){if(Z===t)break t;if(q===a&&++H===h&&(b=_),q===d&&++K===l&&(N=_),(Q=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=Q}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:t,selectionRange:a},zc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Bs(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ke(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function s_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),l&4&&gl(5,a);break;case 1:if(Zi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ke(a,a.return,_)}else{var h=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ke(a,a.return,_)}}l&64&&Wy(a),l&512&&yl(a,a.return);break;case 3:if(Zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{qg(t,i)}catch(_){Ke(a,a.return,_)}}break;case 27:i===null&&l&4&&i_(a);case 26:case 5:Zi(t,a),i===null&&l&4&&t_(a),l&512&&yl(a,a.return);break;case 12:Zi(t,a);break;case 31:Zi(t,a),l&4&&l_(t,a);break;case 13:Zi(t,a),l&4&&u_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=sS.bind(null,a),wS(t,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){i=i!==null&&i.memoizedState!==null||Rt,h=$i;var d=Rt;$i=l,(Rt=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),$i=h,Rt=d}break;case 30:break;default:Zi(t,a)}}function a_(t){var i=t.alternate;i!==null&&(t.alternate=null,a_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ca(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function Ji(t,i,a){for(a=a.child;a!==null;)o_(t,i,a),a=a.sibling}function o_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Rt||Ci(a,i),Ji(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ci(a,i);var l=ot,h=ln;Hr(a.type)&&(ot=a.stateNode,ln=!1),Ji(t,i,a),Rl(a.stateNode),ot=l,ln=h;break;case 5:Rt||Ci(a,i);case 6:if(l=ot,h=ln,ot=null,Ji(t,i,a),ot=l,ln=h,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ke(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ke(a,i,d)}break;case 18:ot!==null&&(ln?(t=ot,W_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ka(t)):W_(ot,a.stateNode));break;case 4:l=ot,h=ln,ot=a.stateNode.containerInfo,ln=!0,Ji(t,i,a),ot=l,ln=h;break;case 0:case 11:case 14:case 15:kr(2,a,i),Rt||kr(4,a,i),Ji(t,i,a);break;case 1:Rt||(Ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&e_(a,i,l)),Ji(t,i,a);break;case 21:Ji(t,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,Ji(t,i,a),Rt=l;break;default:Ji(t,i,a)}}function l_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ka(t)}catch(a){Ke(i,i.return,a)}}}function u_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ka(t)}catch(a){Ke(i,i.return,a)}}function J1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new r_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new r_),i;default:throw Error(s(435,t.tag))}}function vc(t,i){var a=J1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=aS.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Hr(b.type)){ot=b.stateNode,ln=!1;break e}break;case 5:ot=b.stateNode,ln=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,ln=!0;break e}b=b.return}if(ot===null)throw Error(s(160));o_(d,_,h),ot=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)c_(i,t),i=i.sibling}var Zn=null;function c_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(kr(3,t,t.return),gl(3,t),kr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(Rt||a===null||Ci(a,a.return)),l&64&&$i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(un(i,t),cn(t),l&512&&(Rt||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[Et]=t,Tt(d),l=d;break e;case"link":var _=cv("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=cv("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else hv(h,t.type,t.stateNode);else t.stateNode=uv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?hv(h,t.type,t.stateNode):uv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(Rt||a===null||Ci(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(Rt||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(fe){Ke(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ed=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Ke(t,t.return,fe)}}break;case 3:if(kc=null,h=Zn,Zn=Mc(i.containerInfo),un(i,t),Zn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(i.containerInfo)}catch(fe){Ke(t,t.return,fe)}Ed&&(Ed=!1,h_(t));break;case 4:l=Zn,Zn=Mc(t.stateNode.containerInfo),un(i,t),cn(t),Zn=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=$i,K=Rt;if($i=H||h,Rt=K||N,un(i,t),Rt=K,$i=H,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||$i||Rt||Hs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var Z=N.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){Ke(N,N.return,fe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(fe){Ke(N,N.return,fe)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?ev(Q,!0):ev(N.stateNode,!1)}catch(fe){Ke(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(n_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=_d(t);_c(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var b=_d(t);_c(t,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,H=_d(t);vd(t,H,N);break;default:throw Error(s(161))}}catch(K){Ke(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function h_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;h_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)s_(t,i.alternate,i),i=i.sibling}function Hs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),Hs(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&e_(i,i.return,a),Hs(i);break;case 27:Rl(i.stateNode);case 26:case 5:Ci(i,i.return),Hs(i);break;case 22:i.memoizedState===null&&Hs(i);break;case 30:Hs(i);break;default:Hs(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),gl(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Ke(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Hg(N[h],b)}catch(H){Ke(l,l.return,H)}}a&&_&64&&Wy(d),yl(d,d.return);break;case 27:i_(d);case 26:case 5:Wi(h,d,a),a&&l===null&&_&4&&t_(d),yl(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&l_(h,d);break;case 13:Wi(h,d,a),a&&_&4&&u_(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),yl(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function Td(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t))}function Wn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f_(t,i,a,l),i=i.sibling}function f_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,l),h&2048&&gl(9,i);break;case 1:Wn(t,i,a,l);break;case 3:Wn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t)));break;case 12:if(h&2048){Wn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ke(i,i.return,N)}}else Wn(t,i,a,l);break;case 31:Wn(t,i,a,l);break;case 13:Wn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(t,i,a,l):_l(t,i):d._visibility&2?Wn(t,i,a,l):(d._visibility|=2,Pa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Td(_,i);break;case 24:Wn(t,i,a,l),h&2048&&bd(i.alternate,i);break;default:Wn(t,i,a,l)}}function Pa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,N=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Pa(d,_,b,N,h),gl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Pa(d,_,b,N,h):_l(d,_):(K._visibility|=2,Pa(d,_,b,N,h)),h&&H&2048&&Td(_.alternate,_);break;case 24:Pa(d,_,b,N,h),h&&H&2048&&bd(_.alternate,_);break;default:Pa(d,_,b,N,h)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&Td(l.alternate,l);break;case 24:_l(a,l),h&2048&&bd(l.alternate,l);break;default:_l(a,l)}i=i.sibling}}var vl=8192;function Ua(t,i,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)d_(t,i,a),t=t.sibling}function d_(t,i,a){switch(t.tag){case 26:Ua(t,i,a),t.flags&vl&&t.memoizedState!==null&&PS(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Ua(t,i,a);break;case 3:case 4:var l=Zn;Zn=Mc(t.stateNode.containerInfo),Ua(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vl,vl=16777216,Ua(t,i,a),vl=l):Ua(t,i,a));break;default:Ua(t,i,a)}}function m_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,g_(l,t)}m_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&kr(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ec(t)):El(t);break;default:El(t)}}function Ec(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,g_(l,t)}m_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:kr(8,i,i.return),Ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(i));break;default:Ec(i)}t=t.sibling}}function g_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(a_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var Z1={getCacheForType:function(t){var i=Ft(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(St).controller.signal}},W1=typeof WeakMap=="function"?WeakMap:Map,qe=0,et=null,De=null,xe=0,Ye=0,Tn=null,Lr=!1,za=!1,Sd=!1,er=0,ht=0,Pr=0,qs=0,Ad=0,bn=0,ja=0,Tl=null,hn=null,wd=!1,Tc=0,y_=0,bc=1/0,Sc=null,Ur=null,Mt=0,zr=null,Ba=null,tr=0,Rd=0,Cd=null,__=null,bl=0,Id=null;function Sn(){return(qe&2)!==0&&xe!==0?xe&-xe:X.T!==null?Vd():Au()}function v_(){if(bn===0)if((xe&536870912)===0||Le){var t=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function fn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),jr(t,xe,bn,!1)),ys(t,a),((qe&2)===0||t!==et)&&(t===et&&((qe&2)===0&&(qs|=a),ht===4&&jr(t,xe,bn,!1)),Ii(t))}function E_(t,i,a){if((qe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qn(t,i),h=l?nS(t,i):Nd(t,i,!0),d=l;do{if(h===0){za&&!l&&jr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!eS(a)){h=Nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;h=Tl;var N=b.current.memoizedState.isDehydrated;if(N&&(Ha(b,_).flags|=256),_=Nd(b,_,!1),_!==2){if(Sd&&!N){b.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ha(t,0),jr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:jr(l,i,bn,!Lr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Tc+300-nn(),10<h)){if(jr(l,i,bn,!Lr),ci(l,0,!0)!==0)break e;tr=i,l.timeoutHandle=J_(T_.bind(null,l,a,hn,Sc,wd,i,bn,qs,ja,Lr,d,"Throttled",-0,0),h);break e}T_(l,a,hn,Sc,wd,i,bn,qs,ja,Lr,d,null,-0,0)}}break}while(!0);Ii(t)}function T_(t,i,a,l,h,d,_,b,N,H,K,Z,q,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},d_(i,d,Z);var fe=(d&62914560)===d?Tc-nn():(d&4194048)===d?y_-nn():0;if(fe=US(Z,fe),fe!==null){tr=d,t.cancelPendingCommit=fe(D_.bind(null,t,i,d,a,l,h,_,b,N,K,Z,null,q,Q)),jr(t,d,_,!H);return}}D_(t,i,d,a,l,h,_,b,N)}function eS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function jr(t,i,a,l){i&=~Ad,i&=~qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&_s(t,a,i)}function Ac(){return(qe&6)===0?(Sl(0),!1):!0}function Dd(){if(De!==null){if(Ye===0)var t=De.return;else t=De,Fi=Vs=null,Gf(t),Oa=null,sl=0,t=De;for(;t!==null;)Zy(t.alternate,t),t=t.return;De=null}}function Ha(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ES(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),tr=0,Dd(),et=t,De=a=Hi(t.current,null),xe=i,Ye=0,Tn=null,Lr=!1,za=qn(t,i),Sd=!1,ja=bn=Ad=qs=Pr=ht=0,hn=Tl=null,wd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ft(l),d=1<<h;i|=t[h],l&=~d}return er=i,Gu(),a}function b_(t,i){Re=null,X.H=dl,i===xa||i===Wu?(i=Ug(),Ye=3):i===Mf?(i=Ug(),Ye=4):Ye=i===od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,De===null&&(ht=1,dc(t,xn(i,t.current)))}function S_(){var t=vn.current;return t===null?!0:(xe&4194048)===xe?kn===null:(xe&62914560)===xe||(xe&536870912)!==0?t===kn:!1}function A_(){var t=X.H;return X.H=dl,t===null?dl:t}function w_(){var t=X.A;return X.A=Z1,t}function wc(){ht=4,Lr||(xe&4194048)!==xe&&vn.current!==null||(za=!0),(Pr&134217727)===0&&(qs&134217727)===0||et===null||jr(et,xe,bn,!1)}function Nd(t,i,a){var l=qe;qe|=2;var h=A_(),d=w_();(et!==t||xe!==i)&&(Sc=null,Ha(t,i)),i=!1;var _=ht;e:do try{if(Ye!==0&&De!==null){var b=De,N=Tn;switch(Ye){case 8:Dd(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var H=Ye;if(Ye=0,Tn=null,qa(t,b,N,H),a&&za){_=0;break e}break;default:H=Ye,Ye=0,Tn=null,qa(t,b,N,H)}}tS(),_=ht;break}catch(K){b_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Fi=Vs=null,qe=l,X.H=h,X.A=d,De===null&&(et=null,xe=0,Gu()),_}function tS(){for(;De!==null;)R_(De)}function nS(t,i){var a=qe;qe|=2;var l=A_(),h=w_();et!==t||xe!==i?(Sc=null,bc=nn()+500,Ha(t,i)):za=qn(t,i);e:do try{if(Ye!==0&&De!==null){i=De;var d=Tn;t:switch(Ye){case 1:Ye=0,Tn=null,qa(t,i,d,1);break;case 2:case 9:if(Lg(d)){Ye=0,Tn=null,C_(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Ii(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Lg(d)?(Ye=0,Tn=null,C_(i)):(Ye=0,Tn=null,qa(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var b=De;if(_?fv(_):b.stateNode.complete){Ye=0,Tn=null;var N=b.sibling;if(N!==null)De=N;else{var H=b.return;H!==null?(De=H,Rc(H)):De=null}break t}}Ye=0,Tn=null,qa(t,i,d,5);break;case 6:Ye=0,Tn=null,qa(t,i,d,6);break;case 8:Dd(),ht=6;break e;default:throw Error(s(462))}}iS();break}catch(K){b_(t,K)}while(!0);return Fi=Vs=null,X.H=l,X.A=h,qe=a,De!==null?0:(et=null,xe=0,Gu(),ht)}function iS(){for(;De!==null&&!af();)R_(De)}function R_(t){var i=$y(t.alternate,t,er);t.memoizedProps=t.pendingProps,i===null?Rc(t):De=i}function C_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Fy(a,i,i.pendingProps,i.type,void 0,xe);break;case 11:i=Fy(a,i,i.pendingProps,i.type.render,i.ref,xe);break;case 5:Gf(i);default:Zy(a,i),i=De=wg(i,er),i=$y(a,i,er)}t.memoizedProps=t.pendingProps,i===null?Rc(t):De=i}function qa(t,i,a,l){Fi=Vs=null,Gf(i),Oa=null,sl=0;var h=i.return;try{if(G1(t,h,i,a,xe)){ht=1,dc(t,xn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ht=1,dc(t,xn(a,t.current)),De=null;return}i.flags&32768?(Le||l===1?t=!0:za||(xe&536870912)!==0?t=!1:(Lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),I_(i,t)):Rc(i)}function Rc(t){var i=t;do{if((i.flags&32768)!==0){I_(i,Lr);return}t=i.return;var a=K1(i.alternate,i,er);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function I_(t,i){do{var a=X1(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function D_(t,i,a,l,h,d,_,b,N){t.cancelPendingCommit=null;do Cc();while(Mt!==0);if((qe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=_f,uf(t,a,d,_,b,N),t===et&&(De=et=null,xe=0),Ba=i,zr=t,tr=a,Rd=d,Cd=h,__=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,oS(gr,function(){return V_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=se.p,se.p=2,_=qe,qe|=4;try{$1(t,i,a)}finally{qe=_,se.p=h,X.T=l}}Mt=1,N_(),x_(),O_()}}function N_(){if(Mt===1){Mt=0;var t=zr,i=Ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var h=qe;qe|=4;try{c_(i,t);var d=Hd,_=gg(t.containerInfo),b=d.focusedElem,N=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&pg(b.ownerDocument.documentElement,b)){if(N!==null&&df(b)){var H=N.start,K=N.end;if(K===void 0&&(K=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(K,b.value.length);else{var Z=b.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var Q=q.getSelection(),fe=b.textContent.length,ye=Math.min(N.start,fe),Ze=N.end===void 0?ye:Math.min(N.end,fe);!Q.extend&&ye>Ze&&(_=Ze,Ze=ye,ye=_);var P=mg(b,ye),M=mg(b,Ze);if(P&&M&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var j=Z.createRange();j.setStart(P.node,P.offset),Q.removeAllRanges(),ye>Ze?(Q.addRange(j),Q.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),Q.addRange(j))}}}}for(Z=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var J=Z[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}zc=!!Bd,Hd=Bd=null}finally{qe=h,se.p=l,X.T=a}}t.current=i,Mt=2}}function x_(){if(Mt===2){Mt=0;var t=zr,i=Ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=se.p;se.p=2;var h=qe;qe|=4;try{s_(t,i.alternate,i)}finally{qe=h,se.p=l,X.T=a}}Mt=3}}function O_(){if(Mt===4||Mt===3){Mt=0,yu();var t=zr,i=Ba,a=tr,l=__;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Ba=zr=null,M_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ur=null),Ui(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=se.p,se.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{X.T=i,se.p=h}}(tr&3)!==0&&Cc(),Ii(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Id?bl++:(bl=0,Id=t):bl=0,Sl(0)}}function M_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,il(i)))}function Cc(){return N_(),x_(),O_(),V_()}function V_(){if(Mt!==5)return!1;var t=zr,i=Rd;Rd=0;var a=Ui(tr),l=X.T,h=se.p;try{se.p=32>a?32:a,X.T=null,a=Cd,Cd=null;var d=zr,_=tr;if(Mt=0,Ba=zr=null,tr=0,(qe&6)!==0)throw Error(s(331));var b=qe;if(qe|=4,p_(d.current),f_(d,d.current,_,a),qe=b,Sl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{se.p=h,X.T=l,M_(t,i)}}function k_(t,i,a){i=xn(a,i),i=ad(t.stateNode,i,2),t=Or(t,i,2),t!==null&&(ys(t,2),Ii(t))}function Ke(t,i,a){if(t.tag===3)k_(t,t,a);else for(;i!==null;){if(i.tag===3){k_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){t=xn(a,t),a=Ly(2),l=Or(i,a,2),l!==null&&(Py(a,l,i,t),ys(l,2),Ii(l));break}}i=i.return}}function xd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new W1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Sd=!0,h.add(a),t=rS.bind(null,t,i,a),i.then(t,t))}function rS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(xe&a)===a&&(ht===4||ht===3&&(xe&62914560)===xe&&300>nn()-Tc?(qe&2)===0&&Ha(t,0):Ad|=a,ja===xe&&(ja=0)),Ii(t)}function L_(t,i){i===0&&(i=Su()),t=xs(t,i),t!==null&&(ys(t,i),Ii(t))}function sS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),L_(t,a)}function aS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),L_(t,a)}function oS(t,i){return Ot(t,i)}var Ic=null,Fa=null,Od=!1,Dc=!1,Md=!1,Br=0;function Ii(t){t!==Fa&&t.next===null&&(Fa===null?Ic=Fa=t:Fa=Fa.next=t),Dc=!0,Od||(Od=!0,uS())}function Sl(t,i){if(!Md&&Dc){Md=!0;do for(var a=!1,l=Ic;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,j_(l,d))}else d=xe,d=ci(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qn(l,d)||(a=!0,j_(l,d));l=l.next}while(a);Md=!1}}function lS(){P_()}function P_(){Dc=Od=!1;var t=0;Br!==0&&vS()&&(t=Br);for(var i=nn(),a=null,l=Ic;l!==null;){var h=l.next,d=U_(l,i);d===0?(l.next=null,a===null?Ic=h:a.next=h,h===null&&(Fa=a)):(a=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=h}Mt!==0&&Mt!==5||Sl(t),Br!==0&&(Br=0)}function U_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),b=1<<_,N=h[_];N===-1?((b&a)===0||(b&l)!==0)&&(h[_]=lf(b,i)):N<=i&&(t.expiredLanes|=b),d&=~b}if(i=et,a=xe,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&pr(l),Ui(a)){case 2:case 8:a=Mo;break;case 32:a=gr;break;case 268435456:a=_u;break;default:a=gr}return l=z_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&pr(l),t.callbackPriority=2,t.callbackNode=null,2}function z_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cc()&&t.callbackNode!==a)return null;var l=xe;return l=ci(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(E_(t,l,i),U_(t,nn()),t.callbackNode!=null&&t.callbackNode===a?z_.bind(null,t):null)}function j_(t,i){if(Cc())return null;E_(t,i,!0)}function uS(){TS(function(){(qe&6)!==0?Ot(Oo,lS):P_()})}function Vd(){if(Br===0){var t=Da;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Br=t}return Br}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function H_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function cS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=B_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?B_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Ti("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Br!==0){var N=_?H_(h,_):new FormData(h);ed(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=_?H_(h,_):new FormData(h),ed(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var kd=0;kd<yf.length;kd++){var Ld=yf[kd],hS=Ld.toLowerCase(),fS=Ld[0].toUpperCase()+Ld.slice(1);Jn(hS,"on"+fS)}Jn(vg,"onAnimationEnd"),Jn(Eg,"onAnimationIteration"),Jn(Tg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(I1,"onTransitionRun"),Jn(D1,"onTransitionStart"),Jn(N1,"onTransitionCancel"),Jn(bg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function q_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],N=b.instance,H=b.currentTarget;if(b=b.listener,N!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=H;try{d(h)}catch(K){Fu(K)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(b=l[_],N=b.instance,H=b.currentTarget,b=b.listener,N!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=H;try{d(h)}catch(K){Fu(K)}h.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[ua];a===void 0&&(a=i[ua]=new Set);var l=t+"__bubble";a.has(l)||(F_(i,t,2,!1),a.add(l))}function Pd(t,i,a){var l=0;i&&(l|=4),F_(a,t,l,i)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Nc]){t[Nc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(dS.has(a)||Pd(a,!1,t),Pd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Nc]||(i[Nc]=!0,Pd("selectionchange",!1,i))}}function F_(t,i,a,l){switch(vv(i)){case 2:var h=BS;break;case 8:h=HS;break;default:h=Wd}a=h.bind(null,i,a,t),h=void 0,!Ss||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=mi(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}b=b.parentNode}}l=l.return}br(function(){var H=d,K=Cn(a),Z=[];e:{var q=Sg.get(t);if(q!==void 0){var Q=Ti,fe=t;switch(t){case"keypress":if(ws(a)===0)break e;case"keydown":case"keyup":Q=Bu;break;case"focusin":fe="focus",Q=Cs;break;case"focusout":fe="blur",Q=Cs;break;case"beforeblur":case"afterblur":Q=Cs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case vg:case Eg:case Tg:Q=Vu;break;case bg:Q=S;break;case"scroll":case"scrollend":Q=Ko;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Bi;break;case"toggle":case"beforetoggle":Q=we}var ye=(i&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),P=ye?q!==null?q+"Capture":null:q;ye=[];for(var M=H,j;M!==null;){var J=M;if(j=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||j===null||P===null||(J=Yn(M,P),J!=null&&ye.push(wl(M,J,j))),Ze)break;M=M.return}0<ye.length&&(q=new Q(q,fe,null,a,K),Z.push({event:q,listeners:ye}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==Go&&(fe=a.relatedTarget||a.fromElement)&&(mi(fe)||fe[fi]))break e;if((Q||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=H,fe=fe?mi(fe):null,fe!==null&&(Ze=u(fe),ye=fe.tag,fe!==Ze||ye!==5&&ye!==27&&ye!==6)&&(fe=null)):(Q=null,fe=H),Q!==fe)){if(ye=Xo,J="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Bi,J="onPointerLeave",P="onPointerEnter",M="pointer"),Ze=Q==null?q:pn(Q),j=fe==null?q:pn(fe),q=new ye(J,M+"leave",Q,a,K),q.target=Ze,q.relatedTarget=j,J=null,mi(K)===H&&(ye=new ye(P,M+"enter",fe,a,K),ye.target=j,ye.relatedTarget=Ze,J=ye),Ze=J,Q&&fe)t:{for(ye=mS,P=Q,M=fe,j=0,J=P;J;J=ye(J))j++;J=0;for(var me=M;me;me=ye(me))J++;for(;0<j-J;)P=ye(P),j--;for(;0<J-j;)M=ye(M),J--;for(;j--;){if(P===M||M!==null&&P===M.alternate){ye=P;break t}P=ye(P),M=ye(M)}ye=null}else ye=null;Q!==null&&G_(Z,q,Q,ye,!1),fe!==null&&Ze!==null&&G_(Z,Ze,fe,ye,!0)}}e:{if(q=H?pn(H):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var je=lg;else if(ag(q))if(ug)je=w1;else{je=S1;var de=b1}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&da(H.elementType)&&(je=lg):je=A1;if(je&&(je=je(t,H))){og(Z,je,a,K);break e}de&&de(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&Ho(q,"number",q.value)}switch(de=H?pn(H):window,t){case"focusin":(ag(de)||de.contentEditable==="true")&&(Ta=de,mf=H,el=null);break;case"focusout":el=mf=Ta=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,yg(Z,a,K);break;case"selectionchange":if(C1)break;case"keydown":case"keyup":yg(Z,a,K)}var Ie;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ea?Is(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ai&&a.locale!=="ko"&&(Ea||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ea&&(Ie=Yo()):(Ei=K,Qo="value"in Ei?Ei.value:Ei.textContent,Ea=!0)),de=xc(H,Oe),0<de.length&&(Oe=new Si(Oe,t,null,a,K),Z.push({event:Oe,listeners:de}),Ie?Oe.data=Ie:(Ie=va(a),Ie!==null&&(Oe.data=Ie)))),(Ie=Dn?_1(t,a):v1(t,a))&&(Oe=xc(H,"onBeforeInput"),0<Oe.length&&(de=new Si("onBeforeInput","beforeinput",null,a,K),Z.push({event:de,listeners:Oe}),de.data=Ie)),cS(Z,t,H,a,K)}q_(Z,i)})}function wl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function xc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&l.unshift(wl(t,h,d)),h=Yn(t,i),h!=null&&l.push(wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function mS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,N=b.alternate,H=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||H===null||(N=H,h?(H=Yn(a,d),H!=null&&_.unshift(wl(a,H,N))):h||(H=Yn(a,d),H!=null&&_.push(wl(a,H,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var pS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function Q_(t){return(typeof t=="string"?t:""+t).replace(pS,`
`).replace(gS,"")}function Y_(t,i){return i=Q_(i),Q_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Fo(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ha(t,"popover",l);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ha(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xu.get(a)||a,ha(t,a,l))}}function jd(t,i,a,l,h,d){switch(a){case"style":Fo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ha(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var b=d=_=h=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":_=K;break;case"checked":N=K;break;case"defaultChecked":H=K;break;case"value":d=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Je(t,i,l,K,a,null)}}Iu(t,d,b,N,H,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Je(t,i,h,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?_r(t,!!l,i,!1):a!=null&&_r(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Je(t,i,_,b,a,null)}vr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,N,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Ne(Al[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,H,l,a,null)}return;default:if(da(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&jd(t,i,K,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Je(t,i,b,l,a,null))}function yS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,N=null,H=null,K=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(Q)||Je(t,i,Q,null,l,Z)}}for(var q in l){var Q=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(Q!=null||Z!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":K=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==Z&&Je(t,i,q,Q,l,Z)}}fa(t,_,b,N,H,K,d,h);return;case"select":Q=_=b=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":q=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,h,d,l,N)}i=b,a=_,l=Q,q!=null?_r(t,!!a,q,!1):!!l!=!!a&&(i!=null?_r(t,!!a,i,!0):_r(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(t,i,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Du(t,q,Q);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Je(t,i,fe,null,l,q)}for(N in l)if(q=l[N],Q=a[N],l.hasOwnProperty(N)&&q!==Q&&(q!=null||Q!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,N,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&Je(t,i,ye,null,l,q);for(H in l)if(q=l[H],Q=a[H],l.hasOwnProperty(H)&&q!==Q&&(q!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,H,q,l,Q)}return;default:if(da(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&jd(t,i,Ze,void 0,l,q);for(K in l)q=l[K],Q=a[K],!l.hasOwnProperty(K)||q===Q||q===void 0&&Q===void 0||jd(t,i,K,q,l,Q);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&Je(t,i,P,null,l,q);for(Z in l)q=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||q===Q||q==null&&Q==null||Je(t,i,Z,q,l,Q)}function K_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _S(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&K_(_)){for(_=0,b=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>b)break;var K=N.transferSize,Z=N.initiatorType;K&&K_(Z)&&(N=N.responseEnd,_+=K*(N<b?1:(b-H)/(N-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Bd=null,Hd=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function X_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fd=null;function vS(){var t=window.event;return t&&t.type==="popstate"?t===Fd?!1:(Fd=t,!0):(Fd=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,ES=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,TS=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(t){return Z_.resolve(null).then(t).catch(bS)}:J_;function bS(t){setTimeout(function(){throw t})}function Hr(t){return t==="head"}function W_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ka(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[di]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);Ka(i)}function ev(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Gd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gd(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function SS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function AS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function tv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Kd=null;function nv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function iv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function rv(t,i,a){switch(i=Oc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ca(t)}var Pn=new Map,sv=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nr=se.d;se.d={f:RS,r:CS,D:IS,C:DS,L:NS,m:xS,X:MS,S:OS,M:VS};function RS(){var t=nr.f(),i=Ac();return t||i}function CS(t){var i=Rn(t);i!==null&&i.tag===5&&i.type==="form"?by(i):nr.r(t)}var Ga=typeof document>"u"?null:document;function av(t,i,a){var l=Ga;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),sv.has(h)||(sv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function IS(t){nr.D(t),av("dns-prefetch",t,null)}function DS(t,i){nr.C(t,i),av("preconnect",t,i)}function NS(t,i,a){nr.L(t,i,a);var l=Ga;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=Ya(t)}Pn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Pn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),Qt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function xS(t,i){nr.m(t,i);var a=Ga;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!Pn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Pn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Qt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function OS(t,i,a){nr.S(t,i,a);var l=Ga;if(l&&t){var h=pi(l).hoistableStyles,d=Qa(t);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Cl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Pn.get(d))&&Xd(t,a);var N=_=l.createElement("link");Tt(N),Qt(N,"link",t),N._p=new Promise(function(H,K){N.onload=H,N.onerror=K}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Vc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function MS(t,i){nr.X(t,i);var a=Ga;if(a&&t){var l=pi(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=T({src:t,async:!0},i),(i=Pn.get(h))&&$d(t,i),d=a.createElement("script"),Tt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function VS(t,i){nr.M(t,i);var a=Ga;if(a&&t){var l=pi(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Pn.get(h))&&$d(t,i),d=a.createElement("script"),Tt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ov(t,i,a,l){var h=(h=Ce.current)?Mc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=pi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=pi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Cl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||kS(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=pi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+an(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function lv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function kS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),Tt(i),t.head.appendChild(i))}function Ya(t){return'[src="'+an(t)+'"]'}function Il(t){return"script[async]"+t}function uv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Qt(l,"style",h),Vc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(Cl(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=lv(a),(h=Pn.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Qt(d,"link",l),i.state.loading|=4,Vc(d,a.precedence,t),i.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(Il(d)))?(i.instance=h,Tt(h),h):(l=a,(h=Pn.get(d))&&(l=T({},a),$d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Vc(l,a.precedence,t));return i.instance}function Vc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function cv(t,i,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[di]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function hv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function LS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function PS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Qa(l.href),d=i.querySelector(Cl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Lc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=lv(l),(h=Pn.get(h))&&Xd(l,h),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Jd=0;function US(t,i){return t.stylesheets&&t.count===0&&Uc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Jd===0&&(Jd=62500*_S());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Jd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function Uc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,i.forEach(zS,t),Pc=null,Lc.call(t))}function zS(t,i){if(!(i.state.loading&4)){var a=Pc.get(t);if(a)var l=a.get(null);else{a=new Map,Pc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Dl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function jS(t,i,a,l,h,d,_,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function dv(t,i,a,l,h,d,_,b,N,H,K,Z){return t=new jS(t,i,a,_,N,H,K,Z,b),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),t}function mv(t){return t?(t=Aa,t):Aa}function pv(t,i,a,l,h,d){h=mv(h),l.context===null?l.context=h:l.pendingContext=h,l=xr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Or(t,l,i),a!==null&&(fn(a,t,i),ol(a,t,i))}function gv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Zd(t,i){gv(t,i),(t=t.alternate)&&gv(t,i)}function yv(t){if(t.tag===13||t.tag===31){var i=xs(t,67108864);i!==null&&fn(i,t,67108864),Zd(t,67108864)}}function _v(t){if(t.tag===13||t.tag===31){var i=Sn();i=vs(i);var a=xs(t,i);a!==null&&fn(a,t,i),Zd(t,i)}}var zc=!0;function BS(t,i,a,l){var h=X.T;X.T=null;var d=se.p;try{se.p=2,Wd(t,i,a,l)}finally{se.p=d,X.T=h}}function HS(t,i,a,l){var h=X.T;X.T=null;var d=se.p;try{se.p=8,Wd(t,i,a,l)}finally{se.p=d,X.T=h}}function Wd(t,i,a,l){if(zc){var h=em(l);if(h===null)zd(t,i,l,jc,a),Ev(t,l);else if(FS(h,t,i,a,l))l.stopPropagation();else if(Ev(t,l),i&4&&-1<qS.indexOf(t)){for(;h!==null;){var d=Rn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-ft(_);b.entanglements[1]|=N,_&=~N}Ii(d),(qe&6)===0&&(bc=nn()+500,Sl(0))}}break;case 31:case 13:b=xs(d,2),b!==null&&fn(b,d,2),Ac(),Zd(d,2)}if(d=em(l),d===null&&zd(t,i,l,jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zd(t,i,l,null,a)}}function em(t){return t=Cn(t),tm(t)}var jc=null;function tm(t){if(jc=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return jc=t,null}function vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ps()){case Oo:return 2;case Mo:return 8;case gr:case of:return 32;case _u:return 268435456;default:return 32}default:return 32}}var nm=!1,qr=null,Fr=null,Gr=null,Nl=new Map,xl=new Map,Qr=[],qS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(t,i){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(i.pointerId)}}function Ol(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&yv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function FS(t,i,a,l,h){switch(i){case"focusin":return qr=Ol(qr,t,i,a,l,h),!0;case"dragenter":return Fr=Ol(Fr,t,i,a,l,h),!0;case"mouseover":return Gr=Ol(Gr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Nl.set(d,Ol(Nl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Ol(xl.get(d)||null,t,i,a,l,h)),!0}return!1}function Tv(t){var i=mi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){_v(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){_v(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Go=l,a.target.dispatchEvent(l),Go=null}else return i=Rn(a),i!==null&&yv(i),t.blockedOn=a,!1;i.shift()}return!0}function bv(t,i,a){Bc(t)&&a.delete(i)}function GS(){nm=!1,qr!==null&&Bc(qr)&&(qr=null),Fr!==null&&Bc(Fr)&&(Fr=null),Gr!==null&&Bc(Gr)&&(Gr=null),Nl.forEach(bv),xl.forEach(bv)}function Hc(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,GS)))}var qc=null;function Sv(t){qc!==t&&(qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(i,3),i-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ka(t){function i(N){return Hc(N,t)}qr!==null&&Hc(qr,t),Fr!==null&&Hc(Fr,t),Gr!==null&&Hc(Gr,t),Nl.forEach(i),xl.forEach(i);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)Tv(a),a.blockedOn===null&&Qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||Sv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)b=_.formAction;else if(tm(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Sv(a)}}}function Av(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function im(t){this._internalRoot=t}Fc.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();pv(a,l,t,i,null,null)},Fc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;pv(t.current,2,null,t,null,null),Ac(),i[fi]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Au();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Qr.length&&i!==0&&i<Qr[a].priority;a++);Qr.splice(a,0,t),a===0&&Tv(t)}};var wv=e.version;if(wv!=="19.2.0")throw Error(s(527,wv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var QS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Hn=Gc.inject(QS),Bt=Gc}catch{}}return Vl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Oy,d=My,_=Vy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=dv(t,1,!1,null,null,a,l,null,h,d,_,Av),t[fi]=i.current,Ud(t),new im(i)},Vl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Oy,_=My,b=Vy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=dv(t,1,!0,i,a??null,l,h,N,d,_,b,Av),i.context=mv(null),a=i.current,l=Sn(),l=vs(l),h=xr(l),h.callback=null,Or(a,h,l),a=l,i.current.lanes=a,ys(i,a),Ii(i),t[fi]=i.current,Ud(t),new Fc(i)},Vl.version="19.2.0",Vl}var kv;function tA(){if(kv)return am.exports;kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=eA(),am.exports}var nA=tA();var Lv="popstate";function iA(r={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return Rm("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ql(o)}return sA(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rA(){return Math.random().toString(36).substring(2,10)}function Pv(r,e){return{usr:r.state,key:r.key,idx:e}}function Rm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||s||rA()}}function Ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function yo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function sA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",g=null,m=E();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function E(){return(f.state||{idx:null}).idx}function T(){p="POP";let B=E(),$=B==null?null:B-m;m=B,g&&g({action:p,location:Y.location,delta:$})}function w(B,$){p="PUSH";let ne=Rm(Y.location,B,$);m=E()+1;let ie=Pv(ne,m),_e=Y.createHref(ne);try{f.pushState(ie,"",_e)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(_e)}u&&g&&g({action:p,location:Y.location,delta:1})}function k(B,$){p="REPLACE";let ne=Rm(Y.location,B,$);m=E();let ie=Pv(ne,m),_e=Y.createHref(ne);f.replaceState(ie,"",_e),u&&g&&g({action:p,location:Y.location,delta:0})}function F(B){return aA(B)}let Y={get action(){return p},get location(){return r(o,f)},listen(B){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Lv,T),g=B,()=>{o.removeEventListener(Lv,T),g=null}},createHref(B){return e(o,B)},createURL:F,encodeLocation(B){let $=F(B);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:k,go(B){return f.go(B)}};return Y}function aA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ql(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function b0(r,e,n="/"){return oA(r,e,n,!1)}function oA(r,e,n,s){let o=typeof e=="string"?yo(e):e,u=lr(o.pathname||"/",n);if(u==null)return null;let f=S0(r);lA(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let m=vA(u);p=yA(f[g],m,s)}return p}function S0(r,e=[],n=[],s="",o=!1){let u=(f,p,g=o,m)=>{let E={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=or([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),S0(f.children,e,w,T,g)),!(f.path==null&&!f.index)&&e.push({path:T,score:pA(T,f.index),routesMeta:w})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let g of A0(f.path))u(f,p,!0,g)}),e}function A0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=A0(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function lA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:gA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var uA=/^:[\w-]+$/,cA=3,hA=2,fA=1,dA=10,mA=-2,Uv=r=>r==="*";function pA(r,e){let n=r.split("/"),s=n.length;return n.some(Uv)&&(s+=mA),e&&(s+=hA),n.filter(o=>!Uv(o)).reduce((o,u)=>o+(uA.test(u)?cA:u===""?fA:dA),s)}function gA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function yA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],m=p===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=hh({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},E),w=g.route;if(!T&&m&&n&&!s[s.length-1].route.index&&(T=hh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:or([u,T.pathname]),pathnameBase:AA(or([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=or([u,T.pathnameBase]))}return f}function hh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=_A(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((m,{paramName:E,isOptional:T},w)=>{if(E==="*"){let F=p[w]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const k=p[w];return T&&!k?m[E]=void 0:m[E]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:r}}function _A(r,e=!1,n=!0){jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function vA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function lr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var EA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TA=r=>EA.test(r);function bA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?yo(r):r,u;if(n)if(TA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=zv(n.substring(1),"/"):u=zv(n,e)}else u=e;return{pathname:u,search:wA(s),hash:RA(o)}}function zv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function np(r){let e=SA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ip(r,e,n,s=!1){let o;typeof r=="string"?o=yo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}p=T>=0?e[T]:"/"}let g=bA(o,p),m=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(m||E)&&(g.pathname+="/"),g}var or=r=>r.join("/").replace(/\/\/+/g,"/"),AA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),wA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,RA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function CA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function IA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var w0=["POST","PUT","PATCH","DELETE"];new Set(w0);var DA=["GET",...w0];new Set(DA);var _o=U.createContext(null);_o.displayName="DataRouter";var Mh=U.createContext(null);Mh.displayName="DataRouterState";U.createContext(!1);var R0=U.createContext({isTransitioning:!1});R0.displayName="ViewTransition";var NA=U.createContext(new Map);NA.displayName="Fetchers";var xA=U.createContext(null);xA.displayName="Await";var Bn=U.createContext(null);Bn.displayName="Navigation";var iu=U.createContext(null);iu.displayName="Location";var si=U.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var rp=U.createContext(null);rp.displayName="RouteError";function OA(r,{relative:e}={}){lt(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Bn),{hash:o,pathname:u,search:f}=ru(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:or([n,u])),s.createHref({pathname:p,search:f,hash:o})}function vo(){return U.useContext(iu)!=null}function dr(){return lt(vo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(iu).location}var C0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I0(r){U.useContext(Bn).static||U.useLayoutEffect(r)}function D0(){let{isDataRoute:r}=U.useContext(si);return r?YA():MA()}function MA(){lt(vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(_o),{basename:e,navigator:n}=U.useContext(Bn),{matches:s}=U.useContext(si),{pathname:o}=dr(),u=JSON.stringify(np(s)),f=U.useRef(!1);return I0(()=>{f.current=!0}),U.useCallback((g,m={})=>{if(jn(f.current,C0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=ip(g,JSON.parse(u),o,m.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:or([e,E.pathname])),(m.replace?n.replace:n.push)(E,m.state,m)},[e,n,u,o,r])}var VA=U.createContext(null);function kA(r){let e=U.useContext(si).outlet;return U.useMemo(()=>e&&U.createElement(VA.Provider,{value:r},e),[e,r])}function ru(r,{relative:e}={}){let{matches:n}=U.useContext(si),{pathname:s}=dr(),o=JSON.stringify(np(n));return U.useMemo(()=>ip(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function LA(r,e){return N0(r,e)}function N0(r,e,n,s,o){lt(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(Bn),{matches:f}=U.useContext(si),p=f[f.length-1],g=p?p.params:{},m=p?p.pathname:"/",E=p?p.pathnameBase:"/",T=p&&p.route;{let ne=T&&T.path||"";x0(m,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=dr(),k;if(e){let ne=typeof e=="string"?yo(e):e;lt(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),k=ne}else k=w;let F=k.pathname||"/",Y=F;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");Y="/"+F.replace(/^\//,"").split("/").slice(ne.length).join("/")}let B=b0(r,{pathname:Y});jn(T||B!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),jn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=BA(B&&B.map(ne=>Object.assign({},ne,{params:Object.assign({},g,ne.params),pathname:or([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:or([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&$?U.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},$):$}function PA(){let r=QA(),e=CA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var UA=U.createElement(PA,null),zA=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(si.Provider,{value:this.props.routeContext},U.createElement(rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jA({routeContext:r,match:e,children:n}){let s=U.useContext(_o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(si.Provider,{value:r},n)}function BA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let p=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=E),T.route.id){let{loaderData:w,errors:k}=n,F=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||F){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let m=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:IA(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let k,F=!1,Y=null,B=null;n&&(k=f&&T.route.id?f[T.route.id]:void 0,Y=T.route.errorElement||UA,p&&(g<0&&w===0?(x0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,B=null):g===w&&(F=!0,B=T.route.hydrateFallbackElement||null)));let $=e.concat(u.slice(0,w+1)),ne=()=>{let ie;return k?ie=Y:F?ie=B:T.route.Component?ie=U.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=E,U.createElement(jA,{match:T,routeContext:{outlet:E,matches:$,isDataRoute:n!=null},children:ie})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?U.createElement(zA,{location:n.location,revalidation:n.revalidation,component:Y,error:k,children:ne(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:m}):ne()},null)}function sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HA(r){let e=U.useContext(_o);return lt(e,sp(r)),e}function qA(r){let e=U.useContext(Mh);return lt(e,sp(r)),e}function FA(r){let e=U.useContext(si);return lt(e,sp(r)),e}function ap(r){let e=FA(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function GA(){return ap("useRouteId")}function QA(){let r=U.useContext(rp),e=qA("useRouteError"),n=ap("useRouteError");return r!==void 0?r:e.errors?.[n]}function YA(){let{router:r}=HA("useNavigate"),e=ap("useNavigate"),n=U.useRef(!1);return I0(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{jn(n.current,C0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var jv={};function x0(r,e,n){!e&&!jv[r]&&(jv[r]=!0,jn(!1,n))}U.memo(KA);function KA({routes:r,future:e,state:n,unstable_onError:s}){return N0(r,void 0,n,s,e)}function XA({to:r,replace:e,state:n,relative:s}){lt(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(Bn);jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(si),{pathname:f}=dr(),p=D0(),g=ip(r,np(u),f,s==="path"),m=JSON.stringify(g);return U.useEffect(()=>{p(JSON.parse(m),{replace:e,state:n,relative:s})},[p,m,s,e,n]),null}function $A(r){return kA(r.context)}function Xa(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=U.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[p,o,u,f]);typeof n=="string"&&(n=yo(n));let{pathname:m="/",search:E="",hash:T="",state:w=null,key:k="default"}=n,F=U.useMemo(()=>{let Y=lr(m,p);return Y==null?null:{location:{pathname:Y,search:E,hash:T,state:w,key:k},navigationType:s}},[p,m,E,T,w,k,s]);return jn(F!=null,`<Router basename="${p}"> is not able to match the URL "${m}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:U.createElement(Bn.Provider,{value:g},U.createElement(iu.Provider,{children:e,value:F}))}function ZA({children:r,location:e}){return LA(Cm(r),e)}function Cm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Cm(s.props.children,u));return}lt(s.type===Xa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Cm(s.props.children,u)),n.push(f)}),n}var Wc="get",eh="application/x-www-form-urlencoded";function Vh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function WA(r){return Vh(r)&&r.tagName.toLowerCase()==="button"}function ew(r){return Vh(r)&&r.tagName.toLowerCase()==="form"}function tw(r){return Vh(r)&&r.tagName.toLowerCase()==="input"}function nw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function iw(r,e){return r.button===0&&(!e||e==="_self")&&!nw(r)}var Qc=null;function rw(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(r){return r!=null&&!sw.has(r)?(jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):r}function aw(r,e){let n,s,o,u,f;if(ew(r)){let p=r.getAttribute("action");s=p?lr(p,e):null,n=r.getAttribute("method")||Wc,o=hm(r.getAttribute("enctype"))||eh,u=new FormData(r)}else if(WA(r)||tw(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?lr(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Wc,o=hm(r.getAttribute("formenctype"))||hm(p.getAttribute("enctype"))||eh,u=new FormData(p,r),!rw()){let{name:m,type:E,value:T}=r;if(E==="image"){let w=m?`${m}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else m&&u.append(m,T)}}else{if(Vh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,s=null,o=eh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ow(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&lr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function lw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function cw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await lw(u,n);return f.links?f.links():[]}return[]}));return mw(s.flat(1).filter(uw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Bv(r,e,n,s,o,u){let f=(g,m)=>n[m]?g.route.id!==n[m].route.id:!0,p=(g,m)=>n[m].pathname!==g.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,m)=>f(g,m)||p(g,m)):u==="data"?e.filter((g,m)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function hw(r,e,{includeHydrateFallback:n}={}){return fw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function fw(r){return[...new Set(r)]}function dw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function mw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(dw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function O0(){let r=U.useContext(_o);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function pw(){let r=U.useContext(Mh);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=U.createContext(void 0);lp.displayName="FrameworkContext";function M0(){let r=U.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function gw(r,e){let n=U.useContext(lp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:E,onTouchStart:T}=e,w=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=$=>{$.forEach(ne=>{f(ne.isIntersecting)})},B=new IntersectionObserver(Y,{threshold:.5});return w.current&&B.observe(w.current),()=>{B.disconnect()}}},[r]),U.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let k=()=>{o(!0)},F=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:kl(p,k),onBlur:kl(g,F),onMouseEnter:kl(m,k),onMouseLeave:kl(E,F),onTouchStart:kl(T,k)}]:[!1,w,{}]}function kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function yw({page:r,...e}){let{router:n}=O0(),s=U.useMemo(()=>b0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(vw,{page:r,matches:s,...e}):null}function _w(r){let{manifest:e,routeModules:n}=M0(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return cw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function vw({page:r,matches:e,...n}){let s=dr(),{manifest:o,routeModules:u}=M0(),{basename:f}=O0(),{loaderData:p,matches:g}=pw(),m=U.useMemo(()=>Bv(r,e,g,o,s,"data"),[r,e,g,o,s]),E=U.useMemo(()=>Bv(r,e,g,o,s,"assets"),[r,e,g,o,s]),T=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,Y=!1;if(e.forEach($=>{let ne=o.routes[$.route.id];!ne||!ne.hasLoader||(!m.some(ie=>ie.route.id===$.route.id)&&$.route.id in p&&u[$.route.id]?.shouldRevalidate||ne.hasClientLoader?Y=!0:F.add($.route.id))}),F.size===0)return[];let B=ow(r,f,"data");return Y&&F.size>0&&B.searchParams.set("_routes",e.filter($=>F.has($.route.id)).map($=>$.route.id).join(",")),[B.pathname+B.search]},[f,p,s,o,m,e,r,u]),w=U.useMemo(()=>hw(E,o),[E,o]),k=_w(E);return U.createElement(U.Fragment,null,T.map(F=>U.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),w.map(F=>U.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),k.map(({key:F,link:Y})=>U.createElement("link",{key:F,nonce:n.nonce,...Y})))}function Ew(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var V0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V0&&(window.__reactRouterVersion="7.10.0")}catch{}function Tw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=U.useRef();o.current==null&&(o.current=iA({window:s,v5Compat:!0}));let u=o.current,[f,p]=U.useState({action:u.action,location:u.location}),g=U.useCallback(m=>{n===!1?p(m):U.startTransition(()=>p(m))},[n]);return U.useLayoutEffect(()=>u.listen(g),[u,g]),U.createElement(JA,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var k0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yl=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:m,preventScrollReset:E,viewTransition:T,...w},k){let{basename:F,unstable_useTransitions:Y}=U.useContext(Bn),B=typeof m=="string"&&k0.test(m),$,ne=!1;if(typeof m=="string"&&B&&($=m,V0))try{let O=new URL(window.location.href),x=m.startsWith("//")?new URL(O.protocol+m):new URL(m),L=lr(x.pathname,F);x.origin===O.origin&&L!=null?m=L+x.search+x.hash:ne=!0}catch{jn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=OA(m,{relative:o}),[_e,he,oe]=gw(s,w),A=ww(m,{replace:f,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:Y});function R(O){e&&e(O),O.defaultPrevented||A(O)}let C=U.createElement("a",{...w,...oe,href:$||ie,onClick:ne||u?e:R,ref:Ew(k,he),target:g,"data-discover":!B&&n==="render"?"true":void 0});return _e&&!B?U.createElement(U.Fragment,null,C,U.createElement(yw,{page:ie})):C});Yl.displayName="Link";var bw=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...m},E){let T=ru(f,{relative:m.relative}),w=dr(),k=U.useContext(Mh),{navigator:F,basename:Y}=U.useContext(Bn),B=k!=null&&Nw(T)&&p===!0,$=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,ne=w.pathname,ie=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,$=$.toLowerCase()),ie&&Y&&(ie=lr(ie,Y)||ie);const _e=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let he=ne===$||!o&&ne.startsWith($)&&ne.charAt(_e)==="/",oe=ie!=null&&(ie===$||!o&&ie.startsWith($)&&ie.charAt($.length)==="/"),A={isActive:he,isPending:oe,isTransitioning:B},R=he?e:void 0,C;typeof s=="function"?C=s(A):C=[s,he?"active":null,oe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(A):u;return U.createElement(Yl,{...m,"aria-current":R,className:C,ref:E,style:O,to:f,viewTransition:p},typeof g=="function"?g(A):g)});bw.displayName="NavLink";var Sw=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Wc,action:p,onSubmit:g,relative:m,preventScrollReset:E,viewTransition:T,...w},k)=>{let{unstable_useTransitions:F}=U.useContext(Bn),Y=Iw(),B=Dw(p,{relative:m}),$=f.toLowerCase()==="get"?"get":"post",ne=typeof p=="string"&&k0.test(p),ie=_e=>{if(g&&g(_e),_e.defaultPrevented)return;_e.preventDefault();let he=_e.nativeEvent.submitter,oe=he?.getAttribute("formmethod")||f,A=()=>Y(he||_e.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:u,relative:m,preventScrollReset:E,viewTransition:T});F&&n!==!1?U.startTransition(()=>A()):A()};return U.createElement("form",{ref:k,method:$,action:B,onSubmit:s?g:ie,...w,"data-discover":!ne&&r==="render"?"true":void 0})});Sw.displayName="Form";function Aw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(r){let e=U.useContext(_o);return lt(e,Aw(r)),e}function ww(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:p}={}){let g=D0(),m=dr(),E=ru(r,{relative:u});return U.useCallback(T=>{if(iw(T,e)){T.preventDefault();let w=n!==void 0?n:Ql(m)===Ql(E),k=()=>g(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f});p?U.startTransition(()=>k()):k()}},[m,g,E,n,s,e,r,o,u,f,p])}var Rw=0,Cw=()=>`__${String(++Rw)}__`;function Iw(){let{router:r}=L0("useSubmit"),{basename:e}=U.useContext(Bn),n=GA(),s=r.fetch,o=r.navigate;return U.useCallback(async(u,f={})=>{let{action:p,method:g,encType:m,formData:E,body:T}=aw(u,e);if(f.navigate===!1){let w=f.fetcherKey||Cw();await s(w,n,f.action||p,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||g,formEncType:f.encType||m,flushSync:f.flushSync})}else await o(f.action||p,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||g,formEncType:f.encType||m,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Dw(r,{relative:e}={}){let{basename:n}=U.useContext(Bn),s=U.useContext(si);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ru(r||".",{relative:e})},f=dr();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(T=>T).forEach(T=>p.append("index",T));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),Ql(u)}function Nw(r,{relative:e}={}){let n=U.useContext(R0);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=L0("useViewTransitionState"),o=ru(r,{relative:e});if(!n.isTransitioning)return!1;let u=lr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=lr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hh(o.pathname,f)!=null||hh(o.pathname,u)!=null}var xw=T0();const Ow=()=>{};var Hv={};const P0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Mw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,m=g?r[o+2]:0,E=u>>2,T=(u&3)<<4|p>>4;let w=(p&15)<<2|m>>6,k=m&63;g||(k=64,f||(w=64)),s.push(n[E],n[T],n[w],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(P0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Mw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const m=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||m==null||T==null)throw new Vw;const w=u<<2|p>>4;if(s.push(w),m!==64){const k=p<<4&240|m>>2;if(s.push(k),T!==64){const F=m<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Vw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kw=function(r){const e=P0(r);return U0.encodeByteArray(e,!0)},fh=function(r){return kw(r).replace(/\./g,"")},z0=function(r){try{return U0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Lw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Pw=()=>Lw().__FIREBASE_DEFAULTS__,Uw=()=>{if(typeof process>"u"||typeof Hv>"u")return;const r=Hv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&z0(r[1]);return e&&JSON.parse(e)},kh=()=>{try{return Ow()||Pw()||Uw()||zw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},j0=r=>kh()?.emulatorHosts?.[r],jw=r=>{const e=j0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},B0=()=>kh()?.config,H0=r=>kh()?.[`_${r}`];class Bw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q0(r){return(await fetch(r,{credentials:"include"})).ok}function Hw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[fh(JSON.stringify(n)),fh(JSON.stringify(f)),""].join(".")}const jl={};function qw(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function Fw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let qv=!1;function F0(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||jl[r]===e||jl[r]||qv)return;jl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=qw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{qv=!0,f()},w}function E(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=Fw(s),k=n("text"),F=document.getElementById(k)||document.createElement("span"),Y=n("learnmore"),B=document.getElementById(Y)||document.createElement("a"),$=n("preprendIcon"),ne=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;p(ie),E(B,Y);const _e=m();g(ne,$),ie.append(ne,F,B,_e),document.body.appendChild(ie)}u?(F.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Qw(){const r=kh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Xw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $w(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Jw(){return!Qw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zw(){try{return typeof indexedDB=="object"}catch{return!1}}function Ww(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const eR="FirebaseError";class mr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=eR,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?tR(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new mr(o,p,s)}}function tR(r,e){return r.replace(nR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const nR=/\{\$([^}]+)}/g;function iR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function $s(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Fv(u)&&Fv(f)){if(!$s(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Fv(r){return r!==null&&typeof r=="object"}function au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function rR(r,e){const n=new sR(r,e);return n.subscribe.bind(n)}class sR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");aR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function fm(){}function jt(r){return r&&r._delegate?r._delegate:r}class Js{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fs="[DEFAULT]";class oR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Bw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uR(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lR(r){return r===Fs?void 0:r}function uR(r){return r.instantiationMode==="EAGER"}class cR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const hR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},fR=Me.INFO,dR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},mR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=dR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=fR,this._logHandler=mR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const pR=(r,e)=>e.some(n=>r instanceof n);let Gv,Qv;function gR(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yR(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,Im=new WeakMap,Q0=new WeakMap,dm=new WeakMap,cp=new WeakMap;function _R(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Wr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&G0.set(n,r)}).catch(()=>{}),cp.set(e,r),e}function vR(r){if(Im.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Im.set(r,e)}let Dm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Im.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Q0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ER(r){Dm=r(Dm)}function TR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(mm(this),e,...n);return Q0.set(s,e.sort?e.sort():[e]),Wr(s)}:yR().includes(r)?function(...e){return r.apply(mm(this),e),Wr(G0.get(this))}:function(...e){return Wr(r.apply(mm(this),e))}}function bR(r){return typeof r=="function"?TR(r):(r instanceof IDBTransaction&&vR(r),pR(r,gR())?new Proxy(r,Dm):r)}function Wr(r){if(r instanceof IDBRequest)return _R(r);if(dm.has(r))return dm.get(r);const e=bR(r);return e!==r&&(dm.set(r,e),cp.set(e,r)),e}const mm=r=>cp.get(r);function SR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=Wr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Wr(f.result),g.oldVersion,g.newVersion,Wr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const AR=["get","getKey","getAll","getAllKeys","count"],wR=["put","add","delete","clear"],pm=new Map;function Yv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=wR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||AR.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let m=g.store;return s&&(m=m.index(p.shift())),(await Promise.all([m[n](...p),o&&g.done]))[0]};return pm.set(e,u),u}ER(r=>({...r,get:(e,n,s)=>Yv(e,n)||r.get(e,n,s),has:(e,n)=>!!Yv(e,n)||r.has(e,n)}));class RR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function CR(r){return r.getComponent()?.type==="VERSION"}const Nm="@firebase/app",Kv="0.14.6";const ur=new up("@firebase/app"),IR="@firebase/app-compat",DR="@firebase/analytics-compat",NR="@firebase/analytics",xR="@firebase/app-check-compat",OR="@firebase/app-check",MR="@firebase/auth",VR="@firebase/auth-compat",kR="@firebase/database",LR="@firebase/data-connect",PR="@firebase/database-compat",UR="@firebase/functions",zR="@firebase/functions-compat",jR="@firebase/installations",BR="@firebase/installations-compat",HR="@firebase/messaging",qR="@firebase/messaging-compat",FR="@firebase/performance",GR="@firebase/performance-compat",QR="@firebase/remote-config",YR="@firebase/remote-config-compat",KR="@firebase/storage",XR="@firebase/storage-compat",$R="@firebase/firestore",JR="@firebase/ai",ZR="@firebase/firestore-compat",WR="firebase",e2="12.6.0";const xm="[DEFAULT]",t2={[Nm]:"fire-core",[IR]:"fire-core-compat",[NR]:"fire-analytics",[DR]:"fire-analytics-compat",[OR]:"fire-app-check",[xR]:"fire-app-check-compat",[MR]:"fire-auth",[VR]:"fire-auth-compat",[kR]:"fire-rtdb",[LR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[UR]:"fire-fn",[zR]:"fire-fn-compat",[jR]:"fire-iid",[BR]:"fire-iid-compat",[HR]:"fire-fcm",[qR]:"fire-fcm-compat",[FR]:"fire-perf",[GR]:"fire-perf-compat",[QR]:"fire-rc",[YR]:"fire-rc-compat",[KR]:"fire-gcs",[XR]:"fire-gcs-compat",[$R]:"fire-fst",[ZR]:"fire-fst-compat",[JR]:"fire-vertex","fire-js":"fire-js",[WR]:"fire-js-all"};const dh=new Map,n2=new Map,Om=new Map;function Xv(r,e){try{r.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function so(r){const e=r.name;if(Om.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,r);for(const n of dh.values())Xv(n,r);for(const n of n2.values())Xv(n,r);return!0}function hp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ei(r){return r==null?!1:r.settings!==void 0}const i2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new su("app","Firebase",i2);class r2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}const To=e2;function Y0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:xm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=B0()),!n)throw es.create("no-options");const u=dh.get(o);if(u){if($s(n,u.options)&&$s(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new cR(o);for(const g of Om.values())f.addComponent(g);const p=new r2(n,s,f);return dh.set(o,p),p}function K0(r=xm){const e=dh.get(r);if(!e&&r===xm&&B0())return Y0();if(!e)throw es.create("no-app",{appName:r});return e}function ts(r,e,n){let s=t2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(f.join(" "));return}so(new Js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const s2="firebase-heartbeat-database",a2=1,Kl="firebase-heartbeat-store";let gm=null;function X0(){return gm||(gm=SR(s2,a2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),gm}async function o2(r){try{const n=(await X0()).transaction(Kl),s=await n.objectStore(Kl).get($0(r));return await n.done,s}catch(e){if(e instanceof mr)ur.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e?.message});ur.warn(n.message)}}}async function $v(r,e){try{const s=(await X0()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,$0(r)),await s.done}catch(n){if(n instanceof mr)ur.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n?.message});ur.warn(s.message)}}}function $0(r){return`${r.name}!${r.options.appId}`}const l2=1024,u2=30;class c2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>u2){const o=d2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ur.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jv(),{heartbeatsToSend:n,unsentEntries:s}=h2(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ur.warn(e),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function h2(r,e=l2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Zv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Zv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class f2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zw()?Ww().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $v(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $v(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Zv(r){return fh(JSON.stringify({version:2,heartbeats:r})).length}function d2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function m2(r){so(new Js("platform-logger",e=>new RR(e),"PRIVATE")),so(new Js("heartbeat",e=>new c2(e),"PRIVATE")),ts(Nm,Kv,r),ts(Nm,Kv,"esm2020"),ts("fire-js","")}m2("");function J0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p2=J0,Z0=new su("auth","Firebase",J0());const mh=new up("@firebase/auth");function g2(r,...e){mh.logLevel<=Me.WARN&&mh.warn(`Auth (${To}): ${r}`,...e)}function th(r,...e){mh.logLevel<=Me.ERROR&&mh.error(`Auth (${To}): ${r}`,...e)}function Li(r,...e){throw dp(r,...e)}function ni(r,...e){return dp(r,...e)}function fp(r,e,n){const s={...p2(),[e]:n};return new su("auth","Firebase",s).create(e,{appName:r.name})}function Ys(r){return fp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y2(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Li(r,"argument-error"),fp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Z0.create(r,...e)}function Ee(r,e,...n){if(!r)throw dp(e,...n)}function rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw th(e),new Error(e)}function cr(r,e){r||rr(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function _2(){return Wv()==="http:"||Wv()==="https:"}function Wv(){return typeof self<"u"&&self.location?.protocol||null}function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_2()||Kw()||"connection"in navigator)?navigator.onLine:!0}function E2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=Gw()||Xw()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mp(r,e){cr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class W0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const T2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const b2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S2=new ou(3e4,6e4);function pp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function bo(r,e,n,s,o={}){return eT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=au({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const m={method:e,headers:g,...u};return Yw()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(m.credentials="include"),W0.fetch()(await tT(r,r.config.apiHost,n,p),m)})}async function eT(r,e,n){r._canInitEmulator=!1;const s={...T2,...e};try{const o=new w2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,m]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Yc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Yc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw fp(r,E,m);Li(r,E)}}catch(o){if(o instanceof mr)throw o;Li(r,"network-request-failed",{message:String(o)})}}async function A2(r,e,n,s,o={}){const u=await bo(r,e,n,s,o);return"mfaPendingCredential"in u&&Li(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function tT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?mp(r.config,o):`${r.config.apiScheme}://${o}`;return b2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class w2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ni(this.auth,"network-request-failed")),S2.get())})}}function Yc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ni(r,e,s);return o.customData._tokenResponse=n,o}async function R2(r,e){return bo(r,"POST","/v1/accounts:delete",e)}async function ph(r,e){return bo(r,"POST","/v1/accounts:lookup",e)}function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C2(r,e=!1){const n=jt(r),s=await n.getIdToken(e),o=gp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Bl(ym(o.auth_time)),issuedAtTime:Bl(ym(o.iat)),expirationTime:Bl(ym(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ym(r){return Number(r)*1e3}function gp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=z0(n);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o?.toString()),null}}function eE(r){const e=gp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mr&&I2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function I2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class D2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gh(r){const e=r.auth,n=await r.getIdToken(),s=await Xl(r,ph(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?nT(o.providerUserInfo):[],f=x2(r.providerData,u),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,m=p?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(r,E)}async function N2(r){const e=jt(r);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function nT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function O2(r,e){const n=await eT(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await tT(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),W0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M2(r,e){return bo(r,"POST","/v2/accounts:revokeToken",pp(r,e))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=eE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await O2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new eo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Kr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new D2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C2(this,e)}reload(){return N2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Xl(this,R2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,m=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:k,providerData:F,stsTokenManager:Y}=n;Ee(T&&Y,e,"internal-error");const B=eo.fromJSON(this.name,Y);Ee(typeof T=="string",e,"internal-error"),Kr(s,e.name),Kr(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof k=="boolean",e,"internal-error"),Kr(u,e.name),Kr(f,e.name),Kr(p,e.name),Kr(g,e.name),Kr(m,e.name),Kr(E,e.name);const $=new ti({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:B,createdAt:m,lastLoginAt:E});return F&&Array.isArray(F)&&($.providerData=F.map(ne=>({...ne}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await gh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?nT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new eo;p.updateFromIdToken(s);const g=new ti({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,m),g}}const tE=new Map;function sr(r){cr(r instanceof Function,"Expected a class definition");let e=tE.get(r);return e?(cr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,tE.set(r,e),e)}class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const nE=iT;function nh(r,e,n){return`firebase:${r}:${e}:${n}`}class to{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=nh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ph(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new to(sr(nE),e,s);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=o[0]||sr(nE);const f=nh(s,e.config.apiKey,e.name);let p=null;for(const m of n)try{const E=await m._get(f);if(E){let T;if(typeof E=="string"){const w=await ph(e,{idToken:E}).catch(()=>{});if(!w)break;T=await ti._fromGetAccountInfoResponse(e,w,E)}else T=ti._fromJSON(e,E);m!==u&&(p=T),u=m;break}}catch{}const g=o.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new to(u,e,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new to(u,e,s))}}function iE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uT(e))return"Blackberry";if(cT(e))return"Webos";if(sT(e))return"Safari";if((e.includes("chrome/")||aT(e))&&!e.includes("edge/"))return"Chrome";if(lT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function rT(r=tn()){return/firefox\//i.test(r)}function sT(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aT(r=tn()){return/crios\//i.test(r)}function oT(r=tn()){return/iemobile/i.test(r)}function lT(r=tn()){return/android/i.test(r)}function uT(r=tn()){return/blackberry/i.test(r)}function cT(r=tn()){return/webos/i.test(r)}function yp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function V2(r=tn()){return yp(r)&&!!window.navigator?.standalone}function k2(){return $w()&&document.documentMode===10}function hT(r=tn()){return yp(r)||lT(r)||cT(r)||uT(r)||/windows phone/i.test(r)||oT(r)}function fT(r,e=[]){let n;switch(r){case"Browser":n=iE(tn());break;case"Worker":n=`${iE(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}class L2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function P2(r,e={}){return bo(r,"GET","/v2/passwordPolicy",pp(r,e))}const U2=6;class z2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??U2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class j2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new L2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await to.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ph(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Ys(this));const n=e?jt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P2(this),n=new z2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await M2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&g2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Lh(r){return jt(r)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=rR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B2(r){_p=r}function H2(r){return _p.loadJS(r)}function q2(){return _p.gapiScript}function F2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function G2(r,e){const n=hp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if($s(u,e??{}))return o;Li(o,"already-initialized")}return n.initialize({options:e})}function Q2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Y2(r,e,n){const s=Lh(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=dT(e),{host:f,port:p}=K2(e),g=p===null?"":`:${p}`,m={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee($s(m,s.config.emulator)&&$s(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(q0(`${u}//${f}${g}`),F0("Auth",!0)):X2()}function dT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function K2(r){const e=dT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:sE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:sE(f)}}}function sE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function X2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class mT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function no(r,e){return A2(r,"POST","/v1/accounts:signInWithIdp",pp(r,e))}const $2="http://localhost";class Zs extends mT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,no(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:$2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}class vp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lu extends vp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xr extends lu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";class ir extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ir.credential(n,s)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class $r extends lu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";class Jr extends lu{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),f=aE(s);return new ao({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=aE(s);return new ao({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function aE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class yh extends mr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new yh(e,n,s,o)}}function pT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(r,u,e,s):u})}async function J2(r,e,n=!1){const s=await Xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ao._forOperation(r,"link",s)}async function Z2(r,e,n=!1){const{auth:s}=r;if(ei(s.app))return Promise.reject(Ys(s));const o="reauthenticate";try{const u=await Xl(r,pT(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=gp(u.idToken);Ee(f,s,"internal-error");const{sub:p}=f;return Ee(r.uid===p,s,"user-mismatch"),ao._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Li(s,"user-mismatch"),u}}async function W2(r,e,n=!1){if(ei(r.app))return Promise.reject(Ys(r));const s="signIn",o=await pT(r,s,e),u=await ao._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function eC(r,e,n,s){return jt(r).onIdTokenChanged(e,n,s)}function tC(r,e,n){return jt(r).beforeAuthStateChanged(e,n)}function nC(r,e,n,s){return jt(r).onAuthStateChanged(e,n,s)}function iC(r){return jt(r).signOut()}const _h="__sak";class gT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rC=1e3,sC=10;class yT extends gT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);k2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yT.type="LOCAL";const aC=yT;class _T extends gT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_T.type="SESSION";const vT=_T;function oC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ph(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async m=>m(n.origin,u)),g=await oC(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];function Ep(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class lC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const m=Ep("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ni(){return window}function uC(r){Ni().location.href=r}function ET(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function cC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hC(){return navigator?.serviceWorker?.controller||null}function fC(){return ET()?self:null}const TT="firebaseLocalStorageDb",dC=1,vh="firebaseLocalStorage",bT="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(r,e){return r.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function mC(){const r=indexedDB.deleteDatabase(TT);return new uu(r).toPromise()}function km(){const r=indexedDB.open(TT,dC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(vh,{keyPath:bT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(vh)?e(s):(s.close(),await mC(),e(await km()))})})}async function oE(r,e,n){const s=Uh(r,!0).put({[bT]:e,value:n});return new uu(s).toPromise()}async function pC(r,e){const n=Uh(r,!1).get(e),s=await new uu(n).toPromise();return s===void 0?null:s.value}function lE(r,e){const n=Uh(r,!0).delete(e);return new uu(n).toPromise()}const gC=800,yC=3;class ST{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>yC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ET()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(fC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cC(),!this.activeServiceWorker)return;this.sender=new lC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await oE(e,_h,"1"),await lE(e,_h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>oE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>pC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uh(o,!1).getAll();return new uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ST.type="LOCAL";const _C=ST;new ou(3e4,6e4);function AT(r,e){return e?sr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Tp extends mT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vC(r){return W2(r.auth,new Tp(r),r.bypassAuthState)}function EC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),Z2(n,new Tp(r),r.bypassAuthState)}async function TC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),J2(n,new Tp(r),r.bypassAuthState)}class wT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vC;case"linkViaPopup":case"linkViaRedirect":return TC;case"reauthViaPopup":case"reauthViaRedirect":return EC;default:Li(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bC=new ou(2e3,1e4);async function SC(r,e,n){if(ei(r.app))return Promise.reject(ni(r,"operation-not-supported-in-this-environment"));const s=Lh(r);y2(r,e,vp);const o=AT(s,n);return new Gs(s,"signInViaPopup",e,o).executeNotNull()}class Gs extends wT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bC.get())};e()}}Gs.currentPopupAction=null;const AC="pendingRedirect",ih=new Map;class wC extends wT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const s=await RC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RC(r,e){const n=DC(e),s=IC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function CC(r,e){ih.set(r._key(),e)}function IC(r){return sr(r._redirectPersistence)}function DC(r){return nh(AC,r.config.apiKey,r.name)}async function NC(r,e,n=!1){if(ei(r.app))return Promise.reject(Ys(r));const s=Lh(r),o=AT(s,e),f=await new wC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const xC=600*1e3;class OC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!RT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xC&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(e))}saveEventToCache(e){this.cachedEventUids.add(uE(e)),this.lastProcessedEventTime=Date.now()}}function uE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function RT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function MC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RT(r);default:return!1}}async function VC(r,e={}){return bo(r,"GET","/v1/projects",e)}const kC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LC=/^https?/;async function PC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await VC(r);for(const n of e)try{if(UC(n))return}catch{}Li(r,"unauthorized-domain")}function UC(r){const e=Mm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!LC.test(n))return!1;if(kC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const zC=new ou(3e4,6e4);function cE(){const r=Ni().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function jC(r){return new Promise((e,n)=>{function s(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),n(ni(r,"network-request-failed"))},timeout:zC.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const o=F2("iframefcb");return Ni()[o]=()=>{gapi.load?s():n(ni(r,"network-request-failed"))},H2(`${q2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw rh=null,e})}let rh=null;function BC(r){return rh=rh||jC(r),rh}const HC=new ou(5e3,15e3),qC="__/auth/iframe",FC="emulator/auth/iframe",GC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YC(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?mp(e,FC):`https://${r.config.authDomain}/${qC}`,s={apiKey:e.apiKey,appName:r.name,v:To},o=QC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function KC(r){const e=await BC(r),n=Ni().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:YC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ni(r,"network-request-failed"),p=Ni().setTimeout(()=>{u(f)},HC.get());function g(){Ni().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const XC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$C=500,JC=600,ZC="_blank",WC="http://localhost";class hE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eI(r,e,n,s=$C,o=JC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...XC,width:s.toString(),height:o.toString(),top:u,left:f},m=tn().toLowerCase();n&&(p=aT(m)?ZC:n),rT(m)&&(e=e||WC,g.scrollbars="yes");const E=Object.entries(g).reduce((w,[k,F])=>`${w}${k}=${F},`,"");if(V2(m)&&p!=="_self")return tI(e||"",p),new hE(null);const T=window.open(e||"",p,E);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new hE(T)}function tI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const nI="__/auth/handler",iI="emulator/auth/handler",rI=encodeURIComponent("fac");async function fE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:To,eventId:o};if(e instanceof vp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",iR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof lu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await r._getAppCheckToken(),m=g?`#${rI}=${encodeURIComponent(g)}`:"";return`${sI(r)}?${au(p).slice(1)}${m}`}function sI({config:r}){return r.emulator?mp(r,iI):`https://${r.authDomain}/${nI}`}const _m="webStorageSupport";class aI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vT,this._completeRedirectFn=NC,this._overrideRedirectResult=CC}async _openPopup(e,n,s,o){cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await fE(e,n,s,Mm(),o);return eI(e,u,Ep())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await fE(e,n,s,Mm(),o);return uC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await KC(e),s=new OC(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{const u=o?.[0]?.[_m];u!==void 0&&n(!!u),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hT()||sT()||yp()}}const oI=aI;var dE="@firebase/auth",mE="1.11.1";class lI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cI(r){so(new Js("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fT(r)},m=new j2(s,o,u,g);return Q2(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),so(new Js("auth-internal",e=>{const n=Lh(e.getProvider("auth").getImmediate());return(s=>new lI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(dE,mE,uI(r)),ts(dE,mE,"esm2020")}const hI=300,fI=H0("authIdTokenMaxAge")||hI;let pE=null;const dI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>fI)return;const o=n?.token;pE!==o&&(pE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function mI(r=K0()){const e=hp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=G2(r,{popupRedirectResolver:oI,persistence:[_C,aC,vT]}),s=H0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=dI(u.toString());tC(n,f,()=>f(n.currentUser)),eC(n,p=>f(p))}}const o=j0("auth");return o&&Y2(n,`http://${o}`),n}function pI(){return document.getElementsByTagName("head")?.[0]??document}B2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ni("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",pI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cI("Browser");var gI="firebase",yI="12.6.0";ts(gI,yI,"app");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ns,CT;(function(){var r;function e(A,R){function C(){}C.prototype=R.prototype,A.F=R.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(O,x,L){for(var D=Array(arguments.length-2),We=2;We<arguments.length;We++)D[We-2]=arguments[We];return R.prototype[x].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,R,C){C||(C=0);const O=Array(16);if(typeof R=="string")for(var x=0;x<16;++x)O[x]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(x=0;x<16;++x)O[x]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=A.g[0],C=A.g[1],x=A.g[2];let L=A.g[3],D;D=R+(L^C&(x^L))+O[0]+3614090360&4294967295,R=C+(D<<7&4294967295|D>>>25),D=L+(x^R&(C^x))+O[1]+3905402710&4294967295,L=R+(D<<12&4294967295|D>>>20),D=x+(C^L&(R^C))+O[2]+606105819&4294967295,x=L+(D<<17&4294967295|D>>>15),D=C+(R^x&(L^R))+O[3]+3250441966&4294967295,C=x+(D<<22&4294967295|D>>>10),D=R+(L^C&(x^L))+O[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=L+(x^R&(C^x))+O[5]+1200080426&4294967295,L=R+(D<<12&4294967295|D>>>20),D=x+(C^L&(R^C))+O[6]+2821735955&4294967295,x=L+(D<<17&4294967295|D>>>15),D=C+(R^x&(L^R))+O[7]+4249261313&4294967295,C=x+(D<<22&4294967295|D>>>10),D=R+(L^C&(x^L))+O[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=L+(x^R&(C^x))+O[9]+2336552879&4294967295,L=R+(D<<12&4294967295|D>>>20),D=x+(C^L&(R^C))+O[10]+4294925233&4294967295,x=L+(D<<17&4294967295|D>>>15),D=C+(R^x&(L^R))+O[11]+2304563134&4294967295,C=x+(D<<22&4294967295|D>>>10),D=R+(L^C&(x^L))+O[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=L+(x^R&(C^x))+O[13]+4254626195&4294967295,L=R+(D<<12&4294967295|D>>>20),D=x+(C^L&(R^C))+O[14]+2792965006&4294967295,x=L+(D<<17&4294967295|D>>>15),D=C+(R^x&(L^R))+O[15]+1236535329&4294967295,C=x+(D<<22&4294967295|D>>>10),D=R+(x^L&(C^x))+O[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=L+(C^x&(R^C))+O[6]+3225465664&4294967295,L=R+(D<<9&4294967295|D>>>23),D=x+(R^C&(L^R))+O[11]+643717713&4294967295,x=L+(D<<14&4294967295|D>>>18),D=C+(L^R&(x^L))+O[0]+3921069994&4294967295,C=x+(D<<20&4294967295|D>>>12),D=R+(x^L&(C^x))+O[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=L+(C^x&(R^C))+O[10]+38016083&4294967295,L=R+(D<<9&4294967295|D>>>23),D=x+(R^C&(L^R))+O[15]+3634488961&4294967295,x=L+(D<<14&4294967295|D>>>18),D=C+(L^R&(x^L))+O[4]+3889429448&4294967295,C=x+(D<<20&4294967295|D>>>12),D=R+(x^L&(C^x))+O[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=L+(C^x&(R^C))+O[14]+3275163606&4294967295,L=R+(D<<9&4294967295|D>>>23),D=x+(R^C&(L^R))+O[3]+4107603335&4294967295,x=L+(D<<14&4294967295|D>>>18),D=C+(L^R&(x^L))+O[8]+1163531501&4294967295,C=x+(D<<20&4294967295|D>>>12),D=R+(x^L&(C^x))+O[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=L+(C^x&(R^C))+O[2]+4243563512&4294967295,L=R+(D<<9&4294967295|D>>>23),D=x+(R^C&(L^R))+O[7]+1735328473&4294967295,x=L+(D<<14&4294967295|D>>>18),D=C+(L^R&(x^L))+O[12]+2368359562&4294967295,C=x+(D<<20&4294967295|D>>>12),D=R+(C^x^L)+O[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=L+(R^C^x)+O[8]+2272392833&4294967295,L=R+(D<<11&4294967295|D>>>21),D=x+(L^R^C)+O[11]+1839030562&4294967295,x=L+(D<<16&4294967295|D>>>16),D=C+(x^L^R)+O[14]+4259657740&4294967295,C=x+(D<<23&4294967295|D>>>9),D=R+(C^x^L)+O[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=L+(R^C^x)+O[4]+1272893353&4294967295,L=R+(D<<11&4294967295|D>>>21),D=x+(L^R^C)+O[7]+4139469664&4294967295,x=L+(D<<16&4294967295|D>>>16),D=C+(x^L^R)+O[10]+3200236656&4294967295,C=x+(D<<23&4294967295|D>>>9),D=R+(C^x^L)+O[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=L+(R^C^x)+O[0]+3936430074&4294967295,L=R+(D<<11&4294967295|D>>>21),D=x+(L^R^C)+O[3]+3572445317&4294967295,x=L+(D<<16&4294967295|D>>>16),D=C+(x^L^R)+O[6]+76029189&4294967295,C=x+(D<<23&4294967295|D>>>9),D=R+(C^x^L)+O[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=L+(R^C^x)+O[12]+3873151461&4294967295,L=R+(D<<11&4294967295|D>>>21),D=x+(L^R^C)+O[15]+530742520&4294967295,x=L+(D<<16&4294967295|D>>>16),D=C+(x^L^R)+O[2]+3299628645&4294967295,C=x+(D<<23&4294967295|D>>>9),D=R+(x^(C|~L))+O[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=L+(C^(R|~x))+O[7]+1126891415&4294967295,L=R+(D<<10&4294967295|D>>>22),D=x+(R^(L|~C))+O[14]+2878612391&4294967295,x=L+(D<<15&4294967295|D>>>17),D=C+(L^(x|~R))+O[5]+4237533241&4294967295,C=x+(D<<21&4294967295|D>>>11),D=R+(x^(C|~L))+O[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=L+(C^(R|~x))+O[3]+2399980690&4294967295,L=R+(D<<10&4294967295|D>>>22),D=x+(R^(L|~C))+O[10]+4293915773&4294967295,x=L+(D<<15&4294967295|D>>>17),D=C+(L^(x|~R))+O[1]+2240044497&4294967295,C=x+(D<<21&4294967295|D>>>11),D=R+(x^(C|~L))+O[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=L+(C^(R|~x))+O[15]+4264355552&4294967295,L=R+(D<<10&4294967295|D>>>22),D=x+(R^(L|~C))+O[6]+2734768916&4294967295,x=L+(D<<15&4294967295|D>>>17),D=C+(L^(x|~R))+O[13]+1309151649&4294967295,C=x+(D<<21&4294967295|D>>>11),D=R+(x^(C|~L))+O[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=L+(C^(R|~x))+O[11]+3174756917&4294967295,L=R+(D<<10&4294967295|D>>>22),D=x+(R^(L|~C))+O[2]+718787259&4294967295,x=L+(D<<15&4294967295|D>>>17),D=C+(L^(x|~R))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+R&4294967295,A.g[1]=A.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+x&4294967295,A.g[3]=A.g[3]+L&4294967295}s.prototype.v=function(A,R){R===void 0&&(R=A.length);const C=R-this.blockSize,O=this.C;let x=this.h,L=0;for(;L<R;){if(x==0)for(;L<=C;)o(this,A,L),L+=this.blockSize;if(typeof A=="string"){for(;L<R;)if(O[x++]=A.charCodeAt(L++),x==this.blockSize){o(this,O),x=0;break}}else for(;L<R;)if(O[x++]=A[L++],x==this.blockSize){o(this,O),x=0;break}}this.h=x,this.o+=R},s.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var R=1;R<A.length-8;++R)A[R]=0;R=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=R&255,R/=256;for(this.v(A),A=Array(16),R=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)A[R++]=this.g[C]>>>O&255;return A};function u(A,R){var C=p;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=R(A)}function f(A,R){this.h=R;const C=[];let O=!0;for(let x=A.length-1;x>=0;x--){const L=A[x]|0;O&&L==R||(C[x]=L,O=!1)}this.g=C}var p={};function g(A){return-128<=A&&A<128?u(A,function(R){return new f([R|0],R<0?-1:0)}):new f([A|0],A<0?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return T;if(A<0)return B(m(-A));const R=[];let C=1;for(let O=0;A>=C;O++)R[O]=A/C|0,C*=4294967296;return new f(R,0)}function E(A,R){if(A.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(A.charAt(0)=="-")return B(E(A.substring(1),R));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(R,8));let O=T;for(let L=0;L<A.length;L+=8){var x=Math.min(8,A.length-L);const D=parseInt(A.substring(L,L+x),R);x<8?(x=m(Math.pow(R,x)),O=O.j(x).add(m(D))):(O=O.j(C),O=O.add(m(D)))}return O}var T=g(0),w=g(1),k=g(16777216);r=f.prototype,r.m=function(){if(Y(this))return-B(this).m();let A=0,R=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);A+=(O>=0?O:4294967296+O)*R,R*=4294967296}return A},r.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(F(this))return"0";if(Y(this))return"-"+B(this).toString(A);const R=m(Math.pow(A,6));var C=this;let O="";for(;;){const x=_e(C,R).g;C=$(C,x.j(R));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=x,F(C))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},r.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function F(A){if(A.h!=0)return!1;for(let R=0;R<A.g.length;R++)if(A.g[R]!=0)return!1;return!0}function Y(A){return A.h==-1}r.l=function(A){return A=$(this,A),Y(A)?-1:F(A)?0:1};function B(A){const R=A.g.length,C=[];for(let O=0;O<R;O++)C[O]=~A.g[O];return new f(C,~A.h).add(w)}r.abs=function(){return Y(this)?B(this):this},r.add=function(A){const R=Math.max(this.g.length,A.g.length),C=[];let O=0;for(let x=0;x<=R;x++){let L=O+(this.i(x)&65535)+(A.i(x)&65535),D=(L>>>16)+(this.i(x)>>>16)+(A.i(x)>>>16);O=D>>>16,L&=65535,D&=65535,C[x]=D<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function $(A,R){return A.add(B(R))}r.j=function(A){if(F(this)||F(A))return T;if(Y(this))return Y(A)?B(this).j(B(A)):B(B(this).j(A));if(Y(A))return B(this.j(B(A)));if(this.l(k)<0&&A.l(k)<0)return m(this.m()*A.m());const R=this.g.length+A.g.length,C=[];for(var O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let x=0;x<A.g.length;x++){const L=this.i(O)>>>16,D=this.i(O)&65535,We=A.i(x)>>>16,Nt=A.i(x)&65535;C[2*O+2*x]+=D*Nt,ne(C,2*O+2*x),C[2*O+2*x+1]+=L*Nt,ne(C,2*O+2*x+1),C[2*O+2*x+1]+=D*We,ne(C,2*O+2*x+1),C[2*O+2*x+2]+=L*We,ne(C,2*O+2*x+2)}for(A=0;A<R;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=R;A<2*R;A++)C[A]=0;return new f(C,0)};function ne(A,R){for(;(A[R]&65535)!=A[R];)A[R+1]+=A[R]>>>16,A[R]&=65535,R++}function ie(A,R){this.g=A,this.h=R}function _e(A,R){if(F(R))throw Error("division by zero");if(F(A))return new ie(T,T);if(Y(A))return R=_e(B(A),R),new ie(B(R.g),B(R.h));if(Y(R))return R=_e(A,B(R)),new ie(B(R.g),R.h);if(A.g.length>30){if(Y(A)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,O=R;O.l(A)<=0;)C=he(C),O=he(O);var x=oe(C,1),L=oe(O,1);for(O=oe(O,2),C=oe(C,2);!F(O);){var D=L.add(O);D.l(A)<=0&&(x=x.add(C),L=D),O=oe(O,1),C=oe(C,1)}return R=$(A,x.j(R)),new ie(x,R)}for(x=T;A.l(R)>=0;){for(C=Math.max(1,Math.floor(A.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=m(C),D=L.j(R);Y(D)||D.l(A)>0;)C-=O,L=m(C),D=L.j(R);F(L)&&(L=w),x=x.add(L),A=$(A,D)}return new ie(x,A)}r.B=function(A){return _e(this,A).h},r.and=function(A){const R=Math.max(this.g.length,A.g.length),C=[];for(let O=0;O<R;O++)C[O]=this.i(O)&A.i(O);return new f(C,this.h&A.h)},r.or=function(A){const R=Math.max(this.g.length,A.g.length),C=[];for(let O=0;O<R;O++)C[O]=this.i(O)|A.i(O);return new f(C,this.h|A.h)},r.xor=function(A){const R=Math.max(this.g.length,A.g.length),C=[];for(let O=0;O<R;O++)C[O]=this.i(O)^A.i(O);return new f(C,this.h^A.h)};function he(A){const R=A.g.length+1,C=[];for(let O=0;O<R;O++)C[O]=A.i(O)<<1|A.i(O-1)>>>31;return new f(C,A.h)}function oe(A,R){const C=R>>5;R%=32;const O=A.g.length-C,x=[];for(let L=0;L<O;L++)x[L]=R>0?A.i(L+C)>>>R|A.i(L+C+1)<<32-R:A.i(L+C);return new f(x,A.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,CT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=E,ns=f}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var IT,Ll,DT,sh,Lm,NT,xT,OT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in v))break e;v=v[z]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},f=this||self;function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,v){return c.call.apply(c.bind,arguments)}function m(c,y,v){return m=g,m.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,z,G){for(var re=Array(arguments.length-2),we=2;we<arguments.length;we++)re[we-2]=arguments[we];return y.prototype[z].apply(S,re)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function F(c,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=z[re]}else c.push(z)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(c){f.setTimeout(()=>{throw c},0)}function $(){var c=A;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,v){const S=ie.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ie=new Y(()=>new _e,c=>c.reset());class _e{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let he,oe=!1,A=new ne,R=()=>{const c=Promise.resolve(void 0);he=()=>{c.then(C)}};function C(){for(var c;c=$();){try{c.h.call(c.g)}catch(v){B(v)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}oe=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function D(c){return/^[\s\xa0]*$/.test(c)}function We(c,y){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(We,x),We.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(Math.random()*1e6|0),X=0;function se(c,y,v,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++X,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)c[v]=S[v];for(let G=0;G<W.length;G++)v=W[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,v,S,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Ce(c,y,S,z);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,G,!!S,z),y.fa=v,c.push(y)),y};function Te(c,y){const v=y.type;if(v in c.g){var S=c.g[v],z=Array.prototype.indexOf.call(S,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(S,z,1),G&&(ge(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,S){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==S)return z}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),xt={};function st(c,y,v,S,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)st(c,y[G],v,S,z);return null}return v=xo(v),c&&c[Nt]?c.J(y,v,p(S)?!!S.capture:!1,z):ds(c,y,v,!1,S,z)}function ds(c,y,v,S,z,G){if(!y)throw Error("Invalid event type");const re=p(z)?!!z.capture:!!z;let we=ms(c);if(we||(c[Pe]=we=new ce(c)),v=we.add(y,v,S,re,G),v.proxy)return v;if(S=sa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)L||(z=re),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(oi(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sa(){function c(v){return y.call(c.src,c.listener,v)}const y=Do;return c}function aa(c,y,v,S,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)aa(c,y[G],v,S,z);else S=p(S)?!!S.capture:!!S,v=xo(v),c&&c[Nt]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Ce(y,v,S,z),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=ms(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,S,z)),(v=c>-1?y[c]:null)&&oa(v))}function oa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Nt])Te(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(oi(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=ms(y))?(Te(v,c),v.h==0&&(v.src=null,y[Pe]=null)):ge(c)}}}function oi(c){return c in xt?xt[c]:xt[c]="on"+c}function Do(c,y){if(c.da)c=!0;else{y=new We(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&oa(c),c=v.call(S,y)}return c}function ms(c){return c=c[Pe],c instanceof ce?c:null}var No="__closure_events_fn_"+(Math.random()*1e9>>>0);function xo(c){return typeof c=="function"?c:(c[No]||(c[No]=function(y){return c.handleEvent(y)}),c[No])}function _t(){O.call(this),this.i=new ce(this),this.M=this,this.G=null}T(_t,O),_t.prototype[Nt]=!0,_t.prototype.removeEventListener=function(c,y,v,S){aa(this,c,y,v,S)};function Ot(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new x(y,c);else if(y instanceof x)y.target=y.target||c;else{var z=y;y=new x(S,c),ae(y,z)}z=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=y.g=v[re],z=pr(G,S,!0,y)&&z;if(G=y.g=c,z=pr(G,S,!0,y)&&z,z=pr(G,S,!1,y)&&z,v)for(re=0;re<v.length;re++)G=y.g=v[re],z=pr(G,S,!1,y)&&z}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)ge(v[S]);delete c.g[y],c.h--}}this.G=null},_t.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},_t.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function pr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const re=y[G];if(re&&!re.da&&re.capture==v){const we=re.listener,dt=re.ha||re.src;re.fa&&Te(c.i,re),z=we.call(dt,S)!==!1&&z}}return z&&!S.defaultPrevented}function af(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function yu(c){c.g=af(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){O.call(this),this.h=c,this.g={}}T(ps,O);var Oo=[];function Mo(c){ze(c.g,function(y,v){this.g.hasOwnProperty(v)&&oa(y)},c),c.g={}}ps.prototype.N=function(){ps.Z.N.call(this),Mo(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=f.JSON.stringify,of=f.JSON.parse,_u=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function vu(){}function Eu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){x.call(this,"d")}T(Bt,x);function wn(){x.call(this,"c")}T(wn,x);var ft={},Tu=null;function la(){return Tu=Tu||new _t}ft.Ia="serverreachability";function bu(c){x.call(this,ft.Ia,c)}T(bu,x);function li(c){const y=la();Ot(y,new bu(y))}ft.STAT_EVENT="statevent";function gs(c,y){x.call(this,ft.STAT_EVENT,c),this.stat=y}T(gs,x);function vt(c){const y=la();Ot(y,new gs(y,c))}ft.Ja="timingevent";function ui(c,y){x.call(this,ft.Ja,c),this.size=y}T(ui,x);function ci(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function lf(c,y,v,S,z,G){c.info(function(){if(c.g)if(G){var re="",we=G.split("&");for(let He=0;He<we.length;He++){var dt=we[He].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Dn=at.split("_");re=Dn.length>=2&&Dn[1]=="type"?re+(at+"="+dt+"&"):re+(at+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+re})}function Su(c,y,v,S,z,G,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+G+" "+re})}function hi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+uf(c,v)+(S?" "+S:"")})}function ys(c,y){c.info(function(){return"TIMEOUT: "+y})}qn.prototype.info=function(){};function uf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return gr(G)}catch{return y}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ko;function vs(){}T(vs,vu),vs.prototype.g=function(){return new XMLHttpRequest},ko=new vs;function Ui(c){return encodeURIComponent(String(c))}function Au(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Fn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Et={},Lt={};function fi(c,y,v){c.M=1,c.A=Es(bt(y)),c.u=v,c.R=!0,ua(c,null)}function ua(c,y){c.F=Date.now(),di(c),c.B=bt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),da(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Gn,c.g=zu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new nn(m(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Oo[0]=z.toString()),z=Oo);for(let G=0;G<z.length;G++){const re=st(v,z[G],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),li(),lf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Kn(c)==3?y.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Kn(this.g),dt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||we!=4||dt==7||(dt==8||He<=0?li(3):li(2)),mi(this);var y=this.g.ca();this.X=y;var v=cf(this);if(this.o=y==200,Su(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(S)){var G=S;break t}}G=null}if(c=G)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,vt(12),pn(this),Rn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Ru(this,v),at==Lt){we==4&&(this.m=4,vt(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Et){this.m=4,vt(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,at,null),pi(this,at);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$o(re),re.P=!0,vt(11))}}else hi(this.i,this.l,v,null),pi(this,v);we==4&&pn(this),this.o&&!this.K&&(we==4?ku(this.j,this):(this.o=!1,di(this)))}else ji(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),pn(this),Rn(this)}}}catch{}finally{}};function cf(c){if(!wu(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let v="";const S=y.length,z=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Rn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(z&&G==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ru(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Lt:(v=Number(y.substring(v,S)),isNaN(v)?Et:(S+=1,S+v>y.length?Lt:(y=y.slice(S,S+v),c.C=S+v,y)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function di(c){c.T=Date.now()+c.H,ca(c,c.H)}function ca(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(m(c.aa,c),y)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ys(this.i,this.B),this.M!=2&&(li(),vt(17)),pn(this),this.m=2,Rn(this)):ca(this,this.T-c)};function Rn(c){c.j.I==0||c.K||ku(c.j,c)}function pn(c){mi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Mo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function pi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)_a(v),Ar(v);else break e;Cs(v),vt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(m(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((c.L||v.g==c)&&_a(v),!D(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let He=z[y];const at=He[0];if(!(at<=v.K))if(v.K=at,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Dn=He[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ai=He[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Xn=He[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(S=1.5*Xn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const $n=c.g;if($n){const Is=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var G=S.h;G.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Uo(G,G.h),G.h=null))}if(S.G){const va=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(S.wa=va,Qe(S.J,S.G,va))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=c;if(S.na=Uu(S,S.L?S.ba:null,S.W),re.L){zo(S.h,re);var we=re,dt=S.O;dt&&(we.H=dt),we.D&&(mi(we),di(we)),S.g=re}else Mu(S);v.i.length>0&&bi(v)}else He[0]!="stop"&&He[0]!="close"||Si(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Si(v,7):Ko(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}li(4)}catch{}}var Tt=class{constructor(c,y){this.g=c,this.map=y}};function Lo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Uo(c,y){c.g?c.g.add(y):c.h=y}function zo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Lo.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let z,G=null;S>=0?(z=c[v].substring(0,S),G=c[v].substring(S+1)):z=c[v],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof gn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,yr(this,c.u),this.h=c.h,Bo(this,xu(c.i)),this.m=c.m):c&&(y=String(c).match(Cu))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=_i(y[2]||""),this.g=_i(y[3]||"",!0),yr(this,y[4]),this.h=_i(y[5]||"",!0),Bo(this,y[6]||"",!0),this.m=_i(y[7]||"")):(this.l=!1,this.i=new vr(null,this.l))}gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ts(y,fa,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ts(y,fa,!0),"@"),c.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ts(v,v.charAt(0)=="/"?Ho:Iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ts(v,Du)),c.join("")},gn.prototype.resolve=function(c){const y=bt(this);let v=!!c.j;v?Pt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)yr(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let re=0;re<z.length;){const we=z[re++];we=="."?S&&re==z.length&&G.push(""):we==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&re==z.length&&G.push("")):(G.push(we),S=!0)}S=G.join("/")}else S=z}return v?y.h=S:v=c.i.toString()!=="",v?Bo(y,xu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function bt(c){return new gn(c)}function Pt(c,y,v){c.j=v?_i(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function yr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Bo(c,y,v){y instanceof vr?(c.i=y,ma(c.i,c.l)):(v||(y=Ts(y,_r)),c.i=new vr(y,c.l))}function Qe(c,y,v){c.i.set(y,v)}function Es(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fa=/[#\/\?@]/g,Iu=/[#\?:]/g,Ho=/[#\?]/g,_r=/[#\?@]/g,Du=/#/g;function vr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ha(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=vr.prototype,r.add=function(c,y){on(this),this.i=null,c=Er(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Nu(c,y){on(c),y=Er(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qo(c,y){return on(c),y=Er(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(v,S){v.forEach(function(z){c.call(y,z,S,this)},this)},this)};function Fo(c,y){on(c);let v=[];if(typeof y=="string")qo(c,y)&&(v=v.concat(c.g.get(Er(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return on(this),this.i=null,c=Er(this,c),qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Fo(this,c),c.length>0?String(c[0]):y):y};function da(c,y,v){Nu(c,y),v.length>0&&(c.i=null,c.g.set(Er(c,y),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const z=Ui(v);v=Fo(this,v);for(let G=0;G<v.length;G++){let re=z;v[G]!==""&&(re+="="+Ui(v[G])),c.push(re)}}return this.i=c.join("&")};function xu(c){const y=new vr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Er(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ma(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(Nu(this,S),da(this,z,v))},c)),c.j=y}function Qn(c,y){const v=new qn;if(f.Image){const S=new Image;S.onload=E(Cn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Cn,v,"TestLoadImage: error",!1,y,S),S.onabort=E(Cn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Cn,v,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Go(c,y){const v=new qn,S=new AbortController,z=setTimeout(()=>{S.abort(),Cn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(z),G.ok?Cn(v,"TestPingServer: ok",!0,y):Cn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Cn(v,"TestPingServer: error",!1,y)})}function Cn(c,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function Tr(){this.g=new _u}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(vi,vu),vi.prototype.g=function(){return new bs(this.i,this.h)};function bs(c,y){_t.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(bs,_t),r=bs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?br(this):Yn(this),this.readyState==3&&pa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,br(this))},r.Na=function(c){this.g&&(this.response=c,br(this))},r.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let y="";return ze(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ss(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=In(v),typeof c=="string"?v!=null&&Ui(v):Qe(c,y,v))}function Xe(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xe,_t);var Ei=/^https?$/i,Qo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ko.g(),this.g.onreadystatechange=w(m(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){As(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){As(this,G)}};function As(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Yo(c),zi(c)}function Yo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},r.Xa=function(){ws(this)};function ws(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=G===0){let re=String(c.D).match(Cu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),S=!Ei.test(re?re.toLowerCase():"")}v=S}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var z=Kn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Yo(c)}}finally{zi(c)}}}}function zi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),of(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const y={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(D(c[S]))continue;var v=Au(c[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[z]||[];y[z]=G,G.push(v)}Ge(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Sr(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(c&&c.concurrentRequestLimit),this.Ba=new Tr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Sr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,S){vt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Uu(this,null,this.W),bi(this)};function Ko(c){if(ga(c),c.I==3){var y=c.V++,v=bt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",y),Qe(v,"TYPE","terminate"),Rs(c,v),y=new Fn(c,c.j,y),y.M=2,y.A=Es(bt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=zu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),di(y)}Pu(c)}function Ar(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function ga(c){Ar(c),c.v&&(f.clearTimeout(c.v),c.v=null),_a(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function bi(c){if(!Po(c.h)&&!c.m){c.m=!0;var y=c.Ea;he||R(),oe||(he(),oe=!0),A.add(y,c),c.D=0}}function ya(c,y){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(m(c.Ea,c,y),Lu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Fn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Ou(this,z,y),v=bt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Rs(this,v),G&&(this.R?y="headers="+Ui(In(G))+"&"+y:this.u&&Ss(v,this.u,G)),Uo(this.h,z),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",y),Qe(v,"SID","null"),z.U=!0,fi(z,v,null)):fi(z,v,y),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Po(this.h)||Xo(this))};function Xo(c,y){var v;y?v=y.l:v=c.V++;const S=bt(c.J);Qe(S,"SID",c.M),Qe(S,"RID",v),Qe(S,"AID",c.K),Rs(c,S),c.u&&c.o&&Ss(S,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ou(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,v),fi(v,S,y)}function Rs(c,y){c.H&&ze(c.H,function(v,S){Qe(y,S,v)}),c.l&&ze({},function(v,S){Qe(y,S,v)})}function Ou(c,y,v){v=Math.min(c.i.length,v);const S=c.l?m(c.l.Ka,c.l,c):null;e:{var z=c.i;let we=-1;for(;;){const dt=["count="+v];we==-1?v>0?(we=z[0].g,dt.push("ofs="+we)):we=0:dt.push("ofs="+we);let He=!0;for(let at=0;at<v;at++){var G=z[at].g;const Dn=z[at].map;if(G-=we,G<0)we=Math.max(0,z[at].g-100),He=!1;else try{G="req"+G+"_"||"";try{var re=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ai,Xn]of re){let $n=Xn;p(Xn)&&($n=gr(Xn)),dt.push(G+Ai+"="+encodeURIComponent($n))}}catch(Ai){throw dt.push(G+"type="+encodeURIComponent("_badmap")),Ai}}catch{S&&S(Dn)}}if(He){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function Mu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;he||R(),oe||(he(),oe=!0),A.add(y,c),c.A=0}}function Cs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(m(c.Da,c),Lu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(m(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Ar(this),Vu(this))};function $o(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Vu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=bt(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),Rs(c,y),c.u&&c.o&&Ss(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Es(bt(y)),v.u=null,v.R=!0,ua(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ar(this),Cs(this),vt(19))};function _a(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ku(c,y){var v=null;if(c.g==y){_a(c),$o(c),c.g=null;var S=2}else if(yi(c.h,y))v=y.G,zo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;S=la(),Ot(S,new ui(S,v)),bi(c)}else Mu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&ya(c,y)||S==2&&Cs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Lu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Si(c,y){if(c.j.info("Error code "+y),y==2){var v=m(c.bb,c),S=c.Ua;const z=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(S,"https"),Es(S),z?Qn(S.toString(),v):Go(S.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(y),Pu(c),ga(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Pu(c){if(c.I=0,c.ja=[],c.l){const y=jo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Uu(c,y,v){var S=v instanceof gn?bt(v):new gn(v);if(S.g!="")y&&(S.g=y+"."+S.g),yr(S,S.u);else{var z=f.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new gn(null);S&&Pt(G,S),y&&(G.g=y),z&&yr(G,z),v&&(G.h=v),S=G}return v=c.G,y=c.wa,v&&y&&Qe(S,v,y),Qe(S,"VER",c.ka),Rs(c,S),S}function zu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new vi({ab:v})):new Xe(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}r=ju.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function wr(){}wr.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){_t.call(this),this.g=new Sr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!D(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Bi(this)}T(rn,_t),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ko(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=gr(c),c=v);y.i.push(new Tt(y.Ya++,c)),y.I==3&&bi(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,rn.Z.N.call(this)};function Bu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Bu,Bt);function Hu(){wn.call(this),this.status=1}T(Hu,wn);function Bi(c){this.g=c}T(Bi,ju),Bi.prototype.ra=function(){Ot(this.g,"a")},Bi.prototype.qa=function(c){Ot(this.g,new Bu(c))},Bi.prototype.pa=function(c){Ot(this.g,new Hu)},Bi.prototype.oa=function(){Ot(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,OT=function(){return new wr},xT=function(){return la()},NT=ft,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,sh=_s,Vo.COMPLETE="complete",DT=Vo,Eu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Ll=Eu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,IT=Xe}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const yE="@firebase/firestore",_E="4.9.2";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let So="12.3.0";const Ws=new up("@firebase/firestore");function $a(){return Ws.logLevel}function ue(r,...e){if(Ws.logLevel<=Me.DEBUG){const n=e.map(bp);Ws.debug(`Firestore (${So}): ${r}`,...n)}}function hr(r,...e){if(Ws.logLevel<=Me.ERROR){const n=e.map(bp);Ws.error(`Firestore (${So}): ${r}`,...n)}}function oo(r,...e){if(Ws.logLevel<=Me.WARN){const n=e.map(bp);Ws.warn(`Firestore (${So}): ${r}`,...n)}}function bp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,MT(r,s,n)}function MT(r,e,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||MT(e,o,s)}function Ae(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class VT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class vI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class EI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ks,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ks)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new VT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class TI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new TI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Sp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=AI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Pm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return vm(o)===vm(u)?Ve(o,u):vm(o)?1:-1}return Ve(r.length,e.length)}const wI=55296,RI=57343;function vm(r){const e=r.charCodeAt(0);return e>=wI&&e<=RI}function lo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const EE="__name__";class Di{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Di.isNumericId(e),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class tt extends Di{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const CI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Di{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return CI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EE}static keyField(){return new Kt([EE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new le(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new le(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}function kT(r,e,n){if(!n)throw new le(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function II(r,e,n,s){if(e===!0&&s===!0)throw new le(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function TE(r){if(!pe.isDocumentKey(r))throw new le(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bE(r){if(pe.isDocumentKey(r))throw new le(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function LT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function xi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zh(r);throw new le(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function cu(r,e){if(!LT(r))throw new le(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(ee.INVALID_ARGUMENT,n);return!0}const SE=-62135596800,AE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*AE);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<SE)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-SE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Dt("string",rt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new rt(0,0))}static max(){return new be(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;function DI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new rs(o,pe.empty(),e)}function NI(r){return new rs(r.readTime,r.key,$l)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(be.min(),pe.empty(),$l)}static max(){return new rs(be.max(),pe.empty(),$l)}}function xI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const OI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ao(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==OI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const m=g;n(e[m]).next((E=>{f[m]=E,++p,p===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function VI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}class jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;const Ap=-1;function Bh(r){return r==null}function Eh(r){return r===0&&1/r==-1/0}function kI(r){return typeof r=="number"&&Number.isInteger(r)&&!Eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const PT="";function LI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=wE(e)),e=PI(r.get(n),e);return wE(e)}function PI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case PT:n+="";break;default:n+=u}}return n}function wE(r){return r+PT+""}function RE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function UT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(e){return new CE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class CE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new An([])}unionWith(e){let n=new Vt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class zT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new zT("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const UI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=UI.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const jT="server_timestamp",BT="__type__",HT="__previous_value__",qT="__local_write_time__";function wp(r){return(r?.mapValue?.fields||{})[BT]?.stringValue===jT}function Hh(r){const e=r.mapValue.fields[HT];return wp(e)?Hh(e):e}function Jl(r){const e=ss(r.mapValue.fields[qT].timestampValue);return new rt(e.seconds,e.nanos)}class zI{constructor(e,n,s,o,u,f,p,g,m,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=E}}const Th="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||Th}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}const FT="__type__",jI="__max__",$c={mapValue:{}},GT="__vector__",bh="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wp(r)?4:HI(r)?9007199254740991:BI(r)?10:11:ve(28295,{value:r})}function Pi(r,e){if(r===e)return!0;const n=os(r);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),p=ss(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),p=gt(u.doubleValue);return f===p?Eh(f)===Eh(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return lo(r.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(RE(f)!==RE(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Pi(f[g],p[g])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Wl(r,e){return(r.values||[]).find((n=>Pi(n,e)))!==void 0}function uo(r,e){if(r===e)return 0;const n=os(r),s=os(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=gt(u.integerValue||u.doubleValue),g=gt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return IE(r.timestampValue,e.timestampValue);case 4:return IE(Jl(r),Jl(e));case 5:return Pm(r.stringValue,e.stringValue);case 6:return(function(u,f){const p=as(u),g=as(f);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let m=0;m<p.length&&m<g.length;m++){const E=Ve(p[m],g[m]);if(E!==0)return E}return Ve(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Ve(gt(u.latitude),gt(f.latitude));return p!==0?p:Ve(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return DE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},m=p[bh]?.arrayValue,E=g[bh]?.arrayValue,T=Ve(m?.values?.length||0,E?.values?.length||0);return T!==0?T:DE(m,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),m=f.fields||{},E=Object.keys(m);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const w=Pm(g[T],E[T]);if(w!==0)return w;const k=uo(p[g[T]],m[E[T]]);if(k!==0)return k}return Ve(g.length,E.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function IE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ss(r),s=ss(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function DE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=uo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function co(r){return Um(r)}function Um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return as(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Um(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Um(n.fields[f])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function ah(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(r);return e?16+ah(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ah(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return cs(s.fields,((u,f)=>{o+=u.length+ah(f)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function NE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function zm(r){return!!r&&"integerValue"in r}function Rp(r){return!!r&&"arrayValue"in r}function xE(r){return!!r&&"nullValue"in r}function OE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oh(r){return!!r&&"mapValue"in r}function BI(r){return(r?.mapValue?.fields||{})[FT]?.stringValue===GT}function Hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return cs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Hl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return e}return{...r}}function HI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jI}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Hl(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){cs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(Hl(this.value))}}function QT(r){const e=[];return cs(r.fields,((n,s)=>{const o=new Kt([n]);if(oh(s)){const u=QT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new An(e)}class Wt{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,be.min(),be.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,be.min(),be.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function ME(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=uo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function VE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pi(r.position[n],e.position[n]))return!1;return!0}class eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function qI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class YT{}class It extends YT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new GI(e,n,s):n==="array-contains"?new KI(e,s):n==="in"?new XI(e,s):n==="not-in"?new $I(e,s):n==="array-contains-any"?new JI(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new QI(e,s):new YI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(uo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends YT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ri(e,n)}matches(e){return KT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KT(r){return r.op==="and"}function XT(r){return FI(r)&&KT(r)}function FI(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function jm(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+co(r.value);if(XT(r))return r.filters.map((e=>jm(e))).join(",");{const e=r.filters.map((n=>jm(n))).join(",");return`${r.op}(${e})`}}function $T(r,e){return r instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)})(r,e):r instanceof ri?(function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,p)=>u&&$T(f,o.filters[p])),!0):!1})(r,e):void ve(19439)}function JT(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(JT).join(" ,")+"}"})(r):"Filter"}class GI extends It{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class QI extends It{constructor(e,n){super(e,"in",n),this.keys=ZT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class YI extends It{constructor(e,n){super(e,"not-in",n),this.keys=ZT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZT(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class KI extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rp(n)&&Wl(n.arrayValue,this.value)}}class XI extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class $I extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class JI extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Wl(this.value.arrayValue,s)))}}class ZI{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function kE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new ZI(r,e,n,s,o,u,f)}function Cp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>jm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>co(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>co(s))).join(",")),e.Te=n}return e.Te}function Ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!qI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!$T(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!VE(r.startAt,e.startAt)&&VE(r.endAt,e.endAt)}function Bm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ro{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WI(r,e,n,s,o,u,f,p){return new Ro(r,e,n,s,o,u,f,p)}function Dp(r){return new Ro(r)}function LE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function WT(r){return r.collectionGroup!==null}function ql(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Vt(Kt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new eu(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new eu(Kt.keyField(),s))}return e.Ie}function Oi(r){const e=Ae(r);return e.Ee||(e.Ee=eD(e,ql(r))),e.Ee}function eD(r,e){if(r.limitType==="F")return kE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new eu(o.field,u)}));const n=r.endAt?new Sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sh(r.startAt.position,r.startAt.inclusive):null;return kE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Hm(r,e){const n=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function qm(r,e,n){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function qh(r,e){return Ip(Oi(r),Oi(e))&&r.limitType===e.limitType}function eb(r){return`${Cp(Oi(r))}|lt:${r.limitType}`}function Ja(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>JT(o))).join(", ")}]`),Bh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>co(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>co(o))).join(",")),`Target(${s})`})(Oi(r))}; limitType=${r.limitType})`}function Fh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const m=ME(f,p,g);return f.inclusive?m<=0:m<0})(s.startAt,ql(s),o)||s.endAt&&!(function(f,p,g){const m=ME(f,p,g);return f.inclusive?m>=0:m>0})(s.endAt,ql(s),o))})(r,e)}function tD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tb(r){return(e,n)=>{let s=!1;for(const o of ql(r)){const u=nD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function nD(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,p){const g=f.data.field(u),m=p.data.field(u);return g!==null&&m!==null?uo(g,m):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}const iD=new ut(pe.comparator);function fr(){return iD}const nb=new ut(pe.comparator);function Pl(...r){let e=nb;for(const n of r)e=e.insert(n.key,n);return e}function ib(r){let e=nb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Qs(){return Fl()}function rb(){return Fl()}function Fl(){return new na((r=>r.toString()),((r,e)=>r.isEqual(e)))}const rD=new ut(pe.comparator),sD=new Vt(pe.comparator);function ke(...r){let e=sD;for(const n of r)e=e.add(n);return e}const aD=new Vt(Ve);function oD(){return aD}function Np(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function sb(r){return{integerValue:""+r}}function lD(r,e){return kI(e)?sb(e):Np(r,e)}class Gh{constructor(){this._=void 0}}function uD(r,e,n){return r instanceof Ah?(function(o,u){const f={fields:{[BT]:{stringValue:jT},[qT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&wp(u)&&(u=Hh(u)),u&&(f.fields[HT]=u),{mapValue:f}})(n,e):r instanceof tu?ob(r,e):r instanceof nu?lb(r,e):(function(o,u){const f=ab(o,u),p=PE(f)+PE(o.Ae);return zm(f)&&zm(o.Ae)?sb(p):Np(o.serializer,p)})(r,e)}function cD(r,e,n){return r instanceof tu?ob(r,e):r instanceof nu?lb(r,e):n}function ab(r,e){return r instanceof wh?(function(s){return zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ah extends Gh{}class tu extends Gh{constructor(e){super(),this.elements=e}}function ob(r,e){const n=ub(e);for(const s of r.elements)n.some((o=>Pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class nu extends Gh{constructor(e){super(),this.elements=e}}function lb(r,e){let n=ub(e);for(const s of r.elements)n=n.filter((o=>!Pi(o,s)));return{arrayValue:{values:n}}}class wh extends Gh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function PE(r){return gt(r.integerValue||r.doubleValue)}function ub(r){return Rp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function hD(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof tu&&o instanceof tu||s instanceof nu&&o instanceof nu?lo(s.elements,o.elements,Pi):s instanceof wh&&o instanceof wh?Pi(s.Ae,o.Ae):s instanceof Ah&&o instanceof Ah})(r.transform,e.transform)}class fD{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Qh{}function cb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xp(r.key,zn.none()):new hu(r.key,r.data,zn.none());{const n=r.data,s=mn.empty();let o=new Vt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new hs(r.key,s,new An(o.toArray()),zn.none())}}function dD(r,e,n){r instanceof hu?(function(o,u,f){const p=o.value.clone(),g=zE(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):r instanceof hs?(function(o,u,f){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=zE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(hb(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Gl(r,e,n,s){return r instanceof hu?(function(u,f,p,g){if(!lh(u.precondition,f))return p;const m=u.value.clone(),E=jE(u.fieldTransforms,g,f);return m.setAll(E),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null})(r,e,n,s):r instanceof hs?(function(u,f,p,g){if(!lh(u.precondition,f))return p;const m=jE(u.fieldTransforms,g,f),E=f.data;return E.setAll(hb(u)),E.setAll(m),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,p){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,n)}function mD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=ab(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function UE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&lo(s,o,((u,f)=>hD(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class hu extends Qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hs extends Qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function zE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,cD(f,p,n[o]))}return s}function jE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,uD(u,f,e))}return s}class xp extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pD extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&dD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=rb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=cb(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,((n,s)=>UE(n,s)))&&lo(this.baseMutations,e.baseMutations,((n,s)=>UE(n,s)))}}class Op{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return rD})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Op(e,n,s,o)}}class yD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _D{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,Ue;function vD(r){switch(r){case ee.OK:return ve(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function fb(r){if(r===void 0)return hr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return ve(39323,{code:r})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function ED(){return new TextEncoder}const TD=new ns([4294967295,4294967295],0);function BE(r){const e=ED().encode(r),n=new CT;return n.update(e),new Uint8Array(n.digest())}function HE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,u],0)]}class Mp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ns.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare(TD)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BE(e),[s,o]=HE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Mp(u,o,n);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=BE(e),[s,o]=HE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Yh(be.min(),o,new ut(Ve),fr(),ke())}}class fu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new fu(s,n,ke(),ke(),ke())}}class uh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class db{constructor(e,n){this.targetId=e,this.Ce=n}}class mb{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class qE{constructor(){this.ve=0,this.Fe=FE(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new fu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=FE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bD{constructor(e){this.Ge=e,this.ze=new Map,this.je=fr(),this.Je=Jc(),this.He=Jc(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Bm(u))if(s===0){const f=new pe(u.path);this.et(n,f,Wt.newNoDocument(f,be.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=as(s).toUint8Array()}catch(g){if(g instanceof zT)return oo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Mp(f,o,u)}catch(g){return oo(g instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Bm(p.target)){const g=new pe(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Wt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const m=this.ot(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Yh(e,n,this.Ye,this.je,s);return this.je=fr(),this.Je=Jc(),this.He=Jc(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new qE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jc(){return new ut(pe.comparator)}function FE(){return new ut(pe.comparator)}const SD={asc:"ASCENDING",desc:"DESCENDING"},AD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wD={and:"AND",or:"OR"};class RD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(r,e){return r.useProto3Json||Bh(e)?e:{value:e}}function Rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function CD(r,e){return Rh(r,e.toTimestamp())}function Mi(r){return Fe(!!r,49232),be.fromTimestamp((function(n){const s=ss(n);return new rt(s.seconds,s.nanos)})(r))}function Vp(r,e){return Gm(r,e).canonicalString()}function Gm(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function gb(r){const e=tt.fromString(r);return Fe(Tb(e),10190,{key:e.toString()}),e}function Qm(r,e){return Vp(r.databaseId,e.path)}function Em(r,e){const n=gb(e);if(n.get(1)!==r.databaseId.projectId)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(_b(n))}function yb(r,e){return Vp(r.databaseId,e)}function ID(r){const e=gb(r);return e.length===4?tt.emptyPath():_b(e)}function Ym(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _b(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function GE(r,e,n){return{name:Qm(r,e),fields:n.value.mapValue.fields}}function DD(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ve(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,E){return m.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(m){const E=m.code===void 0?ee.UNKNOWN:fb(m.code);return new le(E,m.message||"")})(f);n=new mb(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Em(r,s.document.name),u=Mi(s.document.updateTime),f=s.document.createTime?Mi(s.document.createTime):be.min(),p=new mn({mapValue:{fields:s.document.fields}}),g=Wt.newFoundDocument(o,u,f,p),m=s.targetIds||[],E=s.removedTargetIds||[];n=new uh(m,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Em(r,s.document),u=s.readTime?Mi(s.readTime):be.min(),f=Wt.newNoDocument(o,u),p=s.removedTargetIds||[];n=new uh([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Em(r,s.document),u=s.removedTargetIds||[];n=new uh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new _D(o,u),p=s.targetId;n=new db(p,f)}}return n}function ND(r,e){let n;if(e instanceof hu)n={update:GE(r,e.key,e.value)};else if(e instanceof xp)n={delete:Qm(r,e.key)};else if(e instanceof hs)n={update:GE(r,e.key,e.data),updateMask:zD(e.fieldMask)};else{if(!(e instanceof pD))return ve(16599,{Vt:e.type});n={verify:Qm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof Ah)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof tu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof nu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof wh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw ve(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:CD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function xD(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Mi(o.updateTime):Mi(u);return f.isEqual(be.min())&&(f=Mi(u)),new fD(f,o.transformResults||[])})(n,e)))):[]}function OD(r,e){return{documents:[yb(r,e.path)]}}function MD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=yb(r,o);const u=(function(m){if(m.length!==0)return Eb(ri.create(m,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(m){if(m.length!==0)return m.map((E=>(function(w){return{field:Za(w.field),direction:LD(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Fm(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:o}}function VD(r){let e=ID(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=vb(T);return w instanceof ri&&XT(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(F){return new eu(Wa(F.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(T){let w;return w=typeof T=="object"?T.value:T,Bh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(T){const w=!!T.before,k=T.values||[];return new Sh(k,w)})(n.startAt));let m=null;return n.endAt&&(m=(function(T){const w=!T.before,k=T.values||[];return new Sh(k,w)})(n.endAt)),WI(e,o,f,u,p,"F",g,m)}function kD(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wa(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wa(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(Wa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>vb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function LD(r){return SD[r]}function PD(r){return AD[r]}function UD(r){return wD[r]}function Za(r){return{fieldPath:r.canonicalString()}}function Wa(r){return Kt.fromServerFormat(r.fieldPath)}function Eb(r){return r instanceof It?(function(n){if(n.op==="=="){if(OE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(xE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(xE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:PD(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const s=n.getFilters().map((o=>Eb(o)));return s.length===1?s[0]:{compositeFilter:{op:UD(n.op),filters:s}}})(r):ve(54877,{filter:r})}function zD(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Tb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Zr{constructor(e,n,s,o,u=be.min(),f=be.min(),p=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jD{constructor(e){this.yt=e}}function BD(r){const e=VD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qm(e,e.limit,"L"):e}class HD{constructor(){this.Cn=new qD}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(rs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class qD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(tt.comparator)).toArray()}}const QE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bb=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(bb,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ho(0)}static cr(){return new ho(-1)}}const YE="LruGarbageCollector",FD=1048576;function KE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class GD{constructor(e){this.Ir=e,this.buffer=new Vt(KE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();KE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(YE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ue(YE,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Vr(3e5)}))}}class YD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(jh.ce);const s=new GD(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(QE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,p,g,m;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,p=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(m=Date.now(),$a()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${T} documents in `+(m-g)+`ms
Total Duration: ${m-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function KD(r,e){return new YD(r,e)}class XD{constructor(){this.changes=new na((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $D{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class JD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Gl(s.mutation,o,An.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=Qs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Pl();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Qs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,s,o){let u=fr();const f=Fl(),p=(function(){return Fl()})();return n.forEach(((g,m)=>{const E=s.get(m.key);o.has(m.key)&&(E===void 0||E.mutation instanceof hs)?u=u.insert(m.key,m):E!==void 0?(f.set(m.key,E.mutation.getFieldMask()),Gl(E.mutation,m,E.mutation.getFieldMask(),rt.now())):f.set(m.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((m,E)=>f.set(m,E))),n.forEach(((m,E)=>p.set(m,new $D(E,f.get(m)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=Fl();let o=new ut(((f,p)=>f-p)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const m=n.get(g);if(m===null)return;let E=s.get(g)||An.empty();E=p.applyToLocalView(m,E),s.set(g,E);const T=(o.get(p.batchId)||ke()).add(g);o=o.insert(p.batchId,T)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),m=g.key,E=g.value,T=rb();E.forEach((w=>{if(!u.has(w)){const k=cb(n.get(w),s.get(w));k!==null&&T.set(w,k),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,m,T))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Qs());let p=$l,g=u;return f.next((m=>te.forEach(m,((E,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{g=g.insert(E,w)}))))).next((()=>this.populateOverlays(e,m,u))).next((()=>this.computeViews(e,g,m,ke()))).next((E=>({batchId:p,changes:ib(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Pl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Pl();return this.indexManager.getCollectionParents(e,u).next((p=>te.forEach(p,(g=>{const m=(function(T,w){return new Ro(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,m,s,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,m)=>{const E=m.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let p=Pl();return f.forEach(((g,m)=>{const E=u.get(g);E!==void 0&&Gl(E.mutation,m,An.empty(),rt.now()),Fh(n,m)&&(p=p.insert(g,m))})),p}))}}class ZD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:BD(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),te.resolve()}}class WD{constructor(){this.overlays=new ut(pe.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qs();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Qs(),u=n.length+1,f=new pe(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,m=g.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((m,E)=>m-E));const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let E=u.get(m.largestBatchId);E===null&&(E=Qs(),u=u.insert(m.largestBatchId,E)),E.set(m.getKey(),m)}}const p=Qs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((m,E)=>p.set(m,E))),!(p.size()>=o)););return te.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new yD(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class eN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class kp{constructor(){this.Qr=new Vt(zt.$r),this.Ur=new Vt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new tt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new tt([])),s=new zt(n,e),o=new zt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class tN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(zt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new gD(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new zt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Ap:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Ve);return n.forEach((o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new zt(new pe(u),0);let p=new Vt(Ve);return this.Zr.forEachWhile((g=>{const m=g.key.path;return!!s.isPrefixOf(m)&&(m.length===o&&(p=p.add(g.Yr)),!0)}),f),te.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class nN{constructor(e){this.ri=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=fr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=fr();const f=n.path,p=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:m,value:{document:E}}=g.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||xI(NI(E),s)<=0||(o.has(E.key)||Fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new iN(this)}getSize(e){return te.resolve(this.size)}}class iN extends XD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class rN{constructor(e){this.persistence=e,this.si=new na((n=>Cp(n)),Ip),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new kp,this.targetCount=0,this.ai=ho.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class Sb{constructor(e,n){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new eN,this.referenceDelegate=e(this),this.Pi=new rN(this),this.indexManager=new HD,this.remoteDocumentCache=(function(o){return new nN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new jD(n),this.Ii=new ZD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new tN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new sN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class sN extends MI{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ri=new kp,this.Vi=null}static mi(e){return new Lp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.pi=new na((s=>LI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=KD(this,n)}static mi(e,n){return new Ch(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((p=>{p||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ah(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Pp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pp(e,n.fromCache,s,o)}}class aN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Jw()?8:VI(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new aN;return this.Ss(e,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,f,p.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?($a()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):($a()<=Me.DEBUG&&ue("QueryEngine","Query:",Ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?($a()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):te.resolve())}ys(e,n){if(LE(n))return te.resolve(null);let s=Oi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=qm(n,null,"F"),s=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const m=this.Ds(n,p);return this.Cs(n,m,f,g.readTime)?this.ys(e,qm(n,null,"F")):this.vs(e,m,n,g)}))))})))))}ws(e,n,s,o){return LE(n)||o.isEqual(be.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):($a()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(n)),this.vs(e,f,n,DI(o,$l)).next((p=>p)))}))}Ds(e,n){let s=new Vt(tb(e));return n.forEach(((o,u)=>{Fh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return $a()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Up="LocalStore",lN=3e8;class uN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new na((u=>Cp(u)),Ip),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function cN(r,e,n,s){return new uN(r,e,n,s)}async function Ab(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=ke();for(const m of o){f.push(m.batchId);for(const E of m.mutations)g=g.add(E.key)}for(const m of u){p.push(m.batchId);for(const E of m.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((m=>({Ls:m,removedBatchIds:f,addedBatchIds:p})))}))}))}function hN(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,m,E){const T=m.batch,w=T.keys();let k=te.resolve();return w.forEach((F=>{k=k.next((()=>E.getEntry(g,F))).next((Y=>{const B=m.docVersions.get(F);Fe(B!==null,48541),Y.version.compareTo(B)<0&&(T.applyToRemoteDocument(Y,m),Y.isValidDocument()&&(Y.setReadTime(m.commitVersion),E.addEntry(Y)))}))})),k.next((()=>p.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=ke();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(g=g.add(p.batch.mutations[m].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function wb(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function fN(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let k=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(Y,B,$){return Y.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=lN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,k,E)&&p.push(n.Pi.updateTargetData(u,k))}));let g=fr(),m=ke();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(dN(u,f,e.documentUpdates).next((E=>{g=E.ks,m=E.qs}))),!s.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(E)}return te.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,m))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function dN(r,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=fr();return n.forEach(((p,g)=>{const m=u.get(p);g.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):ue(Up,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function mN(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function pN(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Km(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!wo(f))throw f;ue(Up,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function XE(r,e,n){const s=Ae(r);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,m,E){const T=Ae(g),w=T.xs.get(E);return w!==void 0?te.resolve(T.Ms.get(w)):T.Pi.getTargetData(m,E)})(s,f,Oi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:ke()))).next((p=>(gN(s,tD(e),p),{documents:p,Qs:u})))))}function gN(r,e,n){let s=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class $E{constructor(){this.activeTargetIds=oD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yN{constructor(){this.Mo=new $E,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $E,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _N{Oo(e){}shutdown(){}}const JE="ConnectivityMonitor";class ZE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(JE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(JE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zc=null;function Xm(){return Zc===null?Zc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zc++,"0x"+Zc.toString(16)}const Tm="RestConnection",vN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Xm(),p=this.zo(e,n.toUriEncodedString());ue(Tm,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:m}=new URL(p),E=Eo(m);return this.Jo(e,p,g,s,E).then((T=>(ue(Tm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw oo(Tm,`RPC '${e}' ${f} failed with error: `,T,"url: ",p,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=vN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class TN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class bN extends EN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Xm();return new Promise(((p,g)=>{const m=new IT;m.setWithCredentials(!0),m.listenOnce(DT.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case sh.NO_ERROR:const T=m.getResponseJson();ue(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),p(T);break;case sh.TIMEOUT:ue(Jt,`RPC '${e}' ${f} timed out`),g(new le(ee.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const w=m.getStatus();if(ue(Jt,`RPC '${e}' ${f} failed with status:`,w,"response text:",m.getResponseText()),w>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k?.error;if(F&&F.status&&F.message){const Y=(function($){const ne=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ne)>=0?ne:ee.UNKNOWN})(F.status);g(new le(Y,F.message))}else g(new le(ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new le(ee.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ue(Jt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ue(Jt,`RPC '${e}' ${f} sending request:`,o),m.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Xm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=OT(),p=xT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ue(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=f.createWebChannel(E,g);this.I_(T);let w=!1,k=!1;const F=new TN({Yo:B=>{k?ue(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(w||(ue(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ue(Jt,`RPC '${e}' stream ${o} sending:`,B),T.send(B))},Zo:()=>T.close()}),Y=(B,$,ne)=>{B.listen($,(ie=>{try{ne(ie)}catch(_e){setTimeout((()=>{throw _e}),0)}}))};return Y(T,Ll.EventType.OPEN,(()=>{k||(ue(Jt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),Y(T,Ll.EventType.CLOSE,(()=>{k||(k=!0,ue(Jt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(T))})),Y(T,Ll.EventType.ERROR,(B=>{k||(k=!0,oo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),F.a_(new le(ee.UNAVAILABLE,"The operation could not be completed")))})),Y(T,Ll.EventType.MESSAGE,(B=>{if(!k){const $=B.data[0];Fe(!!$,16349);const ne=$,ie=ne?.error||ne[0]?.error;if(ie){ue(Jt,`RPC '${e}' stream ${o} received error:`,ie);const _e=ie.status;let he=(function(R){const C=Ct[R];if(C!==void 0)return fb(C)})(_e),oe=ie.message;he===void 0&&(he=ee.INTERNAL,oe="Unknown error status: "+_e+" with message "+ie.message),k=!0,F.a_(new le(he,oe)),T.close()}else ue(Jt,`RPC '${e}' stream ${o} received:`,$),F.u_($)}})),Y(p,NT.STAT_EVENT,(B=>{B.stat===Lm.PROXY?ue(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Lm.NOPROXY&&ue(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function bm(){return typeof document<"u"?document:null}function Kh(r){return new RD(r,!0)}class Rb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const WE="PersistentStream";class Cb{constructor(e,n,s,o,u,f,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(WE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(WE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SN extends Cb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DD(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Mi(f.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Ym(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=Bm(g)?{documents:OD(u,g)}:{query:MD(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=pb(u,f.resumeToken);const m=Fm(u,f.expectedCount);m!==null&&(p.expectedCount=m)}else if(f.snapshotVersion.compareTo(be.min())>0){p.readTime=Rh(u,f.snapshotVersion.toTimestamp());const m=Fm(u,f.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const s=kD(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Ym(this.serializer),n.removeTarget=e,this.q_(n)}}class AN extends Cb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xD(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ym(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ND(this.serializer,s)))};this.q_(n)}}class wN{}class RN extends wN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Gm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,Gm(n,s),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ea="RemoteStore";class IN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ia(this)&&(ue(ea,"Restarting streams for network reachability change."),await(async function(g){const m=Ae(g);m.Ea.add(4),await du(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Xh(m)})(this))}))})),this.Ra=new CN(s,o)}}async function Xh(r){if(ia(r))for(const e of r.da)await e(!0)}async function du(r){for(const e of r.da)await e(!1)}function Ib(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hp(n)?Bp(n):Co(n).O_()&&jp(n,e))}function zp(r,e){const n=Ae(r),s=Co(n);n.Ia.delete(e),s.O_()&&Db(n,e),n.Ia.size===0&&(s.O_()?s.L_():ia(n)&&n.Ra.set("Unknown"))}function jp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(r).Y_(e)}function Db(r,e){r.Va.Ue(e),Co(r).Z_(e)}function Bp(r){r.Va=new bD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Co(r).start(),r.Ra.ua()}function Hp(r){return ia(r)&&!Co(r).x_()&&r.Ia.size>0}function ia(r){return Ae(r).Ea.size===0}function Nb(r){r.Va=void 0}async function DN(r){r.Ra.set("Online")}async function NN(r){r.Ia.forEach(((e,n)=>{jp(r,e)}))}async function xN(r,e){Nb(r),Hp(r)?(r.Ra.ha(e),Bp(r)):r.Ra.set("Unknown")}async function ON(r,e,n){if(r.Ra.set("Online"),e instanceof mb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){ue(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ih(r,s)}else if(e instanceof uh?r.Va.Ze(e):e instanceof db?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await wb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(m);E&&u.Ia.set(m,E.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,m)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),Db(u,g);const T=new Zr(E.target,g,m,E.sequenceNumber);jp(u,T)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){ue(ea,"Failed to raise snapshot:",s),await Ih(r,s)}}async function Ih(r,e,n){if(!wo(e))throw e;r.Ea.add(1),await du(r),r.Ra.set("Offline"),n||(n=()=>wb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Xh(r)}))}function xb(r,e){return e().catch((n=>Ih(r,n,e)))}async function $h(r){const e=Ae(r),n=ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ap;for(;MN(e);)try{const o=await mN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,VN(e,o)}catch(o){await Ih(e,o)}Ob(e)&&Mb(e)}function MN(r){return ia(r)&&r.Ta.length<10}function VN(r,e){r.Ta.push(e);const n=ls(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Ob(r){return ia(r)&&!ls(r).x_()&&r.Ta.length>0}function Mb(r){ls(r).start()}async function kN(r){ls(r).ra()}async function LN(r){const e=ls(r);for(const n of r.Ta)e.ea(n.mutations)}async function PN(r,e,n){const s=r.Ta.shift(),o=Op.from(s,e,n);await xb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await $h(r)}async function UN(r,e){e&&ls(r).X_&&await(async function(s,o){if((function(f){return vD(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();ls(s).B_(),await xb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await $h(s)}})(r,e),Ob(r)&&Mb(r)}async function e0(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ue(ea,"RemoteStore received new credentials");const s=ia(n);n.Ea.add(3),await du(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xh(n)}async function zN(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Xh(n)):e||(n.Ea.add(2),await du(n),n.Ra.set("Unknown"))}function Co(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new SN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:DN.bind(null,r),t_:NN.bind(null,r),r_:xN.bind(null,r),H_:ON.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Hp(r)?Bp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Nb(r))}))),r.ma}function ls(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new AN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:kN.bind(null,r),r_:UN.bind(null,r),ta:LN.bind(null,r),na:PN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await $h(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class qp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new qp(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(r,e){if(hr("AsyncQueue",`${e}: ${r}`),wo(r))return new le(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Pl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class t0{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class fo{constructor(e,n,s,o,u,f,p,g,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new fo(e,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class jN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BN{constructor(){this.queries=n0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=n0(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new le(ee.ABORTED,"Firestore shutting down"))}}function n0(){return new na((r=>eb(r)),qh)}async function HN(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new jN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=Fp(f,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Gp(n)}async function qN(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function FN(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&Gp(n)}function GN(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Gp(r){r.Ca.forEach((e=>{e.next()}))}var $m,i0;(i0=$m||($m={})).Ma="default",i0.Cache="cache";class QN{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$m.Cache}}class Vb{constructor(e){this.key=e}}class kb{constructor(e){this.key=e}}class YN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=tb(e),this.tu=new io(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new t0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),k=Fh(this.query,T)?T:null,F=!!w&&this.mutatedKeys.has(w.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let B=!1;w&&k?w.data.isEqual(k.data)?F!==Y&&(s.track({type:3,doc:k}),B=!0):this.su(w,k)||(s.track({type:2,doc:k}),B=!0,(g&&this.eu(k,g)>0||m&&this.eu(k,m)<0)&&(p=!0)):!w&&k?(s.track({type:0,doc:k}),B=!0):w&&!k&&(s.track({type:1,doc:w}),B=!0,(g||m)&&(p=!0)),B&&(k?(f=f.add(k),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(k,F){const Y=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:B})}};return Y(k)-Y(F)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,m=g!==this.Za;return this.Za=g,f.length!==0||m?{snapshot:new fo(this.query,e.tu,u,f,e.mutatedKeys,g===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new t0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new kb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Vb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qp="SyncEngine";class KN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class XN{constructor(e){this.key=e,this.hu=!1}}class $N{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new na((p=>eb(p)),qh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(pe.comparator),this.Au=new Map,this.Ru=new kp,this.Vu={},this.mu=new Map,this.fu=ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JN(r,e,n=!0){const s=Bb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Lb(s,e,n,!0),o}async function ZN(r,e){const n=Bb(r);await Lb(n,e,!0,!1)}async function Lb(r,e,n,s){const o=await pN(r.localStore,Oi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await WN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Ib(r.remoteStore,o),p}async function WN(r,e,n,s,o){r.pu=(T,w,k)=>(async function(Y,B,$,ne){let ie=B.view.ru($);ie.Cs&&(ie=await XE(Y.localStore,B.query,!1).then((({documents:A})=>B.view.ru(A,ie))));const _e=ne&&ne.targetChanges.get(B.targetId),he=ne&&ne.targetMismatches.get(B.targetId)!=null,oe=B.view.applyChanges(ie,Y.isPrimaryClient,_e,he);return s0(Y,B.targetId,oe.au),oe.snapshot})(r,T,w,k);const u=await XE(r.localStore,e,!0),f=new YN(e,u.Qs),p=f.ru(u.documents),g=fu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),m=f.applyChanges(p,r.isPrimaryClient,g);s0(r,n,m.au);const E=new KN(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),m.snapshot}async function ex(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!qh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Km(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&zp(s.remoteStore,o.targetId),Jm(s,o.targetId)})).catch(Ao)):(Jm(s,o.targetId),await Km(s.localStore,o.targetId,!0))}async function tx(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zp(n.remoteStore,s.targetId))}async function nx(r,e,n){const s=ux(r);try{const o=await(function(f,p){const g=Ae(f),m=rt.now(),E=p.reduce(((k,F)=>k.add(F.key)),ke());let T,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let F=fr(),Y=ke();return g.Ns.getEntries(k,E).next((B=>{F=B,F.forEach((($,ne)=>{ne.isValidDocument()||(Y=Y.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,F))).next((B=>{T=B;const $=[];for(const ne of p){const ie=mD(ne,T.get(ne.key).overlayedDocument);ie!=null&&$.push(new hs(ne.key,ie,QT(ie.value.mapValue),zn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,m,$,p)})).next((B=>{w=B;const $=B.applyToLocalDocumentSet(T,Y);return g.documentOverlayCache.saveOverlays(k,B.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:ib(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let m=f.Vu[f.currentUser.toKey()];m||(m=new ut(Ve)),m=m.insert(p,g),f.Vu[f.currentUser.toKey()]=m})(s,o.batchId,n),await mu(s,o.changes),await $h(s.remoteStore)}catch(o){const u=Fp(o,"Failed to persist write");n.reject(u)}}async function Pb(r,e){const n=Ae(r);try{const s=await fN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await mu(n,s,e)}catch(s){await Ao(s)}}function r0(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=Ae(f);g.onlineState=p;let m=!1;g.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(p)&&(m=!0)})),m&&Gp(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ix(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(pe.comparator);f=f.insert(u,Wt.newNoDocument(u,be.min()));const p=ke().add(u),g=new Yh(be.min(),new Map,new ut(Ve),f,p);await Pb(s,g),s.du=s.du.remove(u),s.Au.delete(e),Yp(s)}else await Km(s.localStore,e,!1).then((()=>Jm(s,e,n))).catch(Ao)}async function rx(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await hN(n.localStore,e);zb(n,s,null),Ub(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await mu(n,o)}catch(o){await Ao(o)}}async function sx(r,e,n){const s=Ae(r);try{const o=await(function(f,p){const g=Ae(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let E;return g.mutationQueue.lookupMutationBatch(m,p).next((T=>(Fe(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(m,T)))).next((()=>g.mutationQueue.performConsistencyCheck(m))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(m,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,E))).next((()=>g.localDocuments.getDocuments(m,E)))}))})(s.localStore,e);zb(s,e,n),Ub(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await mu(s,o)}catch(o){await Ao(o)}}function Ub(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function zb(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Jm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||jb(r,s)}))}function jb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(zp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Yp(r))}function s0(r,e,n){for(const s of n)s instanceof Vb?(r.Ru.addReference(s.key,e),ax(r,s)):s instanceof kb?(ue(Qp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||jb(r,s.key)):ve(19791,{wu:s})}function ax(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ue(Qp,"New document in limbo: "+n),r.Eu.add(s),Yp(r))}function Yp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new XN(n)),r.du=r.du.insert(n,s),Ib(r.remoteStore,new Zr(Oi(Dp(n.path)),s,"TargetPurposeLimboResolution",jh.ce))}}async function mu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,e,n).then((m=>{if((m||n)&&s.isPrimaryClient){const E=m?!m.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(m){o.push(m);const E=Pp.As(g.targetId,m);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,m){const E=Ae(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(m,(w=>te.forEach(w.Es,(k=>E.persistence.referenceDelegate.addReference(T,w.targetId,k))).next((()=>te.forEach(w.ds,(k=>E.persistence.referenceDelegate.removeReference(T,w.targetId,k)))))))))}catch(T){if(!wo(T))throw T;ue(Up,"Failed to update sequence numbers: "+T)}for(const T of m){const w=T.targetId;if(!T.fromCache){const k=E.Ms.get(w),F=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(w,Y)}}})(s.localStore,u))}async function ox(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ue(Qp,"User change. New user:",e.toKey());const s=await Ab(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new le(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await mu(n,s.Ls)}}function lx(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function Bb(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ix.bind(null,e),e.Pu.H_=FN.bind(null,e.eventManager),e.Pu.yu=GN.bind(null,e.eventManager),e}function ux(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sx.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cN(this.persistence,new oN,e.initialUser,this.serializer)}Cu(e){return new Sb(Lp.mi,this.serializer)}Du(e){return new yN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class cx extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Ch,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new QD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Sb((s=>Ch.mi(s,n)),this.serializer)}}class Zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>r0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ox.bind(null,this.syncEngine),await zN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BN})()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),s=(function(u){return new bN(u)})(e.databaseInfo);return(function(u,f,p,g){return new RN(u,f,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,p){return new IN(s,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>r0(this.syncEngine,n,0)),(function(){return ZE.v()?new ZE:new _N})())}createSyncEngine(e,n){return(function(o,u,f,p,g,m,E){const T=new $N(o,u,f,p,g,m);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);ue(ea,"RemoteStore shutting down."),s.Ea.add(5),await du(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zm.provider={build:()=>new Zm};class hx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const us="FirestoreClient";class fx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ue(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ue(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Sm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Ab(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function a0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await dx(r);ue(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>e0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>e0(e.remoteStore,o))),r._onlineComponents=e}async function dx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(us,"Using user provided OfflineComponentProvider");try{await Sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await Sm(r,new Dh)}}else ue(us,"Using default OfflineComponentProvider"),await Sm(r,new cx(void 0));return r._offlineComponents}async function Hb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(us,"Using user provided OnlineComponentProvider"),await a0(r,r._uninitializedComponentsProvider._online)):(ue(us,"Using default OnlineComponentProvider"),await a0(r,new Zm))),r._onlineComponents}function mx(r){return Hb(r).then((e=>e.syncEngine))}async function o0(r){const e=await Hb(r),n=e.eventManager;return n.onListen=JN.bind(null,e.syncEngine),n.onUnlisten=ex.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tx.bind(null,e.syncEngine),n}function qb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const l0=new Map;const Fb="firestore.googleapis.com",u0=!0;class c0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fb,this.ssl=u0}else this.host=e.host,this.ssl=e.ssl??u0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FD)throw new le(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}II("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new _I;switch(s.type){case"firstParty":return new bI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=l0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),l0.delete(n),s.terminate())})(this),Promise.resolve()}}function px(r,e,n,s={}){r=xi(r,Jh);const o=Eo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(q0(`https://${p}`),F0("Firestore",!0)),u.host!==Fb&&u.host!==p&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!$s(g,f)&&(r._setSettings(g),s.mockUserToken)){let m,E;if(typeof s.mockUserToken=="string")m=s.mockUserToken,E=Zt.MOCK_USER;else{m=Hw(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new le(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(T)}r._authCredentials=new vI(new VT(m,E))}}class ra{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(cu(n,yt._jsonSchema))return new yt(e,s||null,new pe(tt.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Dt("string",yt._jsonSchemaVersion),referencePath:Dt("string")};class is extends ra{constructor(e,n,s){super(e,n,Dp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new pe(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function mo(r,e,...n){if(r=jt(r),kT("collection","path",e),r instanceof Jh){const s=tt.fromString(e,...n);return bE(s),new is(r,null,s)}{if(!(r instanceof yt||r instanceof is))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return bE(s),new is(r.firestore,null,s)}}function ii(r,e,...n){if(r=jt(r),arguments.length===1&&(e=Sp.newId()),kT("doc","path",e),r instanceof Jh){const s=tt.fromString(e,...n);return TE(s),new yt(r,null,new pe(s))}{if(!(r instanceof yt||r instanceof is))throw new le(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return TE(s),new yt(r.firestore,r instanceof is?r.converter:null,new pe(s))}}const h0="AsyncQueue";class f0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rb(this,"async_queue_retry"),this._c=()=>{const s=bm();s&&ue(h0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;ue(h0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,hr("INTERNAL UNHANDLED ERROR: ",d0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=qp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:d0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function d0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function m0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ta extends Jh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new f0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f0(e),this._firestoreClient=void 0,await e}}}function gx(r,e){const n=typeof r=="object"?r:K0(),s=typeof r=="string"?r:Th,o=hp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=jw("firestore");u&&px(o,...u)}return o}function Gb(r){if(r._terminated)throw new le(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yx(r),r._firestoreClient}function yx(r){const e=r._freezeSettings(),n=(function(o,u,f,p){return new zI(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new fx(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Xt.fromBase64String(e))}catch(n){throw new le(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cu(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Dt("string",Un._jsonSchemaVersion),bytes:Dt("string")};class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kp{constructor(e){this._methodName=e}}class Vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(cu(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Dt("string",Vi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new le(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Dt("string",ki._jsonSchemaVersion),vectorValues:Dt("object")};const _x=/^__.*__$/;class vx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new hu(e,this.data,n,this.fieldTransforms)}}class Qb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Yb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Xp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Yb(this.Ac)&&_x.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ex{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kh(e)}Cc(e,n,s,o=!1){return new Xp({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wh(r){const e=r._freezeSettings(),n=Kh(r._databaseId);return new Ex(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Kb(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);$p("Data must be an object, but it was:",f,s);const p=Xb(s,f);let g,m;if(u.merge)g=new An(f.fieldMask),m=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=Wm(e,T,n);if(!f.contains(w))throw new le(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Jb(E,w)||E.push(w)}g=new An(E),m=f.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,m=f.fieldTransforms;return new vx(new mn(p),g,m)}class ef extends Kp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}function Tx(r,e,n,s){const o=r.Cc(1,e,n);$p("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();cs(s,((g,m)=>{const E=Jp(e,g,n);m=jt(m);const T=o.yc(E);if(m instanceof ef)u.push(E);else{const w=pu(m,T);w!=null&&(u.push(E),f.set(E,w))}}));const p=new An(u);return new Qb(f,p,o.fieldTransforms)}function bx(r,e,n,s,o,u){const f=r.Cc(1,e,n),p=[Wm(e,s,n)],g=[o];if(u.length%2!=0)throw new le(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(Wm(e,u[w])),g.push(u[w+1]);const m=[],E=mn.empty();for(let w=p.length-1;w>=0;--w)if(!Jb(m,p[w])){const k=p[w];let F=g[w];F=jt(F);const Y=f.yc(k);if(F instanceof ef)m.push(k);else{const B=pu(F,Y);B!=null&&(m.push(k),E.set(k,B))}}const T=new An(m);return new Qb(E,T,f.fieldTransforms)}function Sx(r,e,n,s=!1){return pu(n,r.Cc(s?4:3,e))}function pu(r,e){if($b(r=jt(r)))return $p("Unsupported field value:",e,r),Xb(r,e);if(r instanceof Kp)return(function(s,o){if(!Yb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const p of s){let g=pu(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Rh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:pb(o.serializer,s._byteString)};if(s instanceof yt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ki)return(function(f,p){return{mapValue:{fields:{[FT]:{stringValue:GT},[bh]:{arrayValue:{values:f.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return Np(p.serializer,m)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${zh(s)}`)})(r,e)}function Xb(r,e){const n={};return UT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(r,((s,o)=>{const u=pu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function $b(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Vi||r instanceof Un||r instanceof yt||r instanceof Kp||r instanceof ki)}function $p(r,e,n){if(!$b(n)||!LT(n)){const s=zh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Wm(r,e,n){if((e=jt(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return Jp(r,e);throw Nh("Field path arguments must be of type string or ",r,!1,void 0,n)}const Ax=new RegExp("[~\\*/\\[\\]]");function Jp(r,e,n){if(e.search(Ax)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Nh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new le(ee.INVALID_ARGUMENT,p+r+g)}function Jb(r,e){return r.some((n=>n.isEqual(e)))}class Zb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wx extends Zb{data(){return super.data()}}function tf(r,e){return typeof e=="string"?Jp(r,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}function Rx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class Wb extends Zp{}function po(r,e,...n){let s=[];e instanceof Zp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Wp)).length,p=u.filter((g=>g instanceof nf)).length;if(f>1||f>0&&p>0)throw new le(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class nf extends Wb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new nf(e,n,s)}_apply(e){const n=this._parse(e);return e1(e._query,n),new ra(e.firestore,e.converter,Hm(e._query,n))}_parse(e){const n=Wh(e.firestore);return(function(u,f,p,g,m,E,T){let w;if(m.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){g0(T,E);const F=[];for(const Y of T)F.push(p0(g,u,Y));w={arrayValue:{values:F}}}else w=p0(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||g0(T,E),w=Sx(p,f,T,E==="in"||E==="not-in");return It.create(m,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ar(r,e,n){const s=e,o=tf("where",r);return nf._create(o,s,n)}class Wp extends Zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)e1(f,g),f=Hm(f,g)})(e._query,n),new ra(e.firestore,e.converter,Hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eg extends Wb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new eg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(u,f)})(e._query,this._field,this._direction);return new ra(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ro(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function go(r,e="asc"){const n=e,s=tf("orderBy",r);return eg._create(s,n)}function p0(r,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new le(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WT(e)&&n.indexOf("/")!==-1)throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!pe.isDocumentKey(s))throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return NE(r,new pe(s))}if(n instanceof yt)return NE(r,n._key);throw new le(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zh(n)}.`)}function g0(r,e){if(!Array.isArray(r)||r.length===0)throw new le(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e1(r,e){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Cx{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return cs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[bh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new ki(n)}convertGeoPoint(e){return new Vi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Hh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=ss(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(Tb(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||hr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function t1(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends Zb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(tf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:Dt("string",Xs._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class ch extends Xs{data(e={}){return super.data(e)}}class ro{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new ch(this._firestore,this._userDataWriter,s.key,s,new zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new ch(o._firestore,o._userDataWriter,p.doc.key,p.doc,new zl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new ch(o._firestore,o._userDataWriter,p.doc.key,p.doc,new zl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,E=-1;return p.type!==0&&(m=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:Ix(p.type),doc:g,oldIndex:m,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ix(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:Dt("string",ro._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class n1 extends Cx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function y0(r,e,n){r=xi(r,yt);const s=xi(r.firestore,ta),o=t1(r.converter,e,n);return rf(s,[Kb(Wh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,zn.none())])}function xh(r,e,n,...s){r=xi(r,yt);const o=xi(r.firestore,ta),u=Wh(o);let f;return f=typeof(e=jt(e))=="string"||e instanceof Zh?bx(u,"updateDoc",r._key,e,n,s):Tx(u,"updateDoc",r._key,e),rf(o,[f.toMutation(r._key,zn.exists(!0))])}function tg(r){return rf(xi(r.firestore,ta),[new xp(r._key,zn.none())])}function i1(r,e){const n=xi(r.firestore,ta),s=ii(r),o=t1(r.converter,e);return rf(n,[Kb(Wh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,zn.exists(!1))]).then((()=>s))}function gu(r,...e){r=jt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||m0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(m0(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,f,p;if(r instanceof yt)f=xi(r.firestore,ta),p=Dp(r._key.path),u={next:g=>{e[s]&&e[s](Dx(f,r,g))},error:e[s+1],complete:e[s+2]};else{const g=xi(r,ra);f=xi(g.firestore,ta),p=g._query;const m=new n1(f);u={next:E=>{e[s]&&e[s](new ro(f,m,g,E))},error:e[s+1],complete:e[s+2]},Rx(r._query)}return(function(m,E,T,w){const k=new hx(w),F=new QN(E,k,T);return m.asyncQueue.enqueueAndForget((async()=>HN(await o0(m),F))),()=>{k.Nu(),m.asyncQueue.enqueueAndForget((async()=>qN(await o0(m),F)))}})(Gb(f),p,o,u)}function rf(r,e){return(function(s,o){const u=new Ks;return s.asyncQueue.enqueueAndForget((async()=>nx(await mx(s),o,u))),u.promise})(Gb(r),e)}function Dx(r,e,n){const s=n.docs.get(e._key),o=new n1(r);return new Xs(r,o,e._key,s,new zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){So=o})(To),so(new Js("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new ta(new EI(s.getProvider("auth-internal")),new SI(f,s.getProvider("app-check-internal")),(function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new le(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(m.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ts(yE,_E,e),ts(yE,_E,"esm2020")})();const Nx={apiKey:"AIzaSyDo6mqSgh8ifjBCbPJmRDCHJvDhkq_o61o",authDomain:"mynotbusyagenda.firebaseapp.com",projectId:"mynotbusyagenda",storageBucket:"mynotbusyagenda.firebasestorage.app",messagingSenderId:"290830129452",appId:"1:290830129452:web:c051a1cbd6d8a230303489",measurementId:"G-S7H89W117V"},r1=Y0(Nx),Am=mI(r1),xx=new ir,en=gx(r1),s1=U.createContext();function fs(){return U.useContext(s1)}function Ox({children:r}){const[e,n]=U.useState(null),[s,o]=U.useState(!0);U.useEffect(()=>nC(Am,m=>{n(m),o(!1)}),[]);const p={user:e,loading:s,signInWithGoogle:async()=>{try{await SC(Am,xx)}catch(g){throw console.error("Error signing in with Google:",g),g}},logout:async()=>{try{await iC(Am)}catch(g){throw console.error("Error signing out:",g),g}}};return I.jsx(s1.Provider,{value:p,children:r})}const Mx={en:{common:{loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",close:"Close",back:"Back",today:"Today",clear_filter:"Clear filter",view_history:"View History"},auth:{welcome:"Welcome back",subtitle:"Sign in to your account",sign_in_google:"Sign in with Google",sign_out:"Sign Out"},dashboard:{greeting:{morning:"Good Morning",afternoon:"Good Afternoon",evening:"Good Evening"},subtitle:"Ready for a clear mind?",focus_title:"Focus for Today",focus_placeholder:"What is your main goal?",tasks_card:{title:"Tasks",pending:"Pending",action:"View Tasks"},journal_card:{title:"Journal",subtitle:"Reflect",action:"Write"}},tasks:{title:"Tasks",subtitle:"Organize your day.",past_title:"Past Tasks",past_subtitle:"Viewing tasks for",future_title:"Future Tasks",future_subtitle:"Viewing tasks for",placeholder:"Add a new task...",empty:"No tasks yet. Add one above!",empty_past:"No tasks found for this date.",delete_label:"Delete task",created:"Created",select_date:"Select date",for_date:"For",view_incomplete:"View Incomplete Tasks",incomplete_title:"Incomplete Tasks",no_incomplete:"All tasks completed! Great job!"},journal:{title:"Journal",subtitle:"Reflect on your thoughts.",past_title:"Past Entries",past_subtitle:"Viewing entries for",placeholder:"What's on your mind?",empty:"No entries yet. Start writing!",empty_past:"No entries found for this date.",submit:"Send"},calendar:{select_date:"Select Date",summary_title:"Summary for",tasks_section:"Tasks",journal_section:"Journal Entries",no_tasks:"No tasks recorded.",no_entries:"No journal entries."}},es:{common:{loading:"Cargando...",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",close:"Cerrar",back:"Volver",today:"Hoy",clear_filter:"Borrar filtro",view_history:"Ver Historial"},auth:{welcome:"Bienvenido de nuevo",subtitle:"Inicia sesin en tu cuenta",sign_in_google:"Iniciar sesin con Google",sign_out:"Cerrar Sesin"},dashboard:{greeting:{morning:"Buenos Das",afternoon:"Buenas Tardes",evening:"Buenas Noches"},subtitle:"Listo para una mente clara?",focus_title:"Enfoque de Hoy",focus_placeholder:"Cul es tu objetivo principal?",tasks_card:{title:"Tareas",pending:"Pendientes",action:"Ver Tareas"},journal_card:{title:"Diario",subtitle:"Reflexiona",action:"Escribir"}},tasks:{title:"Tareas",subtitle:"Organiza tu da.",past_title:"Tareas Pasadas",past_subtitle:"Viendo tareas del",future_title:"Tareas Futuras",future_subtitle:"Viendo tareas del",placeholder:"Aadir nueva tarea...",empty:"No hay tareas. Aade una arriba!",empty_past:"No se encontraron tareas para esta fecha.",delete_label:"Eliminar tarea",created:"Creada",select_date:"Seleccionar fecha",for_date:"Para",view_incomplete:"Ver Tareas Incompletas",incomplete_title:"Tareas Incompletas",no_incomplete:"Todas las tareas completadas! Buen trabajo!"},journal:{title:"Diario",subtitle:"Reflexiona sobre tus pensamientos.",past_title:"Entradas Pasadas",past_subtitle:"Viendo entradas del",placeholder:"Qu tienes en mente?",empty:"No hay entradas. Empieza a escribir!",empty_past:"No se encontraron entradas para esta fecha.",submit:"Enviar"},calendar:{select_date:"Seleccionar Fecha",summary_title:"Resumen del",tasks_section:"Tareas",journal_section:"Entradas del Diario",no_tasks:"No hay tareas registradas.",no_entries:"No hay entradas en el diario."}},zh:{common:{loading:"...",save:"",cancel:"",delete:"",edit:"",close:"",back:"",today:"",clear_filter:"",view_history:""},auth:{welcome:"",subtitle:"",sign_in_google:" Google ",sign_out:""},dashboard:{greeting:{morning:"",afternoon:"",evening:""},subtitle:"",focus_title:"",focus_placeholder:"",tasks_card:{title:"",pending:"",action:""},journal_card:{title:"",subtitle:"",action:""}},tasks:{title:"",subtitle:"",past_title:"",past_subtitle:"",future_title:"",future_subtitle:"",placeholder:"...",empty:"",empty_past:"",delete_label:"",created:"",select_date:"",for_date:"",view_incomplete:"",incomplete_title:"",no_incomplete:""},journal:{title:"",subtitle:"",past_title:"",past_subtitle:"",placeholder:"",empty:"",empty_past:"",submit:""},calendar:{select_date:"",summary_title:"",tasks_section:"",journal_section:"",no_tasks:"",no_entries:""}},fr:{common:{loading:"Chargement...",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",close:"Fermer",back:"Retour",today:"Aujourd'hui",clear_filter:"Effacer le filtre",view_history:"Voir l'historique"},auth:{welcome:"Bon retour",subtitle:"Connectez-vous  votre compte",sign_in_google:"Se connecter avec Google",sign_out:"Se dconnecter"},dashboard:{greeting:{morning:"Bonjour",afternoon:"Bon aprs-midi",evening:"Bonsoir"},subtitle:"Prt pour un esprit clair ?",focus_title:"Objectif du jour",focus_placeholder:"Quel est votre objectif principal ?",tasks_card:{title:"Tches",pending:"En attente",action:"Voir les tches"},journal_card:{title:"Journal",subtitle:"Rflchir",action:"crire"}},tasks:{title:"Tches",subtitle:"Organisez votre journe.",past_title:"Tches passes",past_subtitle:"Tches du",future_title:"Tches futures",future_subtitle:"Tches du",placeholder:"Ajouter une nouvelle tche...",empty:"Pas encore de tches. Ajoutez-en une ci-dessus !",empty_past:"Aucune tche trouve pour cette date.",delete_label:"Supprimer la tche",created:"Cr",select_date:"Slectionner une date",for_date:"Pour",view_incomplete:"Voir les Tches Incompltes",incomplete_title:"Tches Incompltes",no_incomplete:"Toutes les tches termines ! Bon travail !"},journal:{title:"Journal",subtitle:"Rflchissez  vos penses.",past_title:"Entres passes",past_subtitle:"Entres du",placeholder:"Qu'avez-vous en tte ?",empty:"Pas encore d'entres. Commencez  crire !",empty_past:"Aucune entre trouve pour cette date.",submit:"Envoyer"},calendar:{select_date:"Slectionner une date",summary_title:"Rsum du",tasks_section:"Tches",journal_section:"Entres du journal",no_tasks:"Aucune tche enregistre.",no_entries:"Aucune entre de journal."}},de:{common:{loading:"Laden...",save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",close:"Schlieen",back:"Zurck",today:"Heute",clear_filter:"Filter lschen",view_history:"Verlauf anzeigen"},auth:{welcome:"Willkommen zurck",subtitle:"Melden Sie sich an",sign_in_google:"Mit Google anmelden",sign_out:"Abmelden"},dashboard:{greeting:{morning:"Guten Morgen",afternoon:"Guten Tag",evening:"Guten Abend"},subtitle:"Bereit fr einen klaren Kopf?",focus_title:"Fokus fr heute",focus_placeholder:"Was ist Ihr Hauptziel?",tasks_card:{title:"Aufgaben",pending:"Ausstehend",action:"Aufgaben ansehen"},journal_card:{title:"Journal",subtitle:"Reflektieren",action:"Schreiben"}},tasks:{title:"Aufgaben",subtitle:"Organisieren Sie Ihren Tag.",past_title:"Vergangene Aufgaben",past_subtitle:"Aufgaben vom",future_title:"Zuknftige Aufgaben",future_subtitle:"Aufgaben vom",placeholder:"Neue Aufgabe hinzufgen...",empty:"Noch keine Aufgaben. Fgen Sie oben eine hinzu!",empty_past:"Keine Aufgaben fr dieses Datum gefunden.",delete_label:"Aufgabe lschen",created:"Erstellt",select_date:"Datum auswhlen",for_date:"Fr",view_incomplete:"Unvollstndige Aufgaben anzeigen",incomplete_title:"Unvollstndige Aufgaben",no_incomplete:"Alle Aufgaben erledigt! Tolle Arbeit!"},journal:{title:"Journal",subtitle:"Reflektieren Sie Ihre Gedanken.",past_title:"Vergangene Eintrge",past_subtitle:"Eintrge vom",placeholder:"Was beschftigt Sie?",empty:"Noch keine Eintrge. Fangen Sie an zu schreiben!",empty_past:"Keine Eintrge fr dieses Datum gefunden.",submit:"Senden"},calendar:{select_date:"Datum auswhlen",summary_title:"Zusammenfassung fr",tasks_section:"Aufgaben",journal_section:"Journaleintrge",no_tasks:"Keine Aufgaben aufgezeichnet.",no_entries:"Keine Journaleintrge."}}},a1=U.createContext();function Vx({children:r}){const[e,n]=U.useState(()=>localStorage.getItem("language")||"en");U.useEffect(()=>{localStorage.setItem("language",e)},[e]);const s=o=>{const u=o.split(".");let f=Mx[e];for(const p of u){if(f[p]===void 0)return console.warn(`Translation missing for key: ${o} in language: ${e}`),o;f=f[p]}return f};return I.jsx(a1.Provider,{value:{language:e,setLanguage:n,t:s},children:r})}function ai(){const r=U.useContext(a1);if(!r)throw new Error("useLanguage must be used within a LanguageProvider");return r}const kx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),_0=r=>{const e=Lx(r);return e.charAt(0).toUpperCase()+e.slice(1)},o1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),Px=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Ux={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zx=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...p},g)=>U.createElement("svg",{ref:g,...Ux,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:o1("lucide",o),...!u&&!Px(p)&&{"aria-hidden":"true"},...p},[...f.map(([m,E])=>U.createElement(m,E)),...Array.isArray(u)?u:[u]]));const kt=(r,e)=>{const n=U.forwardRef(({className:s,...o},u)=>U.createElement(zx,{ref:u,iconNode:e,className:o1(`lucide-${kx(_0(r))}`,`lucide-${r}`,s),...o}));return n.displayName=_0(r),n};const jx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],v0=kt("arrow-right",jx);const Bx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Hx=kt("book-open",Bx);const qx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ng=kt("calendar",qx);const Fx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gx=kt("chevron-right",Fx);const Qx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Yx=kt("chevron-left",Qx);const Kx=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Xx=kt("chevron-up",Kx);const $x=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ig=kt("circle-check-big",$x);const Jx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sf=kt("circle",Jx);const Zx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],l1=kt("clock",Zx);const Wx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],eO=kt("house",Wx);const tO=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],nO=kt("list",tO);const iO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rO=kt("log-out",iO);const sO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],u1=kt("moon",sO);const aO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oO=kt("plus",aO);const lO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],uO=kt("send",lO);const cO=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hO=kt("square-check-big",cO);const fO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],c1=kt("sun",fO);const dO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rg=kt("trash-2",dO);const mO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Io=kt("x",mO),E0="my_not_busy_agenda_theme";function h1(){const[r,e]=U.useState(()=>{const s=localStorage.getItem(E0);return s?JSON.parse(s):!1});return U.useEffect(()=>{localStorage.setItem(E0,JSON.stringify(r)),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),{isDark:r,toggleDarkMode:()=>e(!r)}}const wm=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"zh",name:"",flag:""},{code:"fr",name:"Franais",flag:""},{code:"de",name:"Deutsch",flag:""}];function f1(){const{language:r,setLanguage:e}=ai(),[n,s]=U.useState(!1),o=U.useRef(null),u=wm.find(f=>f.code===r)||wm[0];return U.useEffect(()=>{const f=p=>{o.current&&!o.current.contains(p.target)&&s(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[]),I.jsxs("div",{className:"relative",ref:o,children:[I.jsxs("button",{onClick:()=>s(!n),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-[var(--color-bg-secondary)] transition-colors text-sm font-medium",style:{color:"var(--color-text-primary)"},children:[I.jsx("span",{className:"text-lg",children:u.flag}),I.jsx("span",{className:"hidden md:inline",children:u.name}),I.jsx(Xx,{size:16,className:`transition-transform duration-200 ${n?"rotate-180":""}`})]}),n&&I.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-[var(--color-bg-primary)] border border-[var(--color-border)] rounded-xl shadow-lg overflow-hidden py-1 z-50",children:wm.map(f=>I.jsxs("button",{onClick:()=>{e(f.code),s(!1)},className:`w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-[var(--color-bg-secondary)] transition-colors ${r===f.code?"bg-[var(--color-bg-secondary)]":""}`,style:{color:"var(--color-text-primary)"},children:[I.jsx("span",{className:"text-lg",children:f.flag}),I.jsx("span",{className:"text-sm",children:f.name})]},f.code))})]})}function d1(r){var e,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=d1(r[e]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function Oh(){for(var r,e,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=d1(r))&&(s&&(s+=" "),s+=e);return s}const m1="/MyNotBusyAgenda/assets/logo-Bj79zbMH.png";function pO(){const r=dr(),{isDark:e,toggleDarkMode:n}=h1(),{logout:s}=fs(),o=[{path:"/",icon:eO,label:"Home"},{path:"/todos",icon:hO,label:"Todos"},{path:"/journal",icon:Hx,label:"Journal"}],u=async()=>{try{await s()}catch(f){console.error("Failed to log out:",f)}};return I.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] transition-colors duration-200 pb-20 relative",children:[I.jsx("header",{className:"px-6 py-4 sticky top-0 z-10 backdrop-blur-md bg-[var(--color-bg-primary)]/80 border-b border-[var(--color-border)]",children:I.jsxs("div",{className:"content-container flex justify-between items-center",children:[I.jsx("div",{className:"flex items-center gap-3",children:I.jsx("img",{src:m1,alt:"MyNotBusyAgenda Logo",className:"h-10 w-16"})}),I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsx(f1,{}),I.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",children:e?I.jsx(c1,{size:20}):I.jsx(u1,{size:20})}),I.jsx("button",{onClick:u,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors text-red-400",children:I.jsx(rO,{size:20})})]})]})}),I.jsx("main",{className:"p-6",children:I.jsx($A,{})}),I.jsx("nav",{className:"absolute bottom-0 left-0 right-0 backdrop-blur-md py-4 z-10",style:{backgroundColor:"var(--color-bg-secondary)cc",borderTop:"1px solid var(--color-border)"},children:I.jsx("div",{className:"content-container flex justify-between items-center",children:o.map(({path:f,icon:p,label:g})=>I.jsxs(Yl,{to:f,className:Oh("flex flex-col items-center gap-1 transition-all duration-200",r.pathname===f?"scale-110":""),style:{color:r.pathname===f?"var(--color-text-primary)":"var(--color-text-muted)"},children:[I.jsx(p,{size:24,strokeWidth:r.pathname===f?2.5:2}),I.jsx("span",{className:"text-[10px] font-medium tracking-wide",children:g})]},f))})})]})}function gO(){const[r,e]=U.useState({text:"",date:new Date().toISOString(),completed:!1}),{user:n}=fs();return U.useEffect(()=>{if(!n){e({text:"",date:new Date().toISOString(),completed:!1});return}const u=new Date().toISOString().split("T")[0],f=ii(en,"users",n.uid,"focus",u);return gu(f,g=>{if(g.exists()){const m=g.data();e({text:m.text||"",date:m.date?.toDate?.()?.toISOString()||m.date,completed:m.completed||!1})}else e({text:"",date:new Date().toISOString(),completed:!1})})},[n]),{focus:r,setFocusText:async u=>{if(n)try{const f=new Date().toISOString().split("T")[0],p=ii(en,"users",n.uid,"focus",f);await y0(p,{text:u,date:new Date,completed:r.completed},{merge:!0})}catch(f){console.error("Error setting focus:",f)}},toggleFocus:async()=>{if(n)try{const u=new Date().toISOString().split("T")[0],f=ii(en,"users",n.uid,"focus",u);await y0(f,{text:r.text,date:new Date,completed:!r.completed},{merge:!0})}catch(u){console.error("Error toggling focus:",u)}}}}function sg(r=null){const[e,n]=U.useState([]),{user:s}=fs();return U.useEffect(()=>{if(!s){n([]);return}const g=mo(en,"users",s.uid,"todos");let m;if(r){const T=new Date(r);T.setHours(0,0,0,0);const w=new Date(r);w.setHours(23,59,59,999),m=po(g,ar("createdAt",">=",T),ar("createdAt","<=",w),go("createdAt","desc"))}else m=po(g,go("createdAt","desc"));return gu(m,T=>{let w=T.docs.map(k=>({id:k.id,...k.data()}));if(!r){const k=new Date;k.setHours(0,0,0,0),w=w.filter(F=>{const Y=new Date(F.createdAt.toDate());return Y.setHours(0,0,0,0),Y.getTime()>k.getTime()?!1:Y.getTime()<k.getTime()?!F.completed:!0})}n(w)})},[s,r]),{todos:e,addTodo:async(g,m="general",E=null)=>{if(!(!g.trim()||!s))try{const T=E||new Date;await i1(mo(en,"users",s.uid,"todos"),{text:g,completed:!1,category:m,createdAt:T})}catch(T){console.error("Error adding todo:",T)}},toggleTodo:async g=>{if(s)try{const m=e.find(T=>T.id===g),E=ii(en,"users",s.uid,"todos",g);await xh(E,{completed:!m.completed})}catch(m){console.error("Error toggling todo:",m)}},deleteTodo:async g=>{if(s)try{await tg(ii(en,"users",s.uid,"todos",g))}catch(m){console.error("Error deleting todo:",m)}},rescheduleTodo:async(g,m)=>{if(s)try{const E=ii(en,"users",s.uid,"todos",g),T=new Date(m);T.setHours(0,0,0,0),await xh(E,{createdAt:T})}catch(E){console.error("Error rescheduling todo:",E)}}}}function yO(){const[r,e]=U.useState(new Date),{t:n,language:s}=ai();U.useEffect(()=>{const f=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(f)},[]);const o=()=>{const f=r.getHours();return f<12?n("dashboard.greeting.morning"):f<18?n("dashboard.greeting.afternoon"):n("dashboard.greeting.evening")},u=()=>r.toLocaleTimeString(s,{hour:"2-digit",minute:"2-digit",hour12:!1});return{time:r,greeting:o(),formattedTime:u()}}function p1({onDateSelect:r,selectedDate:e}){const[n,s]=U.useState(new Date),[o,u]=U.useState([]),{language:f}=ai(),{user:p}=fs(),g=n.getMonth(),m=n.getFullYear(),E=new Date;U.useEffect(()=>{if(!p){u([]);return}const A=new Date(m,g,1);A.setHours(0,0,0,0);const R=new Date(m,g+1,0);R.setHours(23,59,59,999);const C=mo(en,"users",p.uid,"todos"),O=po(C,ar("createdAt",">=",A),ar("createdAt","<=",R),go("createdAt","desc"));return gu(O,L=>{const D=L.docs.map(We=>({id:We.id,...We.data()}));u(D)})},[p,g,m]);const T=A=>{if(!A)return null;const R=new Date(m,g,A);R.setHours(0,0,0,0);const C=o.filter(x=>{const L=new Date(x.createdAt.toDate());return L.setHours(0,0,0,0),L.getTime()===R.getTime()});return C.length===0?null:C.every(x=>x.completed)?"complete":"incomplete"},w=new Date(m,g,1).getDay(),k=w===0?6:w-1,F=new Date(m,g+1,0).getDate(),Y=n.toLocaleString(f,{month:"long"}),B=()=>{s(new Date(m,g-1,1))},$=()=>{s(new Date(m,g+1,1))},ne=A=>{if(!A)return;const R=new Date(m,g,A);r&&r(R)},ie=A=>!e||!A?!1:e.getDate()===A&&e.getMonth()===g&&e.getFullYear()===m,_e=A=>A?E.getDate()===A&&E.getMonth()===g&&E.getFullYear()===m:!1,he=[];for(let A=0;A<k;A++)he.push(null);for(let A=1;A<=F;A++)he.push(A);const oe=Array.from({length:7},(A,R)=>new Date(2023,0,R+2).toLocaleString(f,{weekday:"short"}));return I.jsxs("div",{className:"p-5 rounded-2xl border",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsxs("div",{className:"flex items-center justify-between mb-4",children:[I.jsxs("h3",{className:"text-lg font-semibold capitalize",style:{color:"var(--color-text-primary)"},children:[Y," ",m]}),I.jsxs("div",{className:"flex gap-1",children:[I.jsx("button",{onClick:B,className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:I.jsx(Yx,{size:20})}),I.jsx("button",{onClick:$,className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:I.jsx(Gx,{size:20})})]})]}),I.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[oe.map(A=>I.jsx("div",{className:"text-center text-xs font-medium py-2 capitalize",style:{color:"var(--color-text-tertiary)"},children:A},A)),he.map((A,R)=>{const C=ie(A),O=_e(A),x=T(A);return I.jsxs("button",{onClick:()=>ne(A),disabled:!A,className:`aspect-square flex flex-col items-center justify-center text-sm rounded-lg transition-all relative ${A?"hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer":""}`,style:{backgroundColor:C?"var(--color-accent)":O?"var(--color-bg-hover)":"transparent",color:C?"#ffffff":A?"var(--color-text-primary)":"transparent",fontWeight:C||O?"600":"400",border:O&&!C?"1px solid var(--color-accent)":"none"},children:[I.jsx("span",{children:A||""}),x&&I.jsx("div",{className:"absolute bottom-1",style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:x==="complete"?"#22c55e":"transparent",border:x==="incomplete"?"1.5px solid #22c55e":"none"}})]},R)})]})]})}function g1(r=null){const[e,n]=U.useState([]),{user:s}=fs();return U.useEffect(()=>{if(!s){n([]);return}const f=mo(en,"users",s.uid,"journal");let p;if(r){const m=new Date(r);m.setHours(0,0,0,0);const E=new Date(r);E.setHours(23,59,59,999),p=po(f,ar("date",">=",m),ar("date","<=",E),go("date","desc"))}else{const m=new Date;m.setHours(0,0,0,0);const E=new Date;E.setHours(23,59,59,999),p=po(f,ar("date",">=",m),ar("date","<=",E),go("date","desc"))}return gu(p,m=>{const E=m.docs.map(T=>({id:T.id,...T.data(),date:T.data().date?.toDate?.()?.toISOString()||T.data().date}));n(E)})},[s,r]),{entries:e,addEntry:async f=>{if(!(!f.trim()||!s))try{await i1(mo(en,"users",s.uid,"journal"),{text:f,date:new Date})}catch(p){console.error("Error adding journal entry:",p)}},deleteEntry:async f=>{if(s)try{await tg(ii(en,"users",s.uid,"journal",f))}catch(p){console.error("Error deleting journal entry:",p)}}}}function _O({isOpen:r,onClose:e,date:n}){const{todos:s,toggleTodo:o}=sg(n),{entries:u}=g1(n),{t:f,language:p}=ai();if(!r||!n)return null;const g=m=>{o(m)};return I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:I.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl shadow-xl overflow-hidden max-h-[80vh] flex flex-col",style:{backgroundColor:"var(--color-bg-card)"},children:[I.jsxs("div",{className:"flex items-center justify-between p-4 border-b shrink-0",style:{borderColor:"var(--color-border)"},children:[I.jsxs("h2",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:[f("calendar.summary_title")," ",n.toLocaleDateString(p)]}),I.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:I.jsx(Io,{size:20})})]}),I.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[I.jsxs("div",{children:[I.jsxs("h3",{className:"text-sm font-medium mb-3 uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:[f("calendar.tasks_section")," (",s.length,")"]}),s.length===0?I.jsx("p",{className:"text-sm italic",style:{color:"var(--color-text-muted)"},children:f("calendar.no_tasks")}):I.jsx("ul",{className:"space-y-2",children:s.map(m=>I.jsx("li",{children:I.jsxs("button",{onClick:()=>g(m.id),className:"flex items-start gap-2 text-sm w-full text-left p-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[m.completed?I.jsx(ig,{size:18,className:"mt-0.5 shrink-0",style:{color:"var(--color-accent)"}}):I.jsx(sf,{size:18,className:"mt-0.5 shrink-0",style:{color:"var(--color-text-muted)"}}),I.jsx("span",{style:{color:"var(--color-text-primary)",textDecoration:m.completed?"line-through":"none",opacity:m.completed?.7:1},children:m.text})]})},m.id))})]}),I.jsxs("div",{children:[I.jsxs("h3",{className:"text-sm font-medium mb-3 uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:[f("calendar.journal_section")," (",u.length,")"]}),u.length===0?I.jsx("p",{className:"text-sm italic",style:{color:"var(--color-text-muted)"},children:f("calendar.no_entries")}):I.jsx("div",{className:"space-y-3",children:u.map(m=>I.jsxs("div",{className:"p-3 rounded-lg border",style:{borderColor:"var(--color-border)"},children:[I.jsx("p",{className:"text-xs mb-1",style:{color:"var(--color-text-tertiary)"},children:new Date(m.date).toLocaleTimeString(p,{hour:"2-digit",minute:"2-digit"})}),I.jsx("p",{className:"text-sm whitespace-pre-wrap",style:{color:"var(--color-text-primary)"},children:m.text})]},m.id))})]})]})]})})}function vO(){const{focus:r,setFocusText:e,toggleFocus:n}=gO(),{todos:s}=sg(),{greeting:o,formattedTime:u}=yO(),{t:f}=ai(),[p,g]=U.useState(!r.text),[m,E]=U.useState(null),[T,w]=U.useState(!1),k=s.filter(B=>!B.completed).length,F=B=>{B.preventDefault(),g(!1)},Y=B=>{E(B),w(!0)};return I.jsxs("div",{className:"content-container space-y-8",children:[I.jsxs("header",{className:"flex items-start justify-between",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:o}),I.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:f("dashboard.subtitle")})]}),I.jsx("div",{className:"text-right",children:I.jsx("div",{className:"text-3xl font-semibold tabular-nums",style:{color:"var(--color-text-primary)"},children:u})})]}),I.jsxs("div",{className:"p-6 rounded-2xl border",style:{backgroundColor:"var(--color-bg-hover)",borderColor:"var(--color-border)"},children:[I.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--color-text-primary)"},children:f("dashboard.focus_title")}),p?I.jsx("form",{onSubmit:F,children:I.jsx("input",{type:"text",value:r.text,onChange:B=>e(B.target.value),placeholder:f("dashboard.focus_placeholder"),className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--color-bg-input)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},autoFocus:!0,onBlur:()=>{r.text&&g(!1)}})}):I.jsxs("div",{className:"flex items-center gap-3 group cursor-pointer",onClick:n,children:[I.jsx("button",{style:{color:"var(--color-accent)"},children:r.completed?I.jsx(ig,{size:24}):I.jsx(sf,{size:24})}),I.jsx("span",{className:Oh("text-xl font-medium flex-1",r.completed&&"line-through opacity-75"),style:{color:"var(--color-text-primary)"},children:r.text}),I.jsx("button",{onClick:B=>{B.stopPropagation(),g(!0)},className:"text-xs opacity-0 group-hover:opacity-100 transition-opacity",style:{color:"var(--color-text-tertiary)"},children:f("common.edit")})]})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs(Yl,{to:"/todos",className:"p-5 rounded-2xl border shadow-sm hover:shadow-md transition-all",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:f("dashboard.tasks_card.title")}),I.jsxs("p",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:[k," ",f("dashboard.tasks_card.pending")]}),I.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium",style:{color:"var(--color-accent)"},children:[f("dashboard.tasks_card.action")," ",I.jsx(v0,{size:16,className:"ml-1"})]})]}),I.jsxs(Yl,{to:"/journal",className:"p-5 rounded-2xl border shadow-sm hover:shadow-md transition-all",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:f("dashboard.journal_card.title")}),I.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-text-primary)"},children:f("dashboard.journal_card.subtitle")}),I.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium",style:{color:"var(--color-accent)"},children:[f("dashboard.journal_card.action")," ",I.jsx(v0,{size:16,className:"ml-1"})]})]})]}),I.jsx(p1,{onDateSelect:Y,selectedDate:m}),I.jsx(_O,{isOpen:T,onClose:()=>w(!1),date:m})]})}function y1({isOpen:r,onClose:e,onDateSelect:n,selectedDate:s}){const{t:o}=ai();return r?I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:I.jsxs("div",{className:"relative w-full max-w-md rounded-2xl shadow-xl overflow-hidden",style:{backgroundColor:"var(--color-bg-card)"},children:[I.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--color-border)"},children:[I.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:o("calendar.select_date")}),I.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:I.jsx(Io,{size:20})})]}),I.jsx("div",{className:"p-4",children:I.jsx(p1,{onDateSelect:u=>{const f=new Date;f.setHours(0,0,0,0);const p=new Date(u);p.setHours(0,0,0,0),p.getTime()===f.getTime()?n(null):n(u),e()},selectedDate:s})})]})}):null}function EO(){const[r,e]=U.useState([]),[n,s]=U.useState({}),{user:o}=fs();return U.useEffect(()=>{if(!o){e([]),s({});return}const g=mo(en,"users",o.uid,"todos"),m=po(g,ar("completed","==",!1),go("createdAt","desc"));return gu(m,T=>{const w=T.docs.map(F=>({id:F.id,...F.data()}));e(w);const k={};w.forEach(F=>{const Y=new Date(F.createdAt.toDate());Y.setHours(0,0,0,0);const B=Y.toISOString();k[B]||(k[B]={date:Y,todos:[]}),k[B].todos.push(F)}),s(k)})},[o]),{incompleteTodos:r,groupedTodos:n,toggleTodo:async g=>{if(o)try{const m=r.find(T=>T.id===g),E=ii(en,"users",o.uid,"todos",g);await xh(E,{completed:!m.completed})}catch(m){console.error("Error toggling todo:",m)}},deleteTodo:async g=>{if(o)try{await tg(ii(en,"users",o.uid,"todos",g))}catch(m){console.error("Error deleting todo:",m)}},rescheduleTodo:async(g,m)=>{if(o)try{const E=ii(en,"users",o.uid,"todos",g),T=new Date(m);T.setHours(0,0,0,0),await xh(E,{createdAt:T})}catch(E){console.error("Error rescheduling todo:",E)}}}}function ep({selectedDate:r,onDateChange:e,autoOpen:n=!1}){const[s,o]=U.useState(n),[u,f]=U.useState(r||new Date),[p,g]=U.useState({top:0,right:0}),m=U.useRef(null),E=U.useRef(null),{t:T}=ai();U.useEffect(()=>{function oe(A){E.current&&!E.current.contains(A.target)&&m.current&&!m.current.contains(A.target)&&o(!1)}if(s)return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[s]),U.useEffect(()=>{if(s&&m.current){const oe=m.current.getBoundingClientRect();g({top:oe.bottom+window.scrollY+8,right:window.innerWidth-oe.right+window.scrollX})}},[s]);const w=oe=>{const A=oe.getFullYear(),R=oe.getMonth(),C=new Date(A,R,1),x=new Date(A,R+1,0).getDate(),L=C.getDay();return{daysInMonth:x,startingDayOfWeek:L}},k=oe=>{const A=new Date;return oe.toDateString()===A.toDateString()},F=(oe,A)=>A?oe.toDateString()===A.toDateString():!1,Y=oe=>{const A=new Date(u.getFullYear(),u.getMonth(),oe);e(A),o(!1)},B=()=>{f(new Date(u.getFullYear(),u.getMonth()-1))},$=()=>{f(new Date(u.getFullYear(),u.getMonth()+1))},ne=oe=>{oe.stopPropagation(),e(null),o(!1)},{daysInMonth:ie,startingDayOfWeek:_e}=w(u),he=u.toLocaleDateString("default",{month:"long",year:"numeric"});return I.jsxs(I.Fragment,{children:[I.jsxs("button",{ref:m,type:"button",onClick:()=>o(!s),className:"flex items-center gap-1.5 p-2 rounded-md transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{color:r?"var(--color-accent)":"var(--color-text-secondary)",backgroundColor:r?"var(--color-accent)20":"transparent"},children:[I.jsx(ng,{size:18}),r&&I.jsx(Io,{size:14,onClick:ne,className:"hover:text-red-600 transition-colors"})]}),s&&xw.createPortal(I.jsxs("div",{ref:E,className:"fixed p-4 rounded-xl border shadow-xl",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",minWidth:"280px",top:`${p.top}px`,right:`${p.right}px`,zIndex:99999},children:[I.jsxs("div",{className:"flex items-center justify-between mb-4",children:[I.jsx("button",{type:"button",onClick:B,className:"p-1 rounded hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:""}),I.jsx("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:he}),I.jsx("button",{type:"button",onClick:$,className:"p-1 rounded hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:""})]}),I.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["S","M","T","W","T","F","S"].map((oe,A)=>I.jsx("div",{className:"text-center text-xs font-semibold py-1",style:{color:"var(--color-text-muted)"},children:oe},A))}),I.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:_e}).map((oe,A)=>I.jsx("div",{},`empty-${A}`)),Array.from({length:ie}).map((oe,A)=>{const R=A+1,C=new Date(u.getFullYear(),u.getMonth(),R),O=F(C,r),x=k(C);return I.jsx("button",{type:"button",onClick:()=>Y(R),className:"aspect-square rounded-lg text-sm transition-all hover:bg-black/10 dark:hover:bg-white/10",style:{backgroundColor:O?"var(--color-accent)":x?"var(--color-accent-light)":"transparent",color:O?"white":x?"var(--color-accent)":"var(--color-text-primary)",fontWeight:x||O?"600":"400"},children:R},R)})]})]}),document.body)]})}function TO({isOpen:r,onClose:e}){const{t:n}=ai(),{incompleteTodos:s,groupedTodos:o,toggleTodo:u,deleteTodo:f,rescheduleTodo:p}=EO(),[g,m]=U.useState(null);if(!r)return null;const E=Object.keys(o).sort((T,w)=>new Date(T)-new Date(w));return I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e,children:I.jsxs("div",{className:"relative w-full max-w-2xl max-h-[80vh] rounded-2xl shadow-xl overflow-hidden flex flex-col",style:{backgroundColor:"var(--color-bg-card)"},onClick:T=>T.stopPropagation(),children:[I.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--color-border)"},children:[I.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:n("tasks.incomplete_title")}),I.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:I.jsx(Io,{size:20})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.length===0?I.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-muted)"},children:I.jsx("p",{children:n("tasks.no_incomplete")})}):I.jsx("div",{className:"space-y-6",children:E.map(T=>{const w=o[T],k=w.date.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),F=new Date;F.setHours(0,0,0,0);const Y=w.date.getTime()===F.getTime(),B=w.date.getTime()<F.getTime();return I.jsxs("div",{children:[I.jsxs("h3",{className:"text-sm font-semibold mb-3 px-2",style:{color:B?"#ef4444":"var(--color-text-secondary)"},children:[Y?n("common.today"):k,B&&" "]}),I.jsx("div",{className:"space-y-2",children:w.todos.map($=>I.jsxs("div",{className:"flex items-center justify-between rounded-xl border shadow-sm transition-all hover:shadow-md p-3",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsxs("button",{onClick:()=>u($.id),className:"flex items-start gap-3 flex-1 text-left",children:[I.jsx(sf,{className:"mt-0.5 flex-shrink-0",size:20,style:{color:"var(--color-text-muted)"}}),I.jsx("span",{className:"text-base",style:{color:"var(--color-text-primary)",wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word"},children:$.text})]}),I.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[g===$.id?I.jsx(ep,{selectedDate:null,onDateChange:ne=>{ne&&p($.id,ne),m(null)},autoOpen:!0}):I.jsx("button",{onClick:()=>m($.id),className:"p-2 hover:text-blue-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":"Reschedule task",children:I.jsx(ng,{size:18})}),I.jsx("button",{onClick:()=>f($.id),className:"p-2 hover:text-red-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":n("tasks.delete_label"),children:I.jsx(rg,{size:18})})]})]},$.id))})]},T)})})})]})})}function bO(){const[r,e]=U.useState(null),[n,s]=U.useState(!1),[o,u]=U.useState(!1),[f,p]=U.useState(null),{todos:g,addTodo:m,toggleTodo:E,deleteTodo:T,rescheduleTodo:w}=sg(r),[k,F]=U.useState(""),[Y,B]=U.useState(null),{t:$}=ai(),ne=he=>{if(he.preventDefault(),k.trim()){const oe=f?new Date(f.setHours(0,0,0,0)):null;m(k,"general",oe),F(""),p(null)}},ie=!!r,_e=r&&(()=>{const he=new Date;he.setHours(0,0,0,0);const oe=new Date(r);return oe.setHours(0,0,0,0),oe.getTime()>he.getTime()})();return I.jsxs("div",{className:"content-container space-y-6",children:[I.jsxs("header",{className:"flex items-start justify-between",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:$(ie?_e?"tasks.future_title":"tasks.past_title":"tasks.title")}),I.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:ie?`${$(_e?"tasks.future_subtitle":"tasks.past_subtitle")} ${r.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}`:$("tasks.subtitle")})]}),I.jsxs("div",{className:"flex gap-2",children:[ie&&I.jsx("button",{onClick:()=>e(null),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},title:$("common.clear_filter"),children:I.jsx(Io,{size:24})}),!ie&&I.jsx("button",{onClick:()=>u(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:$("tasks.view_incomplete"),children:I.jsx(nO,{size:24})}),I.jsx("button",{onClick:()=>s(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:$("common.view_history"),children:I.jsx(l1,{size:24})})]})]}),!ie&&I.jsxs("form",{onSubmit:ne,className:"relative",children:[I.jsx("input",{type:"text",value:k,onChange:he=>F(he.target.value),placeholder:$("tasks.placeholder"),className:"w-full p-4 pr-32 rounded-xl border shadow-sm focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"}}),I.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[I.jsx(ep,{selectedDate:f,onDateChange:p}),I.jsx("div",{className:"w-px h-6 mx-1",style:{backgroundColor:"var(--color-border)"}}),I.jsx("button",{type:"submit",className:"p-2 text-white rounded-lg transition-colors",style:{backgroundColor:"var(--color-accent)"},children:I.jsx(oO,{size:20})})]})]}),I.jsx("div",{className:"space-y-3",children:g.length===0?I.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-muted)"},children:I.jsx("p",{children:$(ie?"tasks.empty_past":"tasks.empty")})}):g.map(he=>{const oe=new Date(he.createdAt.toDate());oe.setHours(0,0,0,0);const A=new Date;A.setHours(0,0,0,0);const R=!he.completed&&oe.getTime()<A.getTime();return I.jsxs("div",{className:Oh("group flex items-center justify-between rounded-xl border shadow-sm transition-all hover:shadow-md",he.completed&&"opacity-75",R?"p-5":"p-4"),style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsxs("button",{onClick:()=>E(he.id),className:"flex items-start gap-3 flex-1 text-left",children:[he.completed?I.jsx(ig,{className:"text-green-600 mt-0.5",size:24}):I.jsx(sf,{className:"mt-0.5",size:24,style:{color:"var(--color-text-muted)"}}),I.jsxs("div",{className:"flex-1",children:[I.jsx("span",{className:Oh("text-lg transition-all block",he.completed&&"line-through"),style:{color:he.completed?"var(--color-text-muted)":"var(--color-text-primary)",wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word"},children:he.text}),R&&I.jsxs("span",{className:"text-sm mt-1 block",style:{color:"#ef4444"},children:[$("tasks.created"),": ",oe.toLocaleDateString()]})]})]}),!ie&&I.jsxs("div",{className:"flex items-center gap-1",children:[Y===he.id?I.jsx(ep,{selectedDate:null,onDateChange:C=>{C&&w(he.id,C),B(null)},autoOpen:!0}):I.jsx("button",{onClick:()=>B(he.id),className:"p-2 hover:text-blue-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":"Reschedule task",children:I.jsx(ng,{size:20})}),I.jsx("button",{onClick:()=>T(he.id),className:"p-2 hover:text-red-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":$("tasks.delete_label"),children:I.jsx(rg,{size:20})})]})]},he.id)})}),I.jsx(y1,{isOpen:n,onClose:()=>s(!1),onDateSelect:e,selectedDate:r}),I.jsx(TO,{isOpen:o,onClose:()=>u(!1)})]})}function SO(){const[r,e]=U.useState(null),[n,s]=U.useState(!1),{entries:o,addEntry:u,deleteEntry:f}=g1(r),[p,g]=U.useState(""),{t:m}=ai(),E=w=>{w.preventDefault(),p.trim()&&(u(p),g(""))},T=!!r;return I.jsxs("div",{className:"content-container space-y-6",children:[I.jsxs("header",{className:"flex items-start justify-between",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:m(T?"journal.past_title":"journal.title")}),I.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:T?`${m("journal.past_subtitle")} ${r.toLocaleDateString()}`:m("journal.subtitle")})]}),I.jsxs("div",{className:"flex gap-2",children:[T&&I.jsx("button",{onClick:()=>e(null),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},title:m("common.clear_filter"),children:I.jsx(Io,{size:24})}),I.jsx("button",{onClick:()=>s(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:m("common.view_history"),children:I.jsx(l1,{size:24})})]})]}),!T&&I.jsxs("form",{onSubmit:E,className:"relative",children:[I.jsx("textarea",{value:p,onChange:w=>g(w.target.value),placeholder:m("journal.placeholder"),className:"w-full p-4 pr-12 rounded-xl border shadow-sm focus:outline-none focus:ring-2 transition-all min-h-[120px] resize-none",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"}}),I.jsx("button",{type:"submit",className:"absolute right-2 bottom-2 p-2 text-white rounded-lg transition-colors",style:{backgroundColor:"var(--color-accent)"},children:I.jsx(uO,{size:20})})]}),I.jsx("div",{className:"space-y-4",children:o.length===0?I.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-muted)"},children:I.jsx("p",{children:m(T?"journal.empty_past":"journal.empty")})}):o.map(w=>I.jsxs("div",{className:"p-5 rounded-xl border shadow-sm hover:shadow-md transition-all group",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsxs("div",{className:"flex justify-between items-start mb-2",children:[I.jsx("span",{className:"text-xs font-medium",style:{color:"var(--color-text-tertiary)"},children:new Date(w.date).toLocaleString()}),!T&&I.jsx("button",{onClick:()=>f(w.id),className:"hover:text-red-600 transition-colors opacity-0 group-hover:opacity-100",style:{color:"var(--color-text-muted)"},children:I.jsx(rg,{size:16})})]}),I.jsx("p",{className:"whitespace-pre-wrap",style:{color:"var(--color-text-primary)",wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word"},children:w.text})]},w.id))}),I.jsx(y1,{isOpen:n,onClose:()=>s(!1),onDateSelect:e,selectedDate:r})]})}function AO(){const{signInWithGoogle:r}=fs(),{t:e}=ai(),{isDark:n,toggleDarkMode:s}=h1(),o=async()=>{try{await r()}catch(u){console.error("Failed to sign in:",u)}};return I.jsxs("div",{className:"min-h-screen flex items-center justify-center font-sans relative",style:{backgroundColor:"var(--color-bg-primary)"},children:[I.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[I.jsx(f1,{}),I.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",style:{color:"var(--color-text-primary)"},children:n?I.jsx(c1,{size:20}):I.jsx(u1,{size:20})})]}),I.jsxs("div",{className:"w-full max-w-md p-8",children:[I.jsxs("div",{className:"text-center mb-8",children:[I.jsx("img",{src:m1,alt:"MyNotBusyAgenda Logo",className:"h-50 w-100 mx-auto mb-4"}),I.jsx("h1",{className:"text-3xl font-serif font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"MyNotBusyAgenda"}),I.jsx("p",{className:"text-lg",style:{color:"var(--color-text-secondary)"},children:e("auth.subtitle")})]}),I.jsxs("div",{className:"p-8 rounded-2xl border",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",style:{color:"var(--color-text-primary)"},children:e("auth.welcome")}),I.jsxs("button",{onClick:o,className:"w-full py-3 px-4 rounded-lg font-medium transition-all hover:opacity-90 flex items-center justify-center gap-3",style:{backgroundColor:"var(--color-accent)",color:"#ffffff"},children:[I.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[I.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),I.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),I.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),I.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e("auth.sign_in_google")]}),I.jsx("p",{className:"mt-6 text-sm text-center",style:{color:"var(--color-text-tertiary)"},children:e("auth.subtitle")})]})]})]})}function wO(){const{user:r,loading:e}=fs();return e?I.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--color-bg-primary)"},children:I.jsx("div",{className:"text-center",children:I.jsx("div",{className:"text-2xl font-semibold",style:{color:"var(--color-text-primary)"},children:"Loading..."})})}):r?I.jsxs(ZA,{children:[I.jsxs(Xa,{path:"/",element:I.jsx(pO,{}),children:[I.jsx(Xa,{index:!0,element:I.jsx(vO,{})}),I.jsx(Xa,{path:"todos",element:I.jsx(bO,{})}),I.jsx(Xa,{path:"journal",element:I.jsx(SO,{})})]}),I.jsx(Xa,{path:"*",element:I.jsx(XA,{to:"/",replace:!0})})]}):I.jsx(AO,{})}function RO(){return I.jsx(Vx,{children:I.jsx(Ox,{children:I.jsx(Tw,{children:I.jsx(wO,{})})})})}nA.createRoot(document.getElementById("root")).render(I.jsx(U.StrictMode,{children:I.jsx(RO,{})}));
