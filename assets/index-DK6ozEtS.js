(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Xm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function $T(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var a=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return r[i]}})}),t}var Wm={exports:{}},Ec={};var $1;function KT(){if($1)return Ec;$1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Ec.Fragment=e,Ec.jsx=t,Ec.jsxs=t,Ec}var K1;function YT(){return K1||(K1=1,Wm.exports=KT()),Wm.exports}var E=YT(),Zm={exports:{}},Ne={};var Y1;function QT(){if(Y1)return Ne;Y1=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function V(F,G,K){this.props=F,this.context=G,this.refs=C,this.updater=K||w}V.prototype.isReactComponent={},V.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},V.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function k(){}k.prototype=V.prototype;function B(F,G,K){this.props=F,this.context=G,this.refs=C,this.updater=K||w}var L=B.prototype=new k;L.constructor=B,T(L,V.prototype),L.isPureReactComponent=!0;var H=Array.isArray;function q(){}var D={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(F,G,K){var X=K.ref;return{$$typeof:r,type:F,key:G,ref:X!==void 0?X:null,props:K}}function N(F,G){return I(F.type,G,F.props)}function M(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function U(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(K){return G[K]})}var j=/\/+/g;function ie(F,G){return typeof F=="object"&&F!==null&&F.key!=null?U(""+F.key):G.toString(36)}function fe(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(q,q):(F.status="pending",F.then(function(G){F.status==="pending"&&(F.status="fulfilled",F.value=G)},function(G){F.status==="pending"&&(F.status="rejected",F.reason=G)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Q(F,G,K,X,me){var pe=typeof F;(pe==="undefined"||pe==="boolean")&&(F=null);var we=!1;if(F===null)we=!0;else switch(pe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(F.$$typeof){case r:case e:we=!0;break;case y:return we=F._init,Q(we(F._payload),G,K,X,me)}}if(we)return me=me(F),we=X===""?"."+ie(F,0):X,H(me)?(K="",we!=null&&(K=we.replace(j,"$&/")+"/"),Q(me,G,K,"",function(Be){return Be})):me!=null&&(M(me)&&(me=N(me,K+(me.key==null||F&&F.key===me.key?"":(""+me.key).replace(j,"$&/")+"/")+we)),G.push(me)),1;we=0;var xe=X===""?".":X+":";if(H(F))for(var Ie=0;Ie<F.length;Ie++)X=F[Ie],pe=xe+ie(X,Ie),we+=Q(X,G,K,pe,me);else if(Ie=b(F),typeof Ie=="function")for(F=Ie.call(F),Ie=0;!(X=F.next()).done;)X=X.value,pe=xe+ie(X,Ie++),we+=Q(X,G,K,pe,me);else if(pe==="object"){if(typeof F.then=="function")return Q(fe(F),G,K,X,me);throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return we}function se(F,G,K){if(F==null)return F;var X=[],me=0;return Q(F,X,"","",function(pe){return G.call(K,pe,me++)}),X}function de(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(K){(F._status===0||F._status===-1)&&(F._status=1,F._result=K)},function(K){(F._status===0||F._status===-1)&&(F._status=2,F._result=K)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var he=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},ve={map:se,forEach:function(F,G,K){se(F,function(){G.apply(this,arguments)},K)},count:function(F){var G=0;return se(F,function(){G++}),G},toArray:function(F){return se(F,function(G){return G})||[]},only:function(F){if(!M(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Ne.Activity=v,Ne.Children=ve,Ne.Component=V,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=B,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(F){return D.H.useMemoCache(F)}},Ne.cache=function(F){return function(){return F.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(F,G,K){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var X=T({},F.props),me=F.key;if(G!=null)for(pe in G.key!==void 0&&(me=""+G.key),G)!R.call(G,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&G.ref===void 0||(X[pe]=G[pe]);var pe=arguments.length-2;if(pe===1)X.children=K;else if(1<pe){for(var we=Array(pe),xe=0;xe<pe;xe++)we[xe]=arguments[xe+2];X.children=we}return I(F.type,me,X)},Ne.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Ne.createElement=function(F,G,K){var X,me={},pe=null;if(G!=null)for(X in G.key!==void 0&&(pe=""+G.key),G)R.call(G,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(me[X]=G[X]);var we=arguments.length-2;if(we===1)me.children=K;else if(1<we){for(var xe=Array(we),Ie=0;Ie<we;Ie++)xe[Ie]=arguments[Ie+2];me.children=xe}if(F&&F.defaultProps)for(X in we=F.defaultProps,we)me[X]===void 0&&(me[X]=we[X]);return I(F,pe,me)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(F){return{$$typeof:h,render:F}},Ne.isValidElement=M,Ne.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:de}},Ne.memo=function(F,G){return{$$typeof:f,type:F,compare:G===void 0?null:G}},Ne.startTransition=function(F){var G=D.T,K={};D.T=K;try{var X=F(),me=D.S;me!==null&&me(K,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(q,he)}catch(pe){he(pe)}finally{G!==null&&K.types!==null&&(G.types=K.types),D.T=G}},Ne.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ne.use=function(F){return D.H.use(F)},Ne.useActionState=function(F,G,K){return D.H.useActionState(F,G,K)},Ne.useCallback=function(F,G){return D.H.useCallback(F,G)},Ne.useContext=function(F){return D.H.useContext(F)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(F,G){return D.H.useDeferredValue(F,G)},Ne.useEffect=function(F,G){return D.H.useEffect(F,G)},Ne.useEffectEvent=function(F){return D.H.useEffectEvent(F)},Ne.useId=function(){return D.H.useId()},Ne.useImperativeHandle=function(F,G,K){return D.H.useImperativeHandle(F,G,K)},Ne.useInsertionEffect=function(F,G){return D.H.useInsertionEffect(F,G)},Ne.useLayoutEffect=function(F,G){return D.H.useLayoutEffect(F,G)},Ne.useMemo=function(F,G){return D.H.useMemo(F,G)},Ne.useOptimistic=function(F,G){return D.H.useOptimistic(F,G)},Ne.useReducer=function(F,G,K){return D.H.useReducer(F,G,K)},Ne.useRef=function(F){return D.H.useRef(F)},Ne.useState=function(F){return D.H.useState(F)},Ne.useSyncExternalStore=function(F,G,K){return D.H.useSyncExternalStore(F,G,K)},Ne.useTransition=function(){return D.H.useTransition()},Ne.version="19.2.0",Ne}var Q1;function sg(){return Q1||(Q1=1,Zm.exports=QT()),Zm.exports}var O=sg();const nr=jE(O);var Jm={exports:{}},wc={},ep={exports:{}},tp={};var X1;function XT(){return X1||(X1=1,(function(r){function e(Q,se){var de=Q.length;Q.push(se);e:for(;0<de;){var he=de-1>>>1,ve=Q[he];if(0<a(ve,se))Q[he]=se,Q[de]=ve,de=he;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var se=Q[0],de=Q.pop();if(de!==se){Q[0]=de;e:for(var he=0,ve=Q.length,F=ve>>>1;he<F;){var G=2*(he+1)-1,K=Q[G],X=G+1,me=Q[X];if(0>a(K,de))X<ve&&0>a(me,K)?(Q[he]=me,Q[X]=de,he=X):(Q[he]=K,Q[G]=de,he=G);else if(X<ve&&0>a(me,de))Q[he]=me,Q[X]=de,he=X;else break e}}return se}function a(Q,se){var de=Q.sortIndex-se.sortIndex;return de!==0?de:Q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var p=[],f=[],y=1,v=null,x=3,b=!1,w=!1,T=!1,C=!1,V=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function L(Q){for(var se=t(f);se!==null;){if(se.callback===null)i(f);else if(se.startTime<=Q)i(f),se.sortIndex=se.expirationTime,e(p,se);else break;se=t(f)}}function H(Q){if(T=!1,L(Q),!w)if(t(p)!==null)w=!0,q||(q=!0,U());else{var se=t(f);se!==null&&fe(H,se.startTime-Q)}}var q=!1,D=-1,R=5,I=-1;function N(){return C?!0:!(r.unstable_now()-I<R)}function M(){if(C=!1,q){var Q=r.unstable_now();I=Q;var se=!0;try{e:{w=!1,T&&(T=!1,k(D),D=-1),b=!0;var de=x;try{t:{for(L(Q),v=t(p);v!==null&&!(v.expirationTime>Q&&N());){var he=v.callback;if(typeof he=="function"){v.callback=null,x=v.priorityLevel;var ve=he(v.expirationTime<=Q);if(Q=r.unstable_now(),typeof ve=="function"){v.callback=ve,L(Q),se=!0;break t}v===t(p)&&i(p),L(Q)}else i(p);v=t(p)}if(v!==null)se=!0;else{var F=t(f);F!==null&&fe(H,F.startTime-Q),se=!1}}break e}finally{v=null,x=de,b=!1}se=void 0}}finally{se?U():q=!1}}}var U;if(typeof B=="function")U=function(){B(M)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ie=j.port2;j.port1.onmessage=M,U=function(){ie.postMessage(null)}}else U=function(){V(M,0)};function fe(Q,se){D=V(function(){Q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var de=x;x=se;try{return Q()}finally{x=de}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=x;x=Q;try{return se()}finally{x=de}},r.unstable_scheduleCallback=function(Q,se,de){var he=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?he+de:he):de=he,Q){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=de+ve,Q={id:y++,callback:se,priorityLevel:Q,startTime:de,expirationTime:ve,sortIndex:-1},de>he?(Q.sortIndex=de,e(f,Q),t(p)===null&&Q===t(f)&&(T?(k(D),D=-1):T=!0,fe(H,de-he))):(Q.sortIndex=ve,e(p,Q),w||b||(w=!0,q||(q=!0,U()))),Q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Q){var se=x;return function(){var de=x;x=se;try{return Q.apply(this,arguments)}finally{x=de}}}})(tp)),tp}var W1;function WT(){return W1||(W1=1,ep.exports=XT()),ep.exports}var np={exports:{}},Mn={};var Z1;function ZT(){if(Z1)return Mn;Z1=1;var r=sg();function e(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,f,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:f,implementation:y}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Mn.createPortal=function(p,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(p,f,null,y)},Mn.flushSync=function(p){var f=u.T,y=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=f,i.p=y,i.d.f()}},Mn.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(p,f))},Mn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Mn.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var y=f.as,v=h(y,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;y==="style"?i.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:b}):y==="script"&&i.d.X(p,{crossOrigin:v,integrity:x,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Mn.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var y=h(f.as,f.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(p)},Mn.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var y=f.as,v=h(y,f.crossOrigin);i.d.L(p,y,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Mn.preloadModule=function(p,f){if(typeof p=="string")if(f){var y=h(f.as,f.crossOrigin);i.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(p)},Mn.requestFormReset=function(p){i.d.r(p)},Mn.unstable_batchedUpdates=function(p,f){return p(f)},Mn.useFormState=function(p,f,y){return u.H.useFormState(p,f,y)},Mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Mn.version="19.2.0",Mn}var J1;function PE(){if(J1)return np.exports;J1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),np.exports=ZT(),np.exports}var e_;function JT(){if(e_)return wc;e_=1;var r=WT(),e=sg(),t=PE();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(i(188))}function f(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return p(m),n;if(g===c)return p(m),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=g;else{for(var A=!1,P=m.child;P;){if(P===o){A=!0,o=m,c=g;break}if(P===c){A=!0,c=m,o=g;break}P=P.sibling}if(!A){for(P=g.child;P;){if(P===o){A=!0,o=g,c=m;break}if(P===c){A=!0,c=g,o=m;break}P=P.sibling}if(!A)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),B=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var j=Symbol.for("react.client.reference");function ie(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===j?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case V:return"Profiler";case C:return"StrictMode";case H:return"Suspense";case q:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case B:return n.displayName||"Context";case k:return(n._context.displayName||"Context")+".Consumer";case L:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return s=n.displayName||null,s!==null?s:ie(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return ie(n(s))}catch{}}return null}var fe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},he=[],ve=-1;function F(n){return{current:n}}function G(n){0>ve||(n.current=he[ve],he[ve]=null,ve--)}function K(n,s){ve++,he[ve]=n.current,n.current=s}var X=F(null),me=F(null),pe=F(null),we=F(null);function xe(n,s){switch(K(pe,s),K(me,n),K(X,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?p1(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=p1(s),n=g1(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}G(X),K(X,n)}function Ie(){G(X),G(me),G(pe)}function Be(n){n.memoizedState!==null&&K(we,n);var s=X.current,o=g1(s,n.type);s!==o&&(K(me,n),K(X,o))}function kn(n){me.current===n&&(G(X),G(me)),we.current===n&&(G(we),vc._currentValue=de)}var Rt,vt;function Xe(n){if(Rt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Rt=s&&s[1]||"",vt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+n+vt}var xn=!1;function Gt(n,s){if(!n||xn)return"";xn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var te=re}Reflect.construct(n,[],ce)}else{try{ce.call()}catch(re){te=re}n.call(ce.prototype)}}else{try{throw Error()}catch(re){te=re}(ce=n())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),A=g[0],P=g[1];if(A&&P){var $=A.split(`
`),ee=P.split(`
`);for(m=c=0;c<$.length&&!$[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(c===$.length||m===ee.length)for(c=$.length-1,m=ee.length-1;1<=c&&0<=m&&$[c]!==ee[m];)m--;for(;1<=c&&0<=m;c--,m--)if($[c]!==ee[m]){if(c!==1||m!==1)do if(c--,m--,0>m||$[c]!==ee[m]){var ae=`
`+$[c].replace(" at new "," at ");return n.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",n.displayName)),ae}while(1<=c&&0<=m);break}}}finally{xn=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Xe(o):""}function ar(n,s){switch(n.tag){case 26:case 27:case 5:return Xe(n.type);case 16:return Xe("Lazy");case 13:return n.child!==s&&s!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return Gt(n.type,!1);case 11:return Gt(n.type.render,!1);case 1:return Gt(n.type,!0);case 31:return Xe("Activity");default:return""}}function $n(n){try{var s="",o=null;do s+=ar(n,o),o=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var lt=Object.prototype.hasOwnProperty,We=r.unstable_scheduleCallback,xt=r.unstable_cancelCallback,Ft=r.unstable_shouldYield,Bn=r.unstable_requestPaint,It=r.unstable_now,Er=r.unstable_getCurrentPriorityLevel,Kn=r.unstable_ImmediatePriority,fn=r.unstable_UserBlockingPriority,_n=r.unstable_NormalPriority,wr=r.unstable_LowPriority,ii=r.unstable_IdlePriority,$t=r.log,or=r.unstable_setDisableYieldValue,Fn=null,Ot=null;function an(n){if(typeof $t=="function"&&or(n),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Fn,n)}catch{}}var mt=Math.clz32?Math.clz32:ds,us=Math.log,Ar=Math.LN2;function ds(n){return n>>>=0,n===0?32:31-(us(n)/Ar|0)|0}var zn=256,Hr=262144,je=4194304;function pt(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gt(n,s,o){var c=n.pendingLanes;if(c===0)return 0;var m=0,g=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var P=c&134217727;return P!==0?(c=P&~g,c!==0?m=pt(c):(A&=P,A!==0?m=pt(A):o||(o=P&~n,o!==0&&(m=pt(o))))):(P=c&~g,P!==0?m=pt(P):A!==0?m=pt(A):o||(o=c&~n,o!==0&&(m=pt(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function Mt(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function on(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(){var n=je;return je<<=1,(je&62914560)===0&&(je=4194304),n}function Nt(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function bn(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function kt(n,s,o,c,m,g){var A=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var P=n.entanglements,$=n.expirationTimes,ee=n.hiddenUpdates;for(o=A&~o;0<o;){var ae=31-mt(o),ce=1<<ae;P[ae]=0,$[ae]=-1;var te=ee[ae];if(te!==null)for(ee[ae]=null,ae=0;ae<te.length;ae++){var re=te[ae];re!==null&&(re.lane&=-536870913)}o&=~ce}c!==0&&ln(n,c,0),g!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=g&~(A&~s))}function ln(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-mt(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|o&261930}function rt(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var c=31-mt(o),m=1<<c;m&s|n[c]&s&&(n[c]|=s),o&=~m}}function wt(n,s){var o=s&-s;return o=(o&42)!==0?1:On(o),(o&(n.suspendedLanes|s))!==0?0:o}function On(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function En(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function lr(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:L1(n.type))}function wn(n,s){var o=se.p;try{return se.p=n,s()}finally{se.p=o}}var Un=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Un,hn="__reactProps$"+Un,si="__reactContainer$"+Un,io="__reactEvents$"+Un,n0="__reactListeners$"+Un,Eu="__reactHandles$"+Un,wu="__reactResources$"+Un,ai="__reactMarker$"+Un;function so(n){delete n[Yt],delete n[hn],delete n[io],delete n[n0],delete n[Eu]}function oi(n){var s=n[Yt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[si]||o[Yt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=w1(n);n!==null;){if(o=n[Yt])return o;n=w1(n)}return s}n=o,o=n.parentNode}return null}function Cr(n){if(n=n[Yt]||n[si]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function cr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function li(n){var s=n[wu];return s||(s=n[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Qt(n){n[ai]=!0}var Cl=new Set,Tl={};function ci(n,s){ui(n,s),ui(n+"Capture",s)}function ui(n,s){for(Tl[n]=s,n=0;n<s.length;n++)Cl.add(s[n])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dl={},Rl={};function Au(n){return lt.call(Rl,n)?!0:lt.call(Dl,n)?!1:Sl.test(n)?Rl[n]=!0:(Dl[n]=!0,!1)}function ao(n,s,o){if(Au(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function ur(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Xt(n,s,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+c)}}function mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function fs(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Il(n,s,o){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(A){o=""+A,g.call(this,A)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(A){o=""+A},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function st(n){if(!n._valueTracker){var s=fs(n)?"checked":"value";n._valueTracker=Il(n,s,""+n[s])}}function ga(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return n&&(c=fs(n)?n.checked?"true":"false":n.value),n=c,n!==o?(s.setValue(n),!0):!1}function di(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ya=/[\n"\\]/g;function Yn(n){return n.replace(ya,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function oo(n,s,o,c,m,g,A,P){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),s!=null?A==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+mn(s)):n.value!==""+mn(s)&&(n.value=""+mn(s)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),s!=null?Nl(n,A,mn(s)):o!=null?Nl(n,A,mn(o)):c!=null&&n.removeAttribute("value"),m==null&&g!=null&&(n.defaultChecked=!!g),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?n.name=""+mn(P):n.removeAttribute("name")}function Cu(n,s,o,c,m,g,A,P){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){st(n);return}o=o!=null?""+mn(o):"",s=s!=null?""+mn(s):o,P||s===n.value||(n.value=s),n.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=P?n.checked:!!c,n.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A),st(n)}function Nl(n,s,o){s==="number"&&di(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function hs(n,s,o,c){if(n=n.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=s.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&c&&(n[o].defaultSelected=!0)}else{for(o=""+mn(o),s=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,c&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function Tu(n,s,o){if(s!=null&&(s=""+mn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+mn(o):""}function ms(n,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(fe(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=mn(s),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c),st(n)}function Qn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kl(n,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,o):typeof o!="number"||o===0||Su.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Bl(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&kl(n,m,c)}else for(var g in s)s.hasOwnProperty(g)&&kl(n,g,s[g])}function lo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(n){return ps.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function qr(){}var Ol=null;function Tr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var gs=null,fi=null;function va(n){var s=Cr(n);if(s&&(n=s.stateNode)){var o=n[hn]||null;e:switch(n=s.stateNode,s.type){case"input":if(oo(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Yn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==n&&c.form===n.form){var m=c[hn]||null;if(!m)throw Error(i(90));oo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===n.form&&ga(c)}break e;case"textarea":Tu(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&hs(n,!!o.multiple,s,!1)}}}var uo=!1;function ys(n,s,o){if(uo)return n(s,o);uo=!0;try{var c=n(s);return c}finally{if(uo=!1,(gs!==null||fi!==null)&&(bd(),gs&&(s=gs,n=fi,fi=gs=null,va(s),n)))for(s=0;s<n.length;s++)va(n[s])}}function Gr(n,s){var o=n.stateNode;if(o===null)return null;var c=o[hn]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xa=!1;if(Sr)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){xa=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{xa=!1}var hi=null,Ml=null,_a=null;function Vl(){if(_a)return _a;var n,s=Ml,o=s.length,c,m="value"in hi?hi.value:hi.textContent,g=m.length;for(n=0;n<o&&s[n]===m[n];n++);var A=o-n;for(c=1;c<=A&&s[o-c]===m[g-c];c++);return _a=m.slice(n,1<c?1-c:void 0)}function ba(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ki(){return!0}function $r(){return!1}function An(n){function s(o,c,m,g,A){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var P in n)n.hasOwnProperty(P)&&(o=n[P],this[P]=o?o(g):g[P]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ki:$r,this.isPropagationStopped=$r,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),s}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=An(Bi),vs=v({},Bi,{view:0,detail:0}),jl=An(vs),xs,fo,pi,ho=v({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pi&&(pi&&n.type==="mousemove"?(xs=n.screenX-pi.screenX,fo=n.screenY-pi.screenY):fo=xs=0,pi=n),xs)},movementY:function(n){return"movementY"in n?n.movementY:fo}}),Pl=An(ho),Ea=v({},ho,{dataTransfer:0}),Ru=An(Ea),Iu=v({},vs,{relatedTarget:0}),wa=An(Iu),Ll=v({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=An(Ll),mo=v({},Bi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ku=An(mo),Bu=v({},Bi,{data:0}),gi=An(Bu),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Vu[n])?!!s[n]:!1}function _s(){return ju}var Hn=v({},vs,{key:function(n){if(n.key){var s=Ou[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ba(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Mu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(n){return n.type==="keypress"?ba(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ba(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Pu=An(Hn),Lu=v({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=An(Lu),d=v({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),_=An(d),S=v({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=An(S),Z=v({},ho,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=An(Z),ge=v({},Bi,{newState:0,oldState:0}),Oe=An(ge),zt=[9,13,27,32],tt=Sr&&"CompositionEvent"in window,At=null;Sr&&"documentMode"in document&&(At=document.documentMode);var Dr=Sr&&"TextEvent"in window&&!At,yi=Sr&&(!tt||At&&8<At&&11>=At),Kr=" ",Yr=!1;function Aa(n,s){switch(n){case"keyup":return zt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function po(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var go=!1;function gC(n,s){switch(n){case"compositionend":return po(s);case"keypress":return s.which!==32?null:(Yr=!0,Kr);case"textInput":return n=s.data,n===Kr&&Yr?null:n;default:return null}}function yC(n,s){if(go)return n==="compositionend"||!tt&&Aa(n,s)?(n=Vl(),_a=Ml=hi=null,go=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return yi&&s.locale!=="ko"?null:s.data;default:return null}}var vC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ty(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!vC[n.type]:s==="textarea"}function Sy(n,s,o,c){gs?fi?fi.push(c):fi=[c]:gs=c,s=Dd(s,"onChange"),0<s.length&&(o=new mi("onChange","change",null,o,c),n.push({event:o,listeners:s}))}var Fl=null,zl=null;function xC(n){c1(n,0)}function Fu(n){var s=cr(n);if(ga(s))return n}function Dy(n,s){if(n==="change")return s}var Ry=!1;if(Sr){var r0;if(Sr){var i0="oninput"in document;if(!i0){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),i0=typeof Iy.oninput=="function"}r0=i0}else r0=!1;Ry=r0&&(!document.documentMode||9<document.documentMode)}function Ny(){Fl&&(Fl.detachEvent("onpropertychange",ky),zl=Fl=null)}function ky(n){if(n.propertyName==="value"&&Fu(zl)){var s=[];Sy(s,zl,n,Tr(n)),ys(xC,s)}}function _C(n,s,o){n==="focusin"?(Ny(),Fl=s,zl=o,Fl.attachEvent("onpropertychange",ky)):n==="focusout"&&Ny()}function bC(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fu(zl)}function EC(n,s){if(n==="click")return Fu(s)}function wC(n,s){if(n==="input"||n==="change")return Fu(s)}function AC(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var dr=typeof Object.is=="function"?Object.is:AC;function Ul(n,s){if(dr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!lt.call(s,m)||!dr(n[m],s[m]))return!1}return!0}function By(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Oy(n,s){var o=By(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=s&&c>=s)return{node:o,offset:s-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=By(o)}}function My(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?My(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Vy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=di(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=di(n.document)}return s}function s0(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var CC=Sr&&"documentMode"in document&&11>=document.documentMode,yo=null,a0=null,Hl=null,o0=!1;function jy(n,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;o0||yo==null||yo!==di(c)||(c=yo,"selectionStart"in c&&s0(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Hl&&Ul(Hl,c)||(Hl=c,c=Dd(a0,"onSelect"),0<c.length&&(s=new mi("onSelect","select",null,s,o),n.push({event:s,listeners:c}),s.target=yo)))}function Ca(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var vo={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},l0={},Py={};Sr&&(Py=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Ta(n){if(l0[n])return l0[n];if(!vo[n])return n;var s=vo[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Py)return l0[n]=s[o];return n}var Ly=Ta("animationend"),Fy=Ta("animationiteration"),zy=Ta("animationstart"),TC=Ta("transitionrun"),SC=Ta("transitionstart"),DC=Ta("transitioncancel"),Uy=Ta("transitionend"),Hy=new Map,c0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");c0.push("scrollEnd");function Qr(n,s){Hy.set(n,s),ci(s,[n])}var zu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Rr=[],xo=0,u0=0;function Uu(){for(var n=xo,s=u0=xo=0;s<n;){var o=Rr[s];Rr[s++]=null;var c=Rr[s];Rr[s++]=null;var m=Rr[s];Rr[s++]=null;var g=Rr[s];if(Rr[s++]=null,c!==null&&m!==null){var A=c.pending;A===null?m.next=m:(m.next=A.next,A.next=m),c.pending=m}g!==0&&qy(o,m,g)}}function Hu(n,s,o,c){Rr[xo++]=n,Rr[xo++]=s,Rr[xo++]=o,Rr[xo++]=c,u0|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function d0(n,s,o,c){return Hu(n,s,o,c),qu(n)}function Sa(n,s){return Hu(n,null,null,s),qu(n)}function qy(n,s,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=n.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(m=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,m&&s!==null&&(m=31-mt(o),n=g.hiddenUpdates,c=n[m],c===null?n[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function qu(n){if(50<dc)throw dc=0,_m=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var _o={};function RC(n,s,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(n,s,o,c){return new RC(n,s,o,c)}function f0(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Mi(n,s){var o=n.alternate;return o===null?(o=fr(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Gy(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Gu(n,s,o,c,m,g){var A=0;if(c=n,typeof n=="function")f0(n)&&(A=1);else if(typeof n=="string")A=OT(n,o,X.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=fr(31,o,s,m),n.elementType=I,n.lanes=g,n;case T:return Da(o.children,m,g,s);case C:A=8,m|=24;break;case V:return n=fr(12,o,s,m|2),n.elementType=V,n.lanes=g,n;case H:return n=fr(13,o,s,m),n.elementType=H,n.lanes=g,n;case q:return n=fr(19,o,s,m),n.elementType=q,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case B:A=10;break e;case k:A=9;break e;case L:A=11;break e;case D:A=14;break e;case R:A=16,c=null;break e}A=29,o=Error(i(130,n===null?"null":typeof n,"")),c=null}return s=fr(A,o,s,m),s.elementType=n,s.type=c,s.lanes=g,s}function Da(n,s,o,c){return n=fr(7,n,c,s),n.lanes=o,n}function h0(n,s,o){return n=fr(6,n,null,s),n.lanes=o,n}function $y(n){var s=fr(18,null,null,0);return s.stateNode=n,s}function m0(n,s,o){return s=fr(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ky=new WeakMap;function Ir(n,s){if(typeof n=="object"&&n!==null){var o=Ky.get(n);return o!==void 0?o:(s={value:n,source:s,stack:$n(s)},Ky.set(n,s),s)}return{value:n,source:s,stack:$n(s)}}var bo=[],Eo=0,$u=null,ql=0,Nr=[],kr=0,bs=null,vi=1,xi="";function Vi(n,s){bo[Eo++]=ql,bo[Eo++]=$u,$u=n,ql=s}function Yy(n,s,o){Nr[kr++]=vi,Nr[kr++]=xi,Nr[kr++]=bs,bs=n;var c=vi;n=xi;var m=32-mt(c)-1;c&=~(1<<m),o+=1;var g=32-mt(s)+m;if(30<g){var A=m-m%5;g=(c&(1<<A)-1).toString(32),c>>=A,m-=A,vi=1<<32-mt(s)+m|o<<m|c,xi=g+n}else vi=1<<g|o<<m|c,xi=n}function p0(n){n.return!==null&&(Vi(n,1),Yy(n,1,0))}function g0(n){for(;n===$u;)$u=bo[--Eo],bo[Eo]=null,ql=bo[--Eo],bo[Eo]=null;for(;n===bs;)bs=Nr[--kr],Nr[kr]=null,xi=Nr[--kr],Nr[kr]=null,vi=Nr[--kr],Nr[kr]=null}function Qy(n,s){Nr[kr++]=vi,Nr[kr++]=xi,Nr[kr++]=bs,vi=s.id,xi=s.overflow,bs=n}var Cn=null,_t=null,$e=!1,Es=null,Br=!1,y0=Error(i(519));function ws(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(Ir(s,n)),y0}function Xy(n){var s=n.stateNode,o=n.type,c=n.memoizedProps;switch(s[Yt]=n,s[hn]=c,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<hc.length;o++)Le(hc[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),Cu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),ms(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||h1(s.textContent,o)?(c.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),c.onScroll!=null&&Le("scroll",s),c.onScrollEnd!=null&&Le("scrollend",s),c.onClick!=null&&(s.onclick=qr),s=!0):s=!1,s||ws(n,!0)}function Wy(n){for(Cn=n.return;Cn;)switch(Cn.tag){case 5:case 31:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:Cn=Cn.return}}function wo(n){if(n!==Cn)return!1;if(!$e)return Wy(n),$e=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Mm(n.type,n.memoizedProps)),o=!o),o&&_t&&ws(n),Wy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));_t=E1(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));_t=E1(n)}else s===27?(s=_t,js(n.type)?(n=Fm,Fm=null,_t=n):_t=s):_t=Cn?Mr(n.stateNode.nextSibling):null;return!0}function Ra(){_t=Cn=null,$e=!1}function v0(){var n=Es;return n!==null&&(Jn===null?Jn=n:Jn.push.apply(Jn,n),Es=null),n}function Gl(n){Es===null?Es=[n]:Es.push(n)}var x0=F(null),Ia=null,ji=null;function As(n,s,o){K(x0,s._currentValue),s._currentValue=o}function Pi(n){n._currentValue=x0.current,G(x0)}function _0(n,s,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===o)break;n=n.return}}function b0(n,s,o,c){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var g=m.dependencies;if(g!==null){var A=m.child;g=g.firstContext;e:for(;g!==null;){var P=g;g=m;for(var $=0;$<s.length;$++)if(P.context===s[$]){g.lanes|=o,P=g.alternate,P!==null&&(P.lanes|=o),_0(g.return,o,n),c||(A=null);break e}g=P.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(i(341));A.lanes|=o,g=A.alternate,g!==null&&(g.lanes|=o),_0(A,o,n),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===n){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function Ao(n,s,o,c){n=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(i(387));if(A=A.memoizedProps,A!==null){var P=m.type;dr(m.pendingProps.value,A.value)||(n!==null?n.push(P):n=[P])}}else if(m===we.current){if(A=m.alternate,A===null)throw Error(i(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(vc):n=[vc])}m=m.return}n!==null&&b0(s,n,o,c),s.flags|=262144}function Ku(n){for(n=n.firstContext;n!==null;){if(!dr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Na(n){Ia=n,ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Tn(n){return Zy(Ia,n)}function Yu(n,s){return Ia===null&&Na(n),Zy(n,s)}function Zy(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ji===null){if(n===null)throw Error(i(308));ji=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ji=ji.next=s;return o}var IC=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},NC=r.unstable_scheduleCallback,kC=r.unstable_NormalPriority,Wt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function E0(){return{controller:new IC,data:new Map,refCount:0}}function $l(n){n.refCount--,n.refCount===0&&NC(kC,function(){n.controller.abort()})}var Kl=null,w0=0,Co=0,To=null;function BC(n,s){if(Kl===null){var o=Kl=[];w0=0,Co=Tm(),To={status:"pending",value:void 0,then:function(c){o.push(c)}}}return w0++,s.then(Jy,Jy),s}function Jy(){if(--w0===0&&Kl!==null){To!==null&&(To.status="fulfilled");var n=Kl;Kl=null,Co=0,To=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function OC(n,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var ev=Q.S;Q.S=function(n,s){jx=It(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&BC(n,s),ev!==null&&ev(n,s)};var ka=F(null);function A0(){var n=ka.current;return n!==null?n:ht.pooledCache}function Qu(n,s){s===null?K(ka,ka.current):K(ka,s.pool)}function tv(){var n=A0();return n===null?null:{parent:Wt._currentValue,pool:n}}var So=Error(i(460)),C0=Error(i(474)),Xu=Error(i(542)),Wu={then:function(){}};function nv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function rv(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(qr,qr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,sv(n),n;default:if(typeof s.status=="string")s.then(qr,qr);else{if(n=ht,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,sv(n),n}throw Oa=s,So}}function Ba(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Oa=o,So):o}}var Oa=null;function iv(){if(Oa===null)throw Error(i(459));var n=Oa;return Oa=null,n}function sv(n){if(n===So||n===Xu)throw Error(i(483))}var Do=null,Yl=0;function Zu(n){var s=Yl;return Yl+=1,Do===null&&(Do=[]),rv(Do,n,s)}function Ql(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ju(n,s){throw s.$$typeof===x?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function av(n){function s(W,Y){if(n){var J=W.deletions;J===null?(W.deletions=[Y],W.flags|=16):J.push(Y)}}function o(W,Y){if(!n)return null;for(;Y!==null;)s(W,Y),Y=Y.sibling;return null}function c(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function m(W,Y){return W=Mi(W,Y),W.index=0,W.sibling=null,W}function g(W,Y,J){return W.index=J,n?(J=W.alternate,J!==null?(J=J.index,J<Y?(W.flags|=67108866,Y):J):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function A(W){return n&&W.alternate===null&&(W.flags|=67108866),W}function P(W,Y,J,oe){return Y===null||Y.tag!==6?(Y=h0(J,W.mode,oe),Y.return=W,Y):(Y=m(Y,J),Y.return=W,Y)}function $(W,Y,J,oe){var Ae=J.type;return Ae===T?ae(W,Y,J.props.children,oe,J.key):Y!==null&&(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&Ba(Ae)===Y.type)?(Y=m(Y,J.props),Ql(Y,J),Y.return=W,Y):(Y=Gu(J.type,J.key,J.props,null,W.mode,oe),Ql(Y,J),Y.return=W,Y)}function ee(W,Y,J,oe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==J.containerInfo||Y.stateNode.implementation!==J.implementation?(Y=m0(J,W.mode,oe),Y.return=W,Y):(Y=m(Y,J.children||[]),Y.return=W,Y)}function ae(W,Y,J,oe,Ae){return Y===null||Y.tag!==7?(Y=Da(J,W.mode,oe,Ae),Y.return=W,Y):(Y=m(Y,J),Y.return=W,Y)}function ce(W,Y,J){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=h0(""+Y,W.mode,J),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return J=Gu(Y.type,Y.key,Y.props,null,W.mode,J),Ql(J,Y),J.return=W,J;case w:return Y=m0(Y,W.mode,J),Y.return=W,Y;case R:return Y=Ba(Y),ce(W,Y,J)}if(fe(Y)||U(Y))return Y=Da(Y,W.mode,J,null),Y.return=W,Y;if(typeof Y.then=="function")return ce(W,Zu(Y),J);if(Y.$$typeof===B)return ce(W,Yu(W,Y),J);Ju(W,Y)}return null}function te(W,Y,J,oe){var Ae=Y!==null?Y.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ae!==null?null:P(W,Y,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===Ae?$(W,Y,J,oe):null;case w:return J.key===Ae?ee(W,Y,J,oe):null;case R:return J=Ba(J),te(W,Y,J,oe)}if(fe(J)||U(J))return Ae!==null?null:ae(W,Y,J,oe,null);if(typeof J.then=="function")return te(W,Y,Zu(J),oe);if(J.$$typeof===B)return te(W,Y,Yu(W,J),oe);Ju(W,J)}return null}function re(W,Y,J,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return W=W.get(J)||null,P(Y,W,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return W=W.get(oe.key===null?J:oe.key)||null,$(Y,W,oe,Ae);case w:return W=W.get(oe.key===null?J:oe.key)||null,ee(Y,W,oe,Ae);case R:return oe=Ba(oe),re(W,Y,J,oe,Ae)}if(fe(oe)||U(oe))return W=W.get(J)||null,ae(Y,W,oe,Ae,null);if(typeof oe.then=="function")return re(W,Y,J,Zu(oe),Ae);if(oe.$$typeof===B)return re(W,Y,J,Yu(Y,oe),Ae);Ju(Y,oe)}return null}function be(W,Y,J,oe){for(var Ae=null,Je=null,Ee=Y,Ve=Y=0,ze=null;Ee!==null&&Ve<J.length;Ve++){Ee.index>Ve?(ze=Ee,Ee=null):ze=Ee.sibling;var et=te(W,Ee,J[Ve],oe);if(et===null){Ee===null&&(Ee=ze);break}n&&Ee&&et.alternate===null&&s(W,Ee),Y=g(et,Y,Ve),Je===null?Ae=et:Je.sibling=et,Je=et,Ee=ze}if(Ve===J.length)return o(W,Ee),$e&&Vi(W,Ve),Ae;if(Ee===null){for(;Ve<J.length;Ve++)Ee=ce(W,J[Ve],oe),Ee!==null&&(Y=g(Ee,Y,Ve),Je===null?Ae=Ee:Je.sibling=Ee,Je=Ee);return $e&&Vi(W,Ve),Ae}for(Ee=c(Ee);Ve<J.length;Ve++)ze=re(Ee,W,Ve,J[Ve],oe),ze!==null&&(n&&ze.alternate!==null&&Ee.delete(ze.key===null?Ve:ze.key),Y=g(ze,Y,Ve),Je===null?Ae=ze:Je.sibling=ze,Je=ze);return n&&Ee.forEach(function(Us){return s(W,Us)}),$e&&Vi(W,Ve),Ae}function Te(W,Y,J,oe){if(J==null)throw Error(i(151));for(var Ae=null,Je=null,Ee=Y,Ve=Y=0,ze=null,et=J.next();Ee!==null&&!et.done;Ve++,et=J.next()){Ee.index>Ve?(ze=Ee,Ee=null):ze=Ee.sibling;var Us=te(W,Ee,et.value,oe);if(Us===null){Ee===null&&(Ee=ze);break}n&&Ee&&Us.alternate===null&&s(W,Ee),Y=g(Us,Y,Ve),Je===null?Ae=Us:Je.sibling=Us,Je=Us,Ee=ze}if(et.done)return o(W,Ee),$e&&Vi(W,Ve),Ae;if(Ee===null){for(;!et.done;Ve++,et=J.next())et=ce(W,et.value,oe),et!==null&&(Y=g(et,Y,Ve),Je===null?Ae=et:Je.sibling=et,Je=et);return $e&&Vi(W,Ve),Ae}for(Ee=c(Ee);!et.done;Ve++,et=J.next())et=re(Ee,W,Ve,et.value,oe),et!==null&&(n&&et.alternate!==null&&Ee.delete(et.key===null?Ve:et.key),Y=g(et,Y,Ve),Je===null?Ae=et:Je.sibling=et,Je=et);return n&&Ee.forEach(function(GT){return s(W,GT)}),$e&&Vi(W,Ve),Ae}function ft(W,Y,J,oe){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var Ae=J.key;Y!==null;){if(Y.key===Ae){if(Ae=J.type,Ae===T){if(Y.tag===7){o(W,Y.sibling),oe=m(Y,J.props.children),oe.return=W,W=oe;break e}}else if(Y.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&Ba(Ae)===Y.type){o(W,Y.sibling),oe=m(Y,J.props),Ql(oe,J),oe.return=W,W=oe;break e}o(W,Y);break}else s(W,Y);Y=Y.sibling}J.type===T?(oe=Da(J.props.children,W.mode,oe,J.key),oe.return=W,W=oe):(oe=Gu(J.type,J.key,J.props,null,W.mode,oe),Ql(oe,J),oe.return=W,W=oe)}return A(W);case w:e:{for(Ae=J.key;Y!==null;){if(Y.key===Ae)if(Y.tag===4&&Y.stateNode.containerInfo===J.containerInfo&&Y.stateNode.implementation===J.implementation){o(W,Y.sibling),oe=m(Y,J.children||[]),oe.return=W,W=oe;break e}else{o(W,Y);break}else s(W,Y);Y=Y.sibling}oe=m0(J,W.mode,oe),oe.return=W,W=oe}return A(W);case R:return J=Ba(J),ft(W,Y,J,oe)}if(fe(J))return be(W,Y,J,oe);if(U(J)){if(Ae=U(J),typeof Ae!="function")throw Error(i(150));return J=Ae.call(J),Te(W,Y,J,oe)}if(typeof J.then=="function")return ft(W,Y,Zu(J),oe);if(J.$$typeof===B)return ft(W,Y,Yu(W,J),oe);Ju(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Y!==null&&Y.tag===6?(o(W,Y.sibling),oe=m(Y,J),oe.return=W,W=oe):(o(W,Y),oe=h0(J,W.mode,oe),oe.return=W,W=oe),A(W)):o(W,Y)}return function(W,Y,J,oe){try{Yl=0;var Ae=ft(W,Y,J,oe);return Do=null,Ae}catch(Ee){if(Ee===So||Ee===Xu)throw Ee;var Je=fr(29,Ee,null,W.mode);return Je.lanes=oe,Je.return=W,Je}finally{}}}var Ma=av(!0),ov=av(!1),Cs=!1;function T0(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function S0(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ts(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ss(n,s,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(nt&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=qu(n),qy(n,null,o),s}return Hu(n,c,s,o),qu(n)}function Xl(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,o|=c,s.lanes=o,rt(n,o)}}function D0(n,s){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=A:g=g.next=A,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var R0=!1;function Wl(){if(R0){var n=To;if(n!==null)throw n}}function Zl(n,s,o,c){R0=!1;var m=n.updateQueue;Cs=!1;var g=m.firstBaseUpdate,A=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var $=P,ee=$.next;$.next=null,A===null?g=ee:A.next=ee,A=$;var ae=n.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==A&&(P===null?ae.firstBaseUpdate=ee:P.next=ee,ae.lastBaseUpdate=$))}if(g!==null){var ce=m.baseState;A=0,ae=ee=$=null,P=g;do{var te=P.lane&-536870913,re=te!==P.lane;if(re?(Fe&te)===te:(c&te)===te){te!==0&&te===Co&&(R0=!0),ae!==null&&(ae=ae.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var be=n,Te=P;te=s;var ft=o;switch(Te.tag){case 1:if(be=Te.payload,typeof be=="function"){ce=be.call(ft,ce,te);break e}ce=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Te.payload,te=typeof be=="function"?be.call(ft,ce,te):be,te==null)break e;ce=v({},ce,te);break e;case 2:Cs=!0}}te=P.callback,te!==null&&(n.flags|=64,re&&(n.flags|=8192),re=m.callbacks,re===null?m.callbacks=[te]:re.push(te))}else re={lane:te,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(ee=ae=re,$=ce):ae=ae.next=re,A|=te;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;re=P,P=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);ae===null&&($=ce),m.baseState=$,m.firstBaseUpdate=ee,m.lastBaseUpdate=ae,g===null&&(m.shared.lanes=0),ks|=A,n.lanes=A,n.memoizedState=ce}}function lv(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function cv(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)lv(o[n],s)}var Ro=F(null),ed=F(0);function uv(n,s){n=Ki,K(ed,n),K(Ro,s),Ki=n|s.baseLanes}function I0(){K(ed,Ki),K(Ro,Ro.current)}function N0(){Ki=ed.current,G(Ro),G(ed)}var hr=F(null),Or=null;function Ds(n){var s=n.alternate;K(Ut,Ut.current&1),K(hr,n),Or===null&&(s===null||Ro.current!==null||s.memoizedState!==null)&&(Or=n)}function k0(n){K(Ut,Ut.current),K(hr,n),Or===null&&(Or=n)}function dv(n){n.tag===22?(K(Ut,Ut.current),K(hr,n),Or===null&&(Or=n)):Rs()}function Rs(){K(Ut,Ut.current),K(hr,hr.current)}function mr(n){G(hr),Or===n&&(Or=null),G(Ut)}var Ut=F(0);function td(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Pm(o)||Lm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Li=0,Me=null,ut=null,Zt=null,nd=!1,Io=!1,Va=!1,rd=0,Jl=0,No=null,MC=0;function Vt(){throw Error(i(321))}function B0(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!dr(n[o],s[o]))return!1;return!0}function O0(n,s,o,c,m,g){return Li=g,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=n===null||n.memoizedState===null?Yv:Q0,Va=!1,g=o(c,m),Va=!1,Io&&(g=hv(s,o,c,m)),fv(n),g}function fv(n){Q.H=nc;var s=ut!==null&&ut.next!==null;if(Li=0,Zt=ut=Me=null,nd=!1,Jl=0,No=null,s)throw Error(i(300));n===null||Jt||(n=n.dependencies,n!==null&&Ku(n)&&(Jt=!0))}function hv(n,s,o,c){Me=n;var m=0;do{if(Io&&(No=null),Jl=0,Io=!1,25<=m)throw Error(i(301));if(m+=1,Zt=ut=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=Qv,g=s(o,c)}while(Io);return g}function VC(){var n=Q.H,s=n.useState()[0];return s=typeof s.then=="function"?ec(s):s,n=n.useState()[0],(ut!==null?ut.memoizedState:null)!==n&&(Me.flags|=1024),s}function M0(){var n=rd!==0;return rd=0,n}function V0(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function j0(n){if(nd){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}nd=!1}Li=0,Zt=ut=Me=null,Io=!1,Jl=rd=0,No=null}function qn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Me.memoizedState=Zt=n:Zt=Zt.next=n,Zt}function Ht(){if(ut===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var s=Zt===null?Me.memoizedState:Zt.next;if(s!==null)Zt=s,ut=n;else{if(n===null)throw Me.alternate===null?Error(i(467)):Error(i(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Zt===null?Me.memoizedState=Zt=n:Zt=Zt.next=n}return Zt}function id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(n){var s=Jl;return Jl+=1,No===null&&(No=[]),n=rv(No,n,s),s=Me,(Zt===null?s.memoizedState:Zt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?Yv:Q0),n}function sd(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ec(n);if(n.$$typeof===B)return Tn(n)}throw Error(i(438,String(n)))}function P0(n){var s=null,o=Me.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=id(),Me.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),c=0;c<n;c++)o[c]=N;return s.index++,o}function Fi(n,s){return typeof s=="function"?s(n):s}function ad(n){var s=Ht();return L0(s,ut,n)}function L0(n,s,o){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=n.baseQueue,g=c.pending;if(g!==null){if(m!==null){var A=m.next;m.next=g.next,g.next=A}s.baseQueue=m=g,c.pending=null}if(g=n.baseState,m===null)n.memoizedState=g;else{s=m.next;var P=A=null,$=null,ee=s,ae=!1;do{var ce=ee.lane&-536870913;if(ce!==ee.lane?(Fe&ce)===ce:(Li&ce)===ce){var te=ee.revertLane;if(te===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ce===Co&&(ae=!0);else if((Li&te)===te){ee=ee.next,te===Co&&(ae=!0);continue}else ce={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},$===null?(P=$=ce,A=g):$=$.next=ce,Me.lanes|=te,ks|=te;ce=ee.action,Va&&o(g,ce),g=ee.hasEagerState?ee.eagerState:o(g,ce)}else te={lane:ce,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},$===null?(P=$=te,A=g):$=$.next=te,Me.lanes|=ce,ks|=ce;ee=ee.next}while(ee!==null&&ee!==s);if($===null?A=g:$.next=P,!dr(g,n.memoizedState)&&(Jt=!0,ae&&(o=To,o!==null)))throw o;n.memoizedState=g,n.baseState=A,n.baseQueue=$,c.lastRenderedState=g}return m===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function F0(n){var s=Ht(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var A=m=m.next;do g=n(g,A.action),A=A.next;while(A!==m);dr(g,s.memoizedState)||(Jt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function mv(n,s,o){var c=Me,m=Ht(),g=$e;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var A=!dr((ut||m).memoizedState,o);if(A&&(m.memoizedState=o,Jt=!0),m=m.queue,H0(yv.bind(null,c,m,n),[n]),m.getSnapshot!==s||A||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,ko(9,{destroy:void 0},gv.bind(null,c,m,o,s),null),ht===null)throw Error(i(349));g||(Li&127)!==0||pv(c,s,o)}return o}function pv(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Me.updateQueue,s===null?(s=id(),Me.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function gv(n,s,o,c){s.value=o,s.getSnapshot=c,vv(s)&&xv(n)}function yv(n,s,o){return o(function(){vv(s)&&xv(n)})}function vv(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!dr(n,o)}catch{return!0}}function xv(n){var s=Sa(n,2);s!==null&&er(s,n,2)}function z0(n){var s=qn();if(typeof n=="function"){var o=n;if(n=o(),Va){an(!0);try{o()}finally{an(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:n},s}function _v(n,s,o,c){return n.baseState=o,L0(n,ut,typeof c=="function"?c:Fi)}function jC(n,s,o,c,m){if(cd(n))throw Error(i(485));if(n=s.action,n!==null){var g={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};Q.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,bv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function bv(n,s){var o=s.action,c=s.payload,m=n.state;if(s.isTransition){var g=Q.T,A={};Q.T=A;try{var P=o(m,c),$=Q.S;$!==null&&$(A,P),Ev(n,s,P)}catch(ee){U0(n,s,ee)}finally{g!==null&&A.types!==null&&(g.types=A.types),Q.T=g}}else try{g=o(m,c),Ev(n,s,g)}catch(ee){U0(n,s,ee)}}function Ev(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){wv(n,s,c)},function(c){return U0(n,s,c)}):wv(n,s,o)}function wv(n,s,o){s.status="fulfilled",s.value=o,Av(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,bv(n,o)))}function U0(n,s,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,Av(s),s=s.next;while(s!==c)}n.action=null}function Av(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Cv(n,s){return s}function Tv(n,s){if($e){var o=ht.formState;if(o!==null){e:{var c=Me;if($e){if(_t){t:{for(var m=_t,g=Br;m.nodeType!==8;){if(!g){m=null;break t}if(m=Mr(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){_t=Mr(m.nextSibling),c=m.data==="F!";break e}}ws(c)}c=!1}c&&(s=o[0])}}return o=qn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cv,lastRenderedState:s},o.queue=c,o=Gv.bind(null,Me,c),c.dispatch=o,c=z0(!1),g=Y0.bind(null,Me,!1,c.queue),c=qn(),m={state:s,dispatch:null,action:n,pending:null},c.queue=m,o=jC.bind(null,Me,m,g,o),m.dispatch=o,c.memoizedState=n,[s,o,!1]}function Sv(n){var s=Ht();return Dv(s,ut,n)}function Dv(n,s,o){if(s=L0(n,s,Cv)[0],n=ad(Fi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=ec(s)}catch(A){throw A===So?Xu:A}else c=s;s=Ht();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(Me.flags|=2048,ko(9,{destroy:void 0},PC.bind(null,m,o),null)),[c,g,n]}function PC(n,s){n.action=s}function Rv(n){var s=Ht(),o=ut;if(o!==null)return Dv(s,o,n);Ht(),s=s.memoizedState,o=Ht();var c=o.queue.dispatch;return o.memoizedState=n,[s,c,!1]}function ko(n,s,o,c){return n={tag:n,create:o,deps:c,inst:s,next:null},s=Me.updateQueue,s===null&&(s=id(),Me.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,s.lastEffect=n),n}function Iv(){return Ht().memoizedState}function od(n,s,o,c){var m=qn();Me.flags|=n,m.memoizedState=ko(1|s,{destroy:void 0},o,c===void 0?null:c)}function ld(n,s,o,c){var m=Ht();c=c===void 0?null:c;var g=m.memoizedState.inst;ut!==null&&c!==null&&B0(c,ut.memoizedState.deps)?m.memoizedState=ko(s,g,o,c):(Me.flags|=n,m.memoizedState=ko(1|s,g,o,c))}function Nv(n,s){od(8390656,8,n,s)}function H0(n,s){ld(2048,8,n,s)}function LC(n){Me.flags|=4;var s=Me.updateQueue;if(s===null)s=id(),Me.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function kv(n){var s=Ht().memoizedState;return LC({ref:s,nextImpl:n}),function(){if((nt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Bv(n,s){return ld(4,2,n,s)}function Ov(n,s){return ld(4,4,n,s)}function Mv(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Vv(n,s,o){o=o!=null?o.concat([n]):null,ld(4,4,Mv.bind(null,s,n),o)}function q0(){}function jv(n,s){var o=Ht();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&B0(s,c[1])?c[0]:(o.memoizedState=[n,s],n)}function Pv(n,s){var o=Ht();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&B0(s,c[1]))return c[0];if(c=n(),Va){an(!0);try{n()}finally{an(!1)}}return o.memoizedState=[c,s],c}function G0(n,s,o){return o===void 0||(Li&1073741824)!==0&&(Fe&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=Lx(),Me.lanes|=n,ks|=n,o)}function Lv(n,s,o,c){return dr(o,s)?o:Ro.current!==null?(n=G0(n,o,c),dr(n,s)||(Jt=!0),n):(Li&42)===0||(Li&1073741824)!==0&&(Fe&261930)===0?(Jt=!0,n.memoizedState=o):(n=Lx(),Me.lanes|=n,ks|=n,s)}function Fv(n,s,o,c,m){var g=se.p;se.p=g!==0&&8>g?g:8;var A=Q.T,P={};Q.T=P,Y0(n,!1,s,o);try{var $=m(),ee=Q.S;if(ee!==null&&ee(P,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ae=OC($,c);tc(n,s,ae,yr(n))}else tc(n,s,c,yr(n))}catch(ce){tc(n,s,{then:function(){},status:"rejected",reason:ce},yr())}finally{se.p=g,A!==null&&P.types!==null&&(A.types=P.types),Q.T=A}}function FC(){}function $0(n,s,o,c){if(n.tag!==5)throw Error(i(476));var m=zv(n).queue;Fv(n,m,s,de,o===null?FC:function(){return Uv(n),o(c)})}function zv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:de},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Uv(n){var s=zv(n);s.next===null&&(s=n.alternate.memoizedState),tc(n,s.next.queue,{},yr())}function K0(){return Tn(vc)}function Hv(){return Ht().memoizedState}function qv(){return Ht().memoizedState}function zC(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=yr();n=Ts(o);var c=Ss(s,n,o);c!==null&&(er(c,s,o),Xl(c,s,o)),s={cache:E0()},n.payload=s;return}s=s.return}}function UC(n,s,o){var c=yr();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},cd(n)?$v(s,o):(o=d0(n,s,o,c),o!==null&&(er(o,n,c),Kv(o,s,c)))}function Gv(n,s,o){var c=yr();tc(n,s,o,c)}function tc(n,s,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(cd(n))$v(s,m);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var A=s.lastRenderedState,P=g(A,o);if(m.hasEagerState=!0,m.eagerState=P,dr(P,A))return Hu(n,s,m,0),ht===null&&Uu(),!1}catch{}finally{}if(o=d0(n,s,m,c),o!==null)return er(o,n,c),Kv(o,s,c),!0}return!1}function Y0(n,s,o,c){if(c={lane:2,revertLane:Tm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},cd(n)){if(s)throw Error(i(479))}else s=d0(n,o,c,2),s!==null&&er(s,n,2)}function cd(n){var s=n.alternate;return n===Me||s!==null&&s===Me}function $v(n,s){Io=nd=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Kv(n,s,o){if((o&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,o|=c,s.lanes=o,rt(n,o)}}var nc={readContext:Tn,use:sd,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};nc.useEffectEvent=Vt;var Yv={readContext:Tn,use:sd,useCallback:function(n,s){return qn().memoizedState=[n,s===void 0?null:s],n},useContext:Tn,useEffect:Nv,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,od(4194308,4,Mv.bind(null,s,n),o)},useLayoutEffect:function(n,s){return od(4194308,4,n,s)},useInsertionEffect:function(n,s){od(4,2,n,s)},useMemo:function(n,s){var o=qn();s=s===void 0?null:s;var c=n();if(Va){an(!0);try{n()}finally{an(!1)}}return o.memoizedState=[c,s],c},useReducer:function(n,s,o){var c=qn();if(o!==void 0){var m=o(s);if(Va){an(!0);try{o(s)}finally{an(!1)}}}else m=s;return c.memoizedState=c.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},c.queue=n,n=n.dispatch=UC.bind(null,Me,n),[c.memoizedState,n]},useRef:function(n){var s=qn();return n={current:n},s.memoizedState=n},useState:function(n){n=z0(n);var s=n.queue,o=Gv.bind(null,Me,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:q0,useDeferredValue:function(n,s){var o=qn();return G0(o,n,s)},useTransition:function(){var n=z0(!1);return n=Fv.bind(null,Me,n.queue,!0,!1),qn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var c=Me,m=qn();if($e){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ht===null)throw Error(i(349));(Fe&127)!==0||pv(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,Nv(yv.bind(null,c,g,n),[n]),c.flags|=2048,ko(9,{destroy:void 0},gv.bind(null,c,g,o,s),null),o},useId:function(){var n=qn(),s=ht.identifierPrefix;if($e){var o=xi,c=vi;o=(c&~(1<<32-mt(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=rd++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=MC++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:K0,useFormState:Tv,useActionState:Tv,useOptimistic:function(n){var s=qn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Y0.bind(null,Me,!0,o),o.dispatch=s,[n,s]},useMemoCache:P0,useCacheRefresh:function(){return qn().memoizedState=zC.bind(null,Me)},useEffectEvent:function(n){var s=qn(),o={impl:n};return s.memoizedState=o,function(){if((nt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Q0={readContext:Tn,use:sd,useCallback:jv,useContext:Tn,useEffect:H0,useImperativeHandle:Vv,useInsertionEffect:Bv,useLayoutEffect:Ov,useMemo:Pv,useReducer:ad,useRef:Iv,useState:function(){return ad(Fi)},useDebugValue:q0,useDeferredValue:function(n,s){var o=Ht();return Lv(o,ut.memoizedState,n,s)},useTransition:function(){var n=ad(Fi)[0],s=Ht().memoizedState;return[typeof n=="boolean"?n:ec(n),s]},useSyncExternalStore:mv,useId:Hv,useHostTransitionStatus:K0,useFormState:Sv,useActionState:Sv,useOptimistic:function(n,s){var o=Ht();return _v(o,ut,n,s)},useMemoCache:P0,useCacheRefresh:qv};Q0.useEffectEvent=kv;var Qv={readContext:Tn,use:sd,useCallback:jv,useContext:Tn,useEffect:H0,useImperativeHandle:Vv,useInsertionEffect:Bv,useLayoutEffect:Ov,useMemo:Pv,useReducer:F0,useRef:Iv,useState:function(){return F0(Fi)},useDebugValue:q0,useDeferredValue:function(n,s){var o=Ht();return ut===null?G0(o,n,s):Lv(o,ut.memoizedState,n,s)},useTransition:function(){var n=F0(Fi)[0],s=Ht().memoizedState;return[typeof n=="boolean"?n:ec(n),s]},useSyncExternalStore:mv,useId:Hv,useHostTransitionStatus:K0,useFormState:Rv,useActionState:Rv,useOptimistic:function(n,s){var o=Ht();return ut!==null?_v(o,ut,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:P0,useCacheRefresh:qv};Qv.useEffectEvent=kv;function X0(n,s,o,c){s=n.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var W0={enqueueSetState:function(n,s,o){n=n._reactInternals;var c=yr(),m=Ts(c);m.payload=s,o!=null&&(m.callback=o),s=Ss(n,m,c),s!==null&&(er(s,n,c),Xl(s,n,c))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var c=yr(),m=Ts(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Ss(n,m,c),s!==null&&(er(s,n,c),Xl(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=yr(),c=Ts(o);c.tag=2,s!=null&&(c.callback=s),s=Ss(n,c,o),s!==null&&(er(s,n,o),Xl(s,n,o))}};function Xv(n,s,o,c,m,g,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,A):s.prototype&&s.prototype.isPureReactComponent?!Ul(o,c)||!Ul(m,g):!0}function Wv(n,s,o,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==n&&W0.enqueueReplaceState(s,s.state,null)}function ja(n,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(n=n.defaultProps){o===s&&(o=v({},o));for(var m in n)o[m]===void 0&&(o[m]=n[m])}return o}function Zv(n){zu(n)}function Jv(n){console.error(n)}function ex(n){zu(n)}function ud(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function tx(n,s,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Z0(n,s,o){return o=Ts(o),o.tag=3,o.payload={element:null},o.callback=function(){ud(n,s)},o}function nx(n){return n=Ts(n),n.tag=3,n}function rx(n,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;n.payload=function(){return m(g)},n.callback=function(){tx(s,o,c)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){tx(s,o,c),typeof m!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var P=c.stack;this.componentDidCatch(c.value,{componentStack:P!==null?P:""})})}function HC(n,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Ao(s,o,m,!0),o=hr.current,o!==null){switch(o.tag){case 31:case 13:return Or===null?Ed():o.alternate===null&&jt===0&&(jt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Wu?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),wm(n,c,m)),!1;case 22:return o.flags|=65536,c===Wu?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),wm(n,c,m)),!1}throw Error(i(435,o.tag))}return wm(n,c,m),Ed(),!1}if($e)return s=hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==y0&&(n=Error(i(422),{cause:c}),Gl(Ir(n,o)))):(c!==y0&&(s=Error(i(423),{cause:c}),Gl(Ir(s,o))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,c=Ir(c,o),m=Z0(n.stateNode,c,m),D0(n,m),jt!==4&&(jt=2)),!1;var g=Error(i(520),{cause:c});if(g=Ir(g,o),uc===null?uc=[g]:uc.push(g),jt!==4&&(jt=2),s===null)return!0;c=Ir(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=m&-m,o.lanes|=n,n=Z0(o.stateNode,c,n),D0(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Bs===null||!Bs.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=nx(m),rx(m,n,o,c),D0(o,m),!1}o=o.return}while(o!==null);return!1}var J0=Error(i(461)),Jt=!1;function Sn(n,s,o,c){s.child=n===null?ov(s,null,o,c):Ma(s,n.child,o,c)}function ix(n,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var A={};for(var P in c)P!=="ref"&&(A[P]=c[P])}else A=c;return Na(s),c=O0(n,s,o,A,g,m),P=M0(),n!==null&&!Jt?(V0(n,s,m),zi(n,s,m)):($e&&P&&p0(s),s.flags|=1,Sn(n,s,c,m),s.child)}function sx(n,s,o,c,m){if(n===null){var g=o.type;return typeof g=="function"&&!f0(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,ax(n,s,g,c,m)):(n=Gu(o.type,null,c,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!om(n,m)){var A=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ul,o(A,c)&&n.ref===s.ref)return zi(n,s,m)}return s.flags|=1,n=Mi(g,c),n.ref=s.ref,n.return=s,s.child=n}function ax(n,s,o,c,m){if(n!==null){var g=n.memoizedProps;if(Ul(g,c)&&n.ref===s.ref)if(Jt=!1,s.pendingProps=c=g,om(n,m))(n.flags&131072)!==0&&(Jt=!0);else return s.lanes=n.lanes,zi(n,s,m)}return em(n,s,o,c,m)}function ox(n,s,o,c){var m=c.children,g=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,n!==null){for(c=s.child=n.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,s.child=null;return lx(n,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Qu(s,g!==null?g.cachePool:null),g!==null?uv(s,g):I0(),dv(s);else return c=s.lanes=536870912,lx(n,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Qu(s,g.cachePool),uv(s,g),Rs(),s.memoizedState=null):(n!==null&&Qu(s,null),I0(),Rs());return Sn(n,s,m,o),s.child}function rc(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function lx(n,s,o,c,m){var g=A0();return g=g===null?null:{parent:Wt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},n!==null&&Qu(s,null),I0(),dv(s),n!==null&&Ao(n,s,c,!0),s.childLanes=m,null}function dd(n,s){return s=hd({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function cx(n,s,o){return Ma(s,n.child,null,o),n=dd(s,s.pendingProps),n.flags|=2,mr(s),s.memoizedState=null,n}function qC(n,s,o){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,n===null){if($e){if(c.mode==="hidden")return n=dd(s,c),s.lanes=536870912,rc(null,n);if(k0(s),(n=_t)?(n=b1(n,Br),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:bs!==null?{id:vi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},o=$y(n),o.return=s,s.child=o,Cn=s,_t=null)):n=null,n===null)throw ws(s);return s.lanes=536870912,null}return dd(s,c)}var g=n.memoizedState;if(g!==null){var A=g.dehydrated;if(k0(s),m)if(s.flags&256)s.flags&=-257,s=cx(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Jt||Ao(n,s,o,!1),m=(o&n.childLanes)!==0,Jt||m){if(c=ht,c!==null&&(A=wt(c,o),A!==0&&A!==g.retryLane))throw g.retryLane=A,Sa(n,A),er(c,n,A),J0;Ed(),s=cx(n,s,o)}else n=g.treeContext,_t=Mr(A.nextSibling),Cn=s,$e=!0,Es=null,Br=!1,n!==null&&Qy(s,n),s=dd(s,c),s.flags|=4096;return s}return n=Mi(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function fd(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function em(n,s,o,c,m){return Na(s),o=O0(n,s,o,c,void 0,m),c=M0(),n!==null&&!Jt?(V0(n,s,m),zi(n,s,m)):($e&&c&&p0(s),s.flags|=1,Sn(n,s,o,m),s.child)}function ux(n,s,o,c,m,g){return Na(s),s.updateQueue=null,o=hv(s,c,o,m),fv(n),c=M0(),n!==null&&!Jt?(V0(n,s,g),zi(n,s,g)):($e&&c&&p0(s),s.flags|=1,Sn(n,s,o,g),s.child)}function dx(n,s,o,c,m){if(Na(s),s.stateNode===null){var g=_o,A=o.contextType;typeof A=="object"&&A!==null&&(g=Tn(A)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=W0,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},T0(s),A=o.contextType,g.context=typeof A=="object"&&A!==null?Tn(A):_o,g.state=s.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(X0(s,o,A,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&W0.enqueueReplaceState(g,g.state,null),Zl(s,c,g,m),Wl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){g=s.stateNode;var P=s.memoizedProps,$=ja(o,P);g.props=$;var ee=g.context,ae=o.contextType;A=_o,typeof ae=="object"&&ae!==null&&(A=Tn(ae));var ce=o.getDerivedStateFromProps;ae=typeof ce=="function"||typeof g.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(P||ee!==A)&&Wv(s,g,c,A),Cs=!1;var te=s.memoizedState;g.state=te,Zl(s,c,g,m),Wl(),ee=s.memoizedState,P||te!==ee||Cs?(typeof ce=="function"&&(X0(s,o,ce,c),ee=s.memoizedState),($=Cs||Xv(s,o,$,c,te,ee,A))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=ee),g.props=c,g.state=ee,g.context=A,c=$):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,S0(n,s),A=s.memoizedProps,ae=ja(o,A),g.props=ae,ce=s.pendingProps,te=g.context,ee=o.contextType,$=_o,typeof ee=="object"&&ee!==null&&($=Tn(ee)),P=o.getDerivedStateFromProps,(ee=typeof P=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==ce||te!==$)&&Wv(s,g,c,$),Cs=!1,te=s.memoizedState,g.state=te,Zl(s,c,g,m),Wl();var re=s.memoizedState;A!==ce||te!==re||Cs||n!==null&&n.dependencies!==null&&Ku(n.dependencies)?(typeof P=="function"&&(X0(s,o,P,c),re=s.memoizedState),(ae=Cs||Xv(s,o,ae,c,te,re,$)||n!==null&&n.dependencies!==null&&Ku(n.dependencies))?(ee||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,re,$),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,re,$)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===n.memoizedProps&&te===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&te===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=re),g.props=c,g.state=re,g.context=$,c=ae):(typeof g.componentDidUpdate!="function"||A===n.memoizedProps&&te===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&te===n.memoizedState||(s.flags|=1024),c=!1)}return g=c,fd(n,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&c?(s.child=Ma(s,n.child,null,m),s.child=Ma(s,null,o,m)):Sn(n,s,o,m),s.memoizedState=g.state,n=s.child):n=zi(n,s,m),n}function fx(n,s,o,c){return Ra(),s.flags|=256,Sn(n,s,o,c),s.child}var tm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nm(n){return{baseLanes:n,cachePool:tv()}}function rm(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=gr),n}function hx(n,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,A;if((A=g)||(A=n!==null&&n.memoizedState===null?!1:(Ut.current&2)!==0),A&&(m=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,n===null){if($e){if(m?Ds(s):Rs(),(n=_t)?(n=b1(n,Br),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:bs!==null?{id:vi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},o=$y(n),o.return=s,s.child=o,Cn=s,_t=null)):n=null,n===null)throw ws(s);return Lm(n)?s.lanes=32:s.lanes=536870912,null}var P=c.children;return c=c.fallback,m?(Rs(),m=s.mode,P=hd({mode:"hidden",children:P},m),c=Da(c,m,o,null),P.return=s,c.return=s,P.sibling=c,s.child=P,c=s.child,c.memoizedState=nm(o),c.childLanes=rm(n,A,o),s.memoizedState=tm,rc(null,c)):(Ds(s),im(s,P))}var $=n.memoizedState;if($!==null&&(P=$.dehydrated,P!==null)){if(g)s.flags&256?(Ds(s),s.flags&=-257,s=sm(n,s,o)):s.memoizedState!==null?(Rs(),s.child=n.child,s.flags|=128,s=null):(Rs(),P=c.fallback,m=s.mode,c=hd({mode:"visible",children:c.children},m),P=Da(P,m,o,null),P.flags|=2,c.return=s,P.return=s,c.sibling=P,s.child=c,Ma(s,n.child,null,o),c=s.child,c.memoizedState=nm(o),c.childLanes=rm(n,A,o),s.memoizedState=tm,s=rc(null,c));else if(Ds(s),Lm(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var ee=A.dgst;A=ee,c=Error(i(419)),c.stack="",c.digest=A,Gl({value:c,source:null,stack:null}),s=sm(n,s,o)}else if(Jt||Ao(n,s,o,!1),A=(o&n.childLanes)!==0,Jt||A){if(A=ht,A!==null&&(c=wt(A,o),c!==0&&c!==$.retryLane))throw $.retryLane=c,Sa(n,c),er(A,n,c),J0;Pm(P)||Ed(),s=sm(n,s,o)}else Pm(P)?(s.flags|=192,s.child=n.child,s=null):(n=$.treeContext,_t=Mr(P.nextSibling),Cn=s,$e=!0,Es=null,Br=!1,n!==null&&Qy(s,n),s=im(s,c.children),s.flags|=4096);return s}return m?(Rs(),P=c.fallback,m=s.mode,$=n.child,ee=$.sibling,c=Mi($,{mode:"hidden",children:c.children}),c.subtreeFlags=$.subtreeFlags&65011712,ee!==null?P=Mi(ee,P):(P=Da(P,m,o,null),P.flags|=2),P.return=s,c.return=s,c.sibling=P,s.child=c,rc(null,c),c=s.child,P=n.child.memoizedState,P===null?P=nm(o):(m=P.cachePool,m!==null?($=Wt._currentValue,m=m.parent!==$?{parent:$,pool:$}:m):m=tv(),P={baseLanes:P.baseLanes|o,cachePool:m}),c.memoizedState=P,c.childLanes=rm(n,A,o),s.memoizedState=tm,rc(n.child,c)):(Ds(s),o=n.child,n=o.sibling,o=Mi(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,n!==null&&(A=s.deletions,A===null?(s.deletions=[n],s.flags|=16):A.push(n)),s.child=o,s.memoizedState=null,o)}function im(n,s){return s=hd({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function hd(n,s){return n=fr(22,n,null,s),n.lanes=0,n}function sm(n,s,o){return Ma(s,n.child,null,o),n=im(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function mx(n,s,o){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),_0(n.return,s,o)}function am(n,s,o,c,m,g){var A=n.memoizedState;A===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=c,A.tail=o,A.tailMode=m,A.treeForkCount=g)}function px(n,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var A=Ut.current,P=(A&2)!==0;if(P?(A=A&1|2,s.flags|=128):A&=1,K(Ut,A),Sn(n,s,c,o),c=$e?ql:0,!P&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&mx(n,o,s);else if(n.tag===19)mx(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)n=o.alternate,n!==null&&td(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),am(s,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&td(n)===null){s.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}am(s,!0,o,null,g,c);break;case"together":am(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function zi(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),ks|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Ao(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=Mi(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Mi(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function om(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ku(n)))}function GC(n,s,o){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),As(s,Wt,n.memoizedState.cache),Ra();break;case 27:case 5:Be(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:As(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,k0(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ds(s),s.flags|=128,null):(o&s.child.childLanes)!==0?hx(n,s,o):(Ds(s),n=zi(n,s,o),n!==null?n.sibling:null);Ds(s);break;case 19:var m=(n.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Ao(n,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return px(n,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),K(Ut,Ut.current),c)break;return null;case 22:return s.lanes=0,ox(n,s,o,s.pendingProps);case 24:As(s,Wt,n.memoizedState.cache)}return zi(n,s,o)}function gx(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Jt=!0;else{if(!om(n,o)&&(s.flags&128)===0)return Jt=!1,GC(n,s,o);Jt=(n.flags&131072)!==0}else Jt=!1,$e&&(s.flags&1048576)!==0&&Yy(s,ql,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(n=Ba(s.elementType),s.type=n,typeof n=="function")f0(n)?(c=ja(n,c),s.tag=1,s=dx(null,s,n,c,o)):(s.tag=0,s=em(null,s,n,c,o));else{if(n!=null){var m=n.$$typeof;if(m===L){s.tag=11,s=ix(null,s,n,c,o);break e}else if(m===D){s.tag=14,s=sx(null,s,n,c,o);break e}}throw s=ie(n)||n,Error(i(306,s,""))}}return s;case 0:return em(n,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=ja(c,s.pendingProps),dx(n,s,c,m,o);case 3:e:{if(xe(s,s.stateNode.containerInfo),n===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,S0(n,s),Zl(s,c,null,o);var A=s.memoizedState;if(c=A.cache,As(s,Wt,c),c!==g.cache&&b0(s,[Wt],o,!0),Wl(),c=A.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=fx(n,s,c,o);break e}else if(c!==m){m=Ir(Error(i(424)),s),Gl(m),s=fx(n,s,c,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(_t=Mr(n.firstChild),Cn=s,$e=!0,Es=null,Br=!0,o=ov(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ra(),c===m){s=zi(n,s,o);break e}Sn(n,s,c,o)}s=s.child}return s;case 26:return fd(n,s),n===null?(o=S1(s.type,null,s.pendingProps,null))?s.memoizedState=o:$e||(o=s.type,n=s.pendingProps,c=Rd(pe.current).createElement(o),c[Yt]=s,c[hn]=n,Dn(c,o,n),Qt(c),s.stateNode=c):s.memoizedState=S1(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Be(s),n===null&&$e&&(c=s.stateNode=A1(s.type,s.pendingProps,pe.current),Cn=s,Br=!0,m=_t,js(s.type)?(Fm=m,_t=Mr(c.firstChild)):_t=m),Sn(n,s,s.pendingProps.children,o),fd(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&$e&&((m=c=_t)&&(c=bT(c,s.type,s.pendingProps,Br),c!==null?(s.stateNode=c,Cn=s,_t=Mr(c.firstChild),Br=!1,m=!0):m=!1),m||ws(s)),Be(s),m=s.type,g=s.pendingProps,A=n!==null?n.memoizedProps:null,c=g.children,Mm(m,g)?c=null:A!==null&&Mm(m,A)&&(s.flags|=32),s.memoizedState!==null&&(m=O0(n,s,VC,null,null,o),vc._currentValue=m),fd(n,s),Sn(n,s,c,o),s.child;case 6:return n===null&&$e&&((n=o=_t)&&(o=ET(o,s.pendingProps,Br),o!==null?(s.stateNode=o,Cn=s,_t=null,n=!0):n=!1),n||ws(s)),null;case 13:return hx(n,s,o);case 4:return xe(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Ma(s,null,c,o):Sn(n,s,c,o),s.child;case 11:return ix(n,s,s.type,s.pendingProps,o);case 7:return Sn(n,s,s.pendingProps,o),s.child;case 8:return Sn(n,s,s.pendingProps.children,o),s.child;case 12:return Sn(n,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,As(s,s.type,c.value),Sn(n,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Na(s),m=Tn(m),c=c(m),s.flags|=1,Sn(n,s,c,o),s.child;case 14:return sx(n,s,s.type,s.pendingProps,o);case 15:return ax(n,s,s.type,s.pendingProps,o);case 19:return px(n,s,o);case 31:return qC(n,s,o);case 22:return ox(n,s,o,s.pendingProps);case 24:return Na(s),c=Tn(Wt),n===null?(m=A0(),m===null&&(m=ht,g=E0(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},T0(s),As(s,Wt,m)):((n.lanes&o)!==0&&(S0(n,s),Zl(s,null,null,o),Wl()),m=n.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),As(s,Wt,c)):(c=g.cache,As(s,Wt,c),c!==m.cache&&b0(s,[Wt],o,!0))),Sn(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ui(n){n.flags|=4}function lm(n,s,o,c,m){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(Hx())n.flags|=8192;else throw Oa=Wu,C0}else n.flags&=-16777217}function yx(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!k1(s))if(Hx())n.flags|=8192;else throw Oa=Wu,C0}function md(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Kt():536870912,n.lanes|=s,Vo|=s)}function ic(n,s){if(!$e)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function bt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(s)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=c,n.childLanes=o,s}function $C(n,s,o){var c=s.pendingProps;switch(g0(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(s),null;case 1:return bt(s),null;case 3:return o=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Pi(Wt),Ie(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(wo(s)?Ui(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,v0())),bt(s),null;case 26:var m=s.type,g=s.memoizedState;return n===null?(Ui(s),g!==null?(bt(s),yx(s,g)):(bt(s),lm(s,m,null,c,o))):g?g!==n.memoizedState?(Ui(s),bt(s),yx(s,g)):(bt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&Ui(s),bt(s),lm(s,m,n,c,o)),null;case 27:if(kn(s),o=pe.current,m=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Ui(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return bt(s),null}n=X.current,wo(s)?Xy(s):(n=A1(m,c,o),s.stateNode=n,Ui(s))}return bt(s),null;case 5:if(kn(s),m=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Ui(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return bt(s),null}if(g=X.current,wo(s))Xy(s);else{var A=Rd(pe.current);switch(g){case 1:g=A.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=A.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=A.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?A.createElement("select",{is:c.is}):A.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?A.createElement(m,{is:c.is}):A.createElement(m)}}g[Yt]=s,g[hn]=c;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)g.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=g;e:switch(Dn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ui(s)}}return bt(s),lm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&Ui(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(n=pe.current,wo(s)){if(n=s.stateNode,o=s.memoizedProps,c=null,m=Cn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}n[Yt]=s,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||h1(n.nodeValue,o)),n||ws(s,!0)}else n=Rd(n).createTextNode(c),n[Yt]=s,s.stateNode=n}return bt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(c=wo(s),o!==null){if(n===null){if(!c)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Yt]=s}else Ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),n=!1}else o=v0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(mr(s),s):(mr(s),null);if((s.flags&128)!==0)throw Error(i(558))}return bt(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=wo(s),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Yt]=s}else Ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),m=!1}else m=v0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(mr(s),s):(mr(s),null)}return mr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,n=n!==null&&n.memoizedState!==null,o&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),md(s,s.updateQueue),bt(s),null);case 4:return Ie(),n===null&&Im(s.stateNode.containerInfo),bt(s),null;case 10:return Pi(s.type),bt(s),null;case 19:if(G(Ut),c=s.memoizedState,c===null)return bt(s),null;if(m=(s.flags&128)!==0,g=c.rendering,g===null)if(m)ic(c,!1);else{if(jt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=td(n),g!==null){for(s.flags|=128,ic(c,!1),n=g.updateQueue,s.updateQueue=n,md(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Gy(o,n),o=o.sibling;return K(Ut,Ut.current&1|2),$e&&Vi(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&It()>xd&&(s.flags|=128,m=!0,ic(c,!1),s.lanes=4194304)}else{if(!m)if(n=td(g),n!==null){if(s.flags|=128,m=!0,n=n.updateQueue,s.updateQueue=n,md(s,n),ic(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!$e)return bt(s),null}else 2*It()-c.renderingStartTime>xd&&o!==536870912&&(s.flags|=128,m=!0,ic(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(n=c.last,n!==null?n.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=It(),n.sibling=null,o=Ut.current,K(Ut,m?o&1|2:o&1),$e&&Vi(s,c.treeForkCount),n):(bt(s),null);case 22:case 23:return mr(s),N0(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(bt(s),s.subtreeFlags&6&&(s.flags|=8192)):bt(s),o=s.updateQueue,o!==null&&md(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),n!==null&&G(ka),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Pi(Wt),bt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function KC(n,s){switch(g0(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Pi(Wt),Ie(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return kn(s),null;case 31:if(s.memoizedState!==null){if(mr(s),s.alternate===null)throw Error(i(340));Ra()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(mr(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ra()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return G(Ut),null;case 4:return Ie(),null;case 10:return Pi(s.type),null;case 22:case 23:return mr(s),N0(),n!==null&&G(ka),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Pi(Wt),null;case 25:return null;default:return null}}function vx(n,s){switch(g0(s),s.tag){case 3:Pi(Wt),Ie();break;case 26:case 27:case 5:kn(s);break;case 4:Ie();break;case 31:s.memoizedState!==null&&mr(s);break;case 13:mr(s);break;case 19:G(Ut);break;case 10:Pi(s.type);break;case 22:case 23:mr(s),N0(),n!==null&&G(ka);break;case 24:Pi(Wt)}}function sc(n,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&n)===n){c=void 0;var g=o.create,A=o.inst;c=g(),A.destroy=c}o=o.next}while(o!==m)}}catch(P){ot(s,s.return,P)}}function Is(n,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&n)===n){var A=c.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,m=s;var $=o,ee=P;try{ee()}catch(ae){ot(m,$,ae)}}}c=c.next}while(c!==g)}}catch(ae){ot(s,s.return,ae)}}function xx(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{cv(s,o)}catch(c){ot(n,n.return,c)}}}function _x(n,s,o){o.props=ja(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){ot(n,s,c)}}function ac(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(m){ot(n,s,m)}}function _i(n,s){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){ot(n,s,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ot(n,s,m)}else o.current=null}function bx(n){var s=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){ot(n,n.return,m)}}function cm(n,s,o){try{var c=n.stateNode;pT(c,n.type,o,s),c[hn]=s}catch(m){ot(n,n.return,m)}}function Ex(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&js(n.type)||n.tag===4}function um(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ex(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&js(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function dm(n,s,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=qr));else if(c!==4&&(c===27&&js(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(dm(n,s,o),n=n.sibling;n!==null;)dm(n,s,o),n=n.sibling}function pd(n,s,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(c!==4&&(c===27&&js(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(pd(n,s,o),n=n.sibling;n!==null;)pd(n,s,o),n=n.sibling}function wx(n){var s=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Dn(s,c,o),s[Yt]=n,s[hn]=o}catch(g){ot(n,n.return,g)}}var Hi=!1,en=!1,fm=!1,Ax=typeof WeakSet=="function"?WeakSet:Set,pn=null;function YC(n,s){if(n=n.containerInfo,Bm=Vd,n=Vy(n),s0(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var A=0,P=-1,$=-1,ee=0,ae=0,ce=n,te=null;t:for(;;){for(var re;ce!==o||m!==0&&ce.nodeType!==3||(P=A+m),ce!==g||c!==0&&ce.nodeType!==3||($=A+c),ce.nodeType===3&&(A+=ce.nodeValue.length),(re=ce.firstChild)!==null;)te=ce,ce=re;for(;;){if(ce===n)break t;if(te===o&&++ee===m&&(P=A),te===g&&++ae===c&&($=A),(re=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=re}o=P===-1||$===-1?null:{start:P,end:$}}else o=null}o=o||{start:0,end:0}}else o=null;for(Om={focusedElem:n,selectionRange:o},Vd=!1,pn=s;pn!==null;)if(s=pn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,pn=n;else for(;pn!==null;){switch(s=pn,g=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)m=n[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var be=ja(o.type,m);n=c.getSnapshotBeforeUpdate(be,g),c.__reactInternalSnapshotBeforeUpdate=n}catch(Te){ot(o,o.return,Te)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)jm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":jm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,pn=n;break}pn=s.return}}function Cx(n,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Gi(n,o),c&4&&sc(5,o);break;case 1:if(Gi(n,o),c&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(A){ot(o,o.return,A)}else{var m=ja(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(m,s,n.__reactInternalSnapshotBeforeUpdate)}catch(A){ot(o,o.return,A)}}c&64&&xx(o),c&512&&ac(o,o.return);break;case 3:if(Gi(n,o),c&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{cv(n,s)}catch(A){ot(o,o.return,A)}}break;case 27:s===null&&c&4&&wx(o);case 26:case 5:Gi(n,o),s===null&&c&4&&bx(o),c&512&&ac(o,o.return);break;case 12:Gi(n,o);break;case 31:Gi(n,o),c&4&&Dx(n,o);break;case 13:Gi(n,o),c&4&&Rx(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=rT.bind(null,o),wT(n,o))));break;case 22:if(c=o.memoizedState!==null||Hi,!c){s=s!==null&&s.memoizedState!==null||en,m=Hi;var g=en;Hi=c,(en=s)&&!g?$i(n,o,(o.subtreeFlags&8772)!==0):Gi(n,o),Hi=m,en=g}break;case 30:break;default:Gi(n,o)}}function Tx(n){var s=n.alternate;s!==null&&(n.alternate=null,Tx(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&so(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ct=null,Xn=!1;function qi(n,s,o){for(o=o.child;o!==null;)Sx(n,s,o),o=o.sibling}function Sx(n,s,o){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Fn,o)}catch{}switch(o.tag){case 26:en||_i(o,s),qi(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:en||_i(o,s);var c=Ct,m=Xn;js(o.type)&&(Ct=o.stateNode,Xn=!1),qi(n,s,o),pc(o.stateNode),Ct=c,Xn=m;break;case 5:en||_i(o,s);case 6:if(c=Ct,m=Xn,Ct=null,qi(n,s,o),Ct=c,Xn=m,Ct!==null)if(Xn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(o.stateNode)}catch(g){ot(o,s,g)}else try{Ct.removeChild(o.stateNode)}catch(g){ot(o,s,g)}break;case 18:Ct!==null&&(Xn?(n=Ct,x1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),qo(n)):x1(Ct,o.stateNode));break;case 4:c=Ct,m=Xn,Ct=o.stateNode.containerInfo,Xn=!0,qi(n,s,o),Ct=c,Xn=m;break;case 0:case 11:case 14:case 15:Is(2,o,s),en||Is(4,o,s),qi(n,s,o);break;case 1:en||(_i(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&_x(o,s,c)),qi(n,s,o);break;case 21:qi(n,s,o);break;case 22:en=(c=en)||o.memoizedState!==null,qi(n,s,o),en=c;break;default:qi(n,s,o)}}function Dx(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{qo(n)}catch(o){ot(s,s.return,o)}}}function Rx(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{qo(n)}catch(o){ot(s,s.return,o)}}function QC(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Ax),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Ax),s;default:throw Error(i(435,n.tag))}}function gd(n,s){var o=QC(n);s.forEach(function(c){if(!o.has(c)){o.add(c);var m=iT.bind(null,n,c);c.then(m,m)}})}function Wn(n,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=n,A=s,P=A;e:for(;P!==null;){switch(P.tag){case 27:if(js(P.type)){Ct=P.stateNode,Xn=!1;break e}break;case 5:Ct=P.stateNode,Xn=!1;break e;case 3:case 4:Ct=P.stateNode.containerInfo,Xn=!0;break e}P=P.return}if(Ct===null)throw Error(i(160));Sx(g,A,m),Ct=null,Xn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Ix(s,n),s=s.sibling}var Xr=null;function Ix(n,s){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Wn(s,n),Zn(n),c&4&&(Is(3,n,n.return),sc(3,n),Is(5,n,n.return));break;case 1:Wn(s,n),Zn(n),c&512&&(en||o===null||_i(o,o.return)),c&64&&Hi&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Xr;if(Wn(s,n),Zn(n),c&512&&(en||o===null||_i(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[ai]||g[Yt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Dn(g,c,o),g[Yt]=n,Qt(g),c=g;break e;case"link":var A=I1("link","href",m).get(c+(o.href||""));if(A){for(var P=0;P<A.length;P++)if(g=A[P],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(P,1);break t}}g=m.createElement(c),Dn(g,c,o),m.head.appendChild(g);break;case"meta":if(A=I1("meta","content",m).get(c+(o.content||""))){for(P=0;P<A.length;P++)if(g=A[P],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(P,1);break t}}g=m.createElement(c),Dn(g,c,o),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[Yt]=n,Qt(g),c=g}n.stateNode=c}else N1(m,n.type,n.stateNode);else n.stateNode=R1(m,c,n.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?N1(m,n.type,n.stateNode):R1(m,c,n.memoizedProps)):c===null&&n.stateNode!==null&&cm(n,n.memoizedProps,o.memoizedProps)}break;case 27:Wn(s,n),Zn(n),c&512&&(en||o===null||_i(o,o.return)),o!==null&&c&4&&cm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Wn(s,n),Zn(n),c&512&&(en||o===null||_i(o,o.return)),n.flags&32){m=n.stateNode;try{Qn(m,"")}catch(be){ot(n,n.return,be)}}c&4&&n.stateNode!=null&&(m=n.memoizedProps,cm(n,m,o!==null?o.memoizedProps:m)),c&1024&&(fm=!0);break;case 6:if(Wn(s,n),Zn(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(be){ot(n,n.return,be)}}break;case 3:if(kd=null,m=Xr,Xr=Id(s.containerInfo),Wn(s,n),Xr=m,Zn(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{qo(s.containerInfo)}catch(be){ot(n,n.return,be)}fm&&(fm=!1,Nx(n));break;case 4:c=Xr,Xr=Id(n.stateNode.containerInfo),Wn(s,n),Zn(n),Xr=c;break;case 12:Wn(s,n),Zn(n);break;case 31:Wn(s,n),Zn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,gd(n,c)));break;case 13:Wn(s,n),Zn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(vd=It()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,gd(n,c)));break;case 22:m=n.memoizedState!==null;var $=o!==null&&o.memoizedState!==null,ee=Hi,ae=en;if(Hi=ee||m,en=ae||$,Wn(s,n),en=ae,Hi=ee,Zn(n),c&8192)e:for(s=n.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||$||Hi||en||Pa(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){$=o=s;try{if(g=$.stateNode,m)A=g.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=$.stateNode;var ce=$.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;P.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(be){ot($,$.return,be)}}}else if(s.tag===6){if(o===null){$=s;try{$.stateNode.nodeValue=m?"":$.memoizedProps}catch(be){ot($,$.return,be)}}}else if(s.tag===18){if(o===null){$=s;try{var re=$.stateNode;m?_1(re,!0):_1($.stateNode,!1)}catch(be){ot($,$.return,be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,gd(n,o))));break;case 19:Wn(s,n),Zn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,gd(n,c)));break;case 30:break;case 21:break;default:Wn(s,n),Zn(n)}}function Zn(n){var s=n.flags;if(s&2){try{for(var o,c=n.return;c!==null;){if(Ex(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,g=um(n);pd(n,g,m);break;case 5:var A=o.stateNode;o.flags&32&&(Qn(A,""),o.flags&=-33);var P=um(n);pd(n,P,A);break;case 3:case 4:var $=o.stateNode.containerInfo,ee=um(n);dm(n,ee,$);break;default:throw Error(i(161))}}catch(ae){ot(n,n.return,ae)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Nx(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Nx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Gi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Cx(n,s.alternate,s),s=s.sibling}function Pa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Is(4,s,s.return),Pa(s);break;case 1:_i(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&_x(s,s.return,o),Pa(s);break;case 27:pc(s.stateNode);case 26:case 5:_i(s,s.return),Pa(s);break;case 22:s.memoizedState===null&&Pa(s);break;case 30:Pa(s);break;default:Pa(s)}n=n.sibling}}function $i(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=n,g=s,A=g.flags;switch(g.tag){case 0:case 11:case 15:$i(m,g,o),sc(4,g);break;case 1:if($i(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){ot(c,c.return,ee)}if(c=g,m=c.updateQueue,m!==null){var P=c.stateNode;try{var $=m.shared.hiddenCallbacks;if($!==null)for(m.shared.hiddenCallbacks=null,m=0;m<$.length;m++)lv($[m],P)}catch(ee){ot(c,c.return,ee)}}o&&A&64&&xx(g),ac(g,g.return);break;case 27:wx(g);case 26:case 5:$i(m,g,o),o&&c===null&&A&4&&bx(g),ac(g,g.return);break;case 12:$i(m,g,o);break;case 31:$i(m,g,o),o&&A&4&&Dx(m,g);break;case 13:$i(m,g,o),o&&A&4&&Rx(m,g);break;case 22:g.memoizedState===null&&$i(m,g,o),ac(g,g.return);break;case 30:break;default:$i(m,g,o)}s=s.sibling}}function hm(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&$l(o))}function mm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&$l(n))}function Wr(n,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kx(n,s,o,c),s=s.sibling}function kx(n,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Wr(n,s,o,c),m&2048&&sc(9,s);break;case 1:Wr(n,s,o,c);break;case 3:Wr(n,s,o,c),m&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&$l(n)));break;case 12:if(m&2048){Wr(n,s,o,c),n=s.stateNode;try{var g=s.memoizedProps,A=g.id,P=g.onPostCommit;typeof P=="function"&&P(A,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch($){ot(s,s.return,$)}}else Wr(n,s,o,c);break;case 31:Wr(n,s,o,c);break;case 13:Wr(n,s,o,c);break;case 23:break;case 22:g=s.stateNode,A=s.alternate,s.memoizedState!==null?g._visibility&2?Wr(n,s,o,c):oc(n,s):g._visibility&2?Wr(n,s,o,c):(g._visibility|=2,Bo(n,s,o,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&hm(A,s);break;case 24:Wr(n,s,o,c),m&2048&&mm(s.alternate,s);break;default:Wr(n,s,o,c)}}function Bo(n,s,o,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=n,A=s,P=o,$=c,ee=A.flags;switch(A.tag){case 0:case 11:case 15:Bo(g,A,P,$,m),sc(8,A);break;case 23:break;case 22:var ae=A.stateNode;A.memoizedState!==null?ae._visibility&2?Bo(g,A,P,$,m):oc(g,A):(ae._visibility|=2,Bo(g,A,P,$,m)),m&&ee&2048&&hm(A.alternate,A);break;case 24:Bo(g,A,P,$,m),m&&ee&2048&&mm(A.alternate,A);break;default:Bo(g,A,P,$,m)}s=s.sibling}}function oc(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,c=s,m=c.flags;switch(c.tag){case 22:oc(o,c),m&2048&&hm(c.alternate,c);break;case 24:oc(o,c),m&2048&&mm(c.alternate,c);break;default:oc(o,c)}s=s.sibling}}var lc=8192;function Oo(n,s,o){if(n.subtreeFlags&lc)for(n=n.child;n!==null;)Bx(n,s,o),n=n.sibling}function Bx(n,s,o){switch(n.tag){case 26:Oo(n,s,o),n.flags&lc&&n.memoizedState!==null&&MT(o,Xr,n.memoizedState,n.memoizedProps);break;case 5:Oo(n,s,o);break;case 3:case 4:var c=Xr;Xr=Id(n.stateNode.containerInfo),Oo(n,s,o),Xr=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=lc,lc=16777216,Oo(n,s,o),lc=c):Oo(n,s,o));break;default:Oo(n,s,o)}}function Ox(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function cc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];pn=c,Vx(c,n)}Ox(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mx(n),n=n.sibling}function Mx(n){switch(n.tag){case 0:case 11:case 15:cc(n),n.flags&2048&&Is(9,n,n.return);break;case 3:cc(n);break;case 12:cc(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,yd(n)):cc(n);break;default:cc(n)}}function yd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];pn=c,Vx(c,n)}Ox(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Is(8,s,s.return),yd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,yd(s));break;default:yd(s)}n=n.sibling}}function Vx(n,s){for(;pn!==null;){var o=pn;switch(o.tag){case 0:case 11:case 15:Is(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:$l(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,pn=c;else e:for(o=n;pn!==null;){c=pn;var m=c.sibling,g=c.return;if(Tx(c),c===o){pn=null;break e}if(m!==null){m.return=g,pn=m;break e}pn=g}}}var XC={getCacheForType:function(n){var s=Tn(Wt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return Tn(Wt).controller.signal}},WC=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Pe=null,Fe=0,at=0,pr=null,Ns=!1,Mo=!1,pm=!1,Ki=0,jt=0,ks=0,La=0,gm=0,gr=0,Vo=0,uc=null,Jn=null,ym=!1,vd=0,jx=0,xd=1/0,_d=null,Bs=null,cn=0,Os=null,jo=null,Yi=0,vm=0,xm=null,Px=null,dc=0,_m=null;function yr(){return(nt&2)!==0&&Fe!==0?Fe&-Fe:Q.T!==null?Tm():lr()}function Lx(){if(gr===0)if((Fe&536870912)===0||$e){var n=Hr;Hr<<=1,(Hr&3932160)===0&&(Hr=262144),gr=n}else gr=536870912;return n=hr.current,n!==null&&(n.flags|=32),gr}function er(n,s,o){(n===ht&&(at===2||at===9)||n.cancelPendingCommit!==null)&&(Po(n,0),Ms(n,Fe,gr,!1)),bn(n,o),((nt&2)===0||n!==ht)&&(n===ht&&((nt&2)===0&&(La|=o),jt===4&&Ms(n,Fe,gr,!1)),bi(n))}function Fx(n,s,o){if((nt&6)!==0)throw Error(i(327));var c=!o&&(s&127)===0&&(s&n.expiredLanes)===0||Mt(n,s),m=c?eT(n,s):Em(n,s,!0),g=c;do{if(m===0){Mo&&!c&&Ms(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!ZC(o)){m=Em(n,s,!1),g=!1;continue}if(m===2){if(g=s,n.errorRecoveryDisabledLanes&g)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var P=n;m=uc;var $=P.current.memoizedState.isDehydrated;if($&&(Po(P,A).flags|=256),A=Em(P,A,!1),A!==2){if(pm&&!$){P.errorRecoveryDisabledLanes|=g,La|=g,m=4;break e}g=Jn,Jn=m,g!==null&&(Jn===null?Jn=g:Jn.push.apply(Jn,g))}m=A}if(g=!1,m!==2)continue}}if(m===1){Po(n,0),Ms(n,s,0,!0);break}e:{switch(c=n,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ms(c,s,gr,!Ns);break e;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=vd+300-It(),10<m)){if(Ms(c,s,gr,!Ns),gt(c,0,!0)!==0)break e;Yi=s,c.timeoutHandle=y1(zx.bind(null,c,o,Jn,_d,ym,s,gr,La,Vo,Ns,g,"Throttled",-0,0),m);break e}zx(c,o,Jn,_d,ym,s,gr,La,Vo,Ns,g,null,-0,0)}}break}while(!0);bi(n)}function zx(n,s,o,c,m,g,A,P,$,ee,ae,ce,te,re){if(n.timeoutHandle=-1,ce=s.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qr},Bx(s,g,ce);var be=(g&62914560)===g?vd-It():(g&4194048)===g?jx-It():0;if(be=VT(ce,be),be!==null){Yi=g,n.cancelPendingCommit=be(Qx.bind(null,n,s,g,o,c,m,A,P,$,ae,ce,null,te,re)),Ms(n,g,A,!ee);return}}Qx(n,s,g,o,c,m,A,P,$)}function ZC(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!dr(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ms(n,s,o,c){s&=~gm,s&=~La,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var m=s;0<m;){var g=31-mt(m),A=1<<g;c[g]=-1,m&=~A}o!==0&&ln(n,o,s)}function bd(){return(nt&6)===0?(fc(0),!1):!0}function bm(){if(Pe!==null){if(at===0)var n=Pe.return;else n=Pe,ji=Ia=null,j0(n),Do=null,Yl=0,n=Pe;for(;n!==null;)vx(n.alternate,n),n=n.return;Pe=null}}function Po(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,vT(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Yi=0,bm(),ht=n,Pe=o=Mi(n.current,null),Fe=s,at=0,pr=null,Ns=!1,Mo=Mt(n,s),pm=!1,Vo=gr=gm=La=ks=jt=0,Jn=uc=null,ym=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var m=31-mt(c),g=1<<m;s|=n[m],c&=~g}return Ki=s,Uu(),o}function Ux(n,s){Me=null,Q.H=nc,s===So||s===Xu?(s=iv(),at=3):s===C0?(s=iv(),at=4):at=s===J0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,pr=s,Pe===null&&(jt=1,ud(n,Ir(s,n.current)))}function Hx(){var n=hr.current;return n===null?!0:(Fe&4194048)===Fe?Or===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?n===Or:!1}function qx(){var n=Q.H;return Q.H=nc,n===null?nc:n}function Gx(){var n=Q.A;return Q.A=XC,n}function Ed(){jt=4,Ns||(Fe&4194048)!==Fe&&hr.current!==null||(Mo=!0),(ks&134217727)===0&&(La&134217727)===0||ht===null||Ms(ht,Fe,gr,!1)}function Em(n,s,o){var c=nt;nt|=2;var m=qx(),g=Gx();(ht!==n||Fe!==s)&&(_d=null,Po(n,s)),s=!1;var A=jt;e:do try{if(at!==0&&Pe!==null){var P=Pe,$=pr;switch(at){case 8:bm(),A=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(s=!0);var ee=at;if(at=0,pr=null,Lo(n,P,$,ee),o&&Mo){A=0;break e}break;default:ee=at,at=0,pr=null,Lo(n,P,$,ee)}}JC(),A=jt;break}catch(ae){Ux(n,ae)}while(!0);return s&&n.shellSuspendCounter++,ji=Ia=null,nt=c,Q.H=m,Q.A=g,Pe===null&&(ht=null,Fe=0,Uu()),A}function JC(){for(;Pe!==null;)$x(Pe)}function eT(n,s){var o=nt;nt|=2;var c=qx(),m=Gx();ht!==n||Fe!==s?(_d=null,xd=It()+500,Po(n,s)):Mo=Mt(n,s);e:do try{if(at!==0&&Pe!==null){s=Pe;var g=pr;t:switch(at){case 1:at=0,pr=null,Lo(n,s,g,1);break;case 2:case 9:if(nv(g)){at=0,pr=null,Kx(s);break}s=function(){at!==2&&at!==9||ht!==n||(at=7),bi(n)},g.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:nv(g)?(at=0,pr=null,Kx(s)):(at=0,pr=null,Lo(n,s,g,7));break;case 5:var A=null;switch(Pe.tag){case 26:A=Pe.memoizedState;case 5:case 27:var P=Pe;if(A?k1(A):P.stateNode.complete){at=0,pr=null;var $=P.sibling;if($!==null)Pe=$;else{var ee=P.return;ee!==null?(Pe=ee,wd(ee)):Pe=null}break t}}at=0,pr=null,Lo(n,s,g,5);break;case 6:at=0,pr=null,Lo(n,s,g,6);break;case 8:bm(),jt=6;break e;default:throw Error(i(462))}}tT();break}catch(ae){Ux(n,ae)}while(!0);return ji=Ia=null,Q.H=c,Q.A=m,nt=o,Pe!==null?0:(ht=null,Fe=0,Uu(),jt)}function tT(){for(;Pe!==null&&!Ft();)$x(Pe)}function $x(n){var s=gx(n.alternate,n,Ki);n.memoizedProps=n.pendingProps,s===null?wd(n):Pe=s}function Kx(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=ux(o,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=ux(o,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:j0(s);default:vx(o,s),s=Pe=Gy(s,Ki),s=gx(o,s,Ki)}n.memoizedProps=n.pendingProps,s===null?wd(n):Pe=s}function Lo(n,s,o,c){ji=Ia=null,j0(s),Do=null,Yl=0;var m=s.return;try{if(HC(n,m,s,o,Fe)){jt=1,ud(n,Ir(o,n.current)),Pe=null;return}}catch(g){if(m!==null)throw Pe=m,g;jt=1,ud(n,Ir(o,n.current)),Pe=null;return}s.flags&32768?($e||c===1?n=!0:Mo||(Fe&536870912)!==0?n=!1:(Ns=n=!0,(c===2||c===9||c===3||c===6)&&(c=hr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Yx(s,n)):wd(s)}function wd(n){var s=n;do{if((s.flags&32768)!==0){Yx(s,Ns);return}n=s.return;var o=$C(s.alternate,s,Ki);if(o!==null){Pe=o;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=n}while(s!==null);jt===0&&(jt=5)}function Yx(n,s){do{var o=KC(n.alternate,n);if(o!==null){o.flags&=32767,Pe=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=o}while(n!==null);jt=6,Pe=null}function Qx(n,s,o,c,m,g,A,P,$){n.cancelPendingCommit=null;do Ad();while(cn!==0);if((nt&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=u0,kt(n,o,g,A,P,$),n===ht&&(Pe=ht=null,Fe=0),jo=s,Os=n,Yi=o,vm=g,xm=m,Px=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,sT(_n,function(){return e1(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,m=se.p,se.p=2,A=nt,nt|=4;try{YC(n,s,o)}finally{nt=A,se.p=m,Q.T=c}}cn=1,Xx(),Wx(),Zx()}}function Xx(){if(cn===1){cn=0;var n=Os,s=jo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var c=se.p;se.p=2;var m=nt;nt|=4;try{Ix(s,n);var g=Om,A=Vy(n.containerInfo),P=g.focusedElem,$=g.selectionRange;if(A!==P&&P&&P.ownerDocument&&My(P.ownerDocument.documentElement,P)){if($!==null&&s0(P)){var ee=$.start,ae=$.end;if(ae===void 0&&(ae=ee),"selectionStart"in P)P.selectionStart=ee,P.selectionEnd=Math.min(ae,P.value.length);else{var ce=P.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var re=te.getSelection(),be=P.textContent.length,Te=Math.min($.start,be),ft=$.end===void 0?Te:Math.min($.end,be);!re.extend&&Te>ft&&(A=ft,ft=Te,Te=A);var W=Oy(P,Te),Y=Oy(P,ft);if(W&&Y&&(re.rangeCount!==1||re.anchorNode!==W.node||re.anchorOffset!==W.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var J=ce.createRange();J.setStart(W.node,W.offset),re.removeAllRanges(),Te>ft?(re.addRange(J),re.extend(Y.node,Y.offset)):(J.setEnd(Y.node,Y.offset),re.addRange(J))}}}}for(ce=[],re=P;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ce.length;P++){var oe=ce[P];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Vd=!!Bm,Om=Bm=null}finally{nt=m,se.p=c,Q.T=o}}n.current=s,cn=2}}function Wx(){if(cn===2){cn=0;var n=Os,s=jo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var c=se.p;se.p=2;var m=nt;nt|=4;try{Cx(n,s.alternate,s)}finally{nt=m,se.p=c,Q.T=o}}cn=3}}function Zx(){if(cn===4||cn===3){cn=0,Bn();var n=Os,s=jo,o=Yi,c=Px;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?cn=5:(cn=0,jo=Os=null,Jx(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Bs=null),En(o),s=s.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Fn,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Q.T,m=se.p,se.p=2,Q.T=null;try{for(var g=n.onRecoverableError,A=0;A<c.length;A++){var P=c[A];g(P.value,{componentStack:P.stack})}}finally{Q.T=s,se.p=m}}(Yi&3)!==0&&Ad(),bi(n),m=n.pendingLanes,(o&261930)!==0&&(m&42)!==0?n===_m?dc++:(dc=0,_m=n):dc=0,fc(0)}}function Jx(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,$l(s)))}function Ad(){return Xx(),Wx(),Zx(),e1()}function e1(){if(cn!==5)return!1;var n=Os,s=vm;vm=0;var o=En(Yi),c=Q.T,m=se.p;try{se.p=32>o?32:o,Q.T=null,o=xm,xm=null;var g=Os,A=Yi;if(cn=0,jo=Os=null,Yi=0,(nt&6)!==0)throw Error(i(331));var P=nt;if(nt|=4,Mx(g.current),kx(g,g.current,A,o),nt=P,fc(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Fn,g)}catch{}return!0}finally{se.p=m,Q.T=c,Jx(n,s)}}function t1(n,s,o){s=Ir(o,s),s=Z0(n.stateNode,s,2),n=Ss(n,s,2),n!==null&&(bn(n,2),bi(n))}function ot(n,s,o){if(n.tag===3)t1(n,n,o);else for(;s!==null;){if(s.tag===3){t1(s,n,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bs===null||!Bs.has(c))){n=Ir(o,n),o=nx(2),c=Ss(s,o,2),c!==null&&(rx(o,c,s,n),bn(c,2),bi(c));break}}s=s.return}}function wm(n,s,o){var c=n.pingCache;if(c===null){c=n.pingCache=new WC;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(pm=!0,m.add(o),n=nT.bind(null,n,s,o),s.then(n,n))}function nT(n,s,o){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ht===n&&(Fe&o)===o&&(jt===4||jt===3&&(Fe&62914560)===Fe&&300>It()-vd?(nt&2)===0&&Po(n,0):gm|=o,Vo===Fe&&(Vo=0)),bi(n)}function n1(n,s){s===0&&(s=Kt()),n=Sa(n,s),n!==null&&(bn(n,s),bi(n))}function rT(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),n1(n,o)}function iT(n,s){var o=0;switch(n.tag){case 31:case 13:var c=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),n1(n,o)}function sT(n,s){return We(n,s)}var Cd=null,Fo=null,Am=!1,Td=!1,Cm=!1,Vs=0;function bi(n){n!==Fo&&n.next===null&&(Fo===null?Cd=Fo=n:Fo=Fo.next=n),Td=!0,Am||(Am=!0,oT())}function fc(n,s){if(!Cm&&Td){Cm=!0;do for(var o=!1,c=Cd;c!==null;){if(n!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var A=c.suspendedLanes,P=c.pingedLanes;g=(1<<31-mt(42|n)+1)-1,g&=m&~(A&~P),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,a1(c,g))}else g=Fe,g=gt(c,c===ht?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Mt(c,g)||(o=!0,a1(c,g));c=c.next}while(o);Cm=!1}}function aT(){r1()}function r1(){Td=Am=!1;var n=0;Vs!==0&&yT()&&(n=Vs);for(var s=It(),o=null,c=Cd;c!==null;){var m=c.next,g=i1(c,s);g===0?(c.next=null,o===null?Cd=m:o.next=m,m===null&&(Fo=o)):(o=c,(n!==0||(g&3)!==0)&&(Td=!0)),c=m}cn!==0&&cn!==5||fc(n),Vs!==0&&(Vs=0)}function i1(n,s){for(var o=n.suspendedLanes,c=n.pingedLanes,m=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var A=31-mt(g),P=1<<A,$=m[A];$===-1?((P&o)===0||(P&c)!==0)&&(m[A]=on(P,s)):$<=s&&(n.expiredLanes|=P),g&=~P}if(s=ht,o=Fe,o=gt(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===s&&(at===2||at===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&xt(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Mt(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(c!==null&&xt(c),En(o)){case 2:case 8:o=fn;break;case 32:o=_n;break;case 268435456:o=ii;break;default:o=_n}return c=s1.bind(null,n),o=We(o,c),n.callbackPriority=s,n.callbackNode=o,s}return c!==null&&c!==null&&xt(c),n.callbackPriority=2,n.callbackNode=null,2}function s1(n,s){if(cn!==0&&cn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Ad()&&n.callbackNode!==o)return null;var c=Fe;return c=gt(n,n===ht?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Fx(n,c,s),i1(n,It()),n.callbackNode!=null&&n.callbackNode===o?s1.bind(null,n):null)}function a1(n,s){if(Ad())return null;Fx(n,s,!0)}function oT(){xT(function(){(nt&6)!==0?We(Kn,aT):r1()})}function Tm(){if(Vs===0){var n=Co;n===0&&(n=zn,zn<<=1,(zn&261888)===0&&(zn=256)),Vs=n}return Vs}function o1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:co(""+n)}function l1(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function lT(n,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=o1((m[hn]||null).action),A=c.submitter;A&&(s=(s=A[hn]||null)?o1(s.formAction):A.getAttribute("formAction"),s!==null&&(g=s,A=null));var P=new mi("action","action",null,c,m);n.push({event:P,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Vs!==0){var $=A?l1(m,A):new FormData(m);$0(o,{pending:!0,data:$,method:m.method,action:g},null,$)}}else typeof g=="function"&&(P.preventDefault(),$=A?l1(m,A):new FormData(m),$0(o,{pending:!0,data:$,method:m.method,action:g},g,$))},currentTarget:m}]})}}for(var Sm=0;Sm<c0.length;Sm++){var Dm=c0[Sm],cT=Dm.toLowerCase(),uT=Dm[0].toUpperCase()+Dm.slice(1);Qr(cT,"on"+uT)}Qr(Ly,"onAnimationEnd"),Qr(Fy,"onAnimationIteration"),Qr(zy,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(TC,"onTransitionRun"),Qr(SC,"onTransitionStart"),Qr(DC,"onTransitionCancel"),Qr(Uy,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function c1(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var A=c.length-1;0<=A;A--){var P=c[A],$=P.instance,ee=P.currentTarget;if(P=P.listener,$!==g&&m.isPropagationStopped())break e;g=P,m.currentTarget=ee;try{g(m)}catch(ae){zu(ae)}m.currentTarget=null,g=$}else for(A=0;A<c.length;A++){if(P=c[A],$=P.instance,ee=P.currentTarget,P=P.listener,$!==g&&m.isPropagationStopped())break e;g=P,m.currentTarget=ee;try{g(m)}catch(ae){zu(ae)}m.currentTarget=null,g=$}}}}function Le(n,s){var o=s[io];o===void 0&&(o=s[io]=new Set);var c=n+"__bubble";o.has(c)||(u1(s,n,2,!1),o.add(c))}function Rm(n,s,o){var c=0;s&&(c|=4),u1(o,n,c,s)}var Sd="_reactListening"+Math.random().toString(36).slice(2);function Im(n){if(!n[Sd]){n[Sd]=!0,Cl.forEach(function(o){o!=="selectionchange"&&(dT.has(o)||Rm(o,!1,n),Rm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Sd]||(s[Sd]=!0,Rm("selectionchange",!1,s))}}function u1(n,s,o,c){switch(L1(s)){case 2:var m=LT;break;case 8:m=FT;break;default:m=Gm}o=m.bind(null,s,o,n),m=void 0,!xa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?n.addEventListener(s,o,{capture:!0,passive:m}):n.addEventListener(s,o,!0):m!==void 0?n.addEventListener(s,o,{passive:m}):n.addEventListener(s,o,!1)}function Nm(n,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var P=c.stateNode.containerInfo;if(P===m)break;if(A===4)for(A=c.return;A!==null;){var $=A.tag;if(($===3||$===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;P!==null;){if(A=oi(P),A===null)return;if($=A.tag,$===5||$===6||$===26||$===27){c=g=A;continue e}P=P.parentNode}}c=c.return}ys(function(){var ee=g,ae=Tr(o),ce=[];e:{var te=Hy.get(n);if(te!==void 0){var re=mi,be=n;switch(n){case"keypress":if(ba(o)===0)break e;case"keydown":case"keyup":re=Pu;break;case"focusin":be="focus",re=wa;break;case"focusout":be="blur",re=wa;break;case"beforeblur":case"afterblur":re=wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=_;break;case Ly:case Fy:case zy:re=Nu;break;case Uy:re=z;break;case"scroll":case"scrollend":re=jl;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Oi;break;case"toggle":case"beforetoggle":re=Oe}var Te=(s&4)!==0,ft=!Te&&(n==="scroll"||n==="scrollend"),W=Te?te!==null?te+"Capture":null:te;Te=[];for(var Y=ee,J;Y!==null;){var oe=Y;if(J=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||J===null||W===null||(oe=Gr(Y,W),oe!=null&&Te.push(mc(Y,oe,J))),ft)break;Y=Y.return}0<Te.length&&(te=new re(te,be,null,o,ae),ce.push({event:te,listeners:Te}))}}if((s&7)===0){e:{if(te=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",te&&o!==Ol&&(be=o.relatedTarget||o.fromElement)&&(oi(be)||be[si]))break e;if((re||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,re?(be=o.relatedTarget||o.toElement,re=ee,be=be?oi(be):null,be!==null&&(ft=l(be),Te=be.tag,be!==ft||Te!==5&&Te!==27&&Te!==6)&&(be=null)):(re=null,be=ee),re!==be)){if(Te=Pl,oe="onMouseLeave",W="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(Te=Oi,oe="onPointerLeave",W="onPointerEnter",Y="pointer"),ft=re==null?te:cr(re),J=be==null?te:cr(be),te=new Te(oe,Y+"leave",re,o,ae),te.target=ft,te.relatedTarget=J,oe=null,oi(ae)===ee&&(Te=new Te(W,Y+"enter",be,o,ae),Te.target=J,Te.relatedTarget=ft,oe=Te),ft=oe,re&&be)t:{for(Te=fT,W=re,Y=be,J=0,oe=W;oe;oe=Te(oe))J++;oe=0;for(var Ae=Y;Ae;Ae=Te(Ae))oe++;for(;0<J-oe;)W=Te(W),J--;for(;0<oe-J;)Y=Te(Y),oe--;for(;J--;){if(W===Y||Y!==null&&W===Y.alternate){Te=W;break t}W=Te(W),Y=Te(Y)}Te=null}else Te=null;re!==null&&d1(ce,te,re,Te,!1),be!==null&&ft!==null&&d1(ce,ft,be,Te,!0)}}e:{if(te=ee?cr(ee):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var Je=Dy;else if(Ty(te))if(Ry)Je=wC;else{Je=bC;var Ee=_C}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&lo(ee.elementType)&&(Je=Dy):Je=EC;if(Je&&(Je=Je(n,ee))){Sy(ce,Je,o,ae);break e}Ee&&Ee(n,te,ee),n==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Nl(te,"number",te.value)}switch(Ee=ee?cr(ee):window,n){case"focusin":(Ty(Ee)||Ee.contentEditable==="true")&&(yo=Ee,a0=ee,Hl=null);break;case"focusout":Hl=a0=yo=null;break;case"mousedown":o0=!0;break;case"contextmenu":case"mouseup":case"dragend":o0=!1,jy(ce,o,ae);break;case"selectionchange":if(CC)break;case"keydown":case"keyup":jy(ce,o,ae)}var Ve;if(tt)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else go?Aa(n,o)&&(ze="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ze="onCompositionStart");ze&&(yi&&o.locale!=="ko"&&(go||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&go&&(Ve=Vl()):(hi=ae,Ml="value"in hi?hi.value:hi.textContent,go=!0)),Ee=Dd(ee,ze),0<Ee.length&&(ze=new gi(ze,n,null,o,ae),ce.push({event:ze,listeners:Ee}),Ve?ze.data=Ve:(Ve=po(o),Ve!==null&&(ze.data=Ve)))),(Ve=Dr?gC(n,o):yC(n,o))&&(ze=Dd(ee,"onBeforeInput"),0<ze.length&&(Ee=new gi("onBeforeInput","beforeinput",null,o,ae),ce.push({event:Ee,listeners:ze}),Ee.data=Ve)),lT(ce,n,ee,o,ae)}c1(ce,s)})}function mc(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Dd(n,s){for(var o=s+"Capture",c=[];n!==null;){var m=n,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Gr(n,o),m!=null&&c.unshift(mc(n,m,g)),m=Gr(n,s),m!=null&&c.push(mc(n,m,g))),n.tag===3)return c;n=n.return}return[]}function fT(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function d1(n,s,o,c,m){for(var g=s._reactName,A=[];o!==null&&o!==c;){var P=o,$=P.alternate,ee=P.stateNode;if(P=P.tag,$!==null&&$===c)break;P!==5&&P!==26&&P!==27||ee===null||($=ee,m?(ee=Gr(o,g),ee!=null&&A.unshift(mc(o,ee,$))):m||(ee=Gr(o,g),ee!=null&&A.push(mc(o,ee,$)))),o=o.return}A.length!==0&&n.push({event:s,listeners:A})}var hT=/\r\n?/g,mT=/\u0000|\uFFFD/g;function f1(n){return(typeof n=="string"?n:""+n).replace(hT,`
`).replace(mT,"")}function h1(n,s){return s=f1(s),f1(n)===s}function dt(n,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Qn(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Qn(n,""+c);break;case"className":ur(n,"class",c);break;case"tabIndex":ur(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ur(n,o,c);break;case"style":Bl(n,c,g);break;case"data":if(s!=="object"){ur(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=co(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&dt(n,s,"name",m.name,m,null),dt(n,s,"formEncType",m.formEncType,m,null),dt(n,s,"formMethod",m.formMethod,m,null),dt(n,s,"formTarget",m.formTarget,m,null)):(dt(n,s,"encType",m.encType,m,null),dt(n,s,"method",m.method,m,null),dt(n,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=co(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=qr);break;case"onScroll":c!=null&&Le("scroll",n);break;case"onScrollEnd":c!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=co(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Le("beforetoggle",n),Le("toggle",n),ao(n,"popover",c);break;case"xlinkActuate":Xt(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xt(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xt(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xt(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xt(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xt(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xt(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ao(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Du.get(o)||o,ao(n,o,c))}}function km(n,s,o,c,m,g){switch(o){case"style":Bl(n,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Qn(n,c):(typeof c=="number"||typeof c=="bigint")&&Qn(n,""+c);break;case"onScroll":c!=null&&Le("scroll",n);break;case"onScrollEnd":c!=null&&Le("scrollend",n);break;case"onClick":c!=null&&(n.onclick=qr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=n[hn]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,c,m);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):ao(n,o,c)}}}function Dn(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var A=o[g];if(A!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:dt(n,s,g,A,o,null)}}m&&dt(n,s,"srcSet",o.srcSet,o,null),c&&dt(n,s,"src",o.src,o,null);return;case"input":Le("invalid",n);var P=g=A=m=null,$=null,ee=null;for(c in o)if(o.hasOwnProperty(c)){var ae=o[c];if(ae!=null)switch(c){case"name":m=ae;break;case"type":A=ae;break;case"checked":$=ae;break;case"defaultChecked":ee=ae;break;case"value":g=ae;break;case"defaultValue":P=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:dt(n,s,c,ae,o,null)}}Cu(n,g,P,$,ee,A,m,!1);return;case"select":Le("invalid",n),c=A=g=null;for(m in o)if(o.hasOwnProperty(m)&&(P=o[m],P!=null))switch(m){case"value":g=P;break;case"defaultValue":A=P;break;case"multiple":c=P;default:dt(n,s,m,P,o,null)}s=g,o=A,n.multiple=!!c,s!=null?hs(n,!!c,s,!1):o!=null&&hs(n,!!c,o,!0);return;case"textarea":Le("invalid",n),g=m=c=null;for(A in o)if(o.hasOwnProperty(A)&&(P=o[A],P!=null))switch(A){case"value":c=P;break;case"defaultValue":m=P;break;case"children":g=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:dt(n,s,A,P,o,null)}ms(n,c,m,g);return;case"option":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:dt(n,s,$,c,o,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(c=0;c<hc.length;c++)Le(hc[c],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(c=o[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:dt(n,s,ee,c,o,null)}return;default:if(lo(s)){for(ae in o)o.hasOwnProperty(ae)&&(c=o[ae],c!==void 0&&km(n,s,ae,c,o,void 0));return}}for(P in o)o.hasOwnProperty(P)&&(c=o[P],c!=null&&dt(n,s,P,c,o,null))}function pT(n,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,A=null,P=null,$=null,ee=null,ae=null;for(re in o){var ce=o[re];if(o.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":$=ce;default:c.hasOwnProperty(re)||dt(n,s,re,null,c,ce)}}for(var te in c){var re=c[te];if(ce=o[te],c.hasOwnProperty(te)&&(re!=null||ce!=null))switch(te){case"type":g=re;break;case"name":m=re;break;case"checked":ee=re;break;case"defaultChecked":ae=re;break;case"value":A=re;break;case"defaultValue":P=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:re!==ce&&dt(n,s,te,re,c,ce)}}oo(n,A,P,$,ee,ae,g,m);return;case"select":re=A=P=te=null;for(g in o)if($=o[g],o.hasOwnProperty(g)&&$!=null)switch(g){case"value":break;case"multiple":re=$;default:c.hasOwnProperty(g)||dt(n,s,g,null,c,$)}for(m in c)if(g=c[m],$=o[m],c.hasOwnProperty(m)&&(g!=null||$!=null))switch(m){case"value":te=g;break;case"defaultValue":P=g;break;case"multiple":A=g;default:g!==$&&dt(n,s,m,g,c,$)}s=P,o=A,c=re,te!=null?hs(n,!!o,te,!1):!!c!=!!o&&(s!=null?hs(n,!!o,s,!0):hs(n,!!o,o?[]:"",!1));return;case"textarea":re=te=null;for(P in o)if(m=o[P],o.hasOwnProperty(P)&&m!=null&&!c.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:dt(n,s,P,null,c,m)}for(A in c)if(m=c[A],g=o[A],c.hasOwnProperty(A)&&(m!=null||g!=null))switch(A){case"value":te=m;break;case"defaultValue":re=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&dt(n,s,A,m,c,g)}Tu(n,te,re);return;case"option":for(var be in o)if(te=o[be],o.hasOwnProperty(be)&&te!=null&&!c.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:dt(n,s,be,null,c,te)}for($ in c)if(te=c[$],re=o[$],c.hasOwnProperty($)&&te!==re&&(te!=null||re!=null))switch($){case"selected":n.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:dt(n,s,$,te,c,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)te=o[Te],o.hasOwnProperty(Te)&&te!=null&&!c.hasOwnProperty(Te)&&dt(n,s,Te,null,c,te);for(ee in c)if(te=c[ee],re=o[ee],c.hasOwnProperty(ee)&&te!==re&&(te!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:dt(n,s,ee,te,c,re)}return;default:if(lo(s)){for(var ft in o)te=o[ft],o.hasOwnProperty(ft)&&te!==void 0&&!c.hasOwnProperty(ft)&&km(n,s,ft,void 0,c,te);for(ae in c)te=c[ae],re=o[ae],!c.hasOwnProperty(ae)||te===re||te===void 0&&re===void 0||km(n,s,ae,te,c,re);return}}for(var W in o)te=o[W],o.hasOwnProperty(W)&&te!=null&&!c.hasOwnProperty(W)&&dt(n,s,W,null,c,te);for(ce in c)te=c[ce],re=o[ce],!c.hasOwnProperty(ce)||te===re||te==null&&re==null||dt(n,s,ce,te,c,re)}function m1(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gT(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,A=m.initiatorType,P=m.duration;if(g&&P&&m1(A)){for(A=0,P=m.responseEnd,c+=1;c<o.length;c++){var $=o[c],ee=$.startTime;if(ee>P)break;var ae=$.transferSize,ce=$.initiatorType;ae&&m1(ce)&&($=$.responseEnd,A+=ae*($<P?1:(P-ee)/($-ee)))}if(--c,s+=8*(g+A)/(m.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Bm=null,Om=null;function Rd(n){return n.nodeType===9?n:n.ownerDocument}function p1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g1(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Mm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vm=null;function yT(){var n=window.event;return n&&n.type==="popstate"?n===Vm?!1:(Vm=n,!0):(Vm=null,!1)}var y1=typeof setTimeout=="function"?setTimeout:void 0,vT=typeof clearTimeout=="function"?clearTimeout:void 0,v1=typeof Promise=="function"?Promise:void 0,xT=typeof queueMicrotask=="function"?queueMicrotask:typeof v1<"u"?function(n){return v1.resolve(null).then(n).catch(_T)}:y1;function _T(n){setTimeout(function(){throw n})}function js(n){return n==="head"}function x1(n,s){var o=s,c=0;do{var m=o.nextSibling;if(n.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){n.removeChild(m),qo(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")pc(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,pc(o);for(var g=o.firstChild;g;){var A=g.nextSibling,P=g.nodeName;g[ai]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=A}}else o==="body"&&pc(n.ownerDocument.body);o=m}while(o);qo(s)}function _1(n,s){var o=n;n=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=c}while(o)}function jm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jm(o),so(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function bT(n,s,o,c){for(;n.nodeType===1;){var m=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[ai])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Mr(n.nextSibling),n===null)break}return null}function ET(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Mr(n.nextSibling),n===null))return null;return n}function b1(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Mr(n.nextSibling),n===null))return null;return n}function Pm(n){return n.data==="$?"||n.data==="$~"}function Lm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function wT(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Mr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Fm=null;function E1(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return Mr(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function w1(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function A1(n,s,o){switch(s=Rd(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function pc(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);so(n)}var Vr=new Map,C1=new Set;function Id(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Qi=se.d;se.d={f:AT,r:CT,D:TT,C:ST,L:DT,m:RT,X:NT,S:IT,M:kT};function AT(){var n=Qi.f(),s=bd();return n||s}function CT(n){var s=Cr(n);s!==null&&s.tag===5&&s.type==="form"?Uv(s):Qi.r(n)}var zo=typeof document>"u"?null:document;function T1(n,s,o){var c=zo;if(c&&typeof s=="string"&&s){var m=Yn(s);m='link[rel="'+n+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),C1.has(m)||(C1.add(m),n={rel:n,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),Dn(s,"link",n),Qt(s),c.head.appendChild(s)))}}function TT(n){Qi.D(n),T1("dns-prefetch",n,null)}function ST(n,s){Qi.C(n,s),T1("preconnect",n,s)}function DT(n,s,o){Qi.L(n,s,o);var c=zo;if(c&&n&&s){var m='link[rel="preload"][as="'+Yn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Yn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Yn(o.imageSizes)+'"]')):m+='[href="'+Yn(n)+'"]';var g=m;switch(s){case"style":g=Uo(n);break;case"script":g=Ho(n)}Vr.has(g)||(n=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Vr.set(g,n),c.querySelector(m)!==null||s==="style"&&c.querySelector(gc(g))||s==="script"&&c.querySelector(yc(g))||(s=c.createElement("link"),Dn(s,"link",n),Qt(s),c.head.appendChild(s)))}}function RT(n,s){Qi.m(n,s);var o=zo;if(o&&n){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Yn(c)+'"][href="'+Yn(n)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ho(n)}if(!Vr.has(g)&&(n=v({rel:"modulepreload",href:n},s),Vr.set(g,n),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yc(g)))return}c=o.createElement("link"),Dn(c,"link",n),Qt(c),o.head.appendChild(c)}}}function IT(n,s,o){Qi.S(n,s,o);var c=zo;if(c&&n){var m=li(c).hoistableStyles,g=Uo(n);s=s||"default";var A=m.get(g);if(!A){var P={loading:0,preload:null};if(A=c.querySelector(gc(g)))P.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Vr.get(g))&&zm(n,o);var $=A=c.createElement("link");Qt($),Dn($,"link",n),$._p=new Promise(function(ee,ae){$.onload=ee,$.onerror=ae}),$.addEventListener("load",function(){P.loading|=1}),$.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Nd(A,s,c)}A={type:"stylesheet",instance:A,count:1,state:P},m.set(g,A)}}}function NT(n,s){Qi.X(n,s);var o=zo;if(o&&n){var c=li(o).hoistableScripts,m=Ho(n),g=c.get(m);g||(g=o.querySelector(yc(m)),g||(n=v({src:n,async:!0},s),(s=Vr.get(m))&&Um(n,s),g=o.createElement("script"),Qt(g),Dn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function kT(n,s){Qi.M(n,s);var o=zo;if(o&&n){var c=li(o).hoistableScripts,m=Ho(n),g=c.get(m);g||(g=o.querySelector(yc(m)),g||(n=v({src:n,async:!0,type:"module"},s),(s=Vr.get(m))&&Um(n,s),g=o.createElement("script"),Qt(g),Dn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function S1(n,s,o,c){var m=(m=pe.current)?Id(m):null;if(!m)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Uo(o.href),o=li(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Uo(o.href);var g=li(m).hoistableStyles,A=g.get(n);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,A),(g=m.querySelector(gc(n)))&&!g._p&&(A.instance=g,A.state.loading=5),Vr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Vr.set(n,o),g||BT(m,n,o,A.state))),s&&c===null)throw Error(i(528,""));return A}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ho(o),o=li(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Uo(n){return'href="'+Yn(n)+'"'}function gc(n){return'link[rel="stylesheet"]['+n+"]"}function D1(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function BT(n,s,o,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Dn(s,"link",o),Qt(s),n.head.appendChild(s))}function Ho(n){return'[src="'+Yn(n)+'"]'}function yc(n){return"script[async]"+n}function R1(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+Yn(o.href)+'"]');if(c)return s.instance=c,Qt(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Qt(c),Dn(c,"style",m),Nd(c,o.precedence,n),s.instance=c;case"stylesheet":m=Uo(o.href);var g=n.querySelector(gc(m));if(g)return s.state.loading|=4,s.instance=g,Qt(g),g;c=D1(o),(m=Vr.get(m))&&zm(c,m),g=(n.ownerDocument||n).createElement("link"),Qt(g);var A=g;return A._p=new Promise(function(P,$){A.onload=P,A.onerror=$}),Dn(g,"link",c),s.state.loading|=4,Nd(g,o.precedence,n),s.instance=g;case"script":return g=Ho(o.src),(m=n.querySelector(yc(g)))?(s.instance=m,Qt(m),m):(c=o,(m=Vr.get(g))&&(c=v({},o),Um(c,m)),n=n.ownerDocument||n,m=n.createElement("script"),Qt(m),Dn(m,"link",c),n.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Nd(c,o.precedence,n));return s.instance}function Nd(n,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,A=0;A<c.length;A++){var P=c[A];if(P.dataset.precedence===s)g=P;else if(g!==m)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function zm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Um(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var kd=null;function I1(n,s,o){if(kd===null){var c=new Map,m=kd=new Map;m.set(o,c)}else m=kd,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),m=0;m<o.length;m++){var g=o[m];if(!(g[ai]||g[Yt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(s)||"";A=n+A;var P=c.get(A);P?P.push(g):c.set(A,[g])}}return c}function N1(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function OT(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function k1(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function MT(n,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Uo(c.href),g=s.querySelector(gc(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Bd.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=g,Qt(g);return}g=s.ownerDocument||s,c=D1(c),(m=Vr.get(m))&&zm(c,m),g=g.createElement("link"),Qt(g);var A=g;A._p=new Promise(function(P,$){A.onload=P,A.onerror=$}),Dn(g,"link",c),o.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Bd.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var Hm=0;function VT(n,s){return n.stylesheets&&n.count===0&&Md(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var c=setTimeout(function(){if(n.stylesheets&&Md(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+s);0<n.imgBytes&&Hm===0&&(Hm=62500*gT());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Md(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>Hm?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Bd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Od=null;function Md(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Od=new Map,s.forEach(jT,n),Od=null,Bd.call(n))}function jT(n,s){if(!(s.state.loading&4)){var o=Od.get(n);if(o)var c=o.get(null);else{o=new Map,Od.set(n,o);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var A=m[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),c=A)}c&&o.set(null,c)}m=s.instance,A=m.getAttribute("data-precedence"),g=o.get(A)||c,g===c&&o.set(null,m),o.set(A,m),this.count++,c=Bd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),s.state.loading|=4}}var vc={$$typeof:B,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function PT(n,s,o,c,m,g,A,P,$){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nt(0),this.hiddenUpdates=Nt(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function B1(n,s,o,c,m,g,A,P,$,ee,ae,ce){return n=new PT(n,s,o,A,$,ee,ae,ce,P),s=1,g===!0&&(s|=24),g=fr(3,null,null,s),n.current=g,g.stateNode=n,s=E0(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},T0(g),n}function O1(n){return n?(n=_o,n):_o}function M1(n,s,o,c,m,g){m=O1(m),c.context===null?c.context=m:c.pendingContext=m,c=Ts(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ss(n,c,s),o!==null&&(er(o,n,s),Xl(o,n,s))}function V1(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function qm(n,s){V1(n,s),(n=n.alternate)&&V1(n,s)}function j1(n){if(n.tag===13||n.tag===31){var s=Sa(n,67108864);s!==null&&er(s,n,67108864),qm(n,67108864)}}function P1(n){if(n.tag===13||n.tag===31){var s=yr();s=On(s);var o=Sa(n,s);o!==null&&er(o,n,s),qm(n,s)}}var Vd=!0;function LT(n,s,o,c){var m=Q.T;Q.T=null;var g=se.p;try{se.p=2,Gm(n,s,o,c)}finally{se.p=g,Q.T=m}}function FT(n,s,o,c){var m=Q.T;Q.T=null;var g=se.p;try{se.p=8,Gm(n,s,o,c)}finally{se.p=g,Q.T=m}}function Gm(n,s,o,c){if(Vd){var m=$m(c);if(m===null)Nm(n,s,c,jd,o),F1(n,c);else if(UT(m,n,s,o,c))c.stopPropagation();else if(F1(n,c),s&4&&-1<zT.indexOf(n)){for(;m!==null;){var g=Cr(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=pt(g.pendingLanes);if(A!==0){var P=g;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var $=1<<31-mt(A);P.entanglements[1]|=$,A&=~$}bi(g),(nt&6)===0&&(xd=It()+500,fc(0))}}break;case 31:case 13:P=Sa(g,2),P!==null&&er(P,g,2),bd(),qm(g,2)}if(g=$m(c),g===null&&Nm(n,s,c,jd,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Nm(n,s,c,null,o)}}function $m(n){return n=Tr(n),Km(n)}var jd=null;function Km(n){if(jd=null,n=oi(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=u(s),n!==null)return n;n=null}else if(o===31){if(n=h(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return jd=n,null}function L1(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case Kn:return 2;case fn:return 8;case _n:case wr:return 32;case ii:return 268435456;default:return 32}default:return 32}}var Ym=!1,Ps=null,Ls=null,Fs=null,xc=new Map,_c=new Map,zs=[],zT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F1(n,s){switch(n){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":xc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(s.pointerId)}}function bc(n,s,o,c,m,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Cr(s),s!==null&&j1(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function UT(n,s,o,c,m){switch(s){case"focusin":return Ps=bc(Ps,n,s,o,c,m),!0;case"dragenter":return Ls=bc(Ls,n,s,o,c,m),!0;case"mouseover":return Fs=bc(Fs,n,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return xc.set(g,bc(xc.get(g)||null,n,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,_c.set(g,bc(_c.get(g)||null,n,s,o,c,m)),!0}return!1}function z1(n){var s=oi(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){n.blockedOn=s,wn(n.priority,function(){P1(o)});return}}else if(s===31){if(s=h(o),s!==null){n.blockedOn=s,wn(n.priority,function(){P1(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Pd(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=$m(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Ol=c,o.target.dispatchEvent(c),Ol=null}else return s=Cr(o),s!==null&&j1(s),n.blockedOn=o,!1;s.shift()}return!0}function U1(n,s,o){Pd(n)&&o.delete(s)}function HT(){Ym=!1,Ps!==null&&Pd(Ps)&&(Ps=null),Ls!==null&&Pd(Ls)&&(Ls=null),Fs!==null&&Pd(Fs)&&(Fs=null),xc.forEach(U1),_c.forEach(U1)}function Ld(n,s){n.blockedOn===s&&(n.blockedOn=null,Ym||(Ym=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,HT)))}var Fd=null;function H1(n){Fd!==n&&(Fd=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fd===n&&(Fd=null);for(var s=0;s<n.length;s+=3){var o=n[s],c=n[s+1],m=n[s+2];if(typeof c!="function"){if(Km(c||o)===null)continue;break}var g=Cr(o);g!==null&&(n.splice(s,3),s-=3,$0(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function qo(n){function s($){return Ld($,n)}Ps!==null&&Ld(Ps,n),Ls!==null&&Ld(Ls,n),Fs!==null&&Ld(Fs,n),xc.forEach(s),_c.forEach(s);for(var o=0;o<zs.length;o++){var c=zs[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<zs.length&&(o=zs[0],o.blockedOn===null);)z1(o),o.blockedOn===null&&zs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],A=m[hn]||null;if(typeof g=="function")A||H1(o);else if(A){var P=null;if(g&&g.hasAttribute("formAction")){if(m=g,A=g[hn]||null)P=A.formAction;else if(Km(m)!==null)continue}else P=A.action;typeof P=="function"?o[c+1]=P:(o.splice(c,3),c-=3),H1(o)}}}function q1(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(A){return m=A})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Qm(n){this._internalRoot=n}zd.prototype.render=Qm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=yr();M1(o,c,n,s,null,null)},zd.prototype.unmount=Qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;M1(n.current,2,null,n,null,null),bd(),s[si]=null}};function zd(n){this._internalRoot=n}zd.prototype.unstable_scheduleHydration=function(n){if(n){var s=lr();n={blockedOn:null,target:n,priority:s};for(var o=0;o<zs.length&&s!==0&&s<zs[o].priority;o++);zs.splice(o,0,n),o===0&&z1(n)}};var G1=e.version;if(G1!=="19.2.0")throw Error(i(527,G1,"19.2.0"));se.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var qT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{Fn=Ud.inject(qT),Ot=Ud}catch{}}return wc.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,c="",m=Zv,g=Jv,A=ex;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=B1(n,1,!1,null,null,o,c,null,m,g,A,q1),n[si]=s.current,Im(n),new Qm(s)},wc.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var c=!1,m="",g=Zv,A=Jv,P=ex,$=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.formState!==void 0&&($=o.formState)),s=B1(n,1,!0,s,o??null,c,m,$,g,A,P,q1),s.context=O1(null),o=s.current,c=yr(),c=On(c),m=Ts(c),m.callback=null,Ss(o,m,c),o=c,s.current.lanes=o,bn(s,o),bi(s),n[si]=s.current,Im(n),new zd(s)},wc.version="19.2.0",wc}var t_;function eS(){if(t_)return Jm.exports;t_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jm.exports=JT(),Jm.exports}var tS=eS();var n_="popstate";function nS(r={}){function e(i,a){let{pathname:l,search:u,hash:h}=i.location;return wp("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Fc(a)}return iS(e,t,null,r)}function Dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Fr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rS(){return Math.random().toString(36).substring(2,10)}function r_(r,e){return{usr:r.state,key:r.key,idx:e}}function wp(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?dl(e):e,state:t,key:e&&e.key||i||rS()}}function Fc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function dl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function iS(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,h="POP",p=null,f=y();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let C=y(),V=C==null?null:C-f;f=C,p&&p({action:h,location:T.location,delta:V})}function x(C,V){h="PUSH";let k=wp(T.location,C,V);f=y()+1;let B=r_(k,f),L=T.createHref(k);try{u.pushState(B,"",L)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(L)}l&&p&&p({action:h,location:T.location,delta:1})}function b(C,V){h="REPLACE";let k=wp(T.location,C,V);f=y();let B=r_(k,f),L=T.createHref(k);u.replaceState(B,"",L),l&&p&&p({action:h,location:T.location,delta:0})}function w(C){return sS(C)}let T={get action(){return h},get location(){return r(a,u)},listen(C){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(n_,v),p=C,()=>{a.removeEventListener(n_,v),p=null}},createHref(C){return e(a,C)},createURL:w,encodeLocation(C){let V=w(C);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:x,replace:b,go(C){return u.go(C)}};return T}function sS(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Fc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function LE(r,e,t="/"){return aS(r,e,t,!1)}function aS(r,e,t,i){let a=typeof e=="string"?dl(e):e,l=ts(a.pathname||"/",t);if(l==null)return null;let u=FE(r);oS(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let f=vS(l);h=gS(u[p],f,i)}return h}function FE(r,e=[],t=[],i="",a=!1){let l=(u,h,p=a,f)=>{let y={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&p)return;Dt(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let v=Ji([i,y.relativePath]),x=t.concat(y);u.children&&u.children.length>0&&(Dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),FE(u.children,e,x,v,p)),!(u.path==null&&!u.index)&&e.push({path:v,score:mS(v,u.index),routesMeta:x})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let p of zE(u.path))l(u,h,!0,p)}),e}function zE(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=zE(i.join("/")),h=[];return h.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&h.push(...u),h.map(p=>r.startsWith("/")&&p===""?"/":p)}function oS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:pS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var lS=/^:[\w-]+$/,cS=3,uS=2,dS=1,fS=10,hS=-2,i_=r=>r==="*";function mS(r,e){let t=r.split("/"),i=t.length;return t.some(i_)&&(i+=hS),e&&(i+=uS),t.filter(a=>!i_(a)).reduce((a,l)=>a+(lS.test(l)?cS:l===""?dS:fS),i)}function pS(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function gS(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",u=[];for(let h=0;h<i.length;++h){let p=i[h],f=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Yf({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},y),x=p.route;if(!v&&f&&t&&!i[i.length-1].route.index&&(v=Yf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Ji([l,v.pathname]),pathnameBase:wS(Ji([l,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(l=Ji([l,v.pathnameBase]))}return u}function Yf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=yS(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((f,{paramName:y,isOptional:v},x)=>{if(y==="*"){let w=h[x]||"";u=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const b=h[x];return v&&!b?f[y]=void 0:f[y]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:u,pattern:r}}function yS(r,e=!1,t=!0){Fr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function vS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ts(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var xS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_S=r=>xS.test(r);function bS(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?dl(r):r,l;if(t)if(_S(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),Fr(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=s_(t.substring(1),"/"):l=s_(t,e)}else l=e;return{pathname:l,search:AS(i),hash:CS(a)}}function s_(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function rp(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ES(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ag(r){let e=ES(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function og(r,e,t,i=!1){let a;typeof r=="string"?a=dl(r):(a={...r},Dt(!a.pathname||!a.pathname.includes("?"),rp("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),rp("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),rp("#","search","hash",a)));let l=r===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!i&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}h=v>=0?e[v]:"/"}let p=bS(a,h),f=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(f||y)&&(p.pathname+="/"),p}var Ji=r=>r.join("/").replace(/\/\/+/g,"/"),wS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),AS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,CS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function TS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function SS(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UE=["POST","PUT","PATCH","DELETE"];new Set(UE);var DS=["GET",...UE];new Set(DS);var fl=O.createContext(null);fl.displayName="DataRouter";var vh=O.createContext(null);vh.displayName="DataRouterState";O.createContext(!1);var HE=O.createContext({isTransitioning:!1});HE.displayName="ViewTransition";var RS=O.createContext(new Map);RS.displayName="Fetchers";var IS=O.createContext(null);IS.displayName="Await";var Ur=O.createContext(null);Ur.displayName="Navigation";var nu=O.createContext(null);nu.displayName="Location";var ri=O.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var lg=O.createContext(null);lg.displayName="RouteError";function NS(r,{relative:e}={}){Dt(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=O.useContext(Ur),{hash:a,pathname:l,search:u}=ru(r,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Ji([t,l])),i.createHref({pathname:h,search:u,hash:a})}function hl(){return O.useContext(nu)!=null}function ls(){return Dt(hl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(nu).location}var qE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(r){O.useContext(Ur).static||O.useLayoutEffect(r)}function $E(){let{isDataRoute:r}=O.useContext(ri);return r?$S():kS()}function kS(){Dt(hl(),"useNavigate() may be used only in the context of a <Router> component.");let r=O.useContext(fl),{basename:e,navigator:t}=O.useContext(Ur),{matches:i}=O.useContext(ri),{pathname:a}=ls(),l=JSON.stringify(ag(i)),u=O.useRef(!1);return GE(()=>{u.current=!0}),O.useCallback((p,f={})=>{if(Fr(u.current,qE),!u.current)return;if(typeof p=="number"){t.go(p);return}let y=og(p,JSON.parse(l),a,f.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ji([e,y.pathname])),(f.replace?t.replace:t.push)(y,f.state,f)},[e,t,l,a,r])}var BS=O.createContext(null);function OS(r){let e=O.useContext(ri).outlet;return O.useMemo(()=>e&&O.createElement(BS.Provider,{value:r},e),[e,r])}function ru(r,{relative:e}={}){let{matches:t}=O.useContext(ri),{pathname:i}=ls(),a=JSON.stringify(ag(t));return O.useMemo(()=>og(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function MS(r,e){return KE(r,e)}function KE(r,e,t,i,a){Dt(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Ur),{matches:u}=O.useContext(ri),h=u[u.length-1],p=h?h.params:{},f=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let k=v&&v.path||"";YE(f,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=ls(),b;if(e){let k=typeof e=="string"?dl(e):e;Dt(y==="/"||k.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=x;let w=b.pathname||"/",T=w;if(y!=="/"){let k=y.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=LE(r,{pathname:T});Fr(v||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Fr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=FS(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},p,k.params),pathname:Ji([y,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?y:Ji([y,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),u,t,i,a);return e&&V?O.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},V):V}function VS(){let r=GS(),e=TS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:a},t):null,u)}var jS=O.createElement(VS,null),PS=class extends O.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?O.createElement(ri.Provider,{value:this.props.routeContext},O.createElement(lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LS({routeContext:r,match:e,children:t}){let i=O.useContext(fl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(ri.Provider,{value:r},t)}function FS(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,u=t?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);Dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,p=-1;if(t)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:x,errors:b}=t,w=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!b||b[v.route.id]===void 0);if(v.route.lazy||w){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let f=t&&i?(y,v)=>{i(y,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:SS(t.matches),errorInfo:v})}:void 0;return l.reduceRight((y,v,x)=>{let b,w=!1,T=null,C=null;t&&(b=u&&v.route.id?u[v.route.id]:void 0,T=v.route.errorElement||jS,h&&(p<0&&x===0?(YE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):p===x&&(w=!0,C=v.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,x+1)),k=()=>{let B;return b?B=T:w?B=C:v.route.Component?B=O.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=y,O.createElement(LS,{match:v,routeContext:{outlet:y,matches:V,isDataRoute:t!=null},children:B})};return t&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?O.createElement(PS,{location:t.location,revalidation:t.revalidation,component:T,error:b,children:k(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:f}):k()},null)}function cg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zS(r){let e=O.useContext(fl);return Dt(e,cg(r)),e}function US(r){let e=O.useContext(vh);return Dt(e,cg(r)),e}function HS(r){let e=O.useContext(ri);return Dt(e,cg(r)),e}function ug(r){let e=HS(r),t=e.matches[e.matches.length-1];return Dt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function qS(){return ug("useRouteId")}function GS(){let r=O.useContext(lg),e=US("useRouteError"),t=ug("useRouteError");return r!==void 0?r:e.errors?.[t]}function $S(){let{router:r}=zS("useNavigate"),e=ug("useNavigate"),t=O.useRef(!1);return GE(()=>{t.current=!0}),O.useCallback(async(a,l={})=>{Fr(t.current,qE),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var a_={};function YE(r,e,t){!e&&!a_[r]&&(a_[r]=!0,Fr(!1,t))}O.memo(KS);function KS({routes:r,future:e,state:t,unstable_onError:i}){return KE(r,void 0,t,i,e)}function YS({to:r,replace:e,state:t,relative:i}){Dt(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Ur);Fr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(ri),{pathname:u}=ls(),h=$E(),p=og(r,ag(l),u,i==="path"),f=JSON.stringify(p);return O.useEffect(()=>{h(JSON.parse(f),{replace:e,state:t,relative:i})},[h,f,i,e,t]),null}function QS(r){return OS(r.context)}function Fa(r){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XS({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Dt(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[h,a,l,u]);typeof t=="string"&&(t=dl(t));let{pathname:f="/",search:y="",hash:v="",state:x=null,key:b="default"}=t,w=O.useMemo(()=>{let T=ts(f,h);return T==null?null:{location:{pathname:T,search:y,hash:v,state:x,key:b},navigationType:i}},[h,f,y,v,x,b,i]);return Fr(w!=null,`<Router basename="${h}"> is not able to match the URL "${f}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:O.createElement(Ur.Provider,{value:p},O.createElement(nu.Provider,{children:e,value:w}))}function WS({children:r,location:e}){return MS(Ap(r),e)}function Ap(r,e=[]){let t=[];return O.Children.forEach(r,(i,a)=>{if(!O.isValidElement(i))return;let l=[...e,a];if(i.type===O.Fragment){t.push.apply(t,Ap(i.props.children,l));return}Dt(i.type===Fa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ap(i.props.children,l)),t.push(u)}),t}var Zd="get",Jd="application/x-www-form-urlencoded";function xh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function ZS(r){return xh(r)&&r.tagName.toLowerCase()==="button"}function JS(r){return xh(r)&&r.tagName.toLowerCase()==="form"}function e4(r){return xh(r)&&r.tagName.toLowerCase()==="input"}function t4(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function n4(r,e){return r.button===0&&(!e||e==="_self")&&!t4(r)}var Hd=null;function r4(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var i4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ip(r){return r!=null&&!i4.has(r)?(Fr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jd}"`),null):r}function s4(r,e){let t,i,a,l,u;if(JS(r)){let h=r.getAttribute("action");i=h?ts(h,e):null,t=r.getAttribute("method")||Zd,a=ip(r.getAttribute("enctype"))||Jd,l=new FormData(r)}else if(ZS(r)||e4(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||h.getAttribute("action");if(i=p?ts(p,e):null,t=r.getAttribute("formmethod")||h.getAttribute("method")||Zd,a=ip(r.getAttribute("formenctype"))||ip(h.getAttribute("enctype"))||Jd,l=new FormData(h,r),!r4()){let{name:f,type:y,value:v}=r;if(y==="image"){let x=f?`${f}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else f&&l.append(f,v)}}else{if(xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zd,i=null,a=Jd,u=r}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function a4(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&ts(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function o4(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function l4(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function c4(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await o4(l,t);return u.links?u.links():[]}return[]}));return h4(i.flat(1).filter(l4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function o_(r,e,t,i,a,l){let u=(p,f)=>t[f]?p.route.id!==t[f].route.id:!0,h=(p,f)=>t[f].pathname!==p.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,f)=>u(p,f)||h(p,f)):l==="data"?e.filter((p,f)=>{let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(u(p,f)||h(p,f))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function u4(r,e,{includeHydrateFallback:t}={}){return d4(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function d4(r){return[...new Set(r)]}function f4(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function h4(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(f4(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function QE(){let r=O.useContext(fl);return dg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function m4(){let r=O.useContext(vh);return dg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var fg=O.createContext(void 0);fg.displayName="FrameworkContext";function XE(){let r=O.useContext(fg);return dg(r,"You must render this element inside a <HydratedRouter> element"),r}function p4(r,e){let t=O.useContext(fg),[i,a]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:f,onMouseLeave:y,onTouchStart:v}=e,x=O.useRef(null);O.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let T=V=>{V.forEach(k=>{u(k.isIntersecting)})},C=new IntersectionObserver(T,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[r]),O.useEffect(()=>{if(i){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[i]);let b=()=>{a(!0)},w=()=>{a(!1),u(!1)};return t?r!=="intent"?[l,x,{}]:[l,x,{onFocus:Ac(h,b),onBlur:Ac(p,w),onMouseEnter:Ac(f,b),onMouseLeave:Ac(y,w),onTouchStart:Ac(v,b)}]:[!1,x,{}]}function Ac(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function g4({page:r,...e}){let{router:t}=QE(),i=O.useMemo(()=>LE(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?O.createElement(v4,{page:r,matches:i,...e}):null}function y4(r){let{manifest:e,routeModules:t}=XE(),[i,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return c4(r,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[r,e,t]),i}function v4({page:r,matches:e,...t}){let i=ls(),{manifest:a,routeModules:l}=XE(),{basename:u}=QE(),{loaderData:h,matches:p}=m4(),f=O.useMemo(()=>o_(r,e,p,a,i,"data"),[r,e,p,a,i]),y=O.useMemo(()=>o_(r,e,p,a,i,"assets"),[r,e,p,a,i]),v=O.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let w=new Set,T=!1;if(e.forEach(V=>{let k=a.routes[V.route.id];!k||!k.hasLoader||(!f.some(B=>B.route.id===V.route.id)&&V.route.id in h&&l[V.route.id]?.shouldRevalidate||k.hasClientLoader?T=!0:w.add(V.route.id))}),w.size===0)return[];let C=a4(r,u,"data");return T&&w.size>0&&C.searchParams.set("_routes",e.filter(V=>w.has(V.route.id)).map(V=>V.route.id).join(",")),[C.pathname+C.search]},[u,h,i,a,f,e,r,l]),x=O.useMemo(()=>u4(y,a),[y,a]),b=y4(y);return O.createElement(O.Fragment,null,v.map(w=>O.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),x.map(w=>O.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),b.map(({key:w,link:T})=>O.createElement("link",{key:w,nonce:t.nonce,...T})))}function x4(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var WE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WE&&(window.__reactRouterVersion="7.10.0")}catch{}function _4({basename:r,children:e,unstable_useTransitions:t,window:i}){let a=O.useRef();a.current==null&&(a.current=nS({window:i,v5Compat:!0}));let l=a.current,[u,h]=O.useState({action:l.action,location:l.location}),p=O.useCallback(f=>{t===!1?h(f):O.startTransition(()=>h(f))},[t]);return O.useLayoutEffect(()=>l.listen(p),[l,p]),O.createElement(XS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t===!0})}var ZE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nl=O.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:h,target:p,to:f,preventScrollReset:y,viewTransition:v,...x},b){let{basename:w,unstable_useTransitions:T}=O.useContext(Ur),C=typeof f=="string"&&ZE.test(f),V,k=!1;if(typeof f=="string"&&C&&(V=f,WE))try{let N=new URL(window.location.href),M=f.startsWith("//")?new URL(N.protocol+f):new URL(f),U=ts(M.pathname,w);M.origin===N.origin&&U!=null?f=U+M.search+M.hash:k=!0}catch{Fr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=NS(f,{relative:a}),[L,H,q]=p4(i,x),D=A4(f,{replace:u,state:h,target:p,preventScrollReset:y,relative:a,viewTransition:v,unstable_useTransitions:T});function R(N){e&&e(N),N.defaultPrevented||D(N)}let I=O.createElement("a",{...x,...q,href:V||B,onClick:k||l?e:R,ref:x4(b,H),target:p,"data-discover":!C&&t==="render"?"true":void 0});return L&&!C?O.createElement(O.Fragment,null,I,O.createElement(g4,{page:B})):I});nl.displayName="Link";var b4=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:h,children:p,...f},y){let v=ru(u,{relative:f.relative}),x=ls(),b=O.useContext(vh),{navigator:w,basename:T}=O.useContext(Ur),C=b!=null&&R4(v)&&h===!0,V=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,k=x.pathname,B=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(k=k.toLowerCase(),B=B?B.toLowerCase():null,V=V.toLowerCase()),B&&T&&(B=ts(B,T)||B);const L=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let H=k===V||!a&&k.startsWith(V)&&k.charAt(L)==="/",q=B!=null&&(B===V||!a&&B.startsWith(V)&&B.charAt(V.length)==="/"),D={isActive:H,isPending:q,isTransitioning:C},R=H?e:void 0,I;typeof i=="function"?I=i(D):I=[i,H?"active":null,q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(D):l;return O.createElement(nl,{...f,"aria-current":R,className:I,ref:y,style:N,to:u,viewTransition:h},typeof p=="function"?p(D):p)});b4.displayName="NavLink";var E4=O.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:u=Zd,action:h,onSubmit:p,relative:f,preventScrollReset:y,viewTransition:v,...x},b)=>{let{unstable_useTransitions:w}=O.useContext(Ur),T=S4(),C=D4(h,{relative:f}),V=u.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&ZE.test(h),B=L=>{if(p&&p(L),L.defaultPrevented)return;L.preventDefault();let H=L.nativeEvent.submitter,q=H?.getAttribute("formmethod")||u,D=()=>T(H||L.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:a,state:l,relative:f,preventScrollReset:y,viewTransition:v});w&&t!==!1?O.startTransition(()=>D()):D()};return O.createElement("form",{ref:b,method:V,action:C,onSubmit:i?p:B,...x,"data-discover":!k&&r==="render"?"true":void 0})});E4.displayName="Form";function w4(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JE(r){let e=O.useContext(fl);return Dt(e,w4(r)),e}function A4(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_useTransitions:h}={}){let p=$E(),f=ls(),y=ru(r,{relative:l});return O.useCallback(v=>{if(n4(v,e)){v.preventDefault();let x=t!==void 0?t:Fc(f)===Fc(y),b=()=>p(r,{replace:x,state:i,preventScrollReset:a,relative:l,viewTransition:u});h?O.startTransition(()=>b()):b()}},[f,p,y,t,i,e,r,a,l,u,h])}var C4=0,T4=()=>`__${String(++C4)}__`;function S4(){let{router:r}=JE("useSubmit"),{basename:e}=O.useContext(Ur),t=qS(),i=r.fetch,a=r.navigate;return O.useCallback(async(l,u={})=>{let{action:h,method:p,encType:f,formData:y,body:v}=s4(l,e);if(u.navigate===!1){let x=u.fetcherKey||T4();await i(x,t,u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||p,formEncType:u.encType||f,flushSync:u.flushSync})}else await a(u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||p,formEncType:u.encType||f,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,t])}function D4(r,{relative:e}={}){let{basename:t}=O.useContext(Ur),i=O.useContext(ri);Dt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...ru(r||".",{relative:e})},u=ls();if(r==null){l.search=u.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ji([t,l.pathname])),Fc(l)}function R4(r,{relative:e}={}){let t=O.useContext(HE);Dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=JE("useViewTransitionState"),a=ru(r,{relative:e});if(!t.isTransitioning)return!1;let l=ts(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=ts(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Yf(a.pathname,u)!=null||Yf(a.pathname,l)!=null}var Qo=PE();const I4=()=>{};var l_={};const e2=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},N4=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],u=r[t++],h=r[t++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],u=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},t2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],u=a+1<r.length,h=u?r[a+1]:0,p=a+2<r.length,f=p?r[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let x=(h&15)<<2|f>>6,b=f&63;p||(b=64,u||(x=64)),i.push(t[y],t[v],t[x],t[b])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(e2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):N4(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],h=a<r.length?t[r.charAt(a)]:0;++a;const f=a<r.length?t[r.charAt(a)]:64;++a;const v=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||h==null||f==null||v==null)throw new k4;const x=l<<2|h>>4;if(i.push(x),f!==64){const b=h<<4&240|f>>2;if(i.push(b),v!==64){const w=f<<6&192|v;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class k4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B4=function(r){const e=e2(r);return t2.encodeByteArray(e,!0)},Qf=function(r){return B4(r).replace(/\./g,"")},n2=function(r){try{return t2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function O4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const M4=()=>O4().__FIREBASE_DEFAULTS__,V4=()=>{if(typeof process>"u"||typeof l_>"u")return;const r=l_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},j4=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&n2(r[1]);return e&&JSON.parse(e)},_h=()=>{try{return I4()||M4()||V4()||j4()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},r2=r=>_h()?.emulatorHosts?.[r],P4=r=>{const e=r2(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},i2=()=>_h()?.config,s2=r=>_h()?.[`_${r}`];class L4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function ml(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a2(r){return(await fetch(r,{credentials:"include"})).ok}function F4(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Qf(JSON.stringify(t)),Qf(JSON.stringify(u)),""].join(".")}const Nc={};function z4(){const r={prod:[],emulator:[]};for(const e of Object.keys(Nc))Nc[e]?r.emulator.push(e):r.prod.push(e);return r}function U4(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let c_=!1;function o2(r,e){if(typeof window>"u"||typeof document>"u"||!ml(window.location.host)||Nc[r]===e||Nc[r]||c_)return;Nc[r]=e;function t(x){return`__firebase__banner__${x}`}const i="__firebase__banner",l=z4().prod.length>0;function u(){const x=document.getElementById(i);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,b){x.setAttribute("width","24"),x.setAttribute("id",b),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{c_=!0,u()},x}function y(x,b){x.setAttribute("id",b),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=U4(i),b=t("text"),w=document.getElementById(b)||document.createElement("span"),T=t("learnmore"),C=document.getElementById(T)||document.createElement("a"),V=t("preprendIcon"),k=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const B=x.element;h(B),y(C,T);const L=f();p(k,V),B.append(k,w,C,L),document.body.appendChild(B)}l?(w.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function q4(){const r=_h()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $4(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function K4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y4(){const r=Ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Q4(){return!q4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X4(){try{return typeof indexedDB=="object"}catch{return!1}}function W4(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const Z4="FirebaseError";class cs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Z4,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?J4(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new cs(a,h,i)}}function J4(r,e){return r.replace(eD,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const eD=/\{\$([^}]+)}/g;function tD(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ga(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],u=e[a];if(u_(l)&&u_(u)){if(!Ga(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function u_(r){return r!==null&&typeof r=="object"}function su(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Cc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Tc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function nD(r,e){const t=new rD(r,e);return t.subscribe.bind(t)}class rD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");iD(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=sp),a.error===void 0&&(a.error=sp),a.complete===void 0&&(a.complete=sp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iD(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function sp(){}function Lt(r){return r&&r._delegate?r._delegate:r}class $a{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const za="[DEFAULT]";class sD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new L4;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oD(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:aD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aD(r){return r===za?void 0:r}function oD(r){return r.instantiationMode==="EAGER"}class lD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const cD={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},uD=Ue.INFO,dD={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},fD=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=dD[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=uD,this._logHandler=fD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const hD=(r,e)=>e.some(t=>r instanceof t);let d_,f_;function mD(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pD(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l2=new WeakMap,Cp=new WeakMap,c2=new WeakMap,ap=new WeakMap,mg=new WeakMap;function gD(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(Xs(r.result)),a()},u=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&l2.set(t,r)}).catch(()=>{}),mg.set(e,r),e}function yD(r){if(Cp.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});Cp.set(r,e)}let Tp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Cp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||c2.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vD(r){Tp=r(Tp)}function xD(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(op(this),e,...t);return c2.set(i,e.sort?e.sort():[e]),Xs(i)}:pD().includes(r)?function(...e){return r.apply(op(this),e),Xs(l2.get(this))}:function(...e){return Xs(r.apply(op(this),e))}}function _D(r){return typeof r=="function"?xD(r):(r instanceof IDBTransaction&&yD(r),hD(r,mD())?new Proxy(r,Tp):r)}function Xs(r){if(r instanceof IDBRequest)return gD(r);if(ap.has(r))return ap.get(r);const e=_D(r);return e!==r&&(ap.set(r,e),mg.set(e,r)),e}const op=r=>mg.get(r);function bD(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(r,e),h=Xs(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Xs(u.result),p.oldVersion,p.newVersion,Xs(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const ED=["get","getKey","getAll","getAllKeys","count"],wD=["put","add","delete","clear"],lp=new Map;function h_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(lp.get(e))return lp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=wD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||ED.includes(t)))return;const l=async function(u,...h){const p=this.transaction(u,a?"readwrite":"readonly");let f=p.store;return i&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),a&&p.done]))[0]};return lp.set(e,l),l}vD(r=>({...r,get:(e,t,i)=>h_(e,t)||r.get(e,t,i),has:(e,t)=>!!h_(e,t)||r.has(e,t)}));class AD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function CD(r){return r.getComponent()?.type==="VERSION"}const Sp="@firebase/app",m_="0.14.6";const ns=new hg("@firebase/app"),TD="@firebase/app-compat",SD="@firebase/analytics-compat",DD="@firebase/analytics",RD="@firebase/app-check-compat",ID="@firebase/app-check",ND="@firebase/auth",kD="@firebase/auth-compat",BD="@firebase/database",OD="@firebase/data-connect",MD="@firebase/database-compat",VD="@firebase/functions",jD="@firebase/functions-compat",PD="@firebase/installations",LD="@firebase/installations-compat",FD="@firebase/messaging",zD="@firebase/messaging-compat",UD="@firebase/performance",HD="@firebase/performance-compat",qD="@firebase/remote-config",GD="@firebase/remote-config-compat",$D="@firebase/storage",KD="@firebase/storage-compat",YD="@firebase/firestore",QD="@firebase/ai",XD="@firebase/firestore-compat",WD="firebase",ZD="12.6.0";const Dp="[DEFAULT]",JD={[Sp]:"fire-core",[TD]:"fire-core-compat",[DD]:"fire-analytics",[SD]:"fire-analytics-compat",[ID]:"fire-app-check",[RD]:"fire-app-check-compat",[ND]:"fire-auth",[kD]:"fire-auth-compat",[BD]:"fire-rtdb",[OD]:"fire-data-connect",[MD]:"fire-rtdb-compat",[VD]:"fire-fn",[jD]:"fire-fn-compat",[PD]:"fire-iid",[LD]:"fire-iid-compat",[FD]:"fire-fcm",[zD]:"fire-fcm-compat",[UD]:"fire-perf",[HD]:"fire-perf-compat",[qD]:"fire-rc",[GD]:"fire-rc-compat",[$D]:"fire-gcs",[KD]:"fire-gcs-compat",[YD]:"fire-fst",[XD]:"fire-fst-compat",[QD]:"fire-vertex","fire-js":"fire-js",[WD]:"fire-js-all"};const Xf=new Map,e6=new Map,Rp=new Map;function p_(r,e){try{r.container.addComponent(e)}catch(t){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function rl(r){const e=r.name;if(Rp.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,r);for(const t of Xf.values())p_(t,r);for(const t of e6.values())p_(t,r);return!0}function pg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function vr(r){return r==null?!1:r.settings!==void 0}const t6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new iu("app","Firebase",t6);class n6{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const pl=ZD;function u2(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Dp,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Ws.create("bad-app-name",{appName:String(a)});if(t||(t=i2()),!t)throw Ws.create("no-options");const l=Xf.get(a);if(l){if(Ga(t,l.options)&&Ga(i,l.config))return l;throw Ws.create("duplicate-app",{appName:a})}const u=new lD(a);for(const p of Rp.values())u.addComponent(p);const h=new n6(t,i,u);return Xf.set(a,h),h}function d2(r=Dp){const e=Xf.get(r);if(!e&&r===Dp&&i2())return u2();if(!e)throw Ws.create("no-app",{appName:r});return e}function Zs(r,e,t){let i=JD[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(u.join(" "));return}rl(new $a(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const r6="firebase-heartbeat-database",i6=1,zc="firebase-heartbeat-store";let cp=null;function f2(){return cp||(cp=bD(r6,i6,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(zc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ws.create("idb-open",{originalErrorMessage:r.message})})),cp}async function s6(r){try{const t=(await f2()).transaction(zc),i=await t.objectStore(zc).get(h2(r));return await t.done,i}catch(e){if(e instanceof cs)ns.warn(e.message);else{const t=Ws.create("idb-get",{originalErrorMessage:e?.message});ns.warn(t.message)}}}async function g_(r,e){try{const i=(await f2()).transaction(zc,"readwrite");await i.objectStore(zc).put(e,h2(r)),await i.done}catch(t){if(t instanceof cs)ns.warn(t.message);else{const i=Ws.create("idb-set",{originalErrorMessage:t?.message});ns.warn(i.message)}}}function h2(r){return`${r.name}!${r.options.appId}`}const a6=1024,o6=30;class l6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new u6(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>o6){const a=d6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=y_(),{heartbeatsToSend:t,unsentEntries:i}=c6(this._heartbeatsCache.heartbeats),a=Qf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ns.warn(e),""}}}function y_(){return new Date().toISOString().substring(0,10)}function c6(r,e=a6){const t=[];let i=r.slice();for(const a of r){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),v_(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),v_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class u6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X4()?W4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await s6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return g_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return g_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function v_(r){return Qf(JSON.stringify({version:2,heartbeats:r})).length}function d6(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}function f6(r){rl(new $a("platform-logger",e=>new AD(e),"PRIVATE")),rl(new $a("heartbeat",e=>new l6(e),"PRIVATE")),Zs(Sp,m_,r),Zs(Sp,m_,"esm2020"),Zs("fire-js","")}f6("");function m2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const h6=m2,p2=new iu("auth","Firebase",m2());const Wf=new hg("@firebase/auth");function m6(r,...e){Wf.logLevel<=Ue.WARN&&Wf.warn(`Auth (${pl}): ${r}`,...e)}function ef(r,...e){Wf.logLevel<=Ue.ERROR&&Wf.error(`Auth (${pl}): ${r}`,...e)}function zr(r,...e){throw yg(r,...e)}function ei(r,...e){return yg(r,...e)}function gg(r,e,t){const i={...h6(),[e]:t};return new iu("auth","Firebase",i).create(e,{appName:r.name})}function es(r){return gg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p6(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&zr(r,"argument-error"),gg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yg(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return p2.create(r,...e)}function Se(r,e,...t){if(!r)throw yg(e,...t)}function Wi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ef(e),new Error(e)}function rs(r,e){r||Wi(e)}function Ip(){return typeof self<"u"&&self.location?.href||""}function g6(){return x_()==="http:"||x_()==="https:"}function x_(){return typeof self<"u"&&self.location?.protocol||null}function y6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g6()||$4()||"connection"in navigator)?navigator.onLine:!0}function v6(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class au{constructor(e,t){this.shortDelay=e,this.longDelay=t,rs(t>e,"Short delay should be less than long delay!"),this.isMobile=H4()||K4()}get(){return y6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vg(r,e){rs(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class g2{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const x6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b6=new au(3e4,6e4);function ua(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function da(r,e,t,i,a={}){return y2(r,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const h=su({key:r.config.apiKey,...u}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const f={method:e,headers:p,...l};return G4()||(f.referrerPolicy="no-referrer"),r.emulatorConfig&&ml(r.emulatorConfig.host)&&(f.credentials="include"),g2.fetch()(await v2(r,r.config.apiHost,t,h),f)})}async function y2(r,e,t){r._canInitEmulator=!1;const i={...x6,...e};try{const a=new w6(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw qd(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[p,f]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qd(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw qd(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw qd(r,"user-disabled",u);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw gg(r,y,f);zr(r,y)}}catch(a){if(a instanceof cs)throw a;zr(r,"network-request-failed",{message:String(a)})}}async function ou(r,e,t,i,a={}){const l=await da(r,e,t,i,a);return"mfaPendingCredential"in l&&zr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function v2(r,e,t,i){const a=`${e}${t}?${i}`,l=r,u=l.config.emulator?vg(r.config,a):`${r.config.apiScheme}://${a}`;return _6.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function E6(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class w6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ei(this.auth,"network-request-failed")),b6.get())})}}function qd(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ei(r,e,i);return a.customData._tokenResponse=t,a}function __(r){return r!==void 0&&r.enterprise!==void 0}class A6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return E6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function C6(r,e){return da(r,"GET","/v2/recaptchaConfig",ua(r,e))}async function T6(r,e){return da(r,"POST","/v1/accounts:delete",e)}async function Zf(r,e){return da(r,"POST","/v1/accounts:lookup",e)}function kc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S6(r,e=!1){const t=Lt(r),i=await t.getIdToken(e),a=xg(i);Se(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:kc(up(a.auth_time)),issuedAtTime:kc(up(a.iat)),expirationTime:kc(up(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function up(r){return Number(r)*1e3}function xg(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{const a=n2(t);return a?JSON.parse(a):(ef("Failed to decode base64 JWT payload"),null)}catch(a){return ef("Caught error parsing JWT payload as JSON",a?.toString()),null}}function b_(r){const e=xg(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Uc(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof cs&&D6(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function D6({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class R6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hc(r){const e=r.auth,t=await r.getIdToken(),i=await Uc(r,Zf(e,{idToken:t}));Se(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?x2(a.providerUserInfo):[],u=N6(r.providerData,l),h=r.isAnonymous,p=!(r.email&&a.passwordHash)&&!u?.length,f=h?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Np(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(r,y)}async function I6(r){const e=Lt(r);await Hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N6(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function x2(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function k6(r,e){const t=await y2(r,{},async()=>{const i=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,u=await v2(r,a,"/v1/token",`key=${l}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:i};return r.emulatorConfig&&ml(r.emulatorConfig.host)&&(p.credentials="include"),g2.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function B6(r,e){return da(r,"POST","/v2/accounts:revokeToken",ua(r,e))}class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=b_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await k6(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,u=new Xo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Hs(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new R6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Np(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Uc(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return S6(this,e)}reload(){return I6(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Hc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await Uc(this,T6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,p=t._redirectEventId??void 0,f=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:T}=t;Se(v&&T,e,"internal-error");const C=Xo.fromJSON(this.name,T);Se(typeof v=="string",e,"internal-error"),Hs(i,e.name),Hs(a,e.name),Se(typeof x=="boolean",e,"internal-error"),Se(typeof b=="boolean",e,"internal-error"),Hs(l,e.name),Hs(u,e.name),Hs(h,e.name),Hs(p,e.name),Hs(f,e.name),Hs(y,e.name);const V=new Zr({uid:v,auth:e,email:a,emailVerified:x,displayName:i,isAnonymous:b,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:C,createdAt:f,lastLoginAt:y});return w&&Array.isArray(w)&&(V.providerData=w.map(k=>({...k}))),p&&(V._redirectEventId=p),V}static async _fromIdTokenResponse(e,t,i=!1){const a=new Xo;a.updateFromServerResponse(t);const l=new Zr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Hc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?x2(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new Xo;h.updateFromIdToken(i);const p=new Zr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Np(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,f),p}}const E_=new Map;function Zi(r){rs(r instanceof Function,"Expected a class definition");let e=E_.get(r);return e?(rs(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,E_.set(r,e),e)}class _2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_2.type="NONE";const w_=_2;function tf(r,e,t){return`firebase:${r}:${e}:${t}`}class Wo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=tf(this.userKey,a.apiKey,l),this.fullPersistenceKey=tf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zf(this.auth,{idToken:e}).catch(()=>{});return t?Zr._fromGetAccountInfoResponse(this.auth,t,e):null}return Zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Wo(Zi(w_),e,i);const a=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let l=a[0]||Zi(w_);const u=tf(i,e.config.apiKey,e.name);let h=null;for(const f of t)try{const y=await f._get(u);if(y){let v;if(typeof y=="string"){const x=await Zf(e,{idToken:y}).catch(()=>{});if(!x)break;v=await Zr._fromGetAccountInfoResponse(e,x,y)}else v=Zr._fromJSON(e,y);f!==l&&(h=v),l=f;break}}catch{}const p=a.filter(f=>f._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Wo(l,e,i):(l=p[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==l)try{await f._remove(u)}catch{}})),new Wo(l,e,i))}}function A_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T2(e))return"Blackberry";if(S2(e))return"Webos";if(E2(e))return"Safari";if((e.includes("chrome/")||w2(e))&&!e.includes("edge/"))return"Chrome";if(C2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function b2(r=Ln()){return/firefox\//i.test(r)}function E2(r=Ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w2(r=Ln()){return/crios\//i.test(r)}function A2(r=Ln()){return/iemobile/i.test(r)}function C2(r=Ln()){return/android/i.test(r)}function T2(r=Ln()){return/blackberry/i.test(r)}function S2(r=Ln()){return/webos/i.test(r)}function _g(r=Ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function O6(r=Ln()){return _g(r)&&!!window.navigator?.standalone}function M6(){return Y4()&&document.documentMode===10}function D2(r=Ln()){return _g(r)||C2(r)||S2(r)||T2(r)||/windows phone/i.test(r)||A2(r)}function R2(r,e=[]){let t;switch(r){case"Browser":t=A_(Ln());break;case"Worker":t=`${A_(Ln())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pl}/${i}`}class V6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,h)=>{try{const p=e(l);u(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function j6(r,e={}){return da(r,"GET","/v2/passwordPolicy",ua(r,e))}const P6=6;class L6{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??P6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class F6{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C_(this),this.idTokenSubscription=new C_(this),this.beforeStateQueue=new V6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zf(this,{idToken:e}),i=await Zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vr(this.app))return Promise.reject(es(this));const t=e?Lt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vr(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j6(this),t=new L6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await B6(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zi(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[Zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&m6(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fa(r){return Lt(r)}class C_{constructor(e){this.auth=e,this.observer=null,this.addObserver=nD(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z6(r){bh=r}function I2(r){return bh.loadJS(r)}function U6(){return bh.recaptchaEnterpriseScript}function H6(){return bh.gapiScript}function q6(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class G6{constructor(){this.enterprise=new $6}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $6{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const K6="recaptcha-enterprise",N2="NO_RECAPTCHA";class Y6{constructor(e){this.type=K6,this.auth=fa(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{C6(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new A6(p);return l.tenantId==null?l._agentRecaptchaConfig=f:l._tenantRecaptchaConfigs[l.tenantId]=f,u(f.siteKey)}}).catch(p=>{h(p)})})}function a(l,u,h){const p=window.grecaptcha;__(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(f=>{u(f)}).catch(()=>{u(N2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new G6().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(h=>{if(!t&&__(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=U6();p.length!==0&&(p+=h),I2(p).then(()=>{a(h,l,u)}).catch(f=>{u(f)})}}).catch(h=>{u(h)})})}}async function T_(r,e,t,i=!1,a=!1){const l=new Y6(r);let u;if(a)u=N2;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function kp(r,e,t,i,a){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await T_(r,e,t,t==="getOobCode");return i(r,l)}else return i(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await T_(r,e,t,t==="getOobCode");return i(r,u)}else return Promise.reject(l)})}function Q6(r,e){const t=pg(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ga(l,e??{}))return a;zr(a,"already-initialized")}return t.initialize({options:e})}function X6(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Zi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function W6(r,e,t){const i=fa(r);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=k2(e),{host:u,port:h}=Z6(e),p=h===null?"":`:${h}`,f={url:`${l}//${u}${p}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Ga(f,i.config.emulator)&&Ga(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,ml(u)?(a2(`${l}//${u}${p}`),o2("Auth",!0)):J6()}function k2(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Z6(r){const e=k2(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:S_(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:S_(u)}}}function S_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function J6(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class bg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,t){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function eR(r,e){return da(r,"POST","/v1/accounts:signUp",e)}async function tR(r,e){return ou(r,"POST","/v1/accounts:signInWithPassword",ua(r,e))}async function nR(r,e){return ou(r,"POST","/v1/accounts:signInWithEmailLink",ua(r,e))}async function rR(r,e){return ou(r,"POST","/v1/accounts:signInWithEmailLink",ua(r,e))}class qc extends bg{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new qc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new qc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kp(e,t,"signInWithPassword",tR);case"emailLink":return nR(e,{email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kp(e,i,"signUpPassword",eR);case"emailLink":return rR(e,{idToken:t,email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zo(r,e){return ou(r,"POST","/v1/accounts:signInWithIdp",ua(r,e))}const iR="http://localhost";class Ka extends bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const u=new Ka(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Zo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Zo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}buildRequest(){const e={requestUri:iR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=su(t)}return e}}function sR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aR(r){const e=Cc(Tc(r)).link,t=e?Cc(Tc(e)).deep_link_id:null,i=Cc(Tc(r)).deep_link_id;return(i?Cc(Tc(i)).link:null)||i||t||e||r}class Eg{constructor(e){const t=Cc(Tc(e)),i=t.apiKey??null,a=t.oobCode??null,l=sR(t.mode??null);Se(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=aR(e);try{return new Eg(t)}catch{return null}}}class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(e,t){return qc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Eg.parseLink(t);return Se(i,"argument-error"),qc._fromEmailAndCode(e,i.code,i.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lu extends wg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $s extends lu{constructor(){super("facebook.com")}static credential(e){return Ka._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";class Xi extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ka._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Xi.credential(t,i)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";class Ks extends lu{constructor(){super("github.com")}static credential(e){return Ka._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Ys extends lu{constructor(){super("twitter.com")}static credential(e,t){return Ka._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ys.credential(t,i)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";async function oR(r,e){return ou(r,"POST","/v1/accounts:signUp",ua(r,e))}class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Zr._fromIdTokenResponse(e,i,a),u=D_(i);return new Ya({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=D_(i);return new Ya({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function D_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Jf extends cs{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Jf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Jf(e,t,i,a)}}function B2(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Jf._fromErrorAndOperation(r,l,e,i):l})}function lR(r){return new Set(r.map(({providerId:e})=>e).filter(e=>!!e))}async function O2(r,e,t=!1){const i=await Uc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ya._forOperation(r,"link",i)}async function cR(r,e,t){await Hc(e);const i=lR(e.providerData);Se(i.has(t)===r,e.auth,"provider-already-linked")}async function uR(r,e,t=!1){const{auth:i}=r;if(vr(i.app))return Promise.reject(es(i));const a="reauthenticate";try{const l=await Uc(r,B2(i,a,e,r),t);Se(l.idToken,i,"internal-error");const u=xg(l.idToken);Se(u,i,"internal-error");const{sub:h}=u;return Se(r.uid===h,i,"user-mismatch"),Ya._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&zr(i,"user-mismatch"),l}}async function M2(r,e,t=!1){if(vr(r.app))return Promise.reject(es(r));const i="signIn",a=await B2(r,i,e),l=await Ya._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}async function dR(r,e){return M2(fa(r),e)}async function fR(r,e){const t=Lt(r);return await cR(!1,t,e.providerId),O2(t,e)}async function V2(r){const e=fa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hR(r,e,t){if(vr(r.app))return Promise.reject(es(r));const i=fa(r),u=await kp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&V2(r),p}),h=await Ya._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function mR(r,e,t){return vr(r.app)?Promise.reject(es(r)):dR(Lt(r),Za.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&V2(r),i})}function pR(r,e,t,i){return Lt(r).onIdTokenChanged(e,t,i)}function gR(r,e,t){return Lt(r).beforeAuthStateChanged(e,t)}function yR(r,e,t,i){return Lt(r).onAuthStateChanged(e,t,i)}function vR(r){return Lt(r).signOut()}const eh="__sak";class j2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xR=1e3,_R=10;class P2 extends j2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);M6()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,_R):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}P2.type="LOCAL";const bR=P2;class L2 extends j2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}L2.type="SESSION";const F2=L2;function ER(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Eh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async f=>f(t.origin,l)),p=await ER(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function Ag(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class wR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,p)=>{const f=Ag("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const x=v;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(x.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function wi(){return window}function AR(r){wi().location.href=r}function z2(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function CR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TR(){return navigator?.serviceWorker?.controller||null}function SR(){return z2()?self:null}const U2="firebaseLocalStorageDb",DR=1,th="firebaseLocalStorage",H2="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wh(r,e){return r.transaction([th],e?"readwrite":"readonly").objectStore(th)}function RR(){const r=indexedDB.deleteDatabase(U2);return new cu(r).toPromise()}function Bp(){const r=indexedDB.open(U2,DR);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(th,{keyPath:H2})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(th)?e(i):(i.close(),await RR(),e(await Bp()))})})}async function R_(r,e,t){const i=wh(r,!0).put({[H2]:e,value:t});return new cu(i).toPromise()}async function IR(r,e){const t=wh(r,!1).get(e),i=await new cu(t).toPromise();return i===void 0?null:i.value}function I_(r,e){const t=wh(r,!0).delete(e);return new cu(t).toPromise()}const NR=800,kR=3;class q2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>kR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(SR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CR(),!this.activeServiceWorker)return;this.sender=new wR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bp();return await R_(e,eh,"1"),await I_(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>R_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>IR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>I_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=wh(a,!1).getAll();return new cu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q2.type="LOCAL";const BR=q2;new au(3e4,6e4);function G2(r,e){return e?Zi(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Cg extends bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function OR(r){return M2(r.auth,new Cg(r),r.bypassAuthState)}function MR(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),uR(t,new Cg(r),r.bypassAuthState)}async function VR(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),O2(t,new Cg(r),r.bypassAuthState)}class $2{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:zr(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jR=new au(2e3,1e4);async function PR(r,e,t){if(vr(r.app))return Promise.reject(ei(r,"operation-not-supported-in-this-environment"));const i=fa(r);p6(r,e,wg);const a=G2(i,t);return new Ua(i,"signInViaPopup",e,a).executeNotNull()}class Ua extends $2{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=Ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jR.get())};e()}}Ua.currentPopupAction=null;const LR="pendingRedirect",nf=new Map;class FR extends $2{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=nf.get(this.auth._key());if(!e){try{const i=await zR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}nf.set(this.auth._key(),e)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zR(r,e){const t=qR(e),i=HR(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function UR(r,e){nf.set(r._key(),e)}function HR(r){return Zi(r._redirectPersistence)}function qR(r){return tf(LR,r.config.apiKey,r.name)}async function GR(r,e,t=!1){if(vr(r.app))return Promise.reject(es(r));const i=fa(r),a=G2(i,e),u=await new FR(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const $R=600*1e3;class KR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!K2(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ei(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$R&&this.cachedEventUids.clear(),this.cachedEventUids.has(N_(e))}saveEventToCache(e){this.cachedEventUids.add(N_(e)),this.lastProcessedEventTime=Date.now()}}function N_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function K2({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function YR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K2(r);default:return!1}}async function QR(r,e={}){return da(r,"GET","/v1/projects",e)}const XR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WR=/^https?/;async function ZR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await QR(r);for(const t of e)try{if(JR(t))return}catch{}zr(r,"unauthorized-domain")}function JR(r){const e=Ip(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!WR.test(t))return!1;if(XR.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const e3=new au(3e4,6e4);function k_(){const r=wi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function t3(r){return new Promise((e,t)=>{function i(){k_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k_(),t(ei(r,"network-request-failed"))},timeout:e3.get()})}if(wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(wi().gapi?.load)i();else{const a=q6("iframefcb");return wi()[a]=()=>{gapi.load?i():t(ei(r,"network-request-failed"))},I2(`${H6()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw rf=null,e})}let rf=null;function n3(r){return rf=rf||t3(r),rf}const r3=new au(5e3,15e3),i3="__/auth/iframe",s3="emulator/auth/iframe",a3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l3(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?vg(e,s3):`https://${r.config.authDomain}/${i3}`,i={apiKey:e.apiKey,appName:r.name,v:pl},a=o3.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${su(i).slice(1)}`}async function c3(r){const e=await n3(r),t=wi().gapi;return Se(t,r,"internal-error"),e.open({where:document.body,url:l3(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a3,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ei(r,"network-request-failed"),h=wi().setTimeout(()=>{l(u)},r3.get());function p(){wi().clearTimeout(h),a(i)}i.ping(p).then(p,()=>{l(u)})}))}const u3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d3=500,f3=600,h3="_blank",m3="http://localhost";class B_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p3(r,e,t,i=d3,a=f3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p={...u3,width:i.toString(),height:a.toString(),top:l,left:u},f=Ln().toLowerCase();t&&(h=w2(f)?h3:t),b2(f)&&(e=e||m3,p.scrollbars="yes");const y=Object.entries(p).reduce((x,[b,w])=>`${x}${b}=${w},`,"");if(O6(f)&&h!=="_self")return g3(e||"",h),new B_(null);const v=window.open(e||"",h,y);Se(v,r,"popup-blocked");try{v.focus()}catch{}return new B_(v)}function g3(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const y3="__/auth/handler",v3="emulator/auth/handler",x3=encodeURIComponent("fac");async function O_(r,e,t,i,a,l){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:pl,eventId:a};if(e instanceof wg){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",tD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof lu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}r.tenantId&&(u.tid=r.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const p=await r._getAppCheckToken(),f=p?`#${x3}=${encodeURIComponent(p)}`:"";return`${_3(r)}?${su(h).slice(1)}${f}`}function _3({config:r}){return r.emulator?vg(r,v3):`https://${r.authDomain}/${y3}`}const dp="webStorageSupport";class b3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F2,this._completeRedirectFn=GR,this._overrideRedirectResult=UR}async _openPopup(e,t,i,a){rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await O_(e,t,i,Ip(),a);return p3(e,l,Ag())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await O_(e,t,i,Ip(),a);return AR(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(rs(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await c3(e),i=new KR(e);return t.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dp,{type:dp},a=>{const l=a?.[0]?.[dp];l!==void 0&&t(!!l),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ZR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return D2()||E2()||_g()}}const E3=b3;var M_="@firebase/auth",V_="1.11.1";class w3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function A3(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C3(r){rl(new $a("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R2(r)},f=new F6(i,a,l,p);return X6(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),rl(new $a("auth-internal",e=>{const t=fa(e.getProvider("auth").getImmediate());return(i=>new w3(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zs(M_,V_,A3(r)),Zs(M_,V_,"esm2020")}const T3=300,S3=s2("authIdTokenMaxAge")||T3;let j_=null;const D3=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>S3)return;const a=t?.token;j_!==a&&(j_=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function R3(r=d2()){const e=pg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Q6(r,{popupRedirectResolver:E3,persistence:[BR,bR,F2]}),i=s2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=D3(l.toString());gR(t,u,()=>u(t.currentUser)),pR(t,h=>u(h))}}const a=r2("auth");return a&&W6(t,`http://${a}`),t}function I3(){return document.getElementsByTagName("head")?.[0]??document}z6({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=ei("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",I3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C3("Browser");var N3="firebase",k3="12.6.0";Zs(N3,k3,"app");var P_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,Y2;(function(){var r;function e(D,R){function I(){}I.prototype=R.prototype,D.F=R.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(N,M,U){for(var j=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)j[ie-2]=arguments[ie];return R.prototype[M].apply(N,j)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,R,I){I||(I=0);const N=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)N[M]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(M=0;M<16;++M)N[M]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=D.g[0],I=D.g[1],M=D.g[2];let U=D.g[3],j;j=R+(U^I&(M^U))+N[0]+3614090360&4294967295,R=I+(j<<7&4294967295|j>>>25),j=U+(M^R&(I^M))+N[1]+3905402710&4294967295,U=R+(j<<12&4294967295|j>>>20),j=M+(I^U&(R^I))+N[2]+606105819&4294967295,M=U+(j<<17&4294967295|j>>>15),j=I+(R^M&(U^R))+N[3]+3250441966&4294967295,I=M+(j<<22&4294967295|j>>>10),j=R+(U^I&(M^U))+N[4]+4118548399&4294967295,R=I+(j<<7&4294967295|j>>>25),j=U+(M^R&(I^M))+N[5]+1200080426&4294967295,U=R+(j<<12&4294967295|j>>>20),j=M+(I^U&(R^I))+N[6]+2821735955&4294967295,M=U+(j<<17&4294967295|j>>>15),j=I+(R^M&(U^R))+N[7]+4249261313&4294967295,I=M+(j<<22&4294967295|j>>>10),j=R+(U^I&(M^U))+N[8]+1770035416&4294967295,R=I+(j<<7&4294967295|j>>>25),j=U+(M^R&(I^M))+N[9]+2336552879&4294967295,U=R+(j<<12&4294967295|j>>>20),j=M+(I^U&(R^I))+N[10]+4294925233&4294967295,M=U+(j<<17&4294967295|j>>>15),j=I+(R^M&(U^R))+N[11]+2304563134&4294967295,I=M+(j<<22&4294967295|j>>>10),j=R+(U^I&(M^U))+N[12]+1804603682&4294967295,R=I+(j<<7&4294967295|j>>>25),j=U+(M^R&(I^M))+N[13]+4254626195&4294967295,U=R+(j<<12&4294967295|j>>>20),j=M+(I^U&(R^I))+N[14]+2792965006&4294967295,M=U+(j<<17&4294967295|j>>>15),j=I+(R^M&(U^R))+N[15]+1236535329&4294967295,I=M+(j<<22&4294967295|j>>>10),j=R+(M^U&(I^M))+N[1]+4129170786&4294967295,R=I+(j<<5&4294967295|j>>>27),j=U+(I^M&(R^I))+N[6]+3225465664&4294967295,U=R+(j<<9&4294967295|j>>>23),j=M+(R^I&(U^R))+N[11]+643717713&4294967295,M=U+(j<<14&4294967295|j>>>18),j=I+(U^R&(M^U))+N[0]+3921069994&4294967295,I=M+(j<<20&4294967295|j>>>12),j=R+(M^U&(I^M))+N[5]+3593408605&4294967295,R=I+(j<<5&4294967295|j>>>27),j=U+(I^M&(R^I))+N[10]+38016083&4294967295,U=R+(j<<9&4294967295|j>>>23),j=M+(R^I&(U^R))+N[15]+3634488961&4294967295,M=U+(j<<14&4294967295|j>>>18),j=I+(U^R&(M^U))+N[4]+3889429448&4294967295,I=M+(j<<20&4294967295|j>>>12),j=R+(M^U&(I^M))+N[9]+568446438&4294967295,R=I+(j<<5&4294967295|j>>>27),j=U+(I^M&(R^I))+N[14]+3275163606&4294967295,U=R+(j<<9&4294967295|j>>>23),j=M+(R^I&(U^R))+N[3]+4107603335&4294967295,M=U+(j<<14&4294967295|j>>>18),j=I+(U^R&(M^U))+N[8]+1163531501&4294967295,I=M+(j<<20&4294967295|j>>>12),j=R+(M^U&(I^M))+N[13]+2850285829&4294967295,R=I+(j<<5&4294967295|j>>>27),j=U+(I^M&(R^I))+N[2]+4243563512&4294967295,U=R+(j<<9&4294967295|j>>>23),j=M+(R^I&(U^R))+N[7]+1735328473&4294967295,M=U+(j<<14&4294967295|j>>>18),j=I+(U^R&(M^U))+N[12]+2368359562&4294967295,I=M+(j<<20&4294967295|j>>>12),j=R+(I^M^U)+N[5]+4294588738&4294967295,R=I+(j<<4&4294967295|j>>>28),j=U+(R^I^M)+N[8]+2272392833&4294967295,U=R+(j<<11&4294967295|j>>>21),j=M+(U^R^I)+N[11]+1839030562&4294967295,M=U+(j<<16&4294967295|j>>>16),j=I+(M^U^R)+N[14]+4259657740&4294967295,I=M+(j<<23&4294967295|j>>>9),j=R+(I^M^U)+N[1]+2763975236&4294967295,R=I+(j<<4&4294967295|j>>>28),j=U+(R^I^M)+N[4]+1272893353&4294967295,U=R+(j<<11&4294967295|j>>>21),j=M+(U^R^I)+N[7]+4139469664&4294967295,M=U+(j<<16&4294967295|j>>>16),j=I+(M^U^R)+N[10]+3200236656&4294967295,I=M+(j<<23&4294967295|j>>>9),j=R+(I^M^U)+N[13]+681279174&4294967295,R=I+(j<<4&4294967295|j>>>28),j=U+(R^I^M)+N[0]+3936430074&4294967295,U=R+(j<<11&4294967295|j>>>21),j=M+(U^R^I)+N[3]+3572445317&4294967295,M=U+(j<<16&4294967295|j>>>16),j=I+(M^U^R)+N[6]+76029189&4294967295,I=M+(j<<23&4294967295|j>>>9),j=R+(I^M^U)+N[9]+3654602809&4294967295,R=I+(j<<4&4294967295|j>>>28),j=U+(R^I^M)+N[12]+3873151461&4294967295,U=R+(j<<11&4294967295|j>>>21),j=M+(U^R^I)+N[15]+530742520&4294967295,M=U+(j<<16&4294967295|j>>>16),j=I+(M^U^R)+N[2]+3299628645&4294967295,I=M+(j<<23&4294967295|j>>>9),j=R+(M^(I|~U))+N[0]+4096336452&4294967295,R=I+(j<<6&4294967295|j>>>26),j=U+(I^(R|~M))+N[7]+1126891415&4294967295,U=R+(j<<10&4294967295|j>>>22),j=M+(R^(U|~I))+N[14]+2878612391&4294967295,M=U+(j<<15&4294967295|j>>>17),j=I+(U^(M|~R))+N[5]+4237533241&4294967295,I=M+(j<<21&4294967295|j>>>11),j=R+(M^(I|~U))+N[12]+1700485571&4294967295,R=I+(j<<6&4294967295|j>>>26),j=U+(I^(R|~M))+N[3]+2399980690&4294967295,U=R+(j<<10&4294967295|j>>>22),j=M+(R^(U|~I))+N[10]+4293915773&4294967295,M=U+(j<<15&4294967295|j>>>17),j=I+(U^(M|~R))+N[1]+2240044497&4294967295,I=M+(j<<21&4294967295|j>>>11),j=R+(M^(I|~U))+N[8]+1873313359&4294967295,R=I+(j<<6&4294967295|j>>>26),j=U+(I^(R|~M))+N[15]+4264355552&4294967295,U=R+(j<<10&4294967295|j>>>22),j=M+(R^(U|~I))+N[6]+2734768916&4294967295,M=U+(j<<15&4294967295|j>>>17),j=I+(U^(M|~R))+N[13]+1309151649&4294967295,I=M+(j<<21&4294967295|j>>>11),j=R+(M^(I|~U))+N[4]+4149444226&4294967295,R=I+(j<<6&4294967295|j>>>26),j=U+(I^(R|~M))+N[11]+3174756917&4294967295,U=R+(j<<10&4294967295|j>>>22),j=M+(R^(U|~I))+N[2]+718787259&4294967295,M=U+(j<<15&4294967295|j>>>17),j=I+(U^(M|~R))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(M+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+U&4294967295}i.prototype.v=function(D,R){R===void 0&&(R=D.length);const I=R-this.blockSize,N=this.C;let M=this.h,U=0;for(;U<R;){if(M==0)for(;U<=I;)a(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<R;)if(N[M++]=D.charCodeAt(U++),M==this.blockSize){a(this,N),M=0;break}}else for(;U<R;)if(N[M++]=D[U++],M==this.blockSize){a(this,N),M=0;break}}this.h=M,this.o+=R},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;R=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=R&255,R/=256;for(this.v(D),D=Array(16),R=0,I=0;I<4;++I)for(let N=0;N<32;N+=8)D[R++]=this.g[I]>>>N&255;return D};function l(D,R){var I=h;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=R(D)}function u(D,R){this.h=R;const I=[];let N=!0;for(let M=D.length-1;M>=0;M--){const U=D[M]|0;N&&U==R||(I[M]=U,N=!1)}this.g=I}var h={};function p(D){return-128<=D&&D<128?l(D,function(R){return new u([R|0],R<0?-1:0)}):new u([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return v;if(D<0)return C(f(-D));const R=[];let I=1;for(let N=0;D>=I;N++)R[N]=D/I|0,I*=4294967296;return new u(R,0)}function y(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return C(y(D.substring(1),R));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=f(Math.pow(R,8));let N=v;for(let U=0;U<D.length;U+=8){var M=Math.min(8,D.length-U);const j=parseInt(D.substring(U,U+M),R);M<8?(M=f(Math.pow(R,M)),N=N.j(M).add(f(j))):(N=N.j(I),N=N.add(f(j)))}return N}var v=p(0),x=p(1),b=p(16777216);r=u.prototype,r.m=function(){if(T(this))return-C(this).m();let D=0,R=1;for(let I=0;I<this.g.length;I++){const N=this.i(I);D+=(N>=0?N:4294967296+N)*R,R*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(T(this))return"-"+C(this).toString(D);const R=f(Math.pow(D,6));var I=this;let N="";for(;;){const M=L(I,R).g;I=V(I,M.j(R));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=M,w(I))return U+N;for(;U.length<6;)U="0"+U;N=U+N}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(let R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function T(D){return D.h==-1}r.l=function(D){return D=V(this,D),T(D)?-1:w(D)?0:1};function C(D){const R=D.g.length,I=[];for(let N=0;N<R;N++)I[N]=~D.g[N];return new u(I,~D.h).add(x)}r.abs=function(){return T(this)?C(this):this},r.add=function(D){const R=Math.max(this.g.length,D.g.length),I=[];let N=0;for(let M=0;M<=R;M++){let U=N+(this.i(M)&65535)+(D.i(M)&65535),j=(U>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);N=j>>>16,U&=65535,j&=65535,I[M]=j<<16|U}return new u(I,I[I.length-1]&-2147483648?-1:0)};function V(D,R){return D.add(C(R))}r.j=function(D){if(w(this)||w(D))return v;if(T(this))return T(D)?C(this).j(C(D)):C(C(this).j(D));if(T(D))return C(this.j(C(D)));if(this.l(b)<0&&D.l(b)<0)return f(this.m()*D.m());const R=this.g.length+D.g.length,I=[];for(var N=0;N<2*R;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(let M=0;M<D.g.length;M++){const U=this.i(N)>>>16,j=this.i(N)&65535,ie=D.i(M)>>>16,fe=D.i(M)&65535;I[2*N+2*M]+=j*fe,k(I,2*N+2*M),I[2*N+2*M+1]+=U*fe,k(I,2*N+2*M+1),I[2*N+2*M+1]+=j*ie,k(I,2*N+2*M+1),I[2*N+2*M+2]+=U*ie,k(I,2*N+2*M+2)}for(D=0;D<R;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=R;D<2*R;D++)I[D]=0;return new u(I,0)};function k(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function B(D,R){this.g=D,this.h=R}function L(D,R){if(w(R))throw Error("division by zero");if(w(D))return new B(v,v);if(T(D))return R=L(C(D),R),new B(C(R.g),C(R.h));if(T(R))return R=L(D,C(R)),new B(C(R.g),R.h);if(D.g.length>30){if(T(D)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var I=x,N=R;N.l(D)<=0;)I=H(I),N=H(N);var M=q(I,1),U=q(N,1);for(N=q(N,2),I=q(I,2);!w(N);){var j=U.add(N);j.l(D)<=0&&(M=M.add(I),U=j),N=q(N,1),I=q(I,1)}return R=V(D,M.j(R)),new B(M,R)}for(M=v;D.l(R)>=0;){for(I=Math.max(1,Math.floor(D.m()/R.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),U=f(I),j=U.j(R);T(j)||j.l(D)>0;)I-=N,U=f(I),j=U.j(R);w(U)&&(U=x),M=M.add(U),D=V(D,j)}return new B(M,D)}r.B=function(D){return L(this,D).h},r.and=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let N=0;N<R;N++)I[N]=this.i(N)&D.i(N);return new u(I,this.h&D.h)},r.or=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let N=0;N<R;N++)I[N]=this.i(N)|D.i(N);return new u(I,this.h|D.h)},r.xor=function(D){const R=Math.max(this.g.length,D.g.length),I=[];for(let N=0;N<R;N++)I[N]=this.i(N)^D.i(N);return new u(I,this.h^D.h)};function H(D){const R=D.g.length+1,I=[];for(let N=0;N<R;N++)I[N]=D.i(N)<<1|D.i(N-1)>>>31;return new u(I,D.h)}function q(D,R){const I=R>>5;R%=32;const N=D.g.length-I,M=[];for(let U=0;U<N;U++)M[U]=R>0?D.i(U+I)>>>R|D.i(U+I+1)<<32-R:D.i(U+I);return new u(M,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Y2=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=y,Js=u}).apply(typeof P_<"u"?P_:typeof self<"u"?self:typeof window<"u"?window:{});var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Q2,Sc,X2,sf,Op,W2,Z2,J2;(function(){var r,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gd=="object"&&Gd];for(var _=0;_<d.length;++_){var S=d[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=t(this);function a(d,_){if(_)e:{var S=i;d=d.split(".");for(var z=0;z<d.length-1;z++){var Z=d[z];if(!(Z in S))break e;S=S[Z]}d=d[d.length-1],z=S[d],_=_(z),_!=z&&_!=null&&e(S,d,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(_){var S=[],z;for(z in _)Object.prototype.hasOwnProperty.call(_,z)&&S.push([z,_[z]]);return S}});var l=l||{},u=this||self;function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function p(d,_,S){return d.call.apply(d.bind,arguments)}function f(d,_,S){return f=p,f.apply(null,arguments)}function y(d,_){var S=Array.prototype.slice.call(arguments,1);return function(){var z=S.slice();return z.push.apply(z,arguments),d.apply(this,z)}}function v(d,_){function S(){}S.prototype=_.prototype,d.Z=_.prototype,d.prototype=new S,d.prototype.constructor=d,d.Ob=function(z,Z,ne){for(var ge=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ge[Oe-2]=arguments[Oe];return _.prototype[Z].apply(z,ge)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function b(d){const _=d.length;if(_>0){const S=Array(_);for(let z=0;z<_;z++)S[z]=d[z];return S}return[]}function w(d,_){for(let z=1;z<arguments.length;z++){const Z=arguments[z];var S=typeof Z;if(S=S!="object"?S:Z?Array.isArray(Z)?"array":S:"null",S=="array"||S=="object"&&typeof Z.length=="number"){S=d.length||0;const ne=Z.length||0;d.length=S+ne;for(let ge=0;ge<ne;ge++)d[S+ge]=Z[ge]}else d.push(Z)}}class T{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function C(d){u.setTimeout(()=>{throw d},0)}function V(){var d=D;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class k{constructor(){this.h=this.g=null}add(_,S){const z=B.get();z.set(_,S),this.h?this.h.next=z:this.g=z,this.h=z}}var B=new T(()=>new L,d=>d.reset());class L{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let H,q=!1,D=new k,R=()=>{const d=Promise.resolve(void 0);H=()=>{d.then(I)}};function I(){for(var d;d=V();){try{d.h.call(d.g)}catch(S){C(S)}var _=B;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}q=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};u.addEventListener("test",S,_),u.removeEventListener("test",S,_)}catch{}return d})();function j(d){return/^[\s\xa0]*$/.test(d)}function ie(d,_){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}v(ie,M),ie.prototype.init=function(d,_){const S=this.type=d.type,z=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(S=="mouseover"?_=d.fromElement:S=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(d,_,S,z,Z){this.listener=d,this.proxy=null,this.src=_,this.type=S,this.capture=!!z,this.ha=Z,this.key=++Q,this.da=this.fa=!1}function de(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function he(d,_,S){for(const z in d)_.call(S,d[z],z,d)}function ve(d,_){for(const S in d)_.call(void 0,d[S],S,d)}function F(d){const _={};for(const S in d)_[S]=d[S];return _}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(d,_){let S,z;for(let Z=1;Z<arguments.length;Z++){z=arguments[Z];for(S in z)d[S]=z[S];for(let ne=0;ne<G.length;ne++)S=G[ne],Object.prototype.hasOwnProperty.call(z,S)&&(d[S]=z[S])}}function X(d){this.src=d,this.g={},this.h=0}X.prototype.add=function(d,_,S,z,Z){const ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);const ge=pe(d,_,z,Z);return ge>-1?(_=d[ge],S||(_.fa=!1)):(_=new se(_,this.src,ne,!!z,Z),_.fa=S,d.push(_)),_};function me(d,_){const S=_.type;if(S in d.g){var z=d.g[S],Z=Array.prototype.indexOf.call(z,_,void 0),ne;(ne=Z>=0)&&Array.prototype.splice.call(z,Z,1),ne&&(de(_),d.g[S].length==0&&(delete d.g[S],d.h--))}}function pe(d,_,S,z){for(let Z=0;Z<d.length;++Z){const ne=d[Z];if(!ne.da&&ne.listener==_&&ne.capture==!!S&&ne.ha==z)return Z}return-1}var we="closure_lm_"+(Math.random()*1e6|0),xe={};function Ie(d,_,S,z,Z){if(Array.isArray(_)){for(let ne=0;ne<_.length;ne++)Ie(d,_[ne],S,z,Z);return null}return S=$n(S),d&&d[fe]?d.J(_,S,h(z)?!!z.capture:!1,Z):Be(d,_,S,!1,z,Z)}function Be(d,_,S,z,Z,ne){if(!_)throw Error("Invalid event type");const ge=h(Z)?!!Z.capture:!!Z;let Oe=Gt(d);if(Oe||(d[we]=Oe=new X(d)),S=Oe.add(_,S,z,ge,ne),S.proxy)return S;if(z=kn(),S.proxy=z,z.src=d,z.listener=S,d.addEventListener)U||(Z=ge),Z===void 0&&(Z=!1),d.addEventListener(_.toString(),z,Z);else if(d.attachEvent)d.attachEvent(Xe(_.toString()),z);else if(d.addListener&&d.removeListener)d.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return S}function kn(){function d(S){return _.call(d.src,d.listener,S)}const _=xn;return d}function Rt(d,_,S,z,Z){if(Array.isArray(_))for(var ne=0;ne<_.length;ne++)Rt(d,_[ne],S,z,Z);else z=h(z)?!!z.capture:!!z,S=$n(S),d&&d[fe]?(d=d.i,ne=String(_).toString(),ne in d.g&&(_=d.g[ne],S=pe(_,S,z,Z),S>-1&&(de(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete d.g[ne],d.h--)))):d&&(d=Gt(d))&&(_=d.g[_.toString()],d=-1,_&&(d=pe(_,S,z,Z)),(S=d>-1?_[d]:null)&&vt(S))}function vt(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[fe])me(_.i,d);else{var S=d.type,z=d.proxy;_.removeEventListener?_.removeEventListener(S,z,d.capture):_.detachEvent?_.detachEvent(Xe(S),z):_.addListener&&_.removeListener&&_.removeListener(z),(S=Gt(_))?(me(S,d),S.h==0&&(S.src=null,_[we]=null)):de(d)}}}function Xe(d){return d in xe?xe[d]:xe[d]="on"+d}function xn(d,_){if(d.da)d=!0;else{_=new ie(_,this);const S=d.listener,z=d.ha||d.src;d.fa&&vt(d),d=S.call(z,_)}return d}function Gt(d){return d=d[we],d instanceof X?d:null}var ar="__closure_events_fn_"+(Math.random()*1e9>>>0);function $n(d){return typeof d=="function"?d:(d[ar]||(d[ar]=function(_){return d.handleEvent(_)}),d[ar])}function lt(){N.call(this),this.i=new X(this),this.M=this,this.G=null}v(lt,N),lt.prototype[fe]=!0,lt.prototype.removeEventListener=function(d,_,S,z){Rt(this,d,_,S,z)};function We(d,_){var S,z=d.G;if(z)for(S=[];z;z=z.G)S.push(z);if(d=d.M,z=_.type||_,typeof _=="string")_=new M(_,d);else if(_ instanceof M)_.target=_.target||d;else{var Z=_;_=new M(z,d),K(_,Z)}Z=!0;let ne,ge;if(S)for(ge=S.length-1;ge>=0;ge--)ne=_.g=S[ge],Z=xt(ne,z,!0,_)&&Z;if(ne=_.g=d,Z=xt(ne,z,!0,_)&&Z,Z=xt(ne,z,!1,_)&&Z,S)for(ge=0;ge<S.length;ge++)ne=_.g=S[ge],Z=xt(ne,z,!1,_)&&Z}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const S=d.g[_];for(let z=0;z<S.length;z++)de(S[z]);delete d.g[_],d.h--}}this.G=null},lt.prototype.J=function(d,_,S,z){return this.i.add(String(d),_,!1,S,z)},lt.prototype.K=function(d,_,S,z){return this.i.add(String(d),_,!0,S,z)};function xt(d,_,S,z){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let Z=!0;for(let ne=0;ne<_.length;++ne){const ge=_[ne];if(ge&&!ge.da&&ge.capture==S){const Oe=ge.listener,zt=ge.ha||ge.src;ge.fa&&me(d.i,ge),Z=Oe.call(zt,z)!==!1&&Z}}return Z&&!z.defaultPrevented}function Ft(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(d,_||0)}function Bn(d){d.g=Ft(()=>{d.g=null,d.i&&(d.i=!1,Bn(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class It extends N{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Bn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(d){N.call(this),this.h=d,this.g={}}v(Er,N);var Kn=[];function fn(d){he(d.g,function(_,S){this.g.hasOwnProperty(S)&&vt(_)},d),d.g={}}Er.prototype.N=function(){Er.Z.N.call(this),fn(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _n=u.JSON.stringify,wr=u.JSON.parse,ii=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function $t(){}function or(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ot(){M.call(this,"d")}v(Ot,M);function an(){M.call(this,"c")}v(an,M);var mt={},us=null;function Ar(){return us=us||new lt}mt.Ia="serverreachability";function ds(d){M.call(this,mt.Ia,d)}v(ds,M);function zn(d){const _=Ar();We(_,new ds(_))}mt.STAT_EVENT="statevent";function Hr(d,_){M.call(this,mt.STAT_EVENT,d),this.stat=_}v(Hr,M);function je(d){const _=Ar();We(_,new Hr(_,d))}mt.Ja="timingevent";function pt(d,_){M.call(this,mt.Ja,d),this.size=_}v(pt,M);function gt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},_)}function Mt(){this.g=!0}Mt.prototype.ua=function(){this.g=!1};function on(d,_,S,z,Z,ne){d.info(function(){if(d.g)if(ne){var ge="",Oe=ne.split("&");for(let tt=0;tt<Oe.length;tt++){var zt=Oe[tt].split("=");if(zt.length>1){const At=zt[0];zt=zt[1];const Dr=At.split("_");ge=Dr.length>=2&&Dr[1]=="type"?ge+(At+"="+zt+"&"):ge+(At+"=redacted&")}}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+z+") [attempt "+Z+"]: "+_+`
`+S+`
`+ge})}function Kt(d,_,S,z,Z,ne,ge){d.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Z+"]: "+_+`
`+S+`
`+ne+" "+ge})}function Nt(d,_,S,z){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+kt(d,S)+(z?" "+z:"")})}function bn(d,_){d.info(function(){return"TIMEOUT: "+_})}Mt.prototype.info=function(){};function kt(d,_){if(!d.g)return _;if(!_)return null;try{const ne=JSON.parse(_);if(ne){for(d=0;d<ne.length;d++)if(Array.isArray(ne[d])){var S=ne[d];if(!(S.length<2)){var z=S[1];if(Array.isArray(z)&&!(z.length<1)){var Z=z[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let ge=1;ge<z.length;ge++)z[ge]=""}}}}return _n(ne)}catch{return _}}var ln={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wt;function On(){}v(On,$t),On.prototype.g=function(){return new XMLHttpRequest},wt=new On;function En(d){return encodeURIComponent(String(d))}function lr(d){var _=1;d=d.split(":");const S=[];for(;_>0&&d.length;)S.push(d.shift()),_--;return d.length&&S.push(d.join(":")),S}function wn(d,_,S,z){this.j=d,this.i=_,this.l=S,this.S=z||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var Yt={},hn={};function si(d,_,S){d.M=1,d.A=ga(Xt(_)),d.u=S,d.R=!0,io(d,null)}function io(d,_){d.F=Date.now(),ai(d),d.B=Xt(d.A);var S=d.B,z=d.S;Array.isArray(z)||(z=[String(z)]),lo(S.i,"t",z),d.C=0,S=d.j.L,d.h=new Un,d.g=Vu(d.j,S?_:null,!d.u),d.P>0&&(d.O=new It(f(d.Y,d,d.g),d.P)),_=d.V,S=d.g,z=d.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(Kn[0]=Z.toString()),Z=Kn);for(let ne=0;ne<Z.length;ne++){const ge=Ie(S,Z[ne],z||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=d.J?F(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),zn(),on(d.i,d.v,d.B,d.l,d.S,d.u)}wn.prototype.ba=function(d){d=d.target;const _=this.O;_&&$r(d)==3?_.j():this.Y(d)},wn.prototype.Y=function(d){try{if(d==this.g)e:{const Oe=$r(this.g),zt=this.g.ya(),tt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||An(this.g)))){this.K||Oe!=4||zt==7||(zt==8||tt<=0?zn(3):zn(2)),oi(this);var _=this.g.ca();this.X=_;var S=n0(this);if(this.o=_==200,Kt(this.i,this.v,this.B,this.l,this.S,Oe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var z,Z=this.g;if((z=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(z)){var ne=z;break t}}ne=null}if(d=ne)Nt(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,d);else{this.o=!1,this.m=3,je(12),cr(this),Cr(this);break e}}if(this.R){d=!0;let At;for(;!this.K&&this.C<S.length;)if(At=wu(this,S),At==hn){Oe==4&&(this.m=4,je(14),d=!1),Nt(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Yt){this.m=4,je(15),Nt(this.i,this.l,S,"[Invalid Chunk]"),d=!1;break}else Nt(this.i,this.l,At,null),li(this,At);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||S.length!=0||this.h.h||(this.m=1,je(16),d=!1),this.o=this.o&&d,!d)Nt(this.i,this.l,S,"[Invalid Chunked Response]"),cr(this),Cr(this);else if(S.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Ll(ge),ge.P=!0,je(11))}}else Nt(this.i,this.l,S,null),li(this,S);Oe==4&&cr(this),this.o&&!this.K&&(Oe==4?ku(this.j,this):(this.o=!1,ai(this)))}else Bi(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,je(12)):(this.m=0,je(13)),cr(this),Cr(this)}}}catch{}finally{}};function n0(d){if(!Eu(d))return d.g.la();const _=An(d.g);if(_==="")return"";let S="";const z=_.length,Z=$r(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return cr(d),Cr(d),"";d.h.i=new u.TextDecoder}for(let ne=0;ne<z;ne++)d.h.h=!0,S+=d.h.i.decode(_[ne],{stream:!(Z&&ne==z-1)});return _.length=0,d.h.g+=S,d.C=0,d.h.g}function Eu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function wu(d,_){var S=d.C,z=_.indexOf(`
`,S);return z==-1?hn:(S=Number(_.substring(S,z)),isNaN(S)?Yt:(z+=1,z+S>_.length?hn:(_=_.slice(z,z+S),d.C=z+S,_)))}wn.prototype.cancel=function(){this.K=!0,cr(this)};function ai(d){d.T=Date.now()+d.H,so(d,d.H)}function so(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=gt(f(d.aa,d),_)}function oi(d){d.D&&(u.clearTimeout(d.D),d.D=null)}wn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(bn(this.i,this.B),this.M!=2&&(zn(),je(17)),cr(this),this.m=2,Cr(this)):so(this,this.T-d)};function Cr(d){d.j.I==0||d.K||ku(d.j,d)}function cr(d){oi(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,fn(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function li(d,_){try{var S=d.j;if(S.I!=0&&(S.g==d||ui(S.h,d))){if(!d.L&&ui(S.h,d)&&S.I==3){try{var z=S.Ba.g.parse(_)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Z=z;if(Z[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<d.F)mo(S),xs(S);else break e;wa(S),je(18)}}else S.xa=Z[1],0<S.xa-S.K&&Z[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=gt(f(S.Va,S),6e3));ci(S.h)<=1&&S.ta&&(S.ta=void 0)}else gi(S,11)}else if((d.L||S.g==d)&&mo(S),!j(_))for(Z=S.Ba.g.parse(_),_=0;_<Z.length;_++){let tt=Z[_];const At=tt[0];if(!(At<=S.K))if(S.K=At,tt=tt[1],S.I==2)if(tt[0]=="c"){S.M=tt[1],S.ba=tt[2];const Dr=tt[3];Dr!=null&&(S.ka=Dr,S.j.info("VER="+S.ka));const yi=tt[4];yi!=null&&(S.za=yi,S.j.info("SVER="+S.za));const Kr=tt[5];Kr!=null&&typeof Kr=="number"&&Kr>0&&(z=1.5*Kr,S.O=z,S.j.info("backChannelRequestTimeoutMs_="+z)),z=S;const Yr=d.g;if(Yr){const Aa=Yr.g?Yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var ne=z.h;ne.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Sl(ne,ne.h),ne.h=null))}if(z.G){const po=Yr.g?Yr.g.getResponseHeader("X-HTTP-Session-Id"):null;po&&(z.wa=po,st(z.J,z.G,po))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-d.F,S.j.info("Handshake RTT: "+S.T+"ms")),z=S;var ge=d;if(z.na=Mu(z,z.L?z.ba:null,z.W),ge.L){Dl(z.h,ge);var Oe=ge,zt=z.O;zt&&(Oe.H=zt),Oe.D&&(oi(Oe),ai(Oe)),z.g=ge}else Iu(z);S.i.length>0&&pi(S)}else tt[0]!="stop"&&tt[0]!="close"||gi(S,7);else S.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?gi(S,7):jl(S):tt[0]!="noop"&&S.l&&S.l.qa(tt),S.A=0)}}zn(4)}catch{}}var Qt=class{constructor(d,_){this.g=d,this.map=_}};function Cl(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ci(d){return d.h?1:d.g?d.g.size:0}function ui(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Sl(d,_){d.g?d.g.add(_):d.h=_}function Dl(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Cl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Rl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const S of d.g.values())_=_.concat(S.G);return _}return b(d.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ao(d,_){if(d){d=d.split("&");for(let S=0;S<d.length;S++){const z=d[S].indexOf("=");let Z,ne=null;z>=0?(Z=d[S].substring(0,z),ne=d[S].substring(z+1)):Z=d[S],_(Z,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function ur(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof ur?(this.l=d.l,mn(this,d.j),this.o=d.o,this.g=d.g,fs(this,d.u),this.h=d.h,Il(this,Du(d.i)),this.m=d.m):d&&(_=String(d).match(Au))?(this.l=!1,mn(this,_[1]||"",!0),this.o=di(_[2]||""),this.g=di(_[3]||"",!0),fs(this,_[4]),this.h=di(_[5]||"",!0),Il(this,_[6]||"",!0),this.m=di(_[7]||"")):(this.l=!1,this.i=new ms(null,this.l))}ur.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(ya(_,oo,!0),":");var S=this.g;return(S||_=="file")&&(d.push("//"),(_=this.o)&&d.push(ya(_,oo,!0),"@"),d.push(En(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&d.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(ya(S,S.charAt(0)=="/"?Nl:Cu,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",ya(S,Tu)),d.join("")},ur.prototype.resolve=function(d){const _=Xt(this);let S=!!d.j;S?mn(_,d.j):S=!!d.o,S?_.o=d.o:S=!!d.g,S?_.g=d.g:S=d.u!=null;var z=d.h;if(S)fs(_,d.u);else if(S=!!d.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var Z=_.h.lastIndexOf("/");Z!=-1&&(z=_.h.slice(0,Z+1)+z)}if(Z=z,Z==".."||Z==".")z="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){z=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const ne=[];for(let ge=0;ge<Z.length;){const Oe=Z[ge++];Oe=="."?z&&ge==Z.length&&ne.push(""):Oe==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),z&&ge==Z.length&&ne.push("")):(ne.push(Oe),z=!0)}z=ne.join("/")}else z=Z}return S?_.h=z:S=d.i.toString()!=="",S?Il(_,Du(d.i)):S=!!d.m,S&&(_.m=d.m),_};function Xt(d){return new ur(d)}function mn(d,_,S){d.j=S?di(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function fs(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function Il(d,_,S){_ instanceof ms?(d.i=_,co(d.i,d.l)):(S||(_=ya(_,hs)),d.i=new ms(_,d.l))}function st(d,_,S){d.i.set(_,S)}function ga(d){return st(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function di(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ya(d,_,S){return typeof d=="string"?(d=encodeURI(d).replace(_,Yn),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Yn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var oo=/[#\/\?@]/g,Cu=/[#\?:]/g,Nl=/[#\?]/g,hs=/[#\?@]/g,Tu=/#/g;function ms(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Qn(d){d.g||(d.g=new Map,d.h=0,d.i&&ao(d.i,function(_,S){d.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}r=ms.prototype,r.add=function(d,_){Qn(this),this.i=null,d=ps(this,d);let S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(_),this.h+=1,this};function Su(d,_){Qn(d),_=ps(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function kl(d,_){return Qn(d),_=ps(d,_),d.g.has(_)}r.forEach=function(d,_){Qn(this),this.g.forEach(function(S,z){S.forEach(function(Z){d.call(_,Z,z,this)},this)},this)};function Bl(d,_){Qn(d);let S=[];if(typeof _=="string")kl(d,_)&&(S=S.concat(d.g.get(ps(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)S=S.concat(d[_]);return S}r.set=function(d,_){return Qn(this),this.i=null,d=ps(this,d),kl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},r.get=function(d,_){return d?(d=Bl(this,d),d.length>0?String(d[0]):_):_};function lo(d,_,S){Su(d,_),S.length>0&&(d.i=null,d.g.set(ps(d,_),b(S)),d.h+=S.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let z=0;z<_.length;z++){var S=_[z];const Z=En(S);S=Bl(this,S);for(let ne=0;ne<S.length;ne++){let ge=Z;S[ne]!==""&&(ge+="="+En(S[ne])),d.push(ge)}}return this.i=d.join("&")};function Du(d){const _=new ms;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function ps(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function co(d,_){_&&!d.j&&(Qn(d),d.i=null,d.g.forEach(function(S,z){const Z=z.toLowerCase();z!=Z&&(Su(this,z),lo(this,Z,S))},d)),d.j=_}function qr(d,_){const S=new Mt;if(u.Image){const z=new Image;z.onload=y(Tr,S,"TestLoadImage: loaded",!0,_,z),z.onerror=y(Tr,S,"TestLoadImage: error",!1,_,z),z.onabort=y(Tr,S,"TestLoadImage: abort",!1,_,z),z.ontimeout=y(Tr,S,"TestLoadImage: timeout",!1,_,z),u.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=d}else _(!1)}function Ol(d,_){const S=new Mt,z=new AbortController,Z=setTimeout(()=>{z.abort(),Tr(S,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:z.signal}).then(ne=>{clearTimeout(Z),ne.ok?Tr(S,"TestPingServer: ok",!0,_):Tr(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Z),Tr(S,"TestPingServer: error",!1,_)})}function Tr(d,_,S,z,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),z(S)}catch{}}function gs(){this.g=new ii}function fi(d){this.i=d.Sb||null,this.h=d.ab||!1}v(fi,$t),fi.prototype.g=function(){return new va(this.i,this.h)};function va(d,_){lt.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(va,lt),r=va.prototype,r.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,Gr(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function uo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?ys(this):Gr(this),this.readyState==3&&uo(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,ys(this))},r.Na=function(d){this.g&&(this.response=d,ys(this))},r.ga=function(){this.g&&ys(this)};function ys(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Gr(d)}r.setRequestHeader=function(d,_){this.A.append(d,_)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=_.next();return d.join(`\r
`)};function Gr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Sr(d){let _="";return he(d,function(S,z){_+=z,_+=":",_+=S,_+=`\r
`}),_}function xa(d,_,S){e:{for(z in S){var z=!1;break e}z=!0}z||(S=Sr(S),typeof d=="string"?S!=null&&En(S):st(d,_,S))}function ct(d){lt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ct,lt);var hi=/^https?$/i,Ml=["POST","PUT"];r=ct.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,_,S,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wt.g(),this.g.onreadystatechange=x(f(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(ne){_a(this,ne);return}if(d=S||"",S=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Z in z)S.set(Z,z[Z]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ne of z.keys())S.set(ne,z.get(ne));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),Z=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Ml,_,void 0)>=0)||z||Z||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of S)this.g.setRequestHeader(ne,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(ne){_a(this,ne)}};function _a(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,Vl(d),ki(d)}function Vl(d){d.A||(d.A=!0,We(d,"complete"),We(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,We(this,"complete"),We(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),ct.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ba(this):this.Xa())},r.Xa=function(){ba(this)};function ba(d){if(d.h&&typeof l<"u"){if(d.v&&$r(d)==4)setTimeout(d.Ca.bind(d),0);else if(We(d,"readystatechange"),$r(d)==4){d.h=!1;try{const ne=d.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var z;if(z=ne===0){let ge=String(d.D).match(Au)[1]||null;!ge&&u.self&&u.self.location&&(ge=u.self.location.protocol.slice(0,-1)),z=!hi.test(ge?ge.toLowerCase():"")}S=z}if(S)We(d,"complete"),We(d,"success");else{d.o=6;try{var Z=$r(d)>2?d.g.statusText:""}catch{Z=""}d.l=Z+" ["+d.ca()+"]",Vl(d)}}finally{ki(d)}}}}function ki(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const S=d.g;d.g=null,_||We(d,"ready");try{S.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $r(d){return d.g?d.g.readyState:0}r.ca=function(){try{return $r(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),wr(_)}};function An(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(d){const _={};d=(d.g&&$r(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<d.length;z++){if(j(d[z]))continue;var S=lr(d[z]);const Z=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=_[Z]||[];_[Z]=ne,ne.push(S)}ve(_,function(z){return z.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(d,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||_}function vs(d){this.za=0,this.i=[],this.j=new Mt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,d),this.Za=mi("retryDelaySeedMs",1e4,d),this.Ta=mi("forwardChannelMaxRetries",2,d),this.va=mi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(d&&d.concurrentRequestLimit),this.Ba=new gs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=vs.prototype,r.ka=8,r.I=1,r.connect=function(d,_,S,z){je(0),this.W=d,this.H=_||{},S&&z!==void 0&&(this.H.OSID=S,this.H.OAID=z),this.F=this.X,this.J=Mu(this,null,this.W),pi(this)};function jl(d){if(fo(d),d.I==3){var _=d.V++,S=Xt(d.J);if(st(S,"SID",d.M),st(S,"RID",_),st(S,"TYPE","terminate"),Ea(d,S),_=new wn(d,d.j,_),_.M=2,_.A=ga(Xt(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&u.Image&&(new Image().src=_.A,S=!0),S||(_.g=Vu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ai(_)}Ou(d)}function xs(d){d.g&&(Ll(d),d.g.cancel(),d.g=null)}function fo(d){xs(d),d.v&&(u.clearTimeout(d.v),d.v=null),mo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function pi(d){if(!Tl(d.h)&&!d.m){d.m=!0;var _=d.Ea;H||R(),q||(H(),q=!0),D.add(_,d),d.D=0}}function ho(d,_){return ci(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=gt(f(d.Ea,d,_),Bu(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Z=new wn(this,this.j,d);let ne=this.o;if(this.U&&(ne?(ne=F(ne),K(ne,this.U)):ne=this.U),this.u!==null||this.R||(Z.J=ne,ne=null),this.S)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var z=this.i[S];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(_+=z,_>4096){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=Ru(this,Z,_),S=Xt(this.J),st(S,"RID",d),st(S,"CVER",22),this.G&&st(S,"X-HTTP-Session-Id",this.G),Ea(this,S),ne&&(this.R?_="headers="+En(Sr(ne))+"&"+_:this.u&&xa(S,this.u,ne)),Sl(this.h,Z),this.Ra&&st(S,"TYPE","init"),this.S?(st(S,"$req",_),st(S,"SID","null"),Z.U=!0,si(Z,S,null)):si(Z,S,_),this.I=2}}else this.I==3&&(d?Pl(this,d):this.i.length==0||Tl(this.h)||Pl(this))};function Pl(d,_){var S;_?S=_.l:S=d.V++;const z=Xt(d.J);st(z,"SID",d.M),st(z,"RID",S),st(z,"AID",d.K),Ea(d,z),d.u&&d.o&&xa(z,d.u,d.o),S=new wn(d,d.j,S,d.D+1),d.u===null&&(S.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Ru(d,S,1e3),S.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Sl(d.h,S),si(S,z,_)}function Ea(d,_){d.H&&he(d.H,function(S,z){st(_,z,S)}),d.l&&he({},function(S,z){st(_,z,S)})}function Ru(d,_,S){S=Math.min(d.i.length,S);const z=d.l?f(d.l.Ka,d.l,d):null;e:{var Z=d.i;let Oe=-1;for(;;){const zt=["count="+S];Oe==-1?S>0?(Oe=Z[0].g,zt.push("ofs="+Oe)):Oe=0:zt.push("ofs="+Oe);let tt=!0;for(let At=0;At<S;At++){var ne=Z[At].g;const Dr=Z[At].map;if(ne-=Oe,ne<0)Oe=Math.max(0,Z[At].g-100),tt=!1;else try{ne="req"+ne+"_"||"";try{var ge=Dr instanceof Map?Dr:Object.entries(Dr);for(const[yi,Kr]of ge){let Yr=Kr;h(Kr)&&(Yr=_n(Kr)),zt.push(ne+yi+"="+encodeURIComponent(Yr))}}catch(yi){throw zt.push(ne+"type="+encodeURIComponent("_badmap")),yi}}catch{z&&z(Dr)}}if(tt){ge=zt.join("&");break e}}ge=void 0}return d=d.i.splice(0,S),_.G=d,ge}function Iu(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;H||R(),q||(H(),q=!0),D.add(_,d),d.A=0}}function wa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=gt(f(d.Da,d),Bu(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=gt(f(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,je(10),xs(this),Nu(this))};function Ll(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Nu(d){d.g=new wn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Xt(d.na);st(_,"RID","rpc"),st(_,"SID",d.M),st(_,"AID",d.K),st(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&st(_,"TO",d.ia),st(_,"TYPE","xmlhttp"),Ea(d,_),d.u&&d.o&&xa(_,d.u,d.o),d.O&&(d.g.H=d.O);var S=d.g;d=d.ba,S.M=1,S.A=ga(Xt(_)),S.u=null,S.R=!0,io(S,d)}r.Va=function(){this.C!=null&&(this.C=null,xs(this),wa(this),je(19))};function mo(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function ku(d,_){var S=null;if(d.g==_){mo(d),Ll(d),d.g=null;var z=2}else if(ui(d.h,_))S=_.G,Dl(d.h,_),z=1;else return;if(d.I!=0){if(_.o)if(z==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var Z=d.D;z=Ar(),We(z,new pt(z,S)),pi(d)}else Iu(d);else if(Z=_.m,Z==3||Z==0&&_.X>0||!(z==1&&ho(d,_)||z==2&&wa(d)))switch(S&&S.length>0&&(_=d.h,_.i=_.i.concat(S)),Z){case 1:gi(d,5);break;case 4:gi(d,10);break;case 3:gi(d,6);break;default:gi(d,2)}}}function Bu(d,_){let S=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(S*=2),S*_}function gi(d,_){if(d.j.info("Error code "+_),_==2){var S=f(d.bb,d),z=d.Ua;const Z=!z;z=new ur(z||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||mn(z,"https"),ga(z),Z?qr(z.toString(),S):Ol(z.toString(),S)}else je(2);d.I=0,d.l&&d.l.pa(_),Ou(d),fo(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function Ou(d){if(d.I=0,d.ja=[],d.l){const _=Rl(d.h);(_.length!=0||d.i.length!=0)&&(w(d.ja,_),w(d.ja,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.oa()}}function Mu(d,_,S){var z=S instanceof ur?Xt(S):new ur(S);if(z.g!="")_&&(z.g=_+"."+z.g),fs(z,z.u);else{var Z=u.location;z=Z.protocol,_=_?_+"."+Z.hostname:Z.hostname,Z=+Z.port;const ne=new ur(null);z&&mn(ne,z),_&&(ne.g=_),Z&&fs(ne,Z),S&&(ne.h=S),z=ne}return S=d.G,_=d.wa,S&&_&&st(z,S,_),st(z,"VER",d.ka),Ea(d,z),z}function Vu(d,_,S){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new ct(new fi({ab:S})):new ct(d.ma),_.Fa(d.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}r=ju.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _s(){}_s.prototype.g=function(d,_){return new Hn(d,_)};function Hn(d,_){lt.call(this),this.g=new vs(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!j(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!j(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Oi(this)}v(Hn,lt),Hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){jl(this.g)},Hn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.v&&(S={},S.__data__=_n(d),d=S);_.i.push(new Qt(_.Ya++,d)),_.I==3&&pi(_)},Hn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,Hn.Z.N.call(this)};function Pu(d){Ot.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const S in _){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}v(Pu,Ot);function Lu(){an.call(this),this.status=1}v(Lu,an);function Oi(d){this.g=d}v(Oi,ju),Oi.prototype.ra=function(){We(this.g,"a")},Oi.prototype.qa=function(d){We(this.g,new Pu(d))},Oi.prototype.pa=function(d){We(this.g,new Lu)},Oi.prototype.oa=function(){We(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,J2=function(){return new _s},Z2=function(){return Ar()},W2=mt,Op={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ln.NO_ERROR=0,ln.TIMEOUT=8,ln.HTTP_ERROR=6,sf=ln,rt.COMPLETE="complete",X2=rt,or.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",lt.prototype.listen=lt.prototype.J,Sc=or,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,Q2=ct}).apply(typeof Gd<"u"?Gd:typeof self<"u"?self:typeof window<"u"?window:{});const L_="@firebase/firestore",F_="4.9.2";let jn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");let gl="12.3.0";const Qa=new hg("@firebase/firestore");function Go(){return Qa.logLevel}function _e(r,...e){if(Qa.logLevel<=Ue.DEBUG){const t=e.map(Tg);Qa.debug(`Firestore (${gl}): ${r}`,...t)}}function is(r,...e){if(Qa.logLevel<=Ue.ERROR){const t=e.map(Tg);Qa.error(`Firestore (${gl}): ${r}`,...t)}}function il(r,...e){if(Qa.logLevel<=Ue.WARN){const t=e.map(Tg);Qa.warn(`Firestore (${gl}): ${r}`,...t)}}function Tg(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function De(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,ew(r,i,t)}function ew(r,e,t){let i=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw is(i),new Error(i)}function it(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||ew(e,a,i)}function ke(r,e){return r}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends cs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ea{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class tw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(jn.UNAUTHENTICATED)))}shutdown(){}}class O3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class M3{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ea,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},h=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ea)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string",31837,{l:i}),new tw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new jn(e)}}class V3{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class j3{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new V3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const i=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new z_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function L3(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class Sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=L3(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function qe(r,e){return r<e?-1:r>e?1:0}function Mp(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return fp(a)===fp(l)?qe(a,l):fp(a)?1:-1}return qe(r.length,e.length)}const F3=55296,z3=57343;function fp(r){const e=r.charCodeAt(0);return e>=F3&&e<=z3}function sl(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}const U_="__name__";class Ei{constructor(e,t,i){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&De(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Ei.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return qe(e.length,t.length)}static compareSegments(e,t){const i=Ei.isNumericId(e),a=Ei.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Ei.extractNumericId(e).compare(Ei.extractNumericId(t)):Mp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class yt extends Ei{construct(e,t,i){return new yt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new yt(t)}static emptyPath(){return new yt([])}}const U3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Ei{construct(e,t,i){return new In(e,t,i)}static isValidIdentifier(e){return U3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U_}static keyField(){return new In([U_])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ye(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ye(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new ye(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(t)}static emptyPath(){return new In([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(yt.fromString(e))}static fromName(e){return new Ce(yt.fromString(e).popFirst(5))}static empty(){return new Ce(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new yt(e.slice()))}}function nw(r,e,t){if(!t)throw new ye(le.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function H3(r,e,t,i){if(e===!0&&i===!0)throw new ye(le.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function H_(r){if(!Ce.isDocumentKey(r))throw new ye(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function q_(r){if(Ce.isDocumentKey(r))throw new ye(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function rw(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":De(12329,{type:typeof r})}function _r(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ah(r);throw new ye(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function rn(r,e){const t={typeString:r};return e&&(t.value=e),t}function uu(r,e){if(!rw(r))throw new ye(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const u=r[i];if(a&&typeof u!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ye(le.INVALID_ARGUMENT,t);return!0}const G_=-62135596800,$_=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*$_);return new Et(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G_)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uu(e,Et._jsonSchema))return new Et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Et._jsonSchemaVersion="firestore/timestamp/1.0",Et._jsonSchema={type:rn("string",Et._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Et(0,0))}static max(){return new Re(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gc=-1;function q3(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(i===1e9?new Et(t+1,0):new Et(t,i));return new ia(a,Ce.empty(),e)}function G3(r){return new ia(r.readTime,r.key,Gc)}class ia{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ia(Re.min(),Ce.empty(),Gc)}static max(){return new ia(Re.max(),Ce.empty(),Gc)}}function $3(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(r.documentKey,e.documentKey),t!==0?t:qe(r.largestBatchId,e.largestBatchId))}const K3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yl(r){if(r.code!==le.FAILED_PRECONDITION||r.message!==K3)throw r;_e("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,i)=>{t(e)}))}static reject(e){return new ue(((t,i)=>{i(e)}))}static waitFor(e){return new ue(((t,i)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&t()}),(p=>i(p)))})),u=!0,l===a&&t()}))}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next((a=>a?ue.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new ue(((i,a)=>{const l=e.length,u=new Array(l);let h=0;for(let p=0;p<l;p++){const f=p;t(e[f]).next((y=>{u[f]=y,++h,h===l&&i(u)}),(y=>a(y)))}}))}static doWhile(e,t){return new ue(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function Q3(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vl(r){return r.name==="IndexedDbTransactionError"}class Ch{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ch.ce=-1;const Dg=-1;function Th(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function X3(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const iw="";function W3(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=K_(e)),e=Z3(r.get(t),e);return K_(e)}function Z3(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case iw:t+="";break;default:t+=l}}return t}function K_(r){return r+iw+""}function Y_(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ha(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function sw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Bt{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new Bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $d(this.root,e,this.comparator,!1)}getReverseIterator(){return new $d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $d(this.root,e,this.comparator,!0)}}class $d{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Rn.RED,this.left=a??Rn.EMPTY,this.right=l??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Rn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Rn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(e){return new Q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new dn(this.comparator);return t.data=e,t}}class Q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xr{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new xr([])}unionWith(e){let t=new dn(In.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new xr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class aw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new aw("Invalid base64 string: "+l):l}})(e);return new Nn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new Nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const J3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(r){if(it(!!r,39018),typeof r=="string"){let e=0;const t=J3.exec(r);if(it(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qt(r.seconds),nanos:qt(r.nanos)}}function qt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function aa(r){return typeof r=="string"?Nn.fromBase64String(r):Nn.fromUint8Array(r)}const ow="server_timestamp",lw="__type__",cw="__previous_value__",uw="__local_write_time__";function Rg(r){return(r?.mapValue?.fields||{})[lw]?.stringValue===ow}function Sh(r){const e=r.mapValue.fields[cw];return Rg(e)?Sh(e):e}function $c(r){const e=sa(r.mapValue.fields[uw].timestampValue);return new Et(e.seconds,e.nanos)}class e8{constructor(e,t,i,a,l,u,h,p,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=f,this.isUsingEmulator=y}}const rh="(default)";class Kc{constructor(e,t){this.projectId=e,this.database=t||rh}static empty(){return new Kc("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Kc&&e.projectId===this.projectId&&e.database===this.database}}const dw="__type__",t8="__max__",Kd={mapValue:{}},fw="__vector__",ih="value";function oa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rg(r)?4:r8(r)?9007199254740991:n8(r)?10:11:De(28295,{value:r})}function Ri(r,e){if(r===e)return!0;const t=oa(r);if(t!==oa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $c(r).isEqual($c(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=sa(a.timestampValue),h=sa(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return aa(a.bytesValue).isEqual(aa(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return qt(a.geoPointValue.latitude)===qt(l.geoPointValue.latitude)&&qt(a.geoPointValue.longitude)===qt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return qt(a.integerValue)===qt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=qt(a.doubleValue),h=qt(l.doubleValue);return u===h?nh(u)===nh(h):isNaN(u)&&isNaN(h)}return!1})(r,e);case 9:return sl(r.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Y_(u)!==Y_(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!Ri(u[p],h[p])))return!1;return!0})(r,e);default:return De(52216,{left:r})}}function Yc(r,e){return(r.values||[]).find((t=>Ri(t,e)))!==void 0}function al(r,e){if(r===e)return 0;const t=oa(r),i=oa(e);if(t!==i)return qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(r.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=qt(l.integerValue||l.doubleValue),p=qt(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(r,e);case 3:return X_(r.timestampValue,e.timestampValue);case 4:return X_($c(r),$c(e));case 5:return Mp(r.stringValue,e.stringValue);case 6:return(function(l,u){const h=aa(l),p=aa(u);return h.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),p=u.split("/");for(let f=0;f<h.length&&f<p.length;f++){const y=qe(h[f],p[f]);if(y!==0)return y}return qe(h.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=qe(qt(l.latitude),qt(u.latitude));return h!==0?h:qe(qt(l.longitude),qt(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return W_(r.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},p=u.fields||{},f=h[ih]?.arrayValue,y=p[ih]?.arrayValue,v=qe(f?.values?.length||0,y?.values?.length||0);return v!==0?v:W_(f,y)})(r.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Kd.mapValue&&u===Kd.mapValue)return 0;if(l===Kd.mapValue)return 1;if(u===Kd.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),f=u.fields||{},y=Object.keys(f);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const x=Mp(p[v],y[v]);if(x!==0)return x;const b=al(h[p[v]],f[y[v]]);if(b!==0)return b}return qe(p.length,y.length)})(r.mapValue,e.mapValue);default:throw De(23264,{he:t})}}function X_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return qe(r,e);const t=sa(r),i=sa(e),a=qe(t.seconds,i.seconds);return a!==0?a:qe(t.nanos,i.nanos)}function W_(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=al(t[a],i[a]);if(l)return l}return qe(t.length,i.length)}function ol(r){return Vp(r)}function Vp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=sa(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return aa(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ce.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Vp(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Vp(t.fields[u])}`;return a+"}"})(r.mapValue):De(61005,{value:r})}function af(r){switch(oa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(r);return e?16+af(e):16;case 5:return 2*r.stringValue.length;case 6:return aa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+af(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return ha(i.fields,((l,u)=>{a+=l.length+af(u)})),a})(r.mapValue);default:throw De(13486,{value:r})}}function Z_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function jp(r){return!!r&&"integerValue"in r}function Ig(r){return!!r&&"arrayValue"in r}function J_(r){return!!r&&"nullValue"in r}function eb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function of(r){return!!r&&"mapValue"in r}function n8(r){return(r?.mapValue?.fields||{})[dw]?.stringValue===fw}function Bc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ha(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Bc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bc(r.arrayValue.values[t]);return e}return{...r}}function r8(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===t8}class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!of(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(t)}setAll(e){let t=In.emptyPath(),i={},a=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=h.popLast()}u?i[h.lastSegment()]=Bc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());of(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];of(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ha(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new rr(Bc(this.value))}}function hw(r){const e=[];return ha(r.fields,((t,i)=>{const a=new In([t]);if(of(i)){const l=hw(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new xr(e)}class Pn{constructor(e,t,i,a,l,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Pn(e,0,Re.min(),Re.min(),Re.min(),rr.empty(),0)}static newFoundDocument(e,t,i,a){return new Pn(e,1,t,Re.min(),i,a,0)}static newNoDocument(e,t){return new Pn(e,2,t,Re.min(),Re.min(),rr.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,Re.min(),Re.min(),rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(e,t){this.position=e,this.inclusive=t}}function tb(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],u=r.position[a];if(l.field.isKeyField()?i=Ce.comparator(Ce.fromName(u.referenceValue),t.key):i=al(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function nb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ri(r.position[t],e.position[t]))return!1;return!0}class Qc{constructor(e,t="asc"){this.field=e,this.dir=t}}function i8(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class mw{}class nn extends mw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new a8(e,t,i):t==="array-contains"?new c8(e,i):t==="in"?new u8(e,i):t==="not-in"?new d8(e,i):t==="array-contains-any"?new f8(e,i):new nn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new o8(e,i):new l8(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(al(t,this.value)):t!==null&&oa(this.value)===oa(t)&&this.matchesComparison(al(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends mw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ti(e,t)}matches(e){return pw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pw(r){return r.op==="and"}function gw(r){return s8(r)&&pw(r)}function s8(r){for(const e of r.filters)if(e instanceof ti)return!1;return!0}function Pp(r){if(r instanceof nn)return r.field.canonicalString()+r.op.toString()+ol(r.value);if(gw(r))return r.filters.map((e=>Pp(e))).join(",");{const e=r.filters.map((t=>Pp(t))).join(",");return`${r.op}(${e})`}}function yw(r,e){return r instanceof nn?(function(i,a){return a instanceof nn&&i.op===a.op&&i.field.isEqual(a.field)&&Ri(i.value,a.value)})(r,e):r instanceof ti?(function(i,a){return a instanceof ti&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,h)=>l&&yw(u,a.filters[h])),!0):!1})(r,e):void De(19439)}function vw(r){return r instanceof nn?(function(t){return`${t.field.canonicalString()} ${t.op} ${ol(t.value)}`})(r):r instanceof ti?(function(t){return t.op.toString()+" {"+t.getFilters().map(vw).join(" ,")+"}"})(r):"Filter"}class a8 extends nn{constructor(e,t,i){super(e,t,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class o8 extends nn{constructor(e,t){super(e,"in",t),this.keys=xw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class l8 extends nn{constructor(e,t){super(e,"not-in",t),this.keys=xw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function xw(r,e){return(e.arrayValue?.values||[]).map((t=>Ce.fromName(t.referenceValue)))}class c8 extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ig(t)&&Yc(t.arrayValue,this.value)}}class u8 extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yc(this.value.arrayValue,t)}}class d8 extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yc(this.value.arrayValue,t)}}class f8 extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ig(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Yc(this.value.arrayValue,i)))}}class h8{constructor(e,t=null,i=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function rb(r,e=null,t=[],i=[],a=null,l=null,u=null){return new h8(r,e,t,i,a,l,u)}function Ng(r){const e=ke(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Pp(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Th(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ol(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ol(i))).join(",")),e.Te=t}return e.Te}function kg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!i8(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!yw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!nb(r.startAt,e.startAt)&&nb(r.endAt,e.endAt)}function Lp(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class xl{constructor(e,t=null,i=[],a=[],l=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m8(r,e,t,i,a,l,u,h){return new xl(r,e,t,i,a,l,u,h)}function Dh(r){return new xl(r)}function ib(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _w(r){return r.collectionGroup!==null}function Oc(r){const e=ke(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new dn(In.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qc(l,i))})),t.has(In.keyField().canonicalString())||e.Ie.push(new Qc(In.keyField(),i))}return e.Ie}function Ai(r){const e=ke(r);return e.Ee||(e.Ee=p8(e,Oc(r))),e.Ee}function p8(r,e){if(r.limitType==="F")return rb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qc(a.field,l)}));const t=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return rb(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Fp(r,e){const t=r.filters.concat([e]);return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function zp(r,e,t){return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Rh(r,e){return kg(Ai(r),Ai(e))&&r.limitType===e.limitType}function bw(r){return`${Ng(Ai(r))}|lt:${r.limitType}`}function $o(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>vw(a))).join(", ")}]`),Th(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ol(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ol(a))).join(",")),`Target(${i})`})(Ai(r))}; limitType=${r.limitType})`}function Ih(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ce.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of Oc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(u,h,p){const f=tb(u,h,p);return u.inclusive?f<=0:f<0})(i.startAt,Oc(i),a)||i.endAt&&!(function(u,h,p){const f=tb(u,h,p);return u.inclusive?f>=0:f>0})(i.endAt,Oc(i),a))})(r,e)}function g8(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ew(r){return(e,t)=>{let i=!1;for(const a of Oc(r)){const l=y8(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function y8(r,e,t){const i=r.field.isKeyField()?Ce.comparator(e.key,t.key):(function(l,u,h){const p=u.data.field(l),f=h.data.field(l);return p!==null&&f!==null?al(p,f):De(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return De(19790,{direction:r.dir})}}class Ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return sw(this.inner)}size(){return this.innerSize}}const v8=new Bt(Ce.comparator);function ss(){return v8}const ww=new Bt(Ce.comparator);function Dc(...r){let e=ww;for(const t of r)e=e.insert(t.key,t);return e}function Aw(r){let e=ww;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ha(){return Mc()}function Cw(){return Mc()}function Mc(){return new Ja((r=>r.toString()),((r,e)=>r.isEqual(e)))}const x8=new Bt(Ce.comparator),_8=new dn(Ce.comparator);function Ge(...r){let e=_8;for(const t of r)e=e.add(t);return e}const b8=new dn(qe);function E8(){return b8}function Bg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function Tw(r){return{integerValue:""+r}}function w8(r,e){return X3(e)?Tw(e):Bg(r,e)}class Nh{constructor(){this._=void 0}}function A8(r,e,t){return r instanceof ah?(function(a,l){const u={fields:{[lw]:{stringValue:ow},[uw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Rg(l)&&(l=Sh(l)),l&&(u.fields[cw]=l),{mapValue:u}})(t,e):r instanceof Xc?Dw(r,e):r instanceof Wc?Rw(r,e):(function(a,l){const u=Sw(a,l),h=sb(u)+sb(a.Ae);return jp(u)&&jp(a.Ae)?Tw(h):Bg(a.serializer,h)})(r,e)}function C8(r,e,t){return r instanceof Xc?Dw(r,e):r instanceof Wc?Rw(r,e):t}function Sw(r,e){return r instanceof oh?(function(i){return jp(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class ah extends Nh{}class Xc extends Nh{constructor(e){super(),this.elements=e}}function Dw(r,e){const t=Iw(e);for(const i of r.elements)t.some((a=>Ri(a,i)))||t.push(i);return{arrayValue:{values:t}}}class Wc extends Nh{constructor(e){super(),this.elements=e}}function Rw(r,e){let t=Iw(e);for(const i of r.elements)t=t.filter((a=>!Ri(a,i)));return{arrayValue:{values:t}}}class oh extends Nh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function sb(r){return qt(r.integerValue||r.doubleValue)}function Iw(r){return Ig(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function T8(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof Xc&&a instanceof Xc||i instanceof Wc&&a instanceof Wc?sl(i.elements,a.elements,Ri):i instanceof oh&&a instanceof oh?Ri(i.Ae,a.Ae):i instanceof ah&&a instanceof ah})(r.transform,e.transform)}class S8{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class kh{}function Nw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Bh(r.key,Gn.none()):new du(r.key,r.data,Gn.none());{const t=r.data,i=rr.empty();let a=new dn(In.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new ma(r.key,i,new xr(a.toArray()),Gn.none())}}function D8(r,e,t){r instanceof du?(function(a,l,u){const h=a.value.clone(),p=ob(a.fieldTransforms,l,u.transformResults);h.setAll(p),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(r,e,t):r instanceof ma?(function(a,l,u){if(!lf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=ob(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(kw(a)),p.setAll(h),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(r,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Vc(r,e,t,i){return r instanceof du?(function(l,u,h,p){if(!lf(l.precondition,u))return h;const f=l.value.clone(),y=lb(l.fieldTransforms,p,u);return f.setAll(y),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null})(r,e,t,i):r instanceof ma?(function(l,u,h,p){if(!lf(l.precondition,u))return h;const f=lb(l.fieldTransforms,p,u),y=u.data;return y.setAll(kw(l)),y.setAll(f),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(r,e,t,i):(function(l,u,h){return lf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(r,e,t)}function R8(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=Sw(i.transform,a||null);l!=null&&(t===null&&(t=rr.empty()),t.set(i.field,l))}return t||null}function ab(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&sl(i,a,((l,u)=>T8(l,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class du extends kh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ma extends kh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function kw(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function ob(r,e,t){const i=new Map;it(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let a=0;a<t.length;a++){const l=r[a],u=l.transform,h=e.data.field(l.field);i.set(l.field,C8(u,h,t[a]))}return i}function lb(r,e,t){const i=new Map;for(const a of r){const l=a.transform,u=t.data.field(a.field);i.set(a.field,A8(l,u,e))}return i}class Bh extends kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I8 extends kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class N8{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&D8(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Vc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Vc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Cw();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(a.key)?null:h;const p=Nw(u,h);p!==null&&i.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Re.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((t,i)=>ab(t,i)))&&sl(this.baseMutations,e.baseMutations,((t,i)=>ab(t,i)))}}class Og{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){it(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return x8})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Og(e,t,i,a)}}class k8{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class B8{constructor(e,t){this.count=e,this.unchangedNames=t}}var tn,Ze;function O8(r){switch(r){case le.OK:return De(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return De(15467,{code:r})}}function Bw(r){if(r===void 0)return is("GRPC error has no .code"),le.UNKNOWN;switch(r){case tn.OK:return le.OK;case tn.CANCELLED:return le.CANCELLED;case tn.UNKNOWN:return le.UNKNOWN;case tn.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case tn.INTERNAL:return le.INTERNAL;case tn.UNAVAILABLE:return le.UNAVAILABLE;case tn.UNAUTHENTICATED:return le.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case tn.NOT_FOUND:return le.NOT_FOUND;case tn.ALREADY_EXISTS:return le.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return le.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case tn.ABORTED:return le.ABORTED;case tn.OUT_OF_RANGE:return le.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return le.UNIMPLEMENTED;case tn.DATA_LOSS:return le.DATA_LOSS;default:return De(39323,{code:r})}}(Ze=tn||(tn={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function M8(){return new TextEncoder}const V8=new Js([4294967295,4294967295],0);function cb(r){const e=M8().encode(r),t=new Y2;return t.update(e),new Uint8Array(t.digest())}function ub(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Js([t,i],0),new Js([a,l],0)]}class Mg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Rc(`Invalid padding: ${t}`);if(i<0)throw new Rc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Rc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Rc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Js.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Js.fromNumber(i)));return a.compare(V8)===1&&(a=new Js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=cb(e),[i,a]=ub(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Mg(l,a,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=cb(e),[i,a]=ub(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Oh(Re.min(),a,new Bt(qe),ss(),Ge())}}class fu{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new fu(i,t,Ge(),Ge(),Ge())}}class cf{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class Ow{constructor(e,t){this.targetId=e,this.Ce=t}}class Mw{constructor(e,t,i=Nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class db{constructor(){this.ve=0,this.Fe=fb(),this.Me=Nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),t=Ge(),i=Ge();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:De(38017,{changeType:l})}})),new fu(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=fb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class j8{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.Je=Yd(),this.He=Yd(),this.Ye=new Bt(qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Lp(l))if(i===0){const u=new Ce(l.path);this.et(t,u,Pn.newNoDocument(u,Re.min()))}else it(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),p=h?this.ct(h,e,u):1;if(p!==0){this.it(t);const f=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let u,h;try{u=aa(i).toUint8Array()}catch(p){if(p instanceof aw)return il("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Mg(u,a,l)}catch(p){return il(p instanceof Rc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Lp(h.target)){const p=new Ce(h.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Pn.newNoDocument(p,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let i=Ge();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((p=>{const f=this.ot(p);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Oh(e,t,this.Ye,this.je,i);return this.je=ss(),this.Je=Yd(),this.He=Yd(),this.Ye=new Bt(qe),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new db,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new dn(qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new dn(qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new db),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yd(){return new Bt(Ce.comparator)}function fb(){return new Bt(Ce.comparator)}const P8={asc:"ASCENDING",desc:"DESCENDING"},L8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F8={and:"AND",or:"OR"};class z8{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Up(r,e){return r.useProto3Json||Th(e)?e:{value:e}}function lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function U8(r,e){return lh(r,e.toTimestamp())}function Ci(r){return it(!!r,49232),Re.fromTimestamp((function(t){const i=sa(t);return new Et(i.seconds,i.nanos)})(r))}function Vg(r,e){return Hp(r,e).canonicalString()}function Hp(r,e){const t=(function(a){return new yt(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function jw(r){const e=yt.fromString(r);return it(Uw(e),10190,{key:e.toString()}),e}function qp(r,e){return Vg(r.databaseId,e.path)}function hp(r,e){const t=jw(e);if(t.get(1)!==r.databaseId.projectId)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ce(Lw(t))}function Pw(r,e){return Vg(r.databaseId,e)}function H8(r){const e=jw(r);return e.length===4?yt.emptyPath():Lw(e)}function Gp(r){return new yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Lw(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function hb(r,e,t){return{name:qp(r,e),fields:t.value.mapValue.fields}}function q8(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:De(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(f,y){return f.useProto3Json?(it(y===void 0||typeof y=="string",58123),Nn.fromBase64String(y||"")):(it(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Nn.fromUint8Array(y||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(f){const y=f.code===void 0?le.UNKNOWN:Bw(f.code);return new ye(y,f.message||"")})(u);t=new Mw(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=hp(r,i.document.name),l=Ci(i.document.updateTime),u=i.document.createTime?Ci(i.document.createTime):Re.min(),h=new rr({mapValue:{fields:i.document.fields}}),p=Pn.newFoundDocument(a,l,u,h),f=i.targetIds||[],y=i.removedTargetIds||[];t=new cf(f,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=hp(r,i.document),l=i.readTime?Ci(i.readTime):Re.min(),u=Pn.newNoDocument(a,l),h=i.removedTargetIds||[];t=new cf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=hp(r,i.document),l=i.removedTargetIds||[];t=new cf([],l,a,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new B8(a,l),h=i.targetId;t=new Ow(h,u)}}return t}function G8(r,e){let t;if(e instanceof du)t={update:hb(r,e.key,e.value)};else if(e instanceof Bh)t={delete:qp(r,e.key)};else if(e instanceof ma)t={update:hb(r,e.key,e.data),updateMask:e5(e.fieldMask)};else{if(!(e instanceof I8))return De(16599,{Vt:e.type});t={verify:qp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const h=u.transform;if(h instanceof ah)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Xc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Wc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof oh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw De(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:U8(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:De(27497)})(r,e.precondition)),t}function $8(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map((t=>(function(a,l){let u=a.updateTime?Ci(a.updateTime):Ci(l);return u.isEqual(Re.min())&&(u=Ci(l)),new S8(u,a.transformResults||[])})(t,e)))):[]}function K8(r,e){return{documents:[Pw(r,e.path)]}}function Y8(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Pw(r,a);const l=(function(f){if(f.length!==0)return zw(ti.create(f,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(f){if(f.length!==0)return f.map((y=>(function(x){return{field:Ko(x.field),direction:W8(x.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Up(r,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:a}}function Q8(r){let e=H8(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){it(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(v){const x=Fw(v);return x instanceof ti&&gw(x)?x.getFilters():[x]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((x=>(function(w){return new Qc(Yo(w.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(x)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let x;return x=typeof v=="object"?v.value:v,Th(x)?null:x})(t.limit));let p=null;t.startAt&&(p=(function(v){const x=!!v.before,b=v.values||[];return new sh(b,x)})(t.startAt));let f=null;return t.endAt&&(f=(function(v){const x=!v.before,b=v.values||[];return new sh(b,x)})(t.endAt)),m8(e,a,u,l,h,"F",p,f)}function X8(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Fw(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Yo(t.unaryFilter.field);return nn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Yo(t.unaryFilter.field);return nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yo(t.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yo(t.unaryFilter.field);return nn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(r):r.fieldFilter!==void 0?(function(t){return nn.create(Yo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return ti.create(t.compositeFilter.filters.map((i=>Fw(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(t.compositeFilter.op))})(r):De(30097,{filter:r})}function W8(r){return P8[r]}function Z8(r){return L8[r]}function J8(r){return F8[r]}function Ko(r){return{fieldPath:r.canonicalString()}}function Yo(r){return In.fromServerFormat(r.fieldPath)}function zw(r){return r instanceof nn?(function(t){if(t.op==="=="){if(eb(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NAN"}};if(J_(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(eb(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NAN"}};if(J_(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(t.field),op:Z8(t.op),value:t.value}}})(r):r instanceof ti?(function(t){const i=t.getFilters().map((a=>zw(a)));return i.length===1?i[0]:{compositeFilter:{op:J8(t.op),filters:i}}})(r):De(54877,{filter:r})}function e5(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Uw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qs{constructor(e,t,i,a,l=Re.min(),u=Re.min(),h=Nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class t5{constructor(e){this.yt=e}}function n5(r){const e=Q8({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zp(e,e.limit,"L"):e}class r5{constructor(){this.Cn=new i5}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(ia.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class i5{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new dn(yt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new dn(yt.comparator)).toArray()}}const mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hw=41943040;class tr{static withCacheSize(e){return new tr(e,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(Hw,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);class ll{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ll(0)}static cr(){return new ll(-1)}}const pb="LruGarbageCollector",s5=1048576;function gb([r,e],[t,i]){const a=qe(r,t);return a===0?qe(e,i):a}class a5{constructor(e){this.Ir=e,this.buffer=new dn(gb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();gb(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class o5{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(pb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vl(t)?_e(pb,"Ignoring IndexedDB error during garbage collection: ",t):await yl(t)}await this.Vr(3e5)}))}}class l5{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Ch.ce);const i=new a5(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(mb)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,u,h,p,f;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(e,i,t)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(f=Date.now(),Go()<=Ue.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${v} documents in `+(f-p)+`ms
Total Duration: ${f-y}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function c5(r,e){return new l5(r,e)}class u5{constructor(){this.changes=new Ja((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class d5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class f5{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Vc(i.mutation,a,xr.empty(),Et.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ge()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ge()){const a=Ha();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let u=Dc();return l.forEach(((h,p)=>{u=u.insert(h,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=Ha();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ge())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,a){let l=ss();const u=Mc(),h=(function(){return Mc()})();return t.forEach(((p,f)=>{const y=i.get(f.key);a.has(f.key)&&(y===void 0||y.mutation instanceof ma)?l=l.insert(f.key,f):y!==void 0?(u.set(f.key,y.mutation.getFieldMask()),Vc(y.mutation,f,y.mutation.getFieldMask(),Et.now())):u.set(f.key,xr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((f,y)=>u.set(f,y))),t.forEach(((f,y)=>h.set(f,new d5(y,u.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=Mc();let a=new Bt(((u,h)=>u-h)),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((p=>{const f=t.get(p);if(f===null)return;let y=i.get(p)||xr.empty();y=h.applyToLocalView(f,y),i.set(p,y);const v=(a.get(h.batchId)||Ge()).add(p);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),f=p.key,y=p.value,v=Cw();y.forEach((x=>{if(!l.has(x)){const b=Nw(t.get(x),i.get(x));b!==null&&v.set(x,b),l=l.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,f,v))}return ue.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_w(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ue.resolve(Ha());let h=Gc,p=l;return u.next((f=>ue.forEach(f,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{p=p.insert(y,x)}))))).next((()=>this.populateOverlays(e,f,l))).next((()=>this.computeViews(e,p,f,Ge()))).next((y=>({batchId:h,changes:Aw(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next((i=>{let a=Dc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let u=Dc();return this.indexManager.getCollectionParents(e,l).next((h=>ue.forEach(h,(p=>{const f=(function(v,x){return new xl(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,f,i,a).next((y=>{y.forEach(((v,x)=>{u=u.insert(v,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((u=>{l.forEach(((p,f)=>{const y=f.getKey();u.get(y)===null&&(u=u.insert(y,Pn.newInvalidDocument(y)))}));let h=Dc();return u.forEach(((p,f)=>{const y=l.get(p);y!==void 0&&Vc(y.mutation,f,xr.empty(),Et.now()),Ih(t,f)&&(h=h.insert(p,f))})),h}))}}class h5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Ci(a.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:n5(a.bundledQuery),readTime:Ci(a.readTime)}})(t)),ue.resolve()}}class m5{constructor(){this.overlays=new Bt(Ce.comparator),this.qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ha();return ue.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const a=Ha(),l=t.length+1,u=new Ce(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,f=p.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Bt(((f,y)=>f-y));const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let y=l.get(f.largestBatchId);y===null&&(y=Ha(),l=l.insert(f.largestBatchId,y)),y.set(f.getKey(),f)}}const h=Ha(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((f,y)=>h.set(f,y))),!(h.size()>=a)););return ue.resolve(h)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new k8(t,i));let l=this.qr.get(t);l===void 0&&(l=Ge(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}class p5{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}class jg{constructor(){this.Qr=new dn(gn.$r),this.Ur=new dn(gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new gn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new gn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Ce(new yt([])),i=new gn(t,e),a=new gn(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ce(new yt([])),i=new gn(t,e),a=new gn(t,e+1);let l=Ge();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new gn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class gn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ce.comparator(e.key,t.key)||qe(e.Yr,t.Yr)}static Kr(e,t){return qe(e.Yr,t.Yr)||Ce.comparator(e.key,t.key)}}class g5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new dn(gn.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new N8(l,t,i,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new gn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Dg:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new gn(t,0),a=new gn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new dn(qe);return t.forEach((a=>{const l=new gn(a,0),u=new gn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{i=i.add(h.Yr)}))})),ue.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ce.isDocumentKey(l)||(l=l.child(""));const u=new gn(new Ce(l),0);let h=new dn(qe);return this.Zr.forEachWhile((p=>{const f=p.key.path;return!!i.isPrefixOf(f)&&(f.length===a&&(h=h.add(p.Yr)),!0)}),u),ue.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){it(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ue.forEach(t.mutations,(a=>{const l=new gn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new gn(t,0),a=this.Zr.firstAfterOrEqual(i);return ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class y5{constructor(e){this.ri=e,this.docs=(function(){return new Bt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let i=ss();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Pn.newInvalidDocument(a))})),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=ss();const u=t.path,h=new Ce(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:f,value:{document:y}}=p.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||$3(G3(y),i)<=0||(a.has(y.key)||Ih(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,i,a){De(9500)}ii(e,t){return ue.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new v5(this)}getSize(e){return ue.resolve(this.size)}}class v5 extends u5{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class x5{constructor(e){this.persistence=e,this.si=new Ja((t=>Ng(t)),kg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new jg,this.targetCount=0,this.ai=ll.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ll(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Pr(t),ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ue.waitFor(l).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this._i.containsKey(t))}}class qw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ch(0),this.li=!1,this.li=!0,this.hi=new p5,this.referenceDelegate=e(this),this.Pi=new x5(this),this.indexManager=new r5,this.remoteDocumentCache=(function(a){return new y5(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new t5(t),this.Ii=new h5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new m5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new g5(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){_e("MemoryPersistence","Starting transaction:",e);const a=new _5(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return ue.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class _5 extends Y3{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Ri=new jg,this.Vi=null}static mi(e){return new Pg(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(i=>{const a=Ce.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ch{constructor(e,t){this.persistence=e,this.pi=new Ja((i=>W3(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=c5(this,t)}static mi(e,t){return new ch(e,t)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return ue.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?ue.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((h=>{h||(i++,l.removeEntry(u,Re.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=af(e.data.value)),t}br(e,t,i){return ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ue.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Lg{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Ge(),a=Ge();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Lg(e,t.fromCache,i,a)}}class b5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class E5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Q4()?8:Q3(Ln())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new b5;return this.Ss(e,t,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(Go()<=Ue.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Go()<=Ue.DEBUG&&_e("QueryEngine","Query:",$o(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Go()<=Ue.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(t))):ue.resolve())}ys(e,t){if(ib(t))return ue.resolve(null);let i=Ai(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=zp(t,null,"F"),i=Ai(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Ge(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((p=>{const f=this.Ds(t,h);return this.Cs(t,f,u,p.readTime)?this.ys(e,zp(t,null,"F")):this.vs(e,f,t,p)}))))})))))}ws(e,t,i,a){return ib(t)||a.isEqual(Re.min())?ue.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,i,a)?ue.resolve(null):(Go()<=Ue.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),$o(t)),this.vs(e,u,t,q3(a,Gc)).next((h=>h)))}))}Ds(e,t){let i=new dn(Ew(e));return t.forEach(((a,l)=>{Ih(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Go()<=Ue.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",$o(t)),this.ps.getDocumentsMatchingQuery(e,t,ia.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Fg="LocalStore",w5=3e8;class A5{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Bt(qe),this.xs=new Ja((l=>Ng(l)),kg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function C5(r,e,t,i){return new A5(r,e,t,i)}async function Gw(r,e){const t=ke(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],h=[];let p=Ge();for(const f of a){u.push(f.batchId);for(const y of f.mutations)p=p.add(y.key)}for(const f of l){h.push(f.batchId);for(const y of f.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(i,p).next((f=>({Ls:f,removedBatchIds:u,addedBatchIds:h})))}))}))}function T5(r,e){const t=ke(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,f,y){const v=f.batch,x=v.keys();let b=ue.resolve();return x.forEach((w=>{b=b.next((()=>y.getEntry(p,w))).next((T=>{const C=f.docVersions.get(w);it(C!==null,48541),T.version.compareTo(C)<0&&(v.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),y.addEntry(T)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(p,v)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let p=Ge();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(p=p.add(h.batch.mutations[f].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function $w(r){const e=ke(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function S5(r,e){const t=ke(r),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const x=a.get(v);if(!x)return;h.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,y.addedDocuments,v))));let b=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(Nn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,i)),a=a.insert(v,b),(function(T,C,V){return T.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=w5?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(x,b,y)&&h.push(t.Pi.updateTargetData(l,b))}));let p=ss(),f=Ge();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(D5(l,u,e.documentUpdates).next((y=>{p=y.ks,f=y.qs}))),!i.isEqual(Re.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return ue.waitFor(h).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,f))).next((()=>p))})).then((l=>(t.Ms=a,l)))}function D5(r,e,t){let i=Ge(),a=Ge();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let u=ss();return t.forEach(((h,p)=>{const f=l.get(h);p.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(h)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!f.isValidDocument()||p.version.compareTo(f.version)>0||p.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):_e(Fg,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",p.version)})),{ks:u,qs:a}}))}function R5(r,e){const t=ke(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Dg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function I5(r,e){const t=ke(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,ue.resolve(a)):t.Pi.allocateTargetId(i).next((u=>(a=new Qs(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function $p(r,e,t){const i=ke(r),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!vl(u))throw u;_e(Fg,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function yb(r,e,t){const i=ke(r);let a=Re.min(),l=Ge();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,f,y){const v=ke(p),x=v.xs.get(y);return x!==void 0?ue.resolve(v.Ms.get(x)):v.Pi.getTargetData(f,y)})(i,u,Ai(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?a:Re.min(),t?l:Ge()))).next((h=>(N5(i,g8(e),h),{documents:h,Qs:l})))))}function N5(r,e,t){let i=r.Os.get(e)||Re.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}class vb{constructor(){this.activeTargetIds=E8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k5{constructor(){this.Mo=new vb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class B5{Oo(e){}shutdown(){}}const xb="ConnectivityMonitor";class _b{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(xb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(xb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qd=null;function Kp(){return Qd===null?Qd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qd++,"0x"+Qd.toString(16)}const mp="RestConnection",O5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===rh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const u=Kp(),h=this.zo(e,t.toUriEncodedString());_e(mp,`Sending RPC '${e}' ${u}:`,h,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:f}=new URL(h),y=ml(f);return this.Jo(e,h,p,i,y).then((v=>(_e(mp,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw il(mp,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}Ho(e,t,i,a,l,u){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=O5[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class V5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Vn="WebChannelConnection";class j5 extends M5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const u=Kp();return new Promise(((h,p)=>{const f=new Q2;f.setWithCredentials(!0),f.listenOnce(X2.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case sf.NO_ERROR:const v=f.getResponseJson();_e(Vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case sf.TIMEOUT:_e(Vn,`RPC '${e}' ${u} timed out`),p(new ye(le.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:const x=f.getStatus();if(_e(Vn,`RPC '${e}' ${u} failed with status:`,x,"response text:",f.getResponseText()),x>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b?.error;if(w&&w.status&&w.message){const T=(function(V){const k=V.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(k)>=0?k:le.UNKNOWN})(w.status);p(new ye(T,w.message))}else p(new ye(le.UNKNOWN,"Server responded with status "+f.getStatus()))}else p(new ye(le.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:u,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{_e(Vn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);_e(Vn,`RPC '${e}' ${u} sending request:`,a),f.send(t,"POST",y,i,15)}))}T_(e,t,i){const a=Kp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=J2(),h=Z2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(p.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const y=l.join("");_e(Vn,`Creating RPC '${e}' stream ${a}: ${y}`,p);const v=u.createWebChannel(y,p);this.I_(v);let x=!1,b=!1;const w=new V5({Yo:C=>{b?_e(Vn,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(x||(_e(Vn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),x=!0),_e(Vn,`RPC '${e}' stream ${a} sending:`,C),v.send(C))},Zo:()=>v.close()}),T=(C,V,k)=>{C.listen(V,(B=>{try{k(B)}catch(L){setTimeout((()=>{throw L}),0)}}))};return T(v,Sc.EventType.OPEN,(()=>{b||(_e(Vn,`RPC '${e}' stream ${a} transport opened.`),w.o_())})),T(v,Sc.EventType.CLOSE,(()=>{b||(b=!0,_e(Vn,`RPC '${e}' stream ${a} transport closed`),w.a_(),this.E_(v))})),T(v,Sc.EventType.ERROR,(C=>{b||(b=!0,il(Vn,`RPC '${e}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),w.a_(new ye(le.UNAVAILABLE,"The operation could not be completed")))})),T(v,Sc.EventType.MESSAGE,(C=>{if(!b){const V=C.data[0];it(!!V,16349);const k=V,B=k?.error||k[0]?.error;if(B){_e(Vn,`RPC '${e}' stream ${a} received error:`,B);const L=B.status;let H=(function(R){const I=tn[R];if(I!==void 0)return Bw(I)})(L),q=B.message;H===void 0&&(H=le.INTERNAL,q="Unknown error status: "+L+" with message "+B.message),b=!0,w.a_(new ye(H,q)),v.close()}else _e(Vn,`RPC '${e}' stream ${a} received:`,V),w.u_(V)}})),T(h,W2.STAT_EVENT,(C=>{C.stat===Op.PROXY?_e(Vn,`RPC '${e}' stream ${a} detected buffering proxy`):C.stat===Op.NOPROXY&&_e(Vn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function pp(){return typeof document<"u"?document:null}function Mh(r){return new z8(r,!0)}class Kw{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&_e("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const bb="PersistentStream";class Yw{constructor(e,t,i,a,l,u,h,p){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Kw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(is(t.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new ye(le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(bb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(_e(bb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class P5 extends Yw{constructor(e,t,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=q8(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Re.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Ci(u.readTime):Re.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Gp(this.serializer),t.addTarget=(function(l,u){let h;const p=u.target;if(h=Lp(p)?{documents:K8(l,p)}:{query:Y8(l,p).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Vw(l,u.resumeToken);const f=Up(l,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(Re.min())>0){h.readTime=lh(l,u.snapshotVersion.toTimestamp());const f=Up(l,u.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const i=X8(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Gp(this.serializer),t.removeTarget=e,this.q_(t)}}class L5 extends Yw{constructor(e,t,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=$8(e.writeResults,e.commitTime),i=Ci(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Gp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>G8(this.serializer,i)))};this.q_(t)}}class F5{}class z5 extends F5{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Hp(t,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(le.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Hp(t,i),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(le.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class U5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(t),this.aa=!1):_e("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xa="RemoteStore";class H5{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{eo(this)&&(_e(Xa,"Restarting streams for network reachability change."),await(async function(p){const f=ke(p);f.Ea.add(4),await hu(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Vh(f)})(this))}))})),this.Ra=new U5(i,a)}}async function Vh(r){if(eo(r))for(const e of r.da)await e(!0)}async function hu(r){for(const e of r.da)await e(!1)}function Qw(r,e){const t=ke(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),qg(t)?Hg(t):_l(t).O_()&&Ug(t,e))}function zg(r,e){const t=ke(r),i=_l(t);t.Ia.delete(e),i.O_()&&Xw(t,e),t.Ia.size===0&&(i.O_()?i.L_():eo(t)&&t.Ra.set("Unknown"))}function Ug(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_l(r).Y_(e)}function Xw(r,e){r.Va.Ue(e),_l(r).Z_(e)}function Hg(r){r.Va=new j8({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),_l(r).start(),r.Ra.ua()}function qg(r){return eo(r)&&!_l(r).x_()&&r.Ia.size>0}function eo(r){return ke(r).Ea.size===0}function Ww(r){r.Va=void 0}async function q5(r){r.Ra.set("Online")}async function G5(r){r.Ia.forEach(((e,t)=>{Ug(r,e)}))}async function $5(r,e){Ww(r),qg(r)?(r.Ra.ha(e),Hg(r)):r.Ra.set("Unknown")}async function K5(r,e,t){if(r.Ra.set("Online"),e instanceof Mw&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(r,e)}catch(i){_e(Xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await uh(r,i)}else if(e instanceof cf?r.Va.Ze(e):e instanceof Ow?r.Va.st(e):r.Va.tt(e),!t.isEqual(Re.min()))try{const i=await $w(r.localStore);t.compareTo(i)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((p,f)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(f);y&&l.Ia.set(f,y.withResumeToken(p.resumeToken,u))}})),h.targetMismatches.forEach(((p,f)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(Nn.EMPTY_BYTE_STRING,y.snapshotVersion)),Xw(l,p);const v=new Qs(y.target,p,f,y.sequenceNumber);Ug(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(r,t)}catch(i){_e(Xa,"Failed to raise snapshot:",i),await uh(r,i)}}async function uh(r,e,t){if(!vl(e))throw e;r.Ea.add(1),await hu(r),r.Ra.set("Offline"),t||(t=()=>$w(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{_e(Xa,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Vh(r)}))}function Zw(r,e){return e().catch((t=>uh(r,t,e)))}async function jh(r){const e=ke(r),t=la(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dg;for(;Y5(e);)try{const a=await R5(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,Q5(e,a)}catch(a){await uh(e,a)}Jw(e)&&eA(e)}function Y5(r){return eo(r)&&r.Ta.length<10}function Q5(r,e){r.Ta.push(e);const t=la(r);t.O_()&&t.X_&&t.ea(e.mutations)}function Jw(r){return eo(r)&&!la(r).x_()&&r.Ta.length>0}function eA(r){la(r).start()}async function X5(r){la(r).ra()}async function W5(r){const e=la(r);for(const t of r.Ta)e.ea(t.mutations)}async function Z5(r,e,t){const i=r.Ta.shift(),a=Og.from(i,e,t);await Zw(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await jh(r)}async function J5(r,e){e&&la(r).X_&&await(async function(i,a){if((function(u){return O8(u)&&u!==le.ABORTED})(a.code)){const l=i.Ta.shift();la(i).B_(),await Zw(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await jh(i)}})(r,e),Jw(r)&&eA(r)}async function Eb(r,e){const t=ke(r);t.asyncQueue.verifyOperationInProgress(),_e(Xa,"RemoteStore received new credentials");const i=eo(t);t.Ea.add(3),await hu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Vh(t)}async function eI(r,e){const t=ke(r);e?(t.Ea.delete(2),await Vh(t)):e||(t.Ea.add(2),await hu(t),t.Ra.set("Unknown"))}function _l(r){return r.ma||(r.ma=(function(t,i,a){const l=ke(t);return l.sa(),new P5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:q5.bind(null,r),t_:G5.bind(null,r),r_:$5.bind(null,r),H_:K5.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),qg(r)?Hg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Ww(r))}))),r.ma}function la(r){return r.fa||(r.fa=(function(t,i,a){const l=ke(t);return l.sa(),new L5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:X5.bind(null,r),r_:J5.bind(null,r),ta:W5.bind(null,r),na:Z5.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await jh(r)):(await r.fa.stop(),r.Ta.length>0&&(_e(Xa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Gg{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const u=Date.now()+i,h=new Gg(e,t,u,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $g(r,e){if(is("AsyncQueue",`${e}: ${r}`),vl(r))return new ye(le.UNAVAILABLE,`${e}: ${r}`);throw r}class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ce.comparator(t.key,i.key):(t,i)=>Ce.comparator(t.key,i.key),this.keyedMap=Dc(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Jo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class wb{constructor(){this.ga=new Bt(Ce.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class cl{constructor(e,t,i,a,l,u,h,p,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,a,l){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new cl(e,t,Jo.emptySet(t),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class tI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nI{constructor(){this.queries=Ab(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=ke(t),l=a.queries;a.queries=Ab(),l.forEach(((u,h)=>{for(const p of h.Sa)p.onError(i)}))})(this,new ye(le.ABORTED,"Firestore shutting down"))}}function Ab(){return new Ja((r=>bw(r)),Rh)}async function tA(r,e){const t=ke(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new tI,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=$g(u,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Kg(t)}async function nA(r,e){const t=ke(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function rI(r,e){const t=ke(r);let i=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(i=!0);u.wa=a}}i&&Kg(t)}function iI(r,e,t){const i=ke(r),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function Kg(r){r.Ca.forEach((e=>{e.next()}))}var Yp,Cb;(Cb=Yp||(Yp={})).Ma="default",Cb.Cache="cache";class rA{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new cl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yp.Cache}}class iA{constructor(e){this.key=e}}class sA{constructor(e){this.key=e}}class sI{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=Ew(e),this.tu=new Jo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new wb,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const x=a.get(y),b=Ih(this.query,v)?v:null,w=!!x&&this.mutatedKeys.has(x.key),T=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let C=!1;x&&b?x.data.isEqual(b.data)?w!==T&&(i.track({type:3,doc:b}),C=!0):this.su(x,b)||(i.track({type:2,doc:b}),C=!0,(p&&this.eu(b,p)>0||f&&this.eu(b,f)<0)&&(h=!0)):!x&&b?(i.track({type:0,doc:b}),C=!0):x&&!b&&(i.track({type:1,doc:x}),C=!0,(p||f)&&(h=!0)),C&&(b?(u=u.add(b),l=T?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(b,w){const T=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:C})}};return T(b)-T(w)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,f=p!==this.Za;return this.Za=p,u.length!==0||f?{snapshot:new cl(this.query,e.tu,l,u,e.mutatedKeys,p===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new sA(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new iA(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ge();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yg="SyncEngine";class aI{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class oI{constructor(e){this.key=e,this.hu=!1}}class lI{constructor(e,t,i,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ja((h=>bw(h)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new Bt(Ce.comparator),this.Au=new Map,this.Ru=new jg,this.Vu={},this.mu=new Map,this.fu=ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cI(r,e,t=!0){const i=dA(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await aA(i,e,t,!0),a}async function uI(r,e){const t=dA(r);await aA(t,e,!0,!1)}async function aA(r,e,t,i){const a=await I5(r.localStore,Ai(e)),l=a.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await dI(r,e,l,u==="current",a.resumeToken)),r.isPrimaryClient&&t&&Qw(r.remoteStore,a),h}async function dI(r,e,t,i,a){r.pu=(v,x,b)=>(async function(T,C,V,k){let B=C.view.ru(V);B.Cs&&(B=await yb(T.localStore,C.query,!1).then((({documents:D})=>C.view.ru(D,B))));const L=k&&k.targetChanges.get(C.targetId),H=k&&k.targetMismatches.get(C.targetId)!=null,q=C.view.applyChanges(B,T.isPrimaryClient,L,H);return Sb(T,C.targetId,q.au),q.snapshot})(r,v,x,b);const l=await yb(r.localStore,e,!0),u=new sI(e,l.Qs),h=u.ru(l.documents),p=fu.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),f=u.applyChanges(h,r.isPrimaryClient,p);Sb(r,t,f.au);const y=new aI(e,t,u);return r.Tu.set(e,y),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),f.snapshot}async function fI(r,e,t){const i=ke(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Rh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await $p(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&zg(i.remoteStore,a.targetId),Qp(i,a.targetId)})).catch(yl)):(Qp(i,a.targetId),await $p(i.localStore,a.targetId,!0))}async function hI(r,e){const t=ke(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),zg(t.remoteStore,i.targetId))}async function mI(r,e,t){const i=bI(r);try{const a=await(function(u,h){const p=ke(u),f=Et.now(),y=h.reduce(((b,w)=>b.add(w.key)),Ge());let v,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let w=ss(),T=Ge();return p.Ns.getEntries(b,y).next((C=>{w=C,w.forEach(((V,k)=>{k.isValidDocument()||(T=T.add(V))}))})).next((()=>p.localDocuments.getOverlayedDocuments(b,w))).next((C=>{v=C;const V=[];for(const k of h){const B=R8(k,v.get(k.key).overlayedDocument);B!=null&&V.push(new ma(k.key,B,hw(B.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(b,f,V,h)})).next((C=>{x=C;const V=C.applyToLocalDocumentSet(v,T);return p.documentOverlayCache.saveOverlays(b,C.batchId,V)}))})).then((()=>({batchId:x.batchId,changes:Aw(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,p){let f=u.Vu[u.currentUser.toKey()];f||(f=new Bt(qe)),f=f.insert(h,p),u.Vu[u.currentUser.toKey()]=f})(i,a.batchId,t),await mu(i,a.changes),await jh(i.remoteStore)}catch(a){const l=$g(a,"Failed to persist write");t.reject(l)}}async function oA(r,e){const t=ke(r);try{const i=await S5(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(it(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?it(u.hu,14607):a.removedDocuments.size>0&&(it(u.hu,42227),u.hu=!1))})),await mu(t,i,e)}catch(i){await yl(i)}}function Tb(r,e,t){const i=ke(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const p=ke(u);p.onlineState=h;let f=!1;p.queries.forEach(((y,v)=>{for(const x of v.Sa)x.va(h)&&(f=!0)})),f&&Kg(p)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pI(r,e,t){const i=ke(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new Bt(Ce.comparator);u=u.insert(l,Pn.newNoDocument(l,Re.min()));const h=Ge().add(l),p=new Oh(Re.min(),new Map,new Bt(qe),u,h);await oA(i,p),i.du=i.du.remove(l),i.Au.delete(e),Qg(i)}else await $p(i.localStore,e,!1).then((()=>Qp(i,e,t))).catch(yl)}async function gI(r,e){const t=ke(r),i=e.batch.batchId;try{const a=await T5(t.localStore,e);cA(t,i,null),lA(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await mu(t,a)}catch(a){await yl(a)}}async function yI(r,e,t){const i=ke(r);try{const a=await(function(u,h){const p=ke(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let y;return p.mutationQueue.lookupMutationBatch(f,h).next((v=>(it(v!==null,37113),y=v.keys(),p.mutationQueue.removeMutationBatch(f,v)))).next((()=>p.mutationQueue.performConsistencyCheck(f))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(f,y,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,y))).next((()=>p.localDocuments.getDocuments(f,y)))}))})(i.localStore,e);cA(i,e,t),lA(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await mu(i,a)}catch(a){await yl(a)}}function lA(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function cA(r,e,t){const i=ke(r);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Qp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||uA(r,i)}))}function uA(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(zg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Qg(r))}function Sb(r,e,t){for(const i of t)i instanceof iA?(r.Ru.addReference(i.key,e),vI(r,i)):i instanceof sA?(_e(Yg,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||uA(r,i.key)):De(19791,{wu:i})}function vI(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(_e(Yg,"New document in limbo: "+t),r.Eu.add(i),Qg(r))}function Qg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ce(yt.fromString(e)),i=r.fu.next();r.Au.set(i,new oI(t)),r.du=r.du.insert(t,i),Qw(r.remoteStore,new Qs(Ai(Dh(t.path)),i,"TargetPurposeLimboResolution",Ch.ce))}}async function mu(r,e,t){const i=ke(r),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,p)=>{u.push(i.pu(p,e,t).then((f=>{if((f||t)&&i.isPrimaryClient){const y=f?!f.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(f){a.push(f);const y=Lg.As(p.targetId,f);l.push(y)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(p,f){const y=ke(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ue.forEach(f,(x=>ue.forEach(x.Es,(b=>y.persistence.referenceDelegate.addReference(v,x.targetId,b))).next((()=>ue.forEach(x.ds,(b=>y.persistence.referenceDelegate.removeReference(v,x.targetId,b)))))))))}catch(v){if(!vl(v))throw v;_e(Fg,"Failed to update sequence numbers: "+v)}for(const v of f){const x=v.targetId;if(!v.fromCache){const b=y.Ms.get(x),w=b.snapshotVersion,T=b.withLastLimboFreeSnapshotVersion(w);y.Ms=y.Ms.insert(x,T)}}})(i.localStore,l))}async function xI(r,e){const t=ke(r);if(!t.currentUser.isEqual(e)){_e(Yg,"User change. New user:",e.toKey());const i=await Gw(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((p=>{p.reject(new ye(le.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await mu(t,i.Ls)}}function _I(r,e){const t=ke(r),i=t.Au.get(e);if(i&&i.hu)return Ge().add(i.key);{let a=Ge();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const h=t.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function dA(r){const e=ke(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=oA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pI.bind(null,e),e.Pu.H_=rI.bind(null,e.eventManager),e.Pu.yu=iI.bind(null,e.eventManager),e}function bI(r){const e=ke(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yI.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return C5(this.persistence,new E5,e.initialUser,this.serializer)}Cu(e){return new qw(Pg.mi,this.serializer)}Du(e){return new k5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class EI extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){it(this.persistence.referenceDelegate instanceof ch,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new o5(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?tr.withCacheSize(this.cacheSizeBytes):tr.DEFAULT;return new qw((i=>ch.mi(i,t)),this.serializer)}}class Xp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Tb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xI.bind(null,this.syncEngine),await eI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nI})()}createDatastore(e){const t=Mh(e.databaseInfo.databaseId),i=(function(l){return new j5(l)})(e.databaseInfo);return(function(l,u,h,p){return new z5(l,u,h,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,u,h){return new H5(i,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>Tb(this.syncEngine,t,0)),(function(){return _b.v()?new _b:new B5})())}createSyncEngine(e,t){return(function(a,l,u,h,p,f,y){const v=new lI(a,l,u,h,p,f);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=ke(t);_e(Xa,"RemoteStore shutting down."),i.Ea.add(5),await hu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xp.provider={build:()=>new Xp};class fA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ca="FirestoreClient";class wI{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=jn.UNAUTHENTICATED,this.clientId=Sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{_e(ca,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(_e(ca,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=$g(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function gp(r,e){r.asyncQueue.verifyOperationInProgress(),_e(ca,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Gw(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Db(r,e){r.asyncQueue.verifyOperationInProgress();const t=await AI(r);_e(ca,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>Eb(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>Eb(e.remoteStore,a))),r._onlineComponents=e}async function AI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){_e(ca,"Using user provided OfflineComponentProvider");try{await gp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;il("Error using user provided cache. Falling back to memory cache: "+t),await gp(r,new dh)}}else _e(ca,"Using default OfflineComponentProvider"),await gp(r,new EI(void 0));return r._offlineComponents}async function hA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(_e(ca,"Using user provided OnlineComponentProvider"),await Db(r,r._uninitializedComponentsProvider._online)):(_e(ca,"Using default OnlineComponentProvider"),await Db(r,new Xp))),r._onlineComponents}function CI(r){return hA(r).then((e=>e.syncEngine))}async function Wp(r){const e=await hA(r),t=e.eventManager;return t.onListen=cI.bind(null,e.syncEngine),t.onUnlisten=fI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hI.bind(null,e.syncEngine),t}function TI(r,e,t={}){const i=new ea;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,p,f){const y=new fA({next:x=>{y.Nu(),u.enqueueAndForget((()=>nA(l,v)));const b=x.docs.has(h);!b&&x.fromCache?f.reject(new ye(le.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&x.fromCache&&p&&p.source==="server"?f.reject(new ye(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),v=new rA(Dh(h.path),y,{includeMetadataChanges:!0,qa:!0});return tA(l,v)})(await Wp(r),r.asyncQueue,e,t,i))),i.promise}function mA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Rb=new Map;const pA="firestore.googleapis.com",Ib=!0;class Nb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pA,this.ssl=Ib}else this.host=e.host,this.ssl=e.ssl??Ib;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s5)throw new ye(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new B3;switch(i.type){case"firstParty":return new j3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Rb.get(t);i&&(_e("ComponentProvider","Removing Datastore"),Rb.delete(t),i.terminate())})(this),Promise.resolve()}}function SI(r,e,t,i={}){r=_r(r,Ph);const a=ml(e),l=r._getSettings(),u={...l,emulatorOptions:r._getEmulatorOptions()},h=`${e}:${t}`;a&&(a2(`https://${h}`),o2("Firestore",!0)),l.host!==pA&&l.host!==h&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:h,ssl:a,emulatorOptions:i};if(!Ga(p,u)&&(r._setSettings(p),i.mockUserToken)){let f,y;if(typeof i.mockUserToken=="string")f=i.mockUserToken,y=jn.MOCK_USER;else{f=F4(i.mockUserToken,r._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ye(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new jn(v)}r._authCredentials=new O3(new tw(f,y))}}class to{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class Pt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(uu(t,Pt._jsonSchema))return new Pt(e,i||null,new Ce(yt.fromString(t.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:rn("string",Pt._jsonSchemaVersion),referencePath:rn("string")};class ta extends to{constructor(e,t,i){super(e,t,Dh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new Ce(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function Lr(r,e,...t){if(r=Lt(r),nw("collection","path",e),r instanceof Ph){const i=yt.fromString(e,...t);return q_(i),new ta(r,null,i)}{if(!(r instanceof Pt||r instanceof ta))throw new ye(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(yt.fromString(e,...t));return q_(i),new ta(r.firestore,null,i)}}function St(r,e,...t){if(r=Lt(r),arguments.length===1&&(e=Sg.newId()),nw("doc","path",e),r instanceof Ph){const i=yt.fromString(e,...t);return H_(i),new Pt(r,null,new Ce(i))}{if(!(r instanceof Pt||r instanceof ta))throw new ye(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(yt.fromString(e,...t));return H_(i),new Pt(r.firestore,r instanceof ta?r.converter:null,new Ce(i))}}const kb="AsyncQueue";class Bb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Kw(this,"async_queue_retry"),this._c=()=>{const i=pp();i&&_e(kb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=pp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=pp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vl(e))throw e;_e(kb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",Ob(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Gg.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&De(47125,{Pc:Ob(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ob(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function Mb(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(r,["next","error","complete"])}class as extends Ph{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new Bb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bb(e),this._firestoreClient=void 0,await e}}}function DI(r,e){const t=typeof r=="object"?r:d2(),i=typeof r=="string"?r:rh,a=pg(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=P4("firestore");l&&SI(a,...l)}return a}function Lh(r){if(r._terminated)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RI(r),r._firestoreClient}function RI(r){const e=r._freezeSettings(),t=(function(a,l,u,h){return new e8(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,mA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new wI(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}class Pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pr(Nn.fromBase64String(e))}catch(t){throw new ye(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pr(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uu(e,Pr._jsonSchema))return Pr.fromBase64String(e.bytes)}}Pr._jsonSchemaVersion="firestore/bytes/1.0",Pr._jsonSchema={type:rn("string",Pr._jsonSchemaVersion),bytes:rn("string")};class pu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xg{constructor(e){this._methodName=e}}class Ti{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ti._jsonSchemaVersion}}static fromJSON(e){if(uu(e,Ti._jsonSchema))return new Ti(e.latitude,e.longitude)}}Ti._jsonSchemaVersion="firestore/geoPoint/1.0",Ti._jsonSchema={type:rn("string",Ti._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};class Si{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uu(e,Si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Si(e.vectorValues);throw new ye(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:rn("string",Si._jsonSchemaVersion),vectorValues:rn("object")};const II=/^__.*__$/;class NI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,t,this.fieldTransforms):new du(e,this.data,t,this.fieldTransforms)}}class gA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ma(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:r})}}class Wg{constructor(e,t,i,a,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yA(this.Ac)&&II.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kI{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Mh(e)}Cc(e,t,i,a=!1){return new Wg({Ac:e,methodName:t,Dc:i,path:In.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gu(r){const e=r._freezeSettings(),t=Mh(r._databaseId);return new kI(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Zg(r,e,t,i,a,l={}){const u=r.Cc(l.merge||l.mergeFields?2:0,e,t,a);Jg("Data must be an object, but it was:",u,i);const h=_A(i,u);let p,f;if(l.merge)p=new xr(u.fieldMask),f=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const x=Zp(e,v,t);if(!u.contains(x))throw new ye(le.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);EA(y,x)||y.push(x)}p=new xr(y),f=u.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,f=u.fieldTransforms;return new NI(new rr(h),p,f)}class Fh extends Xg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fh}}function vA(r,e,t,i){const a=r.Cc(1,e,t);Jg("Data must be an object, but it was:",a,i);const l=[],u=rr.empty();ha(i,((p,f)=>{const y=ey(e,p,t);f=Lt(f);const v=a.yc(y);if(f instanceof Fh)l.push(y);else{const x=yu(f,v);x!=null&&(l.push(y),u.set(y,x))}}));const h=new xr(l);return new gA(u,h,a.fieldTransforms)}function xA(r,e,t,i,a,l){const u=r.Cc(1,e,t),h=[Zp(e,i,t)],p=[a];if(l.length%2!=0)throw new ye(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)h.push(Zp(e,l[x])),p.push(l[x+1]);const f=[],y=rr.empty();for(let x=h.length-1;x>=0;--x)if(!EA(f,h[x])){const b=h[x];let w=p[x];w=Lt(w);const T=u.yc(b);if(w instanceof Fh)f.push(b);else{const C=yu(w,T);C!=null&&(f.push(b),y.set(b,C))}}const v=new xr(f);return new gA(y,v,u.fieldTransforms)}function BI(r,e,t,i=!1){return yu(t,r.Cc(i?4:3,e))}function yu(r,e){if(bA(r=Lt(r)))return Jg("Unsupported field value:",e,r),_A(r,e);if(r instanceof Xg)return(function(i,a){if(!yA(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const h of i){let p=yu(h,a.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=Lt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return w8(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Et.fromDate(i);return{timestampValue:lh(a.serializer,l)}}if(i instanceof Et){const l=new Et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lh(a.serializer,l)}}if(i instanceof Ti)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pr)return{bytesValue:Vw(a.serializer,i._byteString)};if(i instanceof Pt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Si)return(function(u,h){return{mapValue:{fields:{[dw]:{stringValue:fw},[ih]:{arrayValue:{values:u.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return Bg(h.serializer,f)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Ah(i)}`)})(r,e)}function _A(r,e){const t={};return sw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(r,((i,a)=>{const l=yu(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function bA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Et||r instanceof Ti||r instanceof Pr||r instanceof Pt||r instanceof Xg||r instanceof Si)}function Jg(r,e,t){if(!bA(t)||!rw(t)){const i=Ah(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Zp(r,e,t){if((e=Lt(e))instanceof pu)return e._internalPath;if(typeof e=="string")return ey(r,e);throw fh("Field path arguments must be of type string or ",r,!1,void 0,t)}const OI=new RegExp("[~\\*/\\[\\]]");function ey(r,e,t){if(e.search(OI)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new pu(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function fh(r,e,t,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${a}`),p+=")"),new ye(le.INVALID_ARGUMENT,h+r+p)}function EA(r,e){return r.some((t=>t.isEqual(e)))}class wA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class MI extends wA{data(){return super.data()}}function zh(r,e){return typeof e=="string"?ey(r,e):e instanceof pu?e._internalPath:e._delegate._internalPath}function VI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ty{}class AA extends ty{}function Jr(r,e,...t){let i=[];e instanceof ty&&i.push(e),i=i.concat(t),(function(l){const u=l.filter((p=>p instanceof ny)).length,h=l.filter((p=>p instanceof Uh)).length;if(u>1||u>0&&h>0)throw new ye(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class Uh extends AA{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Uh(e,t,i)}_apply(e){const t=this._parse(e);return CA(e._query,t),new to(e.firestore,e.converter,Fp(e._query,t))}_parse(e){const t=gu(e.firestore);return(function(l,u,h,p,f,y,v){let x;if(f.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ye(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){jb(v,y);const w=[];for(const T of v)w.push(Vb(p,l,T));x={arrayValue:{values:w}}}else x=Vb(p,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||jb(v,y),x=BI(h,u,v,y==="in"||y==="not-in");return nn.create(f,y,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ir(r,e,t){const i=e,a=zh("where",r);return Uh._create(a,i,t)}class ny extends ty{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ny(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:ti.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const p of h)CA(u,p),u=Fp(u,p)})(e._query,t),new to(e.firestore,e.converter,Fp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ry extends AA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ry(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new ye(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ye(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qc(l,u)})(e._query,this._field,this._direction);return new to(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new xl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function na(r,e="asc"){const t=e,i=zh("orderBy",r);return ry._create(i,t)}function Vb(r,e,t){if(typeof(t=Lt(t))=="string"){if(t==="")throw new ye(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_w(e)&&t.indexOf("/")!==-1)throw new ye(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(yt.fromString(t));if(!Ce.isDocumentKey(i))throw new ye(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Z_(r,new Ce(i))}if(t instanceof Pt)return Z_(r,t._key);throw new ye(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(t)}.`)}function jb(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CA(r,e){const t=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ye(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jI{convertValue(e,t="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ha(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[ih].arrayValue?.values?.map((i=>qt(i.doubleValue)));return new Si(t)}convertGeoPoint(e){return new Ti(qt(e.latitude),qt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Sh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){const t=sa(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=yt.fromString(e);it(Uw(i),9688,{name:e});const a=new Kc(i.get(1),i.get(3)),l=new Ce(i.popFirst(5));return a.isEqual(t)||is(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function iy(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Ic{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qa extends wA{constructor(e,t,i,a,l,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(zh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=qa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",qa._jsonSchema={type:rn("string",qa._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class uf extends qa{data(e={}){return super.data(e)}}class el{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ic(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new uf(this._firestore,this._userDataWriter,i.key,i,new Ic(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const p=new uf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ic(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new uf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ic(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,y=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:PI(h.type),doc:p,oldIndex:f,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=el._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:r})}}function sy(r){r=_r(r,Pt);const e=_r(r.firestore,as);return TI(Lh(e),r._key).then((t=>SA(e,r,t)))}el._jsonSchemaVersion="firestore/querySnapshot/1.0",el._jsonSchema={type:rn("string",el._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class TA extends jI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,t)}}function os(r,e,t){r=_r(r,Pt);const i=_r(r.firestore,as),a=iy(r.converter,e,t);return vu(i,[Zg(gu(i),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Gn.none())])}function ra(r,e,t,...i){r=_r(r,Pt);const a=_r(r.firestore,as),l=gu(a);let u;return u=typeof(e=Lt(e))=="string"||e instanceof pu?xA(l,"updateDoc",r._key,e,t,i):vA(l,"updateDoc",r._key,e),vu(a,[u.toMutation(r._key,Gn.exists(!0))])}function Hh(r){return vu(_r(r.firestore,as),[new Bh(r._key,Gn.none())])}function ul(r,e){const t=_r(r.firestore,as),i=St(r),a=iy(r.converter,e);return vu(t,[Zg(gu(r.firestore),"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,Gn.exists(!1))]).then((()=>i))}function Wa(r,...e){r=Lt(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Mb(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Mb(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,u,h;if(r instanceof Pt)u=_r(r.firestore,as),h=Dh(r._key.path),l={next:p=>{e[i]&&e[i](SA(u,r,p))},error:e[i+1],complete:e[i+2]};else{const p=_r(r,to);u=_r(p.firestore,as),h=p._query;const f=new TA(u);l={next:y=>{e[i]&&e[i](new el(u,f,p,y))},error:e[i+1],complete:e[i+2]},VI(r._query)}return(function(f,y,v,x){const b=new fA(x),w=new rA(y,b,v);return f.asyncQueue.enqueueAndForget((async()=>tA(await Wp(f),w))),()=>{b.Nu(),f.asyncQueue.enqueueAndForget((async()=>nA(await Wp(f),w)))}})(Lh(u),h,a,l)}function vu(r,e){return(function(i,a){const l=new ea;return i.asyncQueue.enqueueAndForget((async()=>mI(await CI(i),a,l))),l.promise})(Lh(r),e)}function SA(r,e,t){const i=t.docs.get(e._key),a=new TA(r);return new qa(r,a,e._key,i,new Ic(t.hasPendingWrites,t.fromCache),e.converter)}class LI{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gu(e)}set(e,t,i){this._verifyNotCommitted();const a=yp(e,this._firestore),l=iy(a.converter,t,i),u=Zg(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(u.toMutation(a._key,Gn.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=yp(e,this._firestore);let u;return u=typeof(t=Lt(t))=="string"||t instanceof pu?xA(this._dataReader,"WriteBatch.update",l._key,t,i,a):vA(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,Gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yp(e,this._firestore);return this._mutations=this._mutations.concat(new Bh(t._key,Gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yp(r,e){if((r=Lt(r)).firestore!==e)throw new ye(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function FI(r){return Lh(r=_r(r,as)),new LI(r,(e=>vu(r,e)))}(function(e,t=!0){(function(a){gl=a})(pl),rl(new $a("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new as(new M3(i.getProvider("auth-internal")),new P3(u,i.getProvider("app-check-internal")),(function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ye(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kc(f.options.projectId,y)})(u,a),u);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Zs(L_,F_,e),Zs(L_,F_,"esm2020")})();const zI={apiKey:"AIzaSyDo6mqSgh8ifjBCbPJmRDCHJvDhkq_o61o",authDomain:"mynotbusyagenda.firebaseapp.com",projectId:"mynotbusyagenda",storageBucket:"mynotbusyagenda.firebasestorage.app",messagingSenderId:"290830129452",appId:"1:290830129452:web:c051a1cbd6d8a230303489",measurementId:"G-S7H89W117V"},DA=u2(zI),qs=R3(DA),UI=new Xi,He=DI(DA),RA=O.createContext();function br(){return O.useContext(RA)}function HI({children:r}){const[e,t]=O.useState(null),[i,a]=O.useState(!0);O.useEffect(()=>yR(qs,x=>{t(x),a(!1)}),[]);const y={user:e,loading:i,signInWithGoogle:async()=>{try{await PR(qs,UI)}catch(v){throw console.error("Error signing in with Google:",v),v}},loginWithEmail:async(v,x)=>{try{await mR(qs,v,x)}catch(b){throw console.error("Error signing in with email:",b),b}},linkEmailPassword:async v=>{try{if(!qs.currentUser)throw new Error("No user logged in");const x=Za.credential(qs.currentUser.email,v);await fR(qs.currentUser,x)}catch(x){throw console.error("Error linking credential:",x),x}},registerWithEmail:async(v,x)=>{try{await hR(qs,v,x)}catch(b){throw console.error("Error registering with email:",b),b}},logout:async()=>{try{await vR(qs)}catch(v){throw console.error("Error signing out:",v),v}}};return E.jsx(RA.Provider,{value:y,children:r})}const qI={en:{common:{loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",close:"Close",back:"Back",today:"Today",clear_filter:"Clear filter",view_history:"View History",undo:"Undo",task_deleted:"Task deleted",entry_deleted:"Entry deleted",edited:"(Edited)",reschedule:"Reschedule",reset:"Reset"},auth:{welcome:"Welcome back",subtitle:"Sign in to your account",sign_in_google:"Sign in with Google",sign_out:"Sign Out",email_login:"Sign in with Email",email_placeholder:"Email address",password_placeholder:"Password",sign_in:"Sign In",signing_in:"Signing in...",sign_up:"Sign Up",signing_up:"Signing up...",need_account:"Need an account? Sign Up",already_have_account:"Already have an account? Sign In",cancel:"Cancel",or:"Or",email_in_use:"Email already in use. Please sign in instead.",weak_password:"Password should be at least 6 characters.",auth_failed:"Failed to authenticate.",google_failed:"Failed to sign in with Google."},profile:{title:"Profile Settings",email_label:"Email",set_password_label:"Set Password for Alternative Login",new_password_placeholder:"Enter new password",save_password:"Set Password",saving:"Saving...",success:"Password set successfully! You can now log in with email.",error_recent_login:"For security, please log out and log in again to set a password.",error_email_in_use:"This email is already associated with a password.",error_generic:"Failed to set password.",error_short_password:"Password must be at least 6 characters",preferences:"Preferences",language:"Language",theme:"Theme",theme_dark:"Dark",theme_light:"Light",version:"Version",start_of_week:"Start of week",monday:"Monday",sunday:"Sunday"},dashboard:{greeting:{morning:"Good Morning",afternoon:"Good Afternoon",evening:"Good Evening"},subtitle:"Ready for a clear mind?",focus_title:"Focus for Today",focus_placeholder:"What is your main goal?",tasks_card:{title:"Tasks",pending:"Pending",action:"View Tasks"},journal_card:{title:"Journal",subtitle:"Reflect",action:"Write"}},tasks:{title:"Tasks",subtitle:"Organize your day.",past_title:"Past Tasks",past_subtitle:"Viewing tasks for",future_title:"Future Tasks",future_subtitle:"Viewing tasks for",placeholder:"Add a new task...",empty:"No tasks yet. Add one above!",empty_past:"No tasks found for this date.",delete_label:"Delete task",edit_label:"Edit task",created:"Created",select_date:"Select date",for_date:"For",view_incomplete:"View Incomplete Tasks",incomplete_title:"Incomplete Tasks",no_incomplete:"All tasks completed! Great job!",completed_section:"Completed"},journal:{title:"Journal",subtitle:"Reflect on your thoughts.",past_title:"Past Entries",past_subtitle:"Viewing entries for",placeholder:"What's on your mind?",empty:"No entries yet. Start writing!",empty_past:"No entries found for this date.",submit:"Send",archive_title:"Journal Archive",view_archive:"View Archive",no_archived_entries:"No entries found.",month_view:"Month View"},calendar:{select_date:"Select Date",summary_title:"Summary for",tasks_section:"Tasks",journal_section:"Journal Entries",no_tasks:"No tasks recorded.",no_entries:"No journal entries."},habits:{title:"Habits",subtitle:"Track your daily goals",create_new:"New Habit",name_label:"Habit Name",name_placeholder:"e.g., Drink Water",type_label:"Type",type_count:"Count",type_time:"Time",type_limit:"Limit",target_label:"Target",unit_label:"Unit (Optional)",unit_placeholder:"e.g., minutes, times",create_button:"Create Habit",empty:"No habits yet. Create one to get started!",view_day:"Day",view_week:"Week",view_month:"Month",view_coming_soon:"View coming soon",type_count_label:"Count",type_time_label:"Time",type_limit_label:"Limit",frequency_label:"Frequency",edit_habit:"Edit Habit",view_habit:"Habit Mode",view_compact:"Compact Mode",manual_entry:"Manual Entry",manual_modal_title:"Add the units here"}},es:{common:{loading:"Cargando...",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",close:"Cerrar",back:"Volver",today:"Hoy",clear_filter:"Borrar filtro",view_history:"Ver Historial",undo:"Deshacer",task_deleted:"Tarea eliminada",entry_deleted:"Entrada eliminada",edited:"(Editado)",reschedule:"Reprogramar",reset:"Reiniciar"},auth:{welcome:"Bienvenido de nuevo",subtitle:"Inicia sesin en tu cuenta",sign_in_google:"Iniciar sesin con Google",sign_out:"Cerrar Sesin",email_login:"Iniciar sesin con Email",email_placeholder:"Correo electrnico",password_placeholder:"Contrasea",sign_in:"Iniciar Sesin",signing_in:"Iniciando sesin...",sign_up:"Registrarse",signing_up:"Registrando...",need_account:"Necesitas una cuenta? Regstrate",already_have_account:"Ya tienes cuenta? Inicia sesin",cancel:"Cancelar",or:"O",email_in_use:"El correo ya est en uso. Por favor inicia sesin.",weak_password:"La contrasea debe tener al menos 6 caracteres.",auth_failed:"Fallo en la autenticacin.",google_failed:"Fallo al iniciar sesin con Google."},profile:{title:"Configuracin de Perfil",email_label:"Correo",set_password_label:"Establecer contrasea para inicio alternativo",new_password_placeholder:"Introduce nueva contrasea",save_password:"Fijar Contrasea",saving:"Guardando...",success:"Contrasea establecida! Ahora puedes entrar con email.",error_recent_login:"Por seguridad, por favor cierra sesin y vuelve a entrar para fijar la contrasea.",error_email_in_use:"Este correo ya est asociado a una contrasea.",error_generic:"Fallo al establecer contrasea.",error_short_password:"La contrasea debe tener al menos 6 caracteres",preferences:"Preferencias",language:"Idioma",theme:"Tema",theme_dark:"Oscuro",theme_light:"Claro",version:"Versin",start_of_week:"Inicio de semana",monday:"Lunes",sunday:"Domingo"},dashboard:{greeting:{morning:"Buenos Das",afternoon:"Buenas Tardes",evening:"Buenas Noches"},subtitle:"Listo para una mente clara?",focus_title:"Enfoque de Hoy",focus_placeholder:"Cul es tu objetivo principal?",tasks_card:{title:"Tareas",pending:"Pendientes",action:"Ver Tareas"},journal_card:{title:"Diario",subtitle:"Reflexiona",action:"Escribir"}},tasks:{title:"Tareas",subtitle:"Organiza tu da.",past_title:"Tareas Pasadas",past_subtitle:"Viendo tareas del",future_title:"Tareas Futuras",future_subtitle:"Viendo tareas del",placeholder:"Aadir nueva tarea...",empty:"No hay tareas. Aade una arriba!",empty_past:"No se encontraron tareas para esta fecha.",delete_label:"Eliminar tarea",edit_label:"Editar tarea",created:"Creada",select_date:"Seleccionar fecha",for_date:"Para",view_incomplete:"Ver Tareas Incompletas",incomplete_title:"Tareas Incompletas",no_incomplete:"Todas las tareas completadas! Buen trabajo!",completed_section:"Completadas"},journal:{title:"Diario",subtitle:"Reflexiona sobre tus pensamientos.",past_title:"Entradas Pasadas",past_subtitle:"Viendo entradas del",placeholder:"Qu tienes en mente?",empty:"No hay entradas. Empieza a escribir!",empty_past:"No se encontraron entradas para esta fecha.",submit:"Enviar",archive_title:"Archivo del Diario",view_archive:"Ver Archivo",no_archived_entries:"No se encontraron entradas.",month_view:"Vista Mensual"},calendar:{select_date:"Seleccionar Fecha",summary_title:"Resumen del",tasks_section:"Tareas",journal_section:"Entradas del Diario",no_tasks:"No hay tareas registradas.",no_entries:"No hay entradas en el diario."},habits:{title:"Hbitos",subtitle:"Rastrea tus objetivos diarios",create_new:"Nuevo Hbito",name_label:"Nombre del Hbito",name_placeholder:"ej., Beber Agua",type_label:"Tipo",type_count:"Conteo",type_time:"Tiempo",type_limit:"Lmite",target_label:"Objetivo",unit_label:"Unidad (Opcional)",unit_placeholder:"ej., minutos, veces",create_button:"Crear Hbito",empty:"No hay hbitos. Crea uno para empezar!",view_day:"Da",view_week:"Semana",view_month:"Mes",view_coming_soon:"Vista prximamente",frequency_label:"Frecuencia",edit_habit:"Editar Hbito",view_habit:"Modo Hbito",view_compact:"Modo Compacto",manual_entry:"Entrada Manual",manual_modal_title:"Aade las unidades aqu"}},zh:{common:{loading:"...",save:"",cancel:"",delete:"",edit:"",close:"",back:"",today:"",clear_filter:"",view_history:"",undo:"",task_deleted:"",entry_deleted:"",edited:"()",reschedule:"",reset:""},auth:{welcome:"",subtitle:"",sign_in_google:" Google ",sign_out:"",email_login:"",email_placeholder:"",password_placeholder:"",sign_in:"",signing_in:"...",sign_up:"",signing_up:"...",need_account:"",already_have_account:"",cancel:"",or:"",email_in_use:"",weak_password:" 6 ",auth_failed:"",google_failed:"Google "},profile:{title:"",email_label:"",set_password_label:"",new_password_placeholder:"",save_password:"",saving:"...",success:"",error_recent_login:"",error_email_in_use:"",error_generic:"",error_short_password:" 6 ",preferences:"",language:"",theme:"",theme_dark:"",theme_light:"",version:"",start_of_week:"",monday:"",sunday:""},dashboard:{greeting:{morning:"",afternoon:"",evening:""},subtitle:"",focus_title:"",focus_placeholder:"",tasks_card:{title:"",pending:"",action:""},journal_card:{title:"",subtitle:"",action:""}},tasks:{title:"",subtitle:"",past_title:"",past_subtitle:"",future_title:"",future_subtitle:"",placeholder:"...",empty:"",empty_past:"",delete_label:"",created:"",select_date:"",for_date:"",view_incomplete:"",incomplete_title:"",no_incomplete:"",completed_section:""},journal:{title:"",subtitle:"",past_title:"",past_subtitle:"",placeholder:"",empty:"",empty_past:"",submit:"",archive_title:"",view_archive:"",no_archived_entries:"",month_view:""},calendar:{select_date:"",summary_title:"",tasks_section:"",journal_section:"",no_tasks:"",no_entries:""},habits:{title:"",subtitle:"",create_new:"",name_label:"",name_placeholder:"",type_label:"",type_count:"",type_time:"",type_limit:"",target_label:"",unit_label:" ()",unit_placeholder:"",create_button:"",empty:"",view_day:"",view_week:"",view_month:"",view_coming_soon:"",frequency_label:"",edit_habit:"",view_habit:"",view_compact:"",manual_entry:"",manual_modal_title:""}},fr:{common:{loading:"Chargement...",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",close:"Fermer",back:"Retour",today:"Aujourd'hui",clear_filter:"Effacer le filtre",view_history:"Voir l'historique",undo:"Annuler",task_deleted:"Tche supprime",entry_deleted:"Entre supprime",edited:"(Modifi)",reschedule:"Reprogrammer",reset:"Rinitialiser"},auth:{welcome:"Bon retour",subtitle:"Connectez-vous  votre compte",sign_in_google:"Se connecter avec Google",sign_out:"Se dconnecter",email_login:"Se connecter avec Email",email_placeholder:"Adresse email",password_placeholder:"Mot de passe",sign_in:"Se connecter",signing_in:"Connexion...",sign_up:"S'inscrire",signing_up:"Inscription...",need_account:"Besoin d'un compte ? S'inscrire",already_have_account:"Dj un compte ? Se connecter",cancel:"Annuler",or:"Ou",email_in_use:"Email dj utilis. Veuillez vous connecter.",weak_password:"Le mot de passe doit contenir au moins 6 caractres.",auth_failed:"chec de l'authentification.",google_failed:"chec de la connexion avec Google."},profile:{title:"Paramtres du profil",email_label:"Email",set_password_label:"Dfinir un mot de passe pour la connexion alternative",new_password_placeholder:"Entrer le nouveau mot de passe",save_password:"Dfinir le mot de passe",saving:"Enregistrement...",success:"Mot de passe dfini avec succs ! Vous pouvez maintenant vous connecter par email.",error_recent_login:"Par scurit, veuillez vous dconnecter et vous reconnecter pour dfinir un mot de passe.",error_email_in_use:"Cet email est dj associ  un mot de passe.",error_generic:"chec de la dfinition du mot de passe.",error_short_password:"Le mot de passe doit contenir au moins 6 caractres",preferences:"Prfrences",language:"Langue",theme:"Thme",theme_dark:"Sombre",theme_light:"Clair",version:"Version"},dashboard:{greeting:{morning:"Bonjour",afternoon:"Bon aprs-midi",evening:"Bonsoir"},subtitle:"Prt pour un esprit clair ?",focus_title:"Objectif du jour",focus_placeholder:"Quel est votre objectif principal ?",tasks_card:{title:"Tches",pending:"En attente",action:"Voir les tches"},journal_card:{title:"Journal",subtitle:"Rflchir",action:"crire"}},tasks:{title:"Tches",subtitle:"Organisez votre journe.",past_title:"Tches passes",past_subtitle:"Tches du",future_title:"Tches futures",future_subtitle:"Tches du",placeholder:"Ajouter une nouvelle tche...",empty:"Pas encore de tches. Ajoutez-en une ci-dessus !",empty_past:"Aucune tche trouve pour cette date.",delete_label:"Supprimer la tche",created:"Cr",select_date:"Slectionner une date",for_date:"Pour",view_incomplete:"Voir les Tches Incompltes",incomplete_title:"Tches Incompltes",no_incomplete:"Toutes les tches termines ! Bon travail !",completed_section:"Termines"},journal:{title:"Journal",subtitle:"Rflchissez  vos penses.",past_title:"Entres passes",past_subtitle:"Entres du",placeholder:"Qu'avez-vous en tte ?",empty:"Pas encore d'entres. Commencez  crire !",empty_past:"Aucune entre trouve pour cette date.",submit:"Envoyer",archive_title:"Archives du Journal",view_archive:"Voir les archives",no_archived_entries:"Aucune entre trouve.",month_view:"Vue Mensuelle"},calendar:{select_date:"Slectionner une date",summary_title:"Rsum du",tasks_section:"Tches",journal_section:"Entres du journal",no_tasks:"Aucune tche enregistre.",no_entries:"Aucune entre de journal."},habits:{title:"Habitudes",subtitle:"Suivez vos objectifs quotidiens",create_new:"Nouvelle Habitude",name_label:"Nom de l'habitude",name_placeholder:"ex : Boire de l'eau",type_label:"Type",type_count:"Compte",type_time:"Temps",type_limit:"Limite",target_label:"Objectif",unit_label:"Unit (Optionnel)",unit_placeholder:"ex : minutes, fois",create_button:"Crer l'habitude",empty:"Pas encore d'habitudes. Crez-en une !",view_day:"Jour",view_week:"Semaine",view_month:"Mois",view_coming_soon:"Bientt disponible",frequency_label:"Frquence",edit_habit:"Modifier l'habitude",view_habit:"Mode Habitude",view_compact:"Mode Compact",manual_entry:"Saisie Manuelle",manual_modal_title:"Ajoutez les units ici"}},de:{common:{loading:"Laden...",save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",close:"Schlieen",back:"Zurck",today:"Heute",clear_filter:"Filter lschen",view_history:"Verlauf anzeigen",undo:"Rckgngig",task_deleted:"Aufgabe gelscht",entry_deleted:"Eintrag gelscht",edited:"(Bearbeitet)",reschedule:"Verschieben",reset:"Zurcksetzen"},auth:{welcome:"Willkommen zurck",subtitle:"Melden Sie sich an",sign_in_google:"Mit Google anmelden",sign_out:"Abmelden",email_login:"Mit E-Mail anmelden",email_placeholder:"E-Mail-Adresse",password_placeholder:"Passwort",sign_in:"Anmelden",signing_in:"Anmelden...",sign_up:"Registrieren",signing_up:"Registrieren...",need_account:"Noch kein Konto? Registrieren",already_have_account:"Bereits ein Konto? Anmelden",cancel:"Abbrechen",or:"Oder",email_in_use:"E-Mail wird bereits verwendet. Bitte melden Sie sich an.",weak_password:"Das Passwort muss mindestens 6 Zeichen lang sein.",auth_failed:"Authentifizierung fehlgeschlagen.",google_failed:"Anmeldung mit Google fehlgeschlagen."},profile:{title:"Profileinstellungen",email_label:"E-Mail",set_password_label:"Passwort fr alternativen Login festlegen",new_password_placeholder:"Neues Passwort eingeben",save_password:"Passwort festlegen",saving:"Speichern...",success:"Passwort erfolgreich festgelegt! Sie knnen sich jetzt mit E-Mail anmelden.",error_recent_login:"Aus Sicherheitsgrnden, bitte melden Sie sich ab und wieder an, um ein Passwort festzulegen.",error_email_in_use:"Diese E-Mail ist bereits mit einem Passwort verknpft.",error_generic:"Fehler beim Festlegen des Passworts.",error_short_password:"Das Passwort muss mindestens 6 Zeichen lang sein",preferences:"Einstellungen",language:"Sprache",theme:"Thema",theme_dark:"Dunkel",theme_light:"Hell",version:"Version"},dashboard:{greeting:{morning:"Guten Morgen",afternoon:"Guten Tag",evening:"Guten Abend"},subtitle:"Bereit fr einen klaren Kopf?",focus_title:"Fokus fr heute",focus_placeholder:"Was ist Ihr Hauptziel?",tasks_card:{title:"Aufgaben",pending:"Ausstehend",action:"Aufgaben ansehen"},journal_card:{title:"Journal",subtitle:"Reflektieren",action:"Schreiben"}},tasks:{title:"Aufgaben",subtitle:"Organisieren Sie Ihren Tag.",past_title:"Vergangene Aufgaben",past_subtitle:"Aufgaben vom",future_title:"Zuknftige Aufgaben",future_subtitle:"Aufgaben vom",placeholder:"Neue Aufgabe hinzufgen...",empty:"Noch keine Aufgaben. Fgen Sie oben eine hinzu!",empty_past:"Keine Aufgaben fr dieses Datum gefunden.",delete_label:"Aufgabe lschen",created:"Erstellt",select_date:"Datum auswhlen",for_date:"Fr",view_incomplete:"Unvollstndige Aufgaben anzeigen",incomplete_title:"Unvollstndige Aufgaben",no_incomplete:"Alle Aufgaben erledigt! Tolle Arbeit!",completed_section:"Erledigt"},journal:{title:"Journal",subtitle:"Reflektieren Sie Ihre Gedanken.",past_title:"Vergangene Eintrge",past_subtitle:"Eintrge vom",placeholder:"Was beschftigt Sie?",empty:"Noch keine Eintrge. Fangen Sie an zu schreiben!",empty_past:"Keine Eintrge fr dieses Datum gefunden.",submit:"Senden",archive_title:"Journal Archiv",view_archive:"Archiv ansehen",no_archived_entries:"Keine Eintrge gefunden.",month_view:"Monatsansicht"},calendar:{select_date:"Datum auswhlen",summary_title:"Zusammenfassung fr",tasks_section:"Aufgaben",journal_section:"Journaleintrge",no_tasks:"Keine Aufgaben aufgezeichnet.",no_entries:"Keine Journaleintrge."},habits:{title:"Gewohnheiten",subtitle:"Verfolgen Sie Ihre tglichen Ziele",create_new:"Neue Gewohnheit",name_label:"Gewohnheitsname",name_placeholder:"z.B. Wasser trinken",type_label:"Typ",type_count:"Anzahl",type_time:"Zeit",type_limit:"Limit",target_label:"Ziel",unit_label:"Einheit (Optional)",unit_placeholder:"z.B. Minuten, Mal",create_button:"Gewohnheit erstellen",empty:"Noch keine Gewohnheiten. Erstellen Sie eine!",view_day:"Tag",view_week:"Woche",view_month:"Monat",view_coming_soon:"Demnchst verfgbar",frequency_label:"Hufigkeit",edit_habit:"Gewohnheit bearbeiten",view_habit:"Gewohnheitsmodus",view_compact:"Kompaktmodus",manual_entry:"Manuelle Eingabe",manual_modal_title:"Einheiten hier hinzufgen"}}},IA=O.createContext();function GI({children:r}){const{user:e}=br(),[t,i]=O.useState(()=>localStorage.getItem("language")||"en"),a=async u=>{if(i(u),e)try{const h=St(He,"users",e.uid);await os(h,{preferences:{language:u}},{merge:!0})}catch(h){console.error("Error updating language:",h)}};O.useEffect(()=>{localStorage.setItem("language",t)},[t]),O.useEffect(()=>{(async()=>{if(e)try{const h=St(He,"users",e.uid),p=await sy(h);if(p.exists()&&p.data().preferences?.language){const f=p.data().preferences.language;f!==t&&i(f)}else await os(h,{preferences:{language:t}},{merge:!0})}catch(h){console.error("Error syncing language:",h)}})()},[e]);const l=u=>{const h=u.split(".");let p=qI[t];for(const f of h){if(p[f]===void 0)return console.warn(`Translation missing for key: ${u} in language: ${t}`),u;p=p[f]}return p};return E.jsx(IA.Provider,{value:{language:t,setLanguage:a,t:l},children:r})}function sn(){const r=O.useContext(IA);if(!r)throw new Error("useLanguage must be used within a LanguageProvider");return r}const NA=O.createContext();function $I({children:r}){const[e,t]=O.useState(null),i=O.useCallback((u,h,p,f,y)=>{e&&(e.timeoutId&&clearTimeout(e.timeoutId),t(null)),Promise.resolve(y()).catch(x=>{console.error("Error during immediate deletion:",x)});const v=setTimeout(()=>{t(x=>x&&x.id===u?null:x)},5e3);t({id:u,type:h,data:p,onUndo:f,onConfirm:y,timestamp:Date.now(),timeoutId:v})},[e]),a=O.useCallback(()=>{e&&(e.timeoutId&&clearTimeout(e.timeoutId),e.onUndo(),t(null))},[e]),l=O.useCallback(()=>{e&&(e.timeoutId&&clearTimeout(e.timeoutId),e.onConfirm(),t(null))},[e]);return E.jsx(NA.Provider,{value:{pendingDelete:e,scheduleDelete:i,undo:a,dismiss:l},children:r})}function qh(){const r=O.useContext(NA);if(!r)throw new Error("useUndo must be used within UndoProvider");return r}const KI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Pb=r=>{const e=YI(r);return e.charAt(0).toUpperCase()+e.slice(1)},kA=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),QI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var XI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WI=O.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...h},p)=>O.createElement("svg",{ref:p,...XI,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:kA("lucide",a),...!l&&!QI(h)&&{"aria-hidden":"true"},...h},[...u.map(([f,y])=>O.createElement(f,y)),...Array.isArray(l)?l:[l]]));const Ye=(r,e)=>{const t=O.forwardRef(({className:i,...a},l)=>O.createElement(WI,{ref:l,iconNode:e,className:kA(`lucide-${KI(Pb(r))}`,`lucide-${r}`,i),...a}));return t.displayName=Pb(r),t};const ZI=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hh=Ye("activity",ZI);const JI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Lb=Ye("arrow-right",JI);const eN=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tN=Ye("ban",eN);const nN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],rN=Ye("book-open",nN);const iN=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],sN=Ye("book",iN);const aN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gh=Ye("calendar",aN);const oN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],BA=Ye("check",oN);const lN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cN=Ye("chevron-down",lN);const uN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$h=Ye("chevron-right",uN);const dN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ay=Ye("chevron-left",dN);const fN=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],hN=Ye("chevron-up",fN);const mN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oy=Ye("circle-check-big",mN);const pN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kh=Ye("circle",pN);const gN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ly=Ye("clock",gN);const yN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vN=Ye("download",yN);const xN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],cy=Ye("ellipsis-vertical",xN);const _N=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],bN=Ye("house",_N);const EN=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],wN=Ye("keyboard",EN);const AN=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],CN=Ye("layout-grid",AN);const TN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],SN=Ye("list",TN);const DN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],RN=Ye("lock",DN);const IN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],NN=Ye("log-out",IN);const kN=[["path",{d:"M5 12h14",key:"1ays0h"}]],BN=Ye("minus",kN);const ON=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],OA=Ye("moon",ON);const MN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Yh=Ye("pencil",MN);const VN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uy=Ye("plus",VN);const jN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],PN=Ye("rotate-ccw",jN);const LN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],FN=Ye("send",LN);const zN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],UN=Ye("square-check-big",zN);const HN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],qN=Ye("square",HN);const GN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],MA=Ye("sun",GN);const $N=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qh=Ye("trash-2",$N);const KN=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],YN=Ye("undo-2",KN);const QN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],XN=Ye("user",QN);const WN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ni=Ye("x",WN),VA=O.createContext();function ZN({children:r}){const{user:e}=br(),[t,i]=O.useState(()=>{const l=localStorage.getItem("my_not_busy_agenda_theme");return l?JSON.parse(l):!1});O.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("my_not_busy_agenda_theme",JSON.stringify(t))},[t]),O.useEffect(()=>{(async()=>{if(e)try{const u=St(He,"users",e.uid),h=await sy(u);if(h.exists()&&h.data().preferences?.theme!==void 0){const p=h.data().preferences.theme;p!==t&&i(p==="dark")}else await os(u,{preferences:{theme:t?"dark":"light"}},{merge:!0})}catch(u){console.error("Error syncing theme:",u)}})()},[e]);const a=async()=>{const l=!t;if(i(l),e)try{const u=St(He,"users",e.uid);await os(u,{preferences:{theme:l?"dark":"light"}},{merge:!0})}catch(u){console.error("Error updating theme:",u)}};return E.jsx(VA.Provider,{value:{isDark:t,toggleDarkMode:a},children:r})}function dy(){const r=O.useContext(VA);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r}function JN(){const{pendingDelete:r,undo:e}=qh(),{t}=sn(),[i,a]=O.useState(!1),[l,u]=O.useState(100);if(O.useEffect(()=>{if(r){a(!0),u(100);const p=Date.now(),f=5e3,y=()=>{const v=Date.now()-p,x=Math.max(0,100-v/f*100);u(x),x>0&&requestAnimationFrame(y)};requestAnimationFrame(y)}else{const p=setTimeout(()=>a(!1),300);return()=>clearTimeout(p)}},[r]),!i)return null;const h=r?.type==="todo"?t("common.task_deleted"):t("common.entry_deleted");return E.jsx("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 z-50 transition-all duration-300",style:{opacity:r?1:0,transform:r?"translateY(0)":"translateY(20px)"},children:E.jsxs("div",{className:"min-w-[300px] max-w-md rounded-xl shadow-2xl overflow-hidden",style:{backgroundColor:"var(--color-bg-card)"},children:[E.jsx("div",{className:"h-1 bg-gray-200 dark:bg-gray-700",children:E.jsx("div",{className:"h-full transition-all duration-100 ease-linear",style:{width:`${l}%`,backgroundColor:"#d1bd9f"}})}),E.jsxs("div",{className:"flex items-center justify-between gap-4 p-4",children:[E.jsx("span",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:h}),E.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all hover:opacity-80",style:{backgroundColor:"var(--color-accent)",color:"white"},children:[E.jsx(YN,{size:16}),t("common.undo")]})]})]})})}const jA=O.createContext();function ek({children:r}){const{user:e}=br(),[t,i]=O.useState({startOfWeek:"monday"}),a=async l=>{if(i(u=>({...u,...l})),e)try{const u=St(He,"users",e.uid);await os(u,{preferences:l},{merge:!0})}catch(u){console.error("Error updating settings:",u)}else localStorage.setItem("my_not_busy_agenda_settings",JSON.stringify({...t,...l}))};return O.useEffect(()=>{const l=localStorage.getItem("my_not_busy_agenda_settings");l&&i(u=>({...u,...JSON.parse(l)}))},[]),O.useEffect(()=>{(async()=>{if(e)try{const u=St(He,"users",e.uid),h=await sy(u);if(h.exists()&&h.data().preferences){const p=h.data().preferences;p.startOfWeek&&i(f=>({...f,startOfWeek:p.startOfWeek}))}else await os(u,{preferences:t},{merge:!0})}catch(u){console.error("Error syncing settings:",u)}})()},[e]),E.jsx(jA.Provider,{value:{settings:t,updateSettings:a},children:r})}function bl(){const r=O.useContext(jA);if(!r)throw new Error("useSettings must be used within a SettingsProvider");return r}const vp=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"zh",name:"",flag:""},{code:"fr",name:"Franais",flag:""},{code:"de",name:"Deutsch",flag:""}];function PA(){const{language:r,setLanguage:e}=sn(),[t,i]=O.useState(!1),a=O.useRef(null),l=vp.find(u=>u.code===r)||vp[0];return O.useEffect(()=>{const u=h=>{a.current&&!a.current.contains(h.target)&&i(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),E.jsxs("div",{className:"relative",ref:a,children:[E.jsxs("button",{onClick:()=>i(!t),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-[var(--color-bg-secondary)] transition-colors text-sm font-medium",style:{color:"var(--color-text-primary)"},children:[E.jsx("span",{className:"text-lg",children:l.flag}),E.jsx("span",{className:"hidden md:inline",children:l.name}),E.jsx(hN,{size:16,className:`transition-transform duration-200 ${t?"rotate-180":""}`})]}),t&&E.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-[var(--color-bg-primary)] border border-[var(--color-border)] rounded-xl shadow-lg overflow-hidden py-1 z-50",children:vp.map(u=>E.jsxs("button",{onClick:()=>{e(u.code),i(!1)},className:`w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-[var(--color-bg-secondary)] transition-colors ${r===u.code?"bg-[var(--color-bg-secondary)]":""}`,style:{color:"var(--color-text-primary)"},children:[E.jsx("span",{className:"text-lg",children:u.flag}),E.jsx("span",{className:"text-sm",children:u.name})]},u.code))})]})}function tk({isOpen:r,onClose:e}){const{user:t,linkEmailPassword:i}=br(),{t:a}=sn(),{isDark:l,toggleDarkMode:u}=dy(),{settings:h,updateSettings:p}=bl(),[f,y]=O.useState(""),[v,x]=O.useState({type:"",message:""}),[b,w]=O.useState(!1);if(!r)return null;const T=async C=>{if(C.preventDefault(),w(!0),x({type:"",message:""}),f.length<6){x({type:"error",message:a("profile.error_short_password")}),w(!1);return}try{await i(f),x({type:"success",message:a("profile.success")}),y("")}catch(V){console.error(V),V.code==="auth/requires-recent-login"?x({type:"error",message:a("profile.error_recent_login")}):V.code==="auth/email-already-in-use"||V.message.includes("credential-already-in-use")?x({type:"error",message:a("profile.error_email_in_use")}):x({type:"error",message:a("profile.error_generic")+" "+V.message})}finally{w(!1)}};return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:E.jsxs("div",{className:"w-full max-w-md rounded-2xl border shadow-xl animate-in fade-in zoom-in duration-200",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},children:[E.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--color-border)"},children:[E.jsx("h2",{className:"text-xl font-semibold",children:a("profile.title")}),E.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",children:E.jsx(Ni,{size:20})})]}),E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"mb-6 pb-6 border-b",style:{borderColor:"var(--color-border)"},children:[E.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--color-text-primary)"},children:a("profile.preferences")||"Preferences"}),E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{style:{color:"var(--color-text-primary)"},children:a("profile.language")||"Language"}),E.jsx(PA,{})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{style:{color:"var(--color-text-primary)"},children:a("profile.theme")||"Theme"}),E.jsx("button",{onClick:u,className:"p-2 rounded-lg transition-colors flex items-center gap-2 border",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},children:l?E.jsxs(E.Fragment,{children:[E.jsx(OA,{size:18}),E.jsx("span",{children:a("profile.theme_dark")})]}):E.jsxs(E.Fragment,{children:[E.jsx(MA,{size:18}),E.jsx("span",{children:a("profile.theme_light")})]})})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{style:{color:"var(--color-text-primary)"},children:a("profile.start_of_week")||"Start of week"}),E.jsxs("div",{className:"flex overflow-hidden rounded-lg border",style:{borderColor:"var(--color-border)"},children:[E.jsx("button",{onClick:()=>p({startOfWeek:"monday"}),className:`px-3 py-1.5 text-sm transition-colors ${h?.startOfWeek==="monday"?"font-medium":"opacity-60 hover:opacity-100"}`,style:{backgroundColor:h?.startOfWeek==="monday"?"var(--color-bg-secondary)":"transparent",color:"var(--color-text-primary)"},children:a("profile.monday")||"Monday"}),E.jsx("div",{className:"w-[1px]",style:{backgroundColor:"var(--color-border)"}}),E.jsx("button",{onClick:()=>p({startOfWeek:"sunday"}),className:`px-3 py-1.5 text-sm transition-colors ${h?.startOfWeek==="sunday"?"font-medium":"opacity-60 hover:opacity-100"}`,style:{backgroundColor:h?.startOfWeek==="sunday"?"var(--color-bg-secondary)":"transparent",color:"var(--color-text-primary)"},children:a("profile.sunday")||"Sunday"})]})]})]})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:a("profile.email_label")}),E.jsx("div",{className:"p-3 rounded-lg bg-[var(--color-bg-secondary)] text-[var(--color-text-primary)]",children:t?.email})]}),E.jsxs("form",{onSubmit:T,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:a("profile.set_password_label")}),E.jsxs("div",{className:"relative",children:[E.jsx(RN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--color-text-muted)]",size:18}),E.jsx("input",{type:"password",value:f,onChange:C=>y(C.target.value),placeholder:a("profile.new_password_placeholder"),className:"w-full pl-10 pr-4 py-2 rounded-lg border bg-[var(--color-bg-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"}})]})]}),v.message&&E.jsx("div",{className:`text-sm p-3 rounded-lg ${v.type==="success"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:v.message}),E.jsx("button",{type:"submit",disabled:b||!f,className:"w-full py-2 px-4 rounded-lg font-medium transition-all hover:opacity-90 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-accent)",color:"#ffffff"},children:b?a("profile.saving"):E.jsxs(E.Fragment,{children:[E.jsx(BA,{size:18}),a("profile.save_password")]})})]}),E.jsx("div",{className:"mt-8 pt-6 border-t text-center text-xs",style:{borderColor:"var(--color-border)",color:"var(--color-text-tertiary)"},children:E.jsxs("p",{children:[a("profile.version")," ","e71a583"]})})]})]})})}function LA(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=LA(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function Tt(){for(var r,e,t=0,i="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=LA(r))&&(i&&(i+=" "),i+=e);return i}const FA="/MyNotBusyAgenda/assets/logo-Bj79zbMH.png";function nk(){const[r,e]=O.useState(null),[t,i]=O.useState(!1);return O.useEffect(()=>{const l=u=>{u.preventDefault(),e(u),i(!0)};return window.addEventListener("beforeinstallprompt",l),()=>{window.removeEventListener("beforeinstallprompt",l)}},[]),{isInstallable:t,install:async()=>{if(!r)return;r.prompt();const{outcome:l}=await r.userChoice;e(null),i(!1)}}}function rk(){const{isInstallable:r,install:e}=nk();return r?E.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-full hover:bg-blue-700 transition-colors shadow-sm",title:"Install App",children:[E.jsx(vN,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Install"})]}):null}function ik(){const r=ls(),{logout:e}=br(),[t,i]=O.useState(!1);dy();const a=[{path:"/",icon:bN,label:"Home"},{path:"/todos",icon:UN,label:"Todos"},{path:"/habits",icon:hh,label:"Habits"},{path:"/journal",icon:rN,label:"Journal"}],l=async()=>{try{await e()}catch(u){console.error("Failed to log out:",u)}};return E.jsxs("div",{className:"h-screen flex flex-col transition-colors duration-200",style:{backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"},children:[E.jsx("header",{className:"px-6 py-4 z-10 backdrop-blur-md bg-opacity-80 border-b flex-shrink-0",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border)"},children:E.jsxs("div",{className:"content-container flex justify-between items-center",children:[E.jsx("div",{className:"flex items-center gap-3",children:E.jsx(nl,{to:"/",className:"hover:opacity-80 transition-opacity",children:E.jsx("img",{src:FA,alt:"MyNotBusyAgenda Logo",className:"h-10 w-16"})})}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx(rk,{}),E.jsx("button",{onClick:()=>i(!0),className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",title:"Profile Settings",children:E.jsx(XN,{size:20})}),E.jsx("button",{onClick:l,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors text-red-400",children:E.jsx(NN,{size:20})})]})]})}),E.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:E.jsx(QS,{})}),E.jsx("nav",{className:"backdrop-blur-md py-4 z-10 flex-shrink-0",style:{backgroundColor:"var(--color-bg-secondary)cc",borderTop:"1px solid var(--color-border)"},children:E.jsx("div",{className:"content-container flex justify-between items-center",children:a.map(({path:u,icon:h,label:p})=>E.jsxs(nl,{to:u,className:Tt("flex flex-col items-center gap-1 transition-all duration-200",r.pathname===u?"scale-110":""),style:{color:r.pathname===u?"var(--color-text-primary)":"var(--color-text-muted)"},children:[E.jsx(h,{size:24,strokeWidth:r.pathname===u?2.5:2}),E.jsx("span",{className:"text-[10px] font-medium tracking-wide",children:p})]},u))})}),E.jsx(JN,{}),E.jsx(tk,{isOpen:t,onClose:()=>i(!1)})]})}function sk(){const[r,e]=O.useState({text:"",date:new Date().toISOString(),completed:!1}),{user:t}=br();return O.useEffect(()=>{if(!t){e({text:"",date:new Date().toISOString(),completed:!1});return}const l=new Date().toISOString().split("T")[0],u=St(He,"users",t.uid,"focus",l);return Wa(u,p=>{if(p.exists()){const f=p.data();e({text:f.text||"",date:f.date?.toDate?.()?.toISOString()||f.date,completed:f.completed||!1})}else e({text:"",date:new Date().toISOString(),completed:!1})})},[t]),{focus:r,setFocusText:async l=>{if(t)try{const u=new Date().toISOString().split("T")[0],h=St(He,"users",t.uid,"focus",u);await os(h,{text:l,date:new Date,completed:r.completed},{merge:!0})}catch(u){console.error("Error setting focus:",u)}},toggleFocus:async()=>{if(t)try{const l=new Date().toISOString().split("T")[0],u=St(He,"users",t.uid,"focus",l);await os(u,{text:r.text,date:new Date,completed:!r.completed},{merge:!0})}catch(l){console.error("Error toggling focus:",l)}}}}var df={exports:{}};function ak(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ff={exports:{}};const ok={},lk=Object.freeze(Object.defineProperty({__proto__:null,default:ok},Symbol.toStringTag,{value:"Module"})),ck=$T(lk);var uk=ff.exports,Fb;function Qe(){return Fb||(Fb=1,(function(r,e){(function(t,i){r.exports=i()})(uk,function(){var t=t||(function(i,a){var l;if(typeof window<"u"&&window.crypto&&(l=window.crypto),typeof self<"u"&&self.crypto&&(l=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(l=globalThis.crypto),!l&&typeof window<"u"&&window.msCrypto&&(l=window.msCrypto),!l&&typeof Xm<"u"&&Xm.crypto&&(l=Xm.crypto),!l&&typeof ak=="function")try{l=ck}catch{}var u=function(){if(l){if(typeof l.getRandomValues=="function")try{return l.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof l.randomBytes=="function")try{return l.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||(function(){function k(){}return function(B){var L;return k.prototype=B,L=new k,k.prototype=null,L}})(),p={},f=p.lib={},y=f.Base=(function(){return{extend:function(k){var B=h(this);return k&&B.mixIn(k),(!B.hasOwnProperty("init")||this.init===B.init)&&(B.init=function(){B.$super.init.apply(this,arguments)}),B.init.prototype=B,B.$super=this,B},create:function(){var k=this.extend();return k.init.apply(k,arguments),k},init:function(){},mixIn:function(k){for(var B in k)k.hasOwnProperty(B)&&(this[B]=k[B]);k.hasOwnProperty("toString")&&(this.toString=k.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),v=f.WordArray=y.extend({init:function(k,B){k=this.words=k||[],B!=a?this.sigBytes=B:this.sigBytes=k.length*4},toString:function(k){return(k||b).stringify(this)},concat:function(k){var B=this.words,L=k.words,H=this.sigBytes,q=k.sigBytes;if(this.clamp(),H%4)for(var D=0;D<q;D++){var R=L[D>>>2]>>>24-D%4*8&255;B[H+D>>>2]|=R<<24-(H+D)%4*8}else for(var I=0;I<q;I+=4)B[H+I>>>2]=L[I>>>2];return this.sigBytes+=q,this},clamp:function(){var k=this.words,B=this.sigBytes;k[B>>>2]&=4294967295<<32-B%4*8,k.length=i.ceil(B/4)},clone:function(){var k=y.clone.call(this);return k.words=this.words.slice(0),k},random:function(k){for(var B=[],L=0;L<k;L+=4)B.push(u());return new v.init(B,k)}}),x=p.enc={},b=x.Hex={stringify:function(k){for(var B=k.words,L=k.sigBytes,H=[],q=0;q<L;q++){var D=B[q>>>2]>>>24-q%4*8&255;H.push((D>>>4).toString(16)),H.push((D&15).toString(16))}return H.join("")},parse:function(k){for(var B=k.length,L=[],H=0;H<B;H+=2)L[H>>>3]|=parseInt(k.substr(H,2),16)<<24-H%8*4;return new v.init(L,B/2)}},w=x.Latin1={stringify:function(k){for(var B=k.words,L=k.sigBytes,H=[],q=0;q<L;q++){var D=B[q>>>2]>>>24-q%4*8&255;H.push(String.fromCharCode(D))}return H.join("")},parse:function(k){for(var B=k.length,L=[],H=0;H<B;H++)L[H>>>2]|=(k.charCodeAt(H)&255)<<24-H%4*8;return new v.init(L,B)}},T=x.Utf8={stringify:function(k){try{return decodeURIComponent(escape(w.stringify(k)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(k){return w.parse(unescape(encodeURIComponent(k)))}},C=f.BufferedBlockAlgorithm=y.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(k){typeof k=="string"&&(k=T.parse(k)),this._data.concat(k),this._nDataBytes+=k.sigBytes},_process:function(k){var B,L=this._data,H=L.words,q=L.sigBytes,D=this.blockSize,R=D*4,I=q/R;k?I=i.ceil(I):I=i.max((I|0)-this._minBufferSize,0);var N=I*D,M=i.min(N*4,q);if(N){for(var U=0;U<N;U+=D)this._doProcessBlock(H,U);B=H.splice(0,N),L.sigBytes-=M}return new v.init(B,M)},clone:function(){var k=y.clone.call(this);return k._data=this._data.clone(),k},_minBufferSize:0});f.Hasher=C.extend({cfg:y.extend(),init:function(k){this.cfg=this.cfg.extend(k),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(k){return this._append(k),this._process(),this},finalize:function(k){k&&this._append(k);var B=this._doFinalize();return B},blockSize:16,_createHelper:function(k){return function(B,L){return new k.init(L).finalize(B)}},_createHmacHelper:function(k){return function(B,L){return new V.HMAC.init(k,L).finalize(B)}}});var V=p.algo={};return p})(Math);return t})})(ff)),ff.exports}var hf={exports:{}},dk=hf.exports,zb;function Xh(){return zb||(zb=1,(function(r,e){(function(t,i){r.exports=i(Qe())})(dk,function(t){return(function(i){var a=t,l=a.lib,u=l.Base,h=l.WordArray,p=a.x64={};p.Word=u.extend({init:function(f,y){this.high=f,this.low=y}}),p.WordArray=u.extend({init:function(f,y){f=this.words=f||[],y!=i?this.sigBytes=y:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,y=f.length,v=[],x=0;x<y;x++){var b=f[x];v.push(b.high),v.push(b.low)}return h.create(v,this.sigBytes)},clone:function(){for(var f=u.clone.call(this),y=f.words=this.words.slice(0),v=y.length,x=0;x<v;x++)y[x]=y[x].clone();return f}})})(),t})})(hf)),hf.exports}var mf={exports:{}},fk=mf.exports,Ub;function hk(){return Ub||(Ub=1,(function(r,e){(function(t,i){r.exports=i(Qe())})(fk,function(t){return(function(){if(typeof ArrayBuffer=="function"){var i=t,a=i.lib,l=a.WordArray,u=l.init,h=l.init=function(p){if(p instanceof ArrayBuffer&&(p=new Uint8Array(p)),(p instanceof Int8Array||typeof Uint8ClampedArray<"u"&&p instanceof Uint8ClampedArray||p instanceof Int16Array||p instanceof Uint16Array||p instanceof Int32Array||p instanceof Uint32Array||p instanceof Float32Array||p instanceof Float64Array)&&(p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength)),p instanceof Uint8Array){for(var f=p.byteLength,y=[],v=0;v<f;v++)y[v>>>2]|=p[v]<<24-v%4*8;u.call(this,y,f)}else u.apply(this,arguments)};h.prototype=l}})(),t.lib.WordArray})})(mf)),mf.exports}var pf={exports:{}},mk=pf.exports,Hb;function pk(){return Hb||(Hb=1,(function(r,e){(function(t,i){r.exports=i(Qe())})(mk,function(t){return(function(){var i=t,a=i.lib,l=a.WordArray,u=i.enc;u.Utf16=u.Utf16BE={stringify:function(p){for(var f=p.words,y=p.sigBytes,v=[],x=0;x<y;x+=2){var b=f[x>>>2]>>>16-x%4*8&65535;v.push(String.fromCharCode(b))}return v.join("")},parse:function(p){for(var f=p.length,y=[],v=0;v<f;v++)y[v>>>1]|=p.charCodeAt(v)<<16-v%2*16;return l.create(y,f*2)}},u.Utf16LE={stringify:function(p){for(var f=p.words,y=p.sigBytes,v=[],x=0;x<y;x+=2){var b=h(f[x>>>2]>>>16-x%4*8&65535);v.push(String.fromCharCode(b))}return v.join("")},parse:function(p){for(var f=p.length,y=[],v=0;v<f;v++)y[v>>>1]|=h(p.charCodeAt(v)<<16-v%2*16);return l.create(y,f*2)}};function h(p){return p<<8&4278255360|p>>>8&16711935}})(),t.enc.Utf16})})(pf)),pf.exports}var gf={exports:{}},gk=gf.exports,qb;function no(){return qb||(qb=1,(function(r,e){(function(t,i){r.exports=i(Qe())})(gk,function(t){return(function(){var i=t,a=i.lib,l=a.WordArray,u=i.enc;u.Base64={stringify:function(p){var f=p.words,y=p.sigBytes,v=this._map;p.clamp();for(var x=[],b=0;b<y;b+=3)for(var w=f[b>>>2]>>>24-b%4*8&255,T=f[b+1>>>2]>>>24-(b+1)%4*8&255,C=f[b+2>>>2]>>>24-(b+2)%4*8&255,V=w<<16|T<<8|C,k=0;k<4&&b+k*.75<y;k++)x.push(v.charAt(V>>>6*(3-k)&63));var B=v.charAt(64);if(B)for(;x.length%4;)x.push(B);return x.join("")},parse:function(p){var f=p.length,y=this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var x=0;x<y.length;x++)v[y.charCodeAt(x)]=x}var b=y.charAt(64);if(b){var w=p.indexOf(b);w!==-1&&(f=w)}return h(p,f,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function h(p,f,y){for(var v=[],x=0,b=0;b<f;b++)if(b%4){var w=y[p.charCodeAt(b-1)]<<b%4*2,T=y[p.charCodeAt(b)]>>>6-b%4*2,C=w|T;v[x>>>2]|=C<<24-x%4*8,x++}return l.create(v,x)}})(),t.enc.Base64})})(gf)),gf.exports}var yf={exports:{}},yk=yf.exports,Gb;function vk(){return Gb||(Gb=1,(function(r,e){(function(t,i){r.exports=i(Qe())})(yk,function(t){return(function(){var i=t,a=i.lib,l=a.WordArray,u=i.enc;u.Base64url={stringify:function(p,f){f===void 0&&(f=!0);var y=p.words,v=p.sigBytes,x=f?this._safe_map:this._map;p.clamp();for(var b=[],w=0;w<v;w+=3)for(var T=y[w>>>2]>>>24-w%4*8&255,C=y[w+1>>>2]>>>24-(w+1)%4*8&255,V=y[w+2>>>2]>>>24-(w+2)%4*8&255,k=T<<16|C<<8|V,B=0;B<4&&w+B*.75<v;B++)b.push(x.charAt(k>>>6*(3-B)&63));var L=x.charAt(64);if(L)for(;b.length%4;)b.push(L);return b.join("")},parse:function(p,f){f===void 0&&(f=!0);var y=p.length,v=f?this._safe_map:this._map,x=this._reverseMap;if(!x){x=this._reverseMap=[];for(var b=0;b<v.length;b++)x[v.charCodeAt(b)]=b}var w=v.charAt(64);if(w){var T=p.indexOf(w);T!==-1&&(y=T)}return h(p,y,x)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function h(p,f,y){for(var v=[],x=0,b=0;b<f;b++)if(b%4){var w=y[p.charCodeAt(b-1)]<<b%4*2,T=y[p.charCodeAt(b)]>>>6-b%4*2,C=w|T;v[x>>>2]|=C<<24-x%4*8,x++}return l.create(v,x)}})(),t.enc.Base64url})})(yf)),yf.exports}var vf={exports:{}},xk=vf.exports,$b;function ro(){return $b||($b=1,(function(r,e){(function(t,i){r.exports=i(Qe())})(xk,function(t){return(function(i){var a=t,l=a.lib,u=l.WordArray,h=l.Hasher,p=a.algo,f=[];(function(){for(var T=0;T<64;T++)f[T]=i.abs(i.sin(T+1))*4294967296|0})();var y=p.MD5=h.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(T,C){for(var V=0;V<16;V++){var k=C+V,B=T[k];T[k]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}var L=this._hash.words,H=T[C+0],q=T[C+1],D=T[C+2],R=T[C+3],I=T[C+4],N=T[C+5],M=T[C+6],U=T[C+7],j=T[C+8],ie=T[C+9],fe=T[C+10],Q=T[C+11],se=T[C+12],de=T[C+13],he=T[C+14],ve=T[C+15],F=L[0],G=L[1],K=L[2],X=L[3];F=v(F,G,K,X,H,7,f[0]),X=v(X,F,G,K,q,12,f[1]),K=v(K,X,F,G,D,17,f[2]),G=v(G,K,X,F,R,22,f[3]),F=v(F,G,K,X,I,7,f[4]),X=v(X,F,G,K,N,12,f[5]),K=v(K,X,F,G,M,17,f[6]),G=v(G,K,X,F,U,22,f[7]),F=v(F,G,K,X,j,7,f[8]),X=v(X,F,G,K,ie,12,f[9]),K=v(K,X,F,G,fe,17,f[10]),G=v(G,K,X,F,Q,22,f[11]),F=v(F,G,K,X,se,7,f[12]),X=v(X,F,G,K,de,12,f[13]),K=v(K,X,F,G,he,17,f[14]),G=v(G,K,X,F,ve,22,f[15]),F=x(F,G,K,X,q,5,f[16]),X=x(X,F,G,K,M,9,f[17]),K=x(K,X,F,G,Q,14,f[18]),G=x(G,K,X,F,H,20,f[19]),F=x(F,G,K,X,N,5,f[20]),X=x(X,F,G,K,fe,9,f[21]),K=x(K,X,F,G,ve,14,f[22]),G=x(G,K,X,F,I,20,f[23]),F=x(F,G,K,X,ie,5,f[24]),X=x(X,F,G,K,he,9,f[25]),K=x(K,X,F,G,R,14,f[26]),G=x(G,K,X,F,j,20,f[27]),F=x(F,G,K,X,de,5,f[28]),X=x(X,F,G,K,D,9,f[29]),K=x(K,X,F,G,U,14,f[30]),G=x(G,K,X,F,se,20,f[31]),F=b(F,G,K,X,N,4,f[32]),X=b(X,F,G,K,j,11,f[33]),K=b(K,X,F,G,Q,16,f[34]),G=b(G,K,X,F,he,23,f[35]),F=b(F,G,K,X,q,4,f[36]),X=b(X,F,G,K,I,11,f[37]),K=b(K,X,F,G,U,16,f[38]),G=b(G,K,X,F,fe,23,f[39]),F=b(F,G,K,X,de,4,f[40]),X=b(X,F,G,K,H,11,f[41]),K=b(K,X,F,G,R,16,f[42]),G=b(G,K,X,F,M,23,f[43]),F=b(F,G,K,X,ie,4,f[44]),X=b(X,F,G,K,se,11,f[45]),K=b(K,X,F,G,ve,16,f[46]),G=b(G,K,X,F,D,23,f[47]),F=w(F,G,K,X,H,6,f[48]),X=w(X,F,G,K,U,10,f[49]),K=w(K,X,F,G,he,15,f[50]),G=w(G,K,X,F,N,21,f[51]),F=w(F,G,K,X,se,6,f[52]),X=w(X,F,G,K,R,10,f[53]),K=w(K,X,F,G,fe,15,f[54]),G=w(G,K,X,F,q,21,f[55]),F=w(F,G,K,X,j,6,f[56]),X=w(X,F,G,K,ve,10,f[57]),K=w(K,X,F,G,M,15,f[58]),G=w(G,K,X,F,de,21,f[59]),F=w(F,G,K,X,I,6,f[60]),X=w(X,F,G,K,Q,10,f[61]),K=w(K,X,F,G,D,15,f[62]),G=w(G,K,X,F,ie,21,f[63]),L[0]=L[0]+F|0,L[1]=L[1]+G|0,L[2]=L[2]+K|0,L[3]=L[3]+X|0},_doFinalize:function(){var T=this._data,C=T.words,V=this._nDataBytes*8,k=T.sigBytes*8;C[k>>>5]|=128<<24-k%32;var B=i.floor(V/4294967296),L=V;C[(k+64>>>9<<4)+15]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,C[(k+64>>>9<<4)+14]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,T.sigBytes=(C.length+1)*4,this._process();for(var H=this._hash,q=H.words,D=0;D<4;D++){var R=q[D];q[D]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return H},clone:function(){var T=h.clone.call(this);return T._hash=this._hash.clone(),T}});function v(T,C,V,k,B,L,H){var q=T+(C&V|~C&k)+B+H;return(q<<L|q>>>32-L)+C}function x(T,C,V,k,B,L,H){var q=T+(C&k|V&~k)+B+H;return(q<<L|q>>>32-L)+C}function b(T,C,V,k,B,L,H){var q=T+(C^V^k)+B+H;return(q<<L|q>>>32-L)+C}function w(T,C,V,k,B,L,H){var q=T+(V^(C|~k))+B+H;return(q<<L|q>>>32-L)+C}a.MD5=h._createHelper(y),a.HmacMD5=h._createHmacHelper(y)})(Math),t.MD5})})(vf)),vf.exports}var xf={exports:{}},_k=xf.exports,Kb;function zA(){return Kb||(Kb=1,(function(r,e){(function(t,i){r.exports=i(Qe())})(_k,function(t){return(function(){var i=t,a=i.lib,l=a.WordArray,u=a.Hasher,h=i.algo,p=[],f=h.SHA1=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,v){for(var x=this._hash.words,b=x[0],w=x[1],T=x[2],C=x[3],V=x[4],k=0;k<80;k++){if(k<16)p[k]=y[v+k]|0;else{var B=p[k-3]^p[k-8]^p[k-14]^p[k-16];p[k]=B<<1|B>>>31}var L=(b<<5|b>>>27)+V+p[k];k<20?L+=(w&T|~w&C)+1518500249:k<40?L+=(w^T^C)+1859775393:k<60?L+=(w&T|w&C|T&C)-1894007588:L+=(w^T^C)-899497514,V=C,C=T,T=w<<30|w>>>2,w=b,b=L}x[0]=x[0]+b|0,x[1]=x[1]+w|0,x[2]=x[2]+T|0,x[3]=x[3]+C|0,x[4]=x[4]+V|0},_doFinalize:function(){var y=this._data,v=y.words,x=this._nDataBytes*8,b=y.sigBytes*8;return v[b>>>5]|=128<<24-b%32,v[(b+64>>>9<<4)+14]=Math.floor(x/4294967296),v[(b+64>>>9<<4)+15]=x,y.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var y=u.clone.call(this);return y._hash=this._hash.clone(),y}});i.SHA1=u._createHelper(f),i.HmacSHA1=u._createHmacHelper(f)})(),t.SHA1})})(xf)),xf.exports}var _f={exports:{}},bk=_f.exports,Yb;function fy(){return Yb||(Yb=1,(function(r,e){(function(t,i){r.exports=i(Qe())})(bk,function(t){return(function(i){var a=t,l=a.lib,u=l.WordArray,h=l.Hasher,p=a.algo,f=[],y=[];(function(){function b(V){for(var k=i.sqrt(V),B=2;B<=k;B++)if(!(V%B))return!1;return!0}function w(V){return(V-(V|0))*4294967296|0}for(var T=2,C=0;C<64;)b(T)&&(C<8&&(f[C]=w(i.pow(T,1/2))),y[C]=w(i.pow(T,1/3)),C++),T++})();var v=[],x=p.SHA256=h.extend({_doReset:function(){this._hash=new u.init(f.slice(0))},_doProcessBlock:function(b,w){for(var T=this._hash.words,C=T[0],V=T[1],k=T[2],B=T[3],L=T[4],H=T[5],q=T[6],D=T[7],R=0;R<64;R++){if(R<16)v[R]=b[w+R]|0;else{var I=v[R-15],N=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,M=v[R-2],U=(M<<15|M>>>17)^(M<<13|M>>>19)^M>>>10;v[R]=N+v[R-7]+U+v[R-16]}var j=L&H^~L&q,ie=C&V^C&k^V&k,fe=(C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22),Q=(L<<26|L>>>6)^(L<<21|L>>>11)^(L<<7|L>>>25),se=D+Q+j+y[R]+v[R],de=fe+ie;D=q,q=H,H=L,L=B+se|0,B=k,k=V,V=C,C=se+de|0}T[0]=T[0]+C|0,T[1]=T[1]+V|0,T[2]=T[2]+k|0,T[3]=T[3]+B|0,T[4]=T[4]+L|0,T[5]=T[5]+H|0,T[6]=T[6]+q|0,T[7]=T[7]+D|0},_doFinalize:function(){var b=this._data,w=b.words,T=this._nDataBytes*8,C=b.sigBytes*8;return w[C>>>5]|=128<<24-C%32,w[(C+64>>>9<<4)+14]=i.floor(T/4294967296),w[(C+64>>>9<<4)+15]=T,b.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var b=h.clone.call(this);return b._hash=this._hash.clone(),b}});a.SHA256=h._createHelper(x),a.HmacSHA256=h._createHmacHelper(x)})(Math),t.SHA256})})(_f)),_f.exports}var bf={exports:{}},Ek=bf.exports,Qb;function wk(){return Qb||(Qb=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),fy())})(Ek,function(t){return(function(){var i=t,a=i.lib,l=a.WordArray,u=i.algo,h=u.SHA256,p=u.SHA224=h.extend({_doReset:function(){this._hash=new l.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=h._doFinalize.call(this);return f.sigBytes-=4,f}});i.SHA224=h._createHelper(p),i.HmacSHA224=h._createHmacHelper(p)})(),t.SHA224})})(bf)),bf.exports}var Ef={exports:{}},Ak=Ef.exports,Xb;function UA(){return Xb||(Xb=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),Xh())})(Ak,function(t){return(function(){var i=t,a=i.lib,l=a.Hasher,u=i.x64,h=u.Word,p=u.WordArray,f=i.algo;function y(){return h.create.apply(h,arguments)}var v=[y(1116352408,3609767458),y(1899447441,602891725),y(3049323471,3964484399),y(3921009573,2173295548),y(961987163,4081628472),y(1508970993,3053834265),y(2453635748,2937671579),y(2870763221,3664609560),y(3624381080,2734883394),y(310598401,1164996542),y(607225278,1323610764),y(1426881987,3590304994),y(1925078388,4068182383),y(2162078206,991336113),y(2614888103,633803317),y(3248222580,3479774868),y(3835390401,2666613458),y(4022224774,944711139),y(264347078,2341262773),y(604807628,2007800933),y(770255983,1495990901),y(1249150122,1856431235),y(1555081692,3175218132),y(1996064986,2198950837),y(2554220882,3999719339),y(2821834349,766784016),y(2952996808,2566594879),y(3210313671,3203337956),y(3336571891,1034457026),y(3584528711,2466948901),y(113926993,3758326383),y(338241895,168717936),y(666307205,1188179964),y(773529912,1546045734),y(1294757372,1522805485),y(1396182291,2643833823),y(1695183700,2343527390),y(1986661051,1014477480),y(2177026350,1206759142),y(2456956037,344077627),y(2730485921,1290863460),y(2820302411,3158454273),y(3259730800,3505952657),y(3345764771,106217008),y(3516065817,3606008344),y(3600352804,1432725776),y(4094571909,1467031594),y(275423344,851169720),y(430227734,3100823752),y(506948616,1363258195),y(659060556,3750685593),y(883997877,3785050280),y(958139571,3318307427),y(1322822218,3812723403),y(1537002063,2003034995),y(1747873779,3602036899),y(1955562222,1575990012),y(2024104815,1125592928),y(2227730452,2716904306),y(2361852424,442776044),y(2428436474,593698344),y(2756734187,3733110249),y(3204031479,2999351573),y(3329325298,3815920427),y(3391569614,3928383900),y(3515267271,566280711),y(3940187606,3454069534),y(4118630271,4000239992),y(116418474,1914138554),y(174292421,2731055270),y(289380356,3203993006),y(460393269,320620315),y(685471733,587496836),y(852142971,1086792851),y(1017036298,365543100),y(1126000580,2618297676),y(1288033470,3409855158),y(1501505948,4234509866),y(1607167915,987167468),y(1816402316,1246189591)],x=[];(function(){for(var w=0;w<80;w++)x[w]=y()})();var b=f.SHA512=l.extend({_doReset:function(){this._hash=new p.init([new h.init(1779033703,4089235720),new h.init(3144134277,2227873595),new h.init(1013904242,4271175723),new h.init(2773480762,1595750129),new h.init(1359893119,2917565137),new h.init(2600822924,725511199),new h.init(528734635,4215389547),new h.init(1541459225,327033209)])},_doProcessBlock:function(w,T){for(var C=this._hash.words,V=C[0],k=C[1],B=C[2],L=C[3],H=C[4],q=C[5],D=C[6],R=C[7],I=V.high,N=V.low,M=k.high,U=k.low,j=B.high,ie=B.low,fe=L.high,Q=L.low,se=H.high,de=H.low,he=q.high,ve=q.low,F=D.high,G=D.low,K=R.high,X=R.low,me=I,pe=N,we=M,xe=U,Ie=j,Be=ie,kn=fe,Rt=Q,vt=se,Xe=de,xn=he,Gt=ve,ar=F,$n=G,lt=K,We=X,xt=0;xt<80;xt++){var Ft,Bn,It=x[xt];if(xt<16)Bn=It.high=w[T+xt*2]|0,Ft=It.low=w[T+xt*2+1]|0;else{var Er=x[xt-15],Kn=Er.high,fn=Er.low,_n=(Kn>>>1|fn<<31)^(Kn>>>8|fn<<24)^Kn>>>7,wr=(fn>>>1|Kn<<31)^(fn>>>8|Kn<<24)^(fn>>>7|Kn<<25),ii=x[xt-2],$t=ii.high,or=ii.low,Fn=($t>>>19|or<<13)^($t<<3|or>>>29)^$t>>>6,Ot=(or>>>19|$t<<13)^(or<<3|$t>>>29)^(or>>>6|$t<<26),an=x[xt-7],mt=an.high,us=an.low,Ar=x[xt-16],ds=Ar.high,zn=Ar.low;Ft=wr+us,Bn=_n+mt+(Ft>>>0<wr>>>0?1:0),Ft=Ft+Ot,Bn=Bn+Fn+(Ft>>>0<Ot>>>0?1:0),Ft=Ft+zn,Bn=Bn+ds+(Ft>>>0<zn>>>0?1:0),It.high=Bn,It.low=Ft}var Hr=vt&xn^~vt&ar,je=Xe&Gt^~Xe&$n,pt=me&we^me&Ie^we&Ie,gt=pe&xe^pe&Be^xe&Be,Mt=(me>>>28|pe<<4)^(me<<30|pe>>>2)^(me<<25|pe>>>7),on=(pe>>>28|me<<4)^(pe<<30|me>>>2)^(pe<<25|me>>>7),Kt=(vt>>>14|Xe<<18)^(vt>>>18|Xe<<14)^(vt<<23|Xe>>>9),Nt=(Xe>>>14|vt<<18)^(Xe>>>18|vt<<14)^(Xe<<23|vt>>>9),bn=v[xt],kt=bn.high,ln=bn.low,rt=We+Nt,wt=lt+Kt+(rt>>>0<We>>>0?1:0),rt=rt+je,wt=wt+Hr+(rt>>>0<je>>>0?1:0),rt=rt+ln,wt=wt+kt+(rt>>>0<ln>>>0?1:0),rt=rt+Ft,wt=wt+Bn+(rt>>>0<Ft>>>0?1:0),On=on+gt,En=Mt+pt+(On>>>0<on>>>0?1:0);lt=ar,We=$n,ar=xn,$n=Gt,xn=vt,Gt=Xe,Xe=Rt+rt|0,vt=kn+wt+(Xe>>>0<Rt>>>0?1:0)|0,kn=Ie,Rt=Be,Ie=we,Be=xe,we=me,xe=pe,pe=rt+On|0,me=wt+En+(pe>>>0<rt>>>0?1:0)|0}N=V.low=N+pe,V.high=I+me+(N>>>0<pe>>>0?1:0),U=k.low=U+xe,k.high=M+we+(U>>>0<xe>>>0?1:0),ie=B.low=ie+Be,B.high=j+Ie+(ie>>>0<Be>>>0?1:0),Q=L.low=Q+Rt,L.high=fe+kn+(Q>>>0<Rt>>>0?1:0),de=H.low=de+Xe,H.high=se+vt+(de>>>0<Xe>>>0?1:0),ve=q.low=ve+Gt,q.high=he+xn+(ve>>>0<Gt>>>0?1:0),G=D.low=G+$n,D.high=F+ar+(G>>>0<$n>>>0?1:0),X=R.low=X+We,R.high=K+lt+(X>>>0<We>>>0?1:0)},_doFinalize:function(){var w=this._data,T=w.words,C=this._nDataBytes*8,V=w.sigBytes*8;T[V>>>5]|=128<<24-V%32,T[(V+128>>>10<<5)+30]=Math.floor(C/4294967296),T[(V+128>>>10<<5)+31]=C,w.sigBytes=T.length*4,this._process();var k=this._hash.toX32();return k},clone:function(){var w=l.clone.call(this);return w._hash=this._hash.clone(),w},blockSize:1024/32});i.SHA512=l._createHelper(b),i.HmacSHA512=l._createHmacHelper(b)})(),t.SHA512})})(Ef)),Ef.exports}var wf={exports:{}},Ck=wf.exports,Wb;function Tk(){return Wb||(Wb=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),Xh(),UA())})(Ck,function(t){return(function(){var i=t,a=i.x64,l=a.Word,u=a.WordArray,h=i.algo,p=h.SHA512,f=h.SHA384=p.extend({_doReset:function(){this._hash=new u.init([new l.init(3418070365,3238371032),new l.init(1654270250,914150663),new l.init(2438529370,812702999),new l.init(355462360,4144912697),new l.init(1731405415,4290775857),new l.init(2394180231,1750603025),new l.init(3675008525,1694076839),new l.init(1203062813,3204075428)])},_doFinalize:function(){var y=p._doFinalize.call(this);return y.sigBytes-=16,y}});i.SHA384=p._createHelper(f),i.HmacSHA384=p._createHmacHelper(f)})(),t.SHA384})})(wf)),wf.exports}var Af={exports:{}},Sk=Af.exports,Zb;function Dk(){return Zb||(Zb=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),Xh())})(Sk,function(t){return(function(i){var a=t,l=a.lib,u=l.WordArray,h=l.Hasher,p=a.x64,f=p.Word,y=a.algo,v=[],x=[],b=[];(function(){for(var C=1,V=0,k=0;k<24;k++){v[C+5*V]=(k+1)*(k+2)/2%64;var B=V%5,L=(2*C+3*V)%5;C=B,V=L}for(var C=0;C<5;C++)for(var V=0;V<5;V++)x[C+5*V]=V+(2*C+3*V)%5*5;for(var H=1,q=0;q<24;q++){for(var D=0,R=0,I=0;I<7;I++){if(H&1){var N=(1<<I)-1;N<32?R^=1<<N:D^=1<<N-32}H&128?H=H<<1^113:H<<=1}b[q]=f.create(D,R)}})();var w=[];(function(){for(var C=0;C<25;C++)w[C]=f.create()})();var T=y.SHA3=h.extend({cfg:h.cfg.extend({outputLength:512}),_doReset:function(){for(var C=this._state=[],V=0;V<25;V++)C[V]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(C,V){for(var k=this._state,B=this.blockSize/2,L=0;L<B;L++){var H=C[V+2*L],q=C[V+2*L+1];H=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360,q=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360;var D=k[L];D.high^=q,D.low^=H}for(var R=0;R<24;R++){for(var I=0;I<5;I++){for(var N=0,M=0,U=0;U<5;U++){var D=k[I+5*U];N^=D.high,M^=D.low}var j=w[I];j.high=N,j.low=M}for(var I=0;I<5;I++)for(var ie=w[(I+4)%5],fe=w[(I+1)%5],Q=fe.high,se=fe.low,N=ie.high^(Q<<1|se>>>31),M=ie.low^(se<<1|Q>>>31),U=0;U<5;U++){var D=k[I+5*U];D.high^=N,D.low^=M}for(var de=1;de<25;de++){var N,M,D=k[de],he=D.high,ve=D.low,F=v[de];F<32?(N=he<<F|ve>>>32-F,M=ve<<F|he>>>32-F):(N=ve<<F-32|he>>>64-F,M=he<<F-32|ve>>>64-F);var G=w[x[de]];G.high=N,G.low=M}var K=w[0],X=k[0];K.high=X.high,K.low=X.low;for(var I=0;I<5;I++)for(var U=0;U<5;U++){var de=I+5*U,D=k[de],me=w[de],pe=w[(I+1)%5+5*U],we=w[(I+2)%5+5*U];D.high=me.high^~pe.high&we.high,D.low=me.low^~pe.low&we.low}var D=k[0],xe=b[R];D.high^=xe.high,D.low^=xe.low}},_doFinalize:function(){var C=this._data,V=C.words;this._nDataBytes*8;var k=C.sigBytes*8,B=this.blockSize*32;V[k>>>5]|=1<<24-k%32,V[(i.ceil((k+1)/B)*B>>>5)-1]|=128,C.sigBytes=V.length*4,this._process();for(var L=this._state,H=this.cfg.outputLength/8,q=H/8,D=[],R=0;R<q;R++){var I=L[R],N=I.high,M=I.low;N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,D.push(M),D.push(N)}return new u.init(D,H)},clone:function(){for(var C=h.clone.call(this),V=C._state=this._state.slice(0),k=0;k<25;k++)V[k]=V[k].clone();return C}});a.SHA3=h._createHelper(T),a.HmacSHA3=h._createHmacHelper(T)})(Math),t.SHA3})})(Af)),Af.exports}var Cf={exports:{}},Rk=Cf.exports,Jb;function Ik(){return Jb||(Jb=1,(function(r,e){(function(t,i){r.exports=i(Qe())})(Rk,function(t){return(function(i){var a=t,l=a.lib,u=l.WordArray,h=l.Hasher,p=a.algo,f=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),y=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),x=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),b=u.create([0,1518500249,1859775393,2400959708,2840853838]),w=u.create([1352829926,1548603684,1836072691,2053994217,0]),T=p.RIPEMD160=h.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(q,D){for(var R=0;R<16;R++){var I=D+R,N=q[I];q[I]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}var M=this._hash.words,U=b.words,j=w.words,ie=f.words,fe=y.words,Q=v.words,se=x.words,de,he,ve,F,G,K,X,me,pe,we;K=de=M[0],X=he=M[1],me=ve=M[2],pe=F=M[3],we=G=M[4];for(var xe,R=0;R<80;R+=1)xe=de+q[D+ie[R]]|0,R<16?xe+=C(he,ve,F)+U[0]:R<32?xe+=V(he,ve,F)+U[1]:R<48?xe+=k(he,ve,F)+U[2]:R<64?xe+=B(he,ve,F)+U[3]:xe+=L(he,ve,F)+U[4],xe=xe|0,xe=H(xe,Q[R]),xe=xe+G|0,de=G,G=F,F=H(ve,10),ve=he,he=xe,xe=K+q[D+fe[R]]|0,R<16?xe+=L(X,me,pe)+j[0]:R<32?xe+=B(X,me,pe)+j[1]:R<48?xe+=k(X,me,pe)+j[2]:R<64?xe+=V(X,me,pe)+j[3]:xe+=C(X,me,pe)+j[4],xe=xe|0,xe=H(xe,se[R]),xe=xe+we|0,K=we,we=pe,pe=H(me,10),me=X,X=xe;xe=M[1]+ve+pe|0,M[1]=M[2]+F+we|0,M[2]=M[3]+G+K|0,M[3]=M[4]+de+X|0,M[4]=M[0]+he+me|0,M[0]=xe},_doFinalize:function(){var q=this._data,D=q.words,R=this._nDataBytes*8,I=q.sigBytes*8;D[I>>>5]|=128<<24-I%32,D[(I+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,q.sigBytes=(D.length+1)*4,this._process();for(var N=this._hash,M=N.words,U=0;U<5;U++){var j=M[U];M[U]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}return N},clone:function(){var q=h.clone.call(this);return q._hash=this._hash.clone(),q}});function C(q,D,R){return q^D^R}function V(q,D,R){return q&D|~q&R}function k(q,D,R){return(q|~D)^R}function B(q,D,R){return q&R|D&~R}function L(q,D,R){return q^(D|~R)}function H(q,D){return q<<D|q>>>32-D}a.RIPEMD160=h._createHelper(T),a.HmacRIPEMD160=h._createHmacHelper(T)})(),t.RIPEMD160})})(Cf)),Cf.exports}var Tf={exports:{}},Nk=Tf.exports,eE;function hy(){return eE||(eE=1,(function(r,e){(function(t,i){r.exports=i(Qe())})(Nk,function(t){(function(){var i=t,a=i.lib,l=a.Base,u=i.enc,h=u.Utf8,p=i.algo;p.HMAC=l.extend({init:function(f,y){f=this._hasher=new f.init,typeof y=="string"&&(y=h.parse(y));var v=f.blockSize,x=v*4;y.sigBytes>x&&(y=f.finalize(y)),y.clamp();for(var b=this._oKey=y.clone(),w=this._iKey=y.clone(),T=b.words,C=w.words,V=0;V<v;V++)T[V]^=1549556828,C[V]^=909522486;b.sigBytes=w.sigBytes=x,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var y=this._hasher,v=y.finalize(f);y.reset();var x=y.finalize(this._oKey.clone().concat(v));return x}})})()})})(Tf)),Tf.exports}var Sf={exports:{}},kk=Sf.exports,tE;function Bk(){return tE||(tE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),fy(),hy())})(kk,function(t){return(function(){var i=t,a=i.lib,l=a.Base,u=a.WordArray,h=i.algo,p=h.SHA256,f=h.HMAC,y=h.PBKDF2=l.extend({cfg:l.extend({keySize:128/32,hasher:p,iterations:25e4}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,x){for(var b=this.cfg,w=f.create(b.hasher,v),T=u.create(),C=u.create([1]),V=T.words,k=C.words,B=b.keySize,L=b.iterations;V.length<B;){var H=w.update(x).finalize(C);w.reset();for(var q=H.words,D=q.length,R=H,I=1;I<L;I++){R=w.finalize(R),w.reset();for(var N=R.words,M=0;M<D;M++)q[M]^=N[M]}T.concat(H),k[0]++}return T.sigBytes=B*4,T}});i.PBKDF2=function(v,x,b){return y.create(b).compute(v,x)}})(),t.PBKDF2})})(Sf)),Sf.exports}var Df={exports:{}},Ok=Df.exports,nE;function pa(){return nE||(nE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),zA(),hy())})(Ok,function(t){return(function(){var i=t,a=i.lib,l=a.Base,u=a.WordArray,h=i.algo,p=h.MD5,f=h.EvpKDF=l.extend({cfg:l.extend({keySize:128/32,hasher:p,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,v){for(var x,b=this.cfg,w=b.hasher.create(),T=u.create(),C=T.words,V=b.keySize,k=b.iterations;C.length<V;){x&&w.update(x),x=w.update(y).finalize(v),w.reset();for(var B=1;B<k;B++)x=w.finalize(x),w.reset();T.concat(x)}return T.sigBytes=V*4,T}});i.EvpKDF=function(y,v,x){return f.create(x).compute(y,v)}})(),t.EvpKDF})})(Df)),Df.exports}var Rf={exports:{}},Mk=Rf.exports,rE;function vn(){return rE||(rE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),pa())})(Mk,function(t){t.lib.Cipher||(function(i){var a=t,l=a.lib,u=l.Base,h=l.WordArray,p=l.BufferedBlockAlgorithm,f=a.enc;f.Utf8;var y=f.Base64,v=a.algo,x=v.EvpKDF,b=l.Cipher=p.extend({cfg:u.extend(),createEncryptor:function(N,M){return this.create(this._ENC_XFORM_MODE,N,M)},createDecryptor:function(N,M){return this.create(this._DEC_XFORM_MODE,N,M)},init:function(N,M,U){this.cfg=this.cfg.extend(U),this._xformMode=N,this._key=M,this.reset()},reset:function(){p.reset.call(this),this._doReset()},process:function(N){return this._append(N),this._process()},finalize:function(N){N&&this._append(N);var M=this._doFinalize();return M},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function N(M){return typeof M=="string"?I:q}return function(M){return{encrypt:function(U,j,ie){return N(j).encrypt(M,U,j,ie)},decrypt:function(U,j,ie){return N(j).decrypt(M,U,j,ie)}}}})()});l.StreamCipher=b.extend({_doFinalize:function(){var N=this._process(!0);return N},blockSize:1});var w=a.mode={},T=l.BlockCipherMode=u.extend({createEncryptor:function(N,M){return this.Encryptor.create(N,M)},createDecryptor:function(N,M){return this.Decryptor.create(N,M)},init:function(N,M){this._cipher=N,this._iv=M}}),C=w.CBC=(function(){var N=T.extend();N.Encryptor=N.extend({processBlock:function(U,j){var ie=this._cipher,fe=ie.blockSize;M.call(this,U,j,fe),ie.encryptBlock(U,j),this._prevBlock=U.slice(j,j+fe)}}),N.Decryptor=N.extend({processBlock:function(U,j){var ie=this._cipher,fe=ie.blockSize,Q=U.slice(j,j+fe);ie.decryptBlock(U,j),M.call(this,U,j,fe),this._prevBlock=Q}});function M(U,j,ie){var fe,Q=this._iv;Q?(fe=Q,this._iv=i):fe=this._prevBlock;for(var se=0;se<ie;se++)U[j+se]^=fe[se]}return N})(),V=a.pad={},k=V.Pkcs7={pad:function(N,M){for(var U=M*4,j=U-N.sigBytes%U,ie=j<<24|j<<16|j<<8|j,fe=[],Q=0;Q<j;Q+=4)fe.push(ie);var se=h.create(fe,j);N.concat(se)},unpad:function(N){var M=N.words[N.sigBytes-1>>>2]&255;N.sigBytes-=M}};l.BlockCipher=b.extend({cfg:b.cfg.extend({mode:C,padding:k}),reset:function(){var N;b.reset.call(this);var M=this.cfg,U=M.iv,j=M.mode;this._xformMode==this._ENC_XFORM_MODE?N=j.createEncryptor:(N=j.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==N?this._mode.init(this,U&&U.words):(this._mode=N.call(j,this,U&&U.words),this._mode.__creator=N)},_doProcessBlock:function(N,M){this._mode.processBlock(N,M)},_doFinalize:function(){var N,M=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(M.pad(this._data,this.blockSize),N=this._process(!0)):(N=this._process(!0),M.unpad(N)),N},blockSize:128/32});var B=l.CipherParams=u.extend({init:function(N){this.mixIn(N)},toString:function(N){return(N||this.formatter).stringify(this)}}),L=a.format={},H=L.OpenSSL={stringify:function(N){var M,U=N.ciphertext,j=N.salt;return j?M=h.create([1398893684,1701076831]).concat(j).concat(U):M=U,M.toString(y)},parse:function(N){var M,U=y.parse(N),j=U.words;return j[0]==1398893684&&j[1]==1701076831&&(M=h.create(j.slice(2,4)),j.splice(0,4),U.sigBytes-=16),B.create({ciphertext:U,salt:M})}},q=l.SerializableCipher=u.extend({cfg:u.extend({format:H}),encrypt:function(N,M,U,j){j=this.cfg.extend(j);var ie=N.createEncryptor(U,j),fe=ie.finalize(M),Q=ie.cfg;return B.create({ciphertext:fe,key:U,iv:Q.iv,algorithm:N,mode:Q.mode,padding:Q.padding,blockSize:N.blockSize,formatter:j.format})},decrypt:function(N,M,U,j){j=this.cfg.extend(j),M=this._parse(M,j.format);var ie=N.createDecryptor(U,j).finalize(M.ciphertext);return ie},_parse:function(N,M){return typeof N=="string"?M.parse(N,this):N}}),D=a.kdf={},R=D.OpenSSL={execute:function(N,M,U,j,ie){if(j||(j=h.random(64/8)),ie)var fe=x.create({keySize:M+U,hasher:ie}).compute(N,j);else var fe=x.create({keySize:M+U}).compute(N,j);var Q=h.create(fe.words.slice(M),U*4);return fe.sigBytes=M*4,B.create({key:fe,iv:Q,salt:j})}},I=l.PasswordBasedCipher=q.extend({cfg:q.cfg.extend({kdf:R}),encrypt:function(N,M,U,j){j=this.cfg.extend(j);var ie=j.kdf.execute(U,N.keySize,N.ivSize,j.salt,j.hasher);j.iv=ie.iv;var fe=q.encrypt.call(this,N,M,ie.key,j);return fe.mixIn(ie),fe},decrypt:function(N,M,U,j){j=this.cfg.extend(j),M=this._parse(M,j.format);var ie=j.kdf.execute(U,N.keySize,N.ivSize,M.salt,j.hasher);j.iv=ie.iv;var fe=q.decrypt.call(this,N,M,ie.key,j);return fe}})})()})})(Rf)),Rf.exports}var If={exports:{}},Vk=If.exports,iE;function jk(){return iE||(iE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),vn())})(Vk,function(t){return t.mode.CFB=(function(){var i=t.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(l,u){var h=this._cipher,p=h.blockSize;a.call(this,l,u,p,h),this._prevBlock=l.slice(u,u+p)}}),i.Decryptor=i.extend({processBlock:function(l,u){var h=this._cipher,p=h.blockSize,f=l.slice(u,u+p);a.call(this,l,u,p,h),this._prevBlock=f}});function a(l,u,h,p){var f,y=this._iv;y?(f=y.slice(0),this._iv=void 0):f=this._prevBlock,p.encryptBlock(f,0);for(var v=0;v<h;v++)l[u+v]^=f[v]}return i})(),t.mode.CFB})})(If)),If.exports}var Nf={exports:{}},Pk=Nf.exports,sE;function Lk(){return sE||(sE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),vn())})(Pk,function(t){return t.mode.CTR=(function(){var i=t.lib.BlockCipherMode.extend(),a=i.Encryptor=i.extend({processBlock:function(l,u){var h=this._cipher,p=h.blockSize,f=this._iv,y=this._counter;f&&(y=this._counter=f.slice(0),this._iv=void 0);var v=y.slice(0);h.encryptBlock(v,0),y[p-1]=y[p-1]+1|0;for(var x=0;x<p;x++)l[u+x]^=v[x]}});return i.Decryptor=a,i})(),t.mode.CTR})})(Nf)),Nf.exports}var kf={exports:{}},Fk=kf.exports,aE;function zk(){return aE||(aE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),vn())})(Fk,function(t){return t.mode.CTRGladman=(function(){var i=t.lib.BlockCipherMode.extend();function a(h){if((h>>24&255)===255){var p=h>>16&255,f=h>>8&255,y=h&255;p===255?(p=0,f===255?(f=0,y===255?y=0:++y):++f):++p,h=0,h+=p<<16,h+=f<<8,h+=y}else h+=1<<24;return h}function l(h){return(h[0]=a(h[0]))===0&&(h[1]=a(h[1])),h}var u=i.Encryptor=i.extend({processBlock:function(h,p){var f=this._cipher,y=f.blockSize,v=this._iv,x=this._counter;v&&(x=this._counter=v.slice(0),this._iv=void 0),l(x);var b=x.slice(0);f.encryptBlock(b,0);for(var w=0;w<y;w++)h[p+w]^=b[w]}});return i.Decryptor=u,i})(),t.mode.CTRGladman})})(kf)),kf.exports}var Bf={exports:{}},Uk=Bf.exports,oE;function Hk(){return oE||(oE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),vn())})(Uk,function(t){return t.mode.OFB=(function(){var i=t.lib.BlockCipherMode.extend(),a=i.Encryptor=i.extend({processBlock:function(l,u){var h=this._cipher,p=h.blockSize,f=this._iv,y=this._keystream;f&&(y=this._keystream=f.slice(0),this._iv=void 0),h.encryptBlock(y,0);for(var v=0;v<p;v++)l[u+v]^=y[v]}});return i.Decryptor=a,i})(),t.mode.OFB})})(Bf)),Bf.exports}var Of={exports:{}},qk=Of.exports,lE;function Gk(){return lE||(lE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),vn())})(qk,function(t){return t.mode.ECB=(function(){var i=t.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(a,l){this._cipher.encryptBlock(a,l)}}),i.Decryptor=i.extend({processBlock:function(a,l){this._cipher.decryptBlock(a,l)}}),i})(),t.mode.ECB})})(Of)),Of.exports}var Mf={exports:{}},$k=Mf.exports,cE;function Kk(){return cE||(cE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),vn())})($k,function(t){return t.pad.AnsiX923={pad:function(i,a){var l=i.sigBytes,u=a*4,h=u-l%u,p=l+h-1;i.clamp(),i.words[p>>>2]|=h<<24-p%4*8,i.sigBytes+=h},unpad:function(i){var a=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=a}},t.pad.Ansix923})})(Mf)),Mf.exports}var Vf={exports:{}},Yk=Vf.exports,uE;function Qk(){return uE||(uE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),vn())})(Yk,function(t){return t.pad.Iso10126={pad:function(i,a){var l=a*4,u=l-i.sigBytes%l;i.concat(t.lib.WordArray.random(u-1)).concat(t.lib.WordArray.create([u<<24],1))},unpad:function(i){var a=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=a}},t.pad.Iso10126})})(Vf)),Vf.exports}var jf={exports:{}},Xk=jf.exports,dE;function Wk(){return dE||(dE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),vn())})(Xk,function(t){return t.pad.Iso97971={pad:function(i,a){i.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(i,a)},unpad:function(i){t.pad.ZeroPadding.unpad(i),i.sigBytes--}},t.pad.Iso97971})})(jf)),jf.exports}var Pf={exports:{}},Zk=Pf.exports,fE;function Jk(){return fE||(fE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),vn())})(Zk,function(t){return t.pad.ZeroPadding={pad:function(i,a){var l=a*4;i.clamp(),i.sigBytes+=l-(i.sigBytes%l||l)},unpad:function(i){for(var a=i.words,l=i.sigBytes-1,l=i.sigBytes-1;l>=0;l--)if(a[l>>>2]>>>24-l%4*8&255){i.sigBytes=l+1;break}}},t.pad.ZeroPadding})})(Pf)),Pf.exports}var Lf={exports:{}},e9=Lf.exports,hE;function t9(){return hE||(hE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),vn())})(e9,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(Lf)),Lf.exports}var Ff={exports:{}},n9=Ff.exports,mE;function r9(){return mE||(mE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),vn())})(n9,function(t){return(function(i){var a=t,l=a.lib,u=l.CipherParams,h=a.enc,p=h.Hex,f=a.format;f.Hex={stringify:function(y){return y.ciphertext.toString(p)},parse:function(y){var v=p.parse(y);return u.create({ciphertext:v})}}})(),t.format.Hex})})(Ff)),Ff.exports}var zf={exports:{}},i9=zf.exports,pE;function s9(){return pE||(pE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),no(),ro(),pa(),vn())})(i9,function(t){return(function(){var i=t,a=i.lib,l=a.BlockCipher,u=i.algo,h=[],p=[],f=[],y=[],v=[],x=[],b=[],w=[],T=[],C=[];(function(){for(var B=[],L=0;L<256;L++)L<128?B[L]=L<<1:B[L]=L<<1^283;for(var H=0,q=0,L=0;L<256;L++){var D=q^q<<1^q<<2^q<<3^q<<4;D=D>>>8^D&255^99,h[H]=D,p[D]=H;var R=B[H],I=B[R],N=B[I],M=B[D]*257^D*16843008;f[H]=M<<24|M>>>8,y[H]=M<<16|M>>>16,v[H]=M<<8|M>>>24,x[H]=M;var M=N*16843009^I*65537^R*257^H*16843008;b[D]=M<<24|M>>>8,w[D]=M<<16|M>>>16,T[D]=M<<8|M>>>24,C[D]=M,H?(H=R^B[B[B[N^R]]],q^=B[B[q]]):H=q=1}})();var V=[0,1,2,4,8,16,32,64,128,27,54],k=u.AES=l.extend({_doReset:function(){var B;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var L=this._keyPriorReset=this._key,H=L.words,q=L.sigBytes/4,D=this._nRounds=q+6,R=(D+1)*4,I=this._keySchedule=[],N=0;N<R;N++)N<q?I[N]=H[N]:(B=I[N-1],N%q?q>6&&N%q==4&&(B=h[B>>>24]<<24|h[B>>>16&255]<<16|h[B>>>8&255]<<8|h[B&255]):(B=B<<8|B>>>24,B=h[B>>>24]<<24|h[B>>>16&255]<<16|h[B>>>8&255]<<8|h[B&255],B^=V[N/q|0]<<24),I[N]=I[N-q]^B);for(var M=this._invKeySchedule=[],U=0;U<R;U++){var N=R-U;if(U%4)var B=I[N];else var B=I[N-4];U<4||N<=4?M[U]=B:M[U]=b[h[B>>>24]]^w[h[B>>>16&255]]^T[h[B>>>8&255]]^C[h[B&255]]}}},encryptBlock:function(B,L){this._doCryptBlock(B,L,this._keySchedule,f,y,v,x,h)},decryptBlock:function(B,L){var H=B[L+1];B[L+1]=B[L+3],B[L+3]=H,this._doCryptBlock(B,L,this._invKeySchedule,b,w,T,C,p);var H=B[L+1];B[L+1]=B[L+3],B[L+3]=H},_doCryptBlock:function(B,L,H,q,D,R,I,N){for(var M=this._nRounds,U=B[L]^H[0],j=B[L+1]^H[1],ie=B[L+2]^H[2],fe=B[L+3]^H[3],Q=4,se=1;se<M;se++){var de=q[U>>>24]^D[j>>>16&255]^R[ie>>>8&255]^I[fe&255]^H[Q++],he=q[j>>>24]^D[ie>>>16&255]^R[fe>>>8&255]^I[U&255]^H[Q++],ve=q[ie>>>24]^D[fe>>>16&255]^R[U>>>8&255]^I[j&255]^H[Q++],F=q[fe>>>24]^D[U>>>16&255]^R[j>>>8&255]^I[ie&255]^H[Q++];U=de,j=he,ie=ve,fe=F}var de=(N[U>>>24]<<24|N[j>>>16&255]<<16|N[ie>>>8&255]<<8|N[fe&255])^H[Q++],he=(N[j>>>24]<<24|N[ie>>>16&255]<<16|N[fe>>>8&255]<<8|N[U&255])^H[Q++],ve=(N[ie>>>24]<<24|N[fe>>>16&255]<<16|N[U>>>8&255]<<8|N[j&255])^H[Q++],F=(N[fe>>>24]<<24|N[U>>>16&255]<<16|N[j>>>8&255]<<8|N[ie&255])^H[Q++];B[L]=de,B[L+1]=he,B[L+2]=ve,B[L+3]=F},keySize:256/32});i.AES=l._createHelper(k)})(),t.AES})})(zf)),zf.exports}var Uf={exports:{}},a9=Uf.exports,gE;function o9(){return gE||(gE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),no(),ro(),pa(),vn())})(a9,function(t){return(function(){var i=t,a=i.lib,l=a.WordArray,u=a.BlockCipher,h=i.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],y=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],x=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],b=h.DES=u.extend({_doReset:function(){for(var V=this._key,k=V.words,B=[],L=0;L<56;L++){var H=p[L]-1;B[L]=k[H>>>5]>>>31-H%32&1}for(var q=this._subKeys=[],D=0;D<16;D++){for(var R=q[D]=[],I=y[D],L=0;L<24;L++)R[L/6|0]|=B[(f[L]-1+I)%28]<<31-L%6,R[4+(L/6|0)]|=B[28+(f[L+24]-1+I)%28]<<31-L%6;R[0]=R[0]<<1|R[0]>>>31;for(var L=1;L<7;L++)R[L]=R[L]>>>(L-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var N=this._invSubKeys=[],L=0;L<16;L++)N[L]=q[15-L]},encryptBlock:function(V,k){this._doCryptBlock(V,k,this._subKeys)},decryptBlock:function(V,k){this._doCryptBlock(V,k,this._invSubKeys)},_doCryptBlock:function(V,k,B){this._lBlock=V[k],this._rBlock=V[k+1],w.call(this,4,252645135),w.call(this,16,65535),T.call(this,2,858993459),T.call(this,8,16711935),w.call(this,1,1431655765);for(var L=0;L<16;L++){for(var H=B[L],q=this._lBlock,D=this._rBlock,R=0,I=0;I<8;I++)R|=v[I][((D^H[I])&x[I])>>>0];this._lBlock=D,this._rBlock=q^R}var N=this._lBlock;this._lBlock=this._rBlock,this._rBlock=N,w.call(this,1,1431655765),T.call(this,8,16711935),T.call(this,2,858993459),w.call(this,16,65535),w.call(this,4,252645135),V[k]=this._lBlock,V[k+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function w(V,k){var B=(this._lBlock>>>V^this._rBlock)&k;this._rBlock^=B,this._lBlock^=B<<V}function T(V,k){var B=(this._rBlock>>>V^this._lBlock)&k;this._lBlock^=B,this._rBlock^=B<<V}i.DES=u._createHelper(b);var C=h.TripleDES=u.extend({_doReset:function(){var V=this._key,k=V.words;if(k.length!==2&&k.length!==4&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var B=k.slice(0,2),L=k.length<4?k.slice(0,2):k.slice(2,4),H=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=b.createEncryptor(l.create(B)),this._des2=b.createEncryptor(l.create(L)),this._des3=b.createEncryptor(l.create(H))},encryptBlock:function(V,k){this._des1.encryptBlock(V,k),this._des2.decryptBlock(V,k),this._des3.encryptBlock(V,k)},decryptBlock:function(V,k){this._des3.decryptBlock(V,k),this._des2.encryptBlock(V,k),this._des1.decryptBlock(V,k)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=u._createHelper(C)})(),t.TripleDES})})(Uf)),Uf.exports}var Hf={exports:{}},l9=Hf.exports,yE;function c9(){return yE||(yE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),no(),ro(),pa(),vn())})(l9,function(t){return(function(){var i=t,a=i.lib,l=a.StreamCipher,u=i.algo,h=u.RC4=l.extend({_doReset:function(){for(var y=this._key,v=y.words,x=y.sigBytes,b=this._S=[],w=0;w<256;w++)b[w]=w;for(var w=0,T=0;w<256;w++){var C=w%x,V=v[C>>>2]>>>24-C%4*8&255;T=(T+b[w]+V)%256;var k=b[w];b[w]=b[T],b[T]=k}this._i=this._j=0},_doProcessBlock:function(y,v){y[v]^=p.call(this)},keySize:256/32,ivSize:0});function p(){for(var y=this._S,v=this._i,x=this._j,b=0,w=0;w<4;w++){v=(v+1)%256,x=(x+y[v])%256;var T=y[v];y[v]=y[x],y[x]=T,b|=y[(y[v]+y[x])%256]<<24-w*8}return this._i=v,this._j=x,b}i.RC4=l._createHelper(h);var f=u.RC4Drop=h.extend({cfg:h.cfg.extend({drop:192}),_doReset:function(){h._doReset.call(this);for(var y=this.cfg.drop;y>0;y--)p.call(this)}});i.RC4Drop=l._createHelper(f)})(),t.RC4})})(Hf)),Hf.exports}var qf={exports:{}},u9=qf.exports,vE;function d9(){return vE||(vE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),no(),ro(),pa(),vn())})(u9,function(t){return(function(){var i=t,a=i.lib,l=a.StreamCipher,u=i.algo,h=[],p=[],f=[],y=u.Rabbit=l.extend({_doReset:function(){for(var x=this._key.words,b=this.cfg.iv,w=0;w<4;w++)x[w]=(x[w]<<8|x[w]>>>24)&16711935|(x[w]<<24|x[w]>>>8)&4278255360;var T=this._X=[x[0],x[3]<<16|x[2]>>>16,x[1],x[0]<<16|x[3]>>>16,x[2],x[1]<<16|x[0]>>>16,x[3],x[2]<<16|x[1]>>>16],C=this._C=[x[2]<<16|x[2]>>>16,x[0]&4294901760|x[1]&65535,x[3]<<16|x[3]>>>16,x[1]&4294901760|x[2]&65535,x[0]<<16|x[0]>>>16,x[2]&4294901760|x[3]&65535,x[1]<<16|x[1]>>>16,x[3]&4294901760|x[0]&65535];this._b=0;for(var w=0;w<4;w++)v.call(this);for(var w=0;w<8;w++)C[w]^=T[w+4&7];if(b){var V=b.words,k=V[0],B=V[1],L=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,H=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,q=L>>>16|H&4294901760,D=H<<16|L&65535;C[0]^=L,C[1]^=q,C[2]^=H,C[3]^=D,C[4]^=L,C[5]^=q,C[6]^=H,C[7]^=D;for(var w=0;w<4;w++)v.call(this)}},_doProcessBlock:function(x,b){var w=this._X;v.call(this),h[0]=w[0]^w[5]>>>16^w[3]<<16,h[1]=w[2]^w[7]>>>16^w[5]<<16,h[2]=w[4]^w[1]>>>16^w[7]<<16,h[3]=w[6]^w[3]>>>16^w[1]<<16;for(var T=0;T<4;T++)h[T]=(h[T]<<8|h[T]>>>24)&16711935|(h[T]<<24|h[T]>>>8)&4278255360,x[b+T]^=h[T]},blockSize:128/32,ivSize:64/32});function v(){for(var x=this._X,b=this._C,w=0;w<8;w++)p[w]=b[w];b[0]=b[0]+1295307597+this._b|0,b[1]=b[1]+3545052371+(b[0]>>>0<p[0]>>>0?1:0)|0,b[2]=b[2]+886263092+(b[1]>>>0<p[1]>>>0?1:0)|0,b[3]=b[3]+1295307597+(b[2]>>>0<p[2]>>>0?1:0)|0,b[4]=b[4]+3545052371+(b[3]>>>0<p[3]>>>0?1:0)|0,b[5]=b[5]+886263092+(b[4]>>>0<p[4]>>>0?1:0)|0,b[6]=b[6]+1295307597+(b[5]>>>0<p[5]>>>0?1:0)|0,b[7]=b[7]+3545052371+(b[6]>>>0<p[6]>>>0?1:0)|0,this._b=b[7]>>>0<p[7]>>>0?1:0;for(var w=0;w<8;w++){var T=x[w]+b[w],C=T&65535,V=T>>>16,k=((C*C>>>17)+C*V>>>15)+V*V,B=((T&4294901760)*T|0)+((T&65535)*T|0);f[w]=k^B}x[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,x[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,x[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,x[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,x[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,x[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,x[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,x[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}i.Rabbit=l._createHelper(y)})(),t.Rabbit})})(qf)),qf.exports}var Gf={exports:{}},f9=Gf.exports,xE;function h9(){return xE||(xE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),no(),ro(),pa(),vn())})(f9,function(t){return(function(){var i=t,a=i.lib,l=a.StreamCipher,u=i.algo,h=[],p=[],f=[],y=u.RabbitLegacy=l.extend({_doReset:function(){var x=this._key.words,b=this.cfg.iv,w=this._X=[x[0],x[3]<<16|x[2]>>>16,x[1],x[0]<<16|x[3]>>>16,x[2],x[1]<<16|x[0]>>>16,x[3],x[2]<<16|x[1]>>>16],T=this._C=[x[2]<<16|x[2]>>>16,x[0]&4294901760|x[1]&65535,x[3]<<16|x[3]>>>16,x[1]&4294901760|x[2]&65535,x[0]<<16|x[0]>>>16,x[2]&4294901760|x[3]&65535,x[1]<<16|x[1]>>>16,x[3]&4294901760|x[0]&65535];this._b=0;for(var C=0;C<4;C++)v.call(this);for(var C=0;C<8;C++)T[C]^=w[C+4&7];if(b){var V=b.words,k=V[0],B=V[1],L=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,H=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,q=L>>>16|H&4294901760,D=H<<16|L&65535;T[0]^=L,T[1]^=q,T[2]^=H,T[3]^=D,T[4]^=L,T[5]^=q,T[6]^=H,T[7]^=D;for(var C=0;C<4;C++)v.call(this)}},_doProcessBlock:function(x,b){var w=this._X;v.call(this),h[0]=w[0]^w[5]>>>16^w[3]<<16,h[1]=w[2]^w[7]>>>16^w[5]<<16,h[2]=w[4]^w[1]>>>16^w[7]<<16,h[3]=w[6]^w[3]>>>16^w[1]<<16;for(var T=0;T<4;T++)h[T]=(h[T]<<8|h[T]>>>24)&16711935|(h[T]<<24|h[T]>>>8)&4278255360,x[b+T]^=h[T]},blockSize:128/32,ivSize:64/32});function v(){for(var x=this._X,b=this._C,w=0;w<8;w++)p[w]=b[w];b[0]=b[0]+1295307597+this._b|0,b[1]=b[1]+3545052371+(b[0]>>>0<p[0]>>>0?1:0)|0,b[2]=b[2]+886263092+(b[1]>>>0<p[1]>>>0?1:0)|0,b[3]=b[3]+1295307597+(b[2]>>>0<p[2]>>>0?1:0)|0,b[4]=b[4]+3545052371+(b[3]>>>0<p[3]>>>0?1:0)|0,b[5]=b[5]+886263092+(b[4]>>>0<p[4]>>>0?1:0)|0,b[6]=b[6]+1295307597+(b[5]>>>0<p[5]>>>0?1:0)|0,b[7]=b[7]+3545052371+(b[6]>>>0<p[6]>>>0?1:0)|0,this._b=b[7]>>>0<p[7]>>>0?1:0;for(var w=0;w<8;w++){var T=x[w]+b[w],C=T&65535,V=T>>>16,k=((C*C>>>17)+C*V>>>15)+V*V,B=((T&4294901760)*T|0)+((T&65535)*T|0);f[w]=k^B}x[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,x[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,x[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,x[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,x[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,x[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,x[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,x[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}i.RabbitLegacy=l._createHelper(y)})(),t.RabbitLegacy})})(Gf)),Gf.exports}var $f={exports:{}},m9=$f.exports,_E;function p9(){return _E||(_E=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),no(),ro(),pa(),vn())})(m9,function(t){return(function(){var i=t,a=i.lib,l=a.BlockCipher,u=i.algo;const h=16,p=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var y={pbox:[],sbox:[]};function v(C,V){let k=V>>24&255,B=V>>16&255,L=V>>8&255,H=V&255,q=C.sbox[0][k]+C.sbox[1][B];return q=q^C.sbox[2][L],q=q+C.sbox[3][H],q}function x(C,V,k){let B=V,L=k,H;for(let q=0;q<h;++q)B=B^C.pbox[q],L=v(C,B)^L,H=B,B=L,L=H;return H=B,B=L,L=H,L=L^C.pbox[h],B=B^C.pbox[h+1],{left:B,right:L}}function b(C,V,k){let B=V,L=k,H;for(let q=h+1;q>1;--q)B=B^C.pbox[q],L=v(C,B)^L,H=B,B=L,L=H;return H=B,B=L,L=H,L=L^C.pbox[1],B=B^C.pbox[0],{left:B,right:L}}function w(C,V,k){for(let D=0;D<4;D++){C.sbox[D]=[];for(let R=0;R<256;R++)C.sbox[D][R]=f[D][R]}let B=0;for(let D=0;D<h+2;D++)C.pbox[D]=p[D]^V[B],B++,B>=k&&(B=0);let L=0,H=0,q=0;for(let D=0;D<h+2;D+=2)q=x(C,L,H),L=q.left,H=q.right,C.pbox[D]=L,C.pbox[D+1]=H;for(let D=0;D<4;D++)for(let R=0;R<256;R+=2)q=x(C,L,H),L=q.left,H=q.right,C.sbox[D][R]=L,C.sbox[D][R+1]=H;return!0}var T=u.Blowfish=l.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var C=this._keyPriorReset=this._key,V=C.words,k=C.sigBytes/4;w(y,V,k)}},encryptBlock:function(C,V){var k=x(y,C[V],C[V+1]);C[V]=k.left,C[V+1]=k.right},decryptBlock:function(C,V){var k=b(y,C[V],C[V+1]);C[V]=k.left,C[V+1]=k.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=l._createHelper(T)})(),t.Blowfish})})($f)),$f.exports}var g9=df.exports,bE;function y9(){return bE||(bE=1,(function(r,e){(function(t,i,a){r.exports=i(Qe(),Xh(),hk(),pk(),no(),vk(),ro(),zA(),fy(),wk(),UA(),Tk(),Dk(),Ik(),hy(),Bk(),pa(),vn(),jk(),Lk(),zk(),Hk(),Gk(),Kk(),Qk(),Wk(),Jk(),t9(),r9(),s9(),o9(),c9(),d9(),h9(),p9())})(g9,function(t){return t})})(df)),df.exports}var v9=y9();const Jp=jE(v9),x9="my-not-busy-agenda-secret-key-2024",HA=r=>`${x9}-${r}`,Di=(r,e)=>{if(!r||!e)return r;try{const t=HA(e);return Jp.AES.encrypt(r,t).toString()}catch(t){return console.error("Encryption error:",t),r}},Wh=(r,e)=>{if(!r||!e)return r;try{const t=HA(e),a=Jp.AES.decrypt(r,t).toString(Jp.enc.Utf8);return a||r}catch{return r}};function my(r=null){const[e,t]=O.useState([]),{user:i}=br(),{scheduleDelete:a}=qh();O.useEffect(()=>{if(!i){t([]);return}const v=Lr(He,"users",i.uid,"todos");let x;if(r){const w=new Date(r);w.setHours(0,0,0,0);const T=new Date(r);T.setHours(23,59,59,999),x=Jr(v,ir("createdAt",">=",w),ir("createdAt","<=",T),na("createdAt","desc"))}else x=Jr(v,na("createdAt","desc"));return Wa(x,w=>{let T=w.docs.map(C=>{const V=C.data();return{id:C.id,...V,text:Wh(V.text,i.uid)}});if(!r){const C=new Date;C.setHours(0,0,0,0),T=T.filter(V=>{const k=new Date(V.createdAt.toDate());if(k.setHours(0,0,0,0),k.getTime()>C.getTime())return!1;if(k.getTime()===C.getTime())return!0;if(k.getTime()<C.getTime()){if(!V.completed)return!0;if(V.completedAt){const B=new Date(V.completedAt.toDate());return B.setHours(0,0,0,0),B.getTime()===C.getTime()}return!1}return!0})}t(T)})},[i,r]);const l=O.useCallback(async(v,x="general",b=null)=>{if(!(!v.trim()||!i))try{const w=b||new Date,T=Di(v,i.uid);await ul(Lr(He,"users",i.uid,"todos"),{text:T,completed:!1,category:x,createdAt:w,order:Date.now()})}catch(w){console.error("Error adding todo:",w)}},[i]),u=O.useCallback(async(v,x)=>{if(i)try{const b=St(He,"users",i.uid,"todos",v),w={completed:!x};x?w.completedAt=null:w.completedAt=new Date,await ra(b,w)}catch(b){console.error("Error toggling todo:",b)}},[i]),h=O.useCallback(async(v,x)=>{if(!(!i||!x))try{a(v,"todo",x,async()=>{try{const b=Di(x.text,i.uid);await ul(Lr(He,"users",i.uid,"todos"),{text:b,completed:x.completed,category:x.category,createdAt:x.createdAt})}catch(b){console.error("Error restoring todo:",b)}},async()=>{try{await Hh(St(He,"users",i.uid,"todos",v))}catch(b){console.error("Error deleting todo:",b)}})}catch(b){console.error("Error scheduling todo deletion:",b)}},[i,a]),p=O.useCallback(async(v,x)=>{if(!i||!x.trim())return;const b=x.trim();t(w=>w.map(T=>T.id===v?{...T,text:b}:T));try{const w=Di(b,i.uid),T=St(He,"users",i.uid,"todos",v);await ra(T,{text:w})}catch(w){console.error("Error updating todo text:",w)}},[i]),f=O.useCallback(async(v,x)=>{if(i)try{const b=St(He,"users",i.uid,"todos",v),w=new Date(x);w.setHours(0,0,0,0),await ra(b,{createdAt:w,order:Date.now()})}catch(b){console.error("Error rescheduling todo:",b)}},[i]),y=O.useCallback(async v=>{if(i){t(x=>{const b=new Map(v.map((w,T)=>[w.id,T]));return[...x].map(w=>{const T=b.get(w.id);return T!==void 0?{...w,order:T}:w})});try{const x=FI(He);v.forEach((b,w)=>{const T=St(He,"users",i.uid,"todos",b.id);x.update(T,{order:w})}),await x.commit()}catch(x){console.error("Error reordering todos:",x)}}},[i,t]);return{todos:e,addTodo:l,toggleTodo:u,deleteTodo:h,updateTodoText:p,rescheduleTodo:f,reorderTodos:y}}function _9(){const[r,e]=O.useState(new Date),{t,language:i}=sn();O.useEffect(()=>{const h=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(h)},[]);const a=()=>{const h=r.getHours();return h<12?t("dashboard.greeting.morning"):h<18?t("dashboard.greeting.afternoon"):t("dashboard.greeting.evening")},l=()=>r.toLocaleTimeString(i,{hour:"2-digit",minute:"2-digit",hour12:!1}),u=()=>{const h=r.toLocaleDateString(i,{weekday:"long"}),p=r.getDate().toString().padStart(2,"0"),f=(r.getMonth()+1).toString().padStart(2,"0"),y=r.getFullYear();return`${h} ${p}/${f}/${y}`};return{time:r,greeting:a(),formattedTime:l(),formattedDate:u()}}function qA({onDateSelect:r,selectedDate:e}){const[t,i]=O.useState(new Date),[a,l]=O.useState([]),{language:u}=sn(),{user:h}=br(),p=t.getMonth(),f=t.getFullYear(),y=new Date;O.useEffect(()=>{if(!h){l([]);return}const I=new Date(f,p,1);I.setHours(0,0,0,0);const N=new Date(f,p+1,0);N.setHours(23,59,59,999);const M=Lr(He,"users",h.uid,"todos"),U=Jr(M,ir("createdAt",">=",I),ir("createdAt","<=",N),na("createdAt","desc"));return Wa(U,ie=>{const fe=ie.docs.map(Q=>({id:Q.id,...Q.data()}));l(fe)})},[h,p,f]);const v=I=>{if(!I)return null;const N=new Date(f,p,I);N.setHours(0,0,0,0);const M=a.filter(j=>{const ie=new Date(j.createdAt.toDate());return ie.setHours(0,0,0,0),ie.getTime()===N.getTime()});return M.length===0?null:M.every(j=>j.completed)?"complete":"incomplete"},{settings:x}=bl(),b=x?.startOfWeek||"monday",w=new Date(f,p,1).getDay();let T=w;b==="monday"&&(T=w===0?6:w-1);const C=new Date(f,p+1,0).getDate(),V=t.toLocaleString(u,{month:"long"}),k=()=>{i(new Date(f,p-1,1))},B=()=>{i(new Date(f,p+1,1))},L=I=>{if(!I)return;const N=new Date(f,p,I);r&&r(N)},H=I=>!e||!I?!1:e.getDate()===I&&e.getMonth()===p&&e.getFullYear()===f,q=I=>I?y.getDate()===I&&y.getMonth()===p&&y.getFullYear()===f:!1,D=[];for(let I=0;I<T;I++)D.push(null);for(let I=1;I<=C;I++)D.push(I);const R=Array.from({length:7},(I,N)=>{const M=b==="monday"?2:1;return new Date(2023,0,N+M).toLocaleString(u,{weekday:"short"})});return E.jsxs("div",{className:"p-5 rounded-2xl border",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsxs("h3",{className:"text-lg font-semibold capitalize",style:{color:"var(--color-text-primary)"},children:[V," ",f]}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:k,className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:E.jsx(ay,{size:20})}),E.jsx("button",{onClick:B,className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:E.jsx($h,{size:20})})]})]}),E.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[R.map(I=>E.jsx("div",{className:"text-center text-xs font-medium py-2 capitalize",style:{color:"var(--color-text-tertiary)"},children:I},I)),D.map((I,N)=>{const M=H(I),U=q(I),j=v(I);return E.jsxs("button",{onClick:()=>L(I),disabled:!I,className:`aspect-square flex flex-col items-center justify-center text-sm rounded-lg transition-all relative ${I?"hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer":""}`,style:{backgroundColor:M?"var(--color-accent)":U?"var(--color-bg-hover)":"transparent",color:M?"#ffffff":I?"var(--color-text-primary)":"transparent",fontWeight:M||U?"600":"400",border:U&&!M?"1px solid var(--color-accent)":"none"},children:[E.jsx("span",{children:I||""}),j&&E.jsx("div",{className:"absolute bottom-1",style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:j==="complete"?"#22c55e":"transparent",border:j==="incomplete"?"1.5px solid #22c55e":"none"}})]},N)})]})]})}function py(r=null,e=!1){const[t,i]=O.useState([]),{user:a}=br(),{scheduleDelete:l}=qh();return O.useEffect(()=>{if(!a){i([]);return}const f=Lr(He,"users",a.uid,"journal");let y;if(e)y=Jr(f,na("date","desc"));else if(r){const x=new Date(r);x.setHours(0,0,0,0);const b=new Date(r);b.setHours(23,59,59,999),y=Jr(f,ir("date",">=",x),ir("date","<=",b),na("date","desc"))}else{const x=new Date;x.setHours(0,0,0,0);const b=new Date;b.setHours(23,59,59,999),y=Jr(f,ir("date",">=",x),ir("date","<=",b),na("date","desc"))}return Wa(y,x=>{const b=x.docs.map(w=>{const T=w.data();return{id:w.id,...T,text:Wh(T.text,a.uid),date:T.date?.toDate?.()?.toISOString()||T.date,updatedAt:T.updatedAt?.toDate?.()?.toISOString()||T.updatedAt}});i(b)})},[a,r,e]),{entries:t,addEntry:async f=>{if(!(!f.trim()||!a))try{const y=Di(f,a.uid);await ul(Lr(He,"users",a.uid,"journal"),{text:y,date:new Date})}catch(y){console.error("Error adding journal entry:",y)}},deleteEntry:async f=>{if(a)try{const y=t.find(v=>v.id===f);if(!y)return;l(f,"entry",y,async()=>{try{const v=Di(y.text,a.uid);await ul(Lr(He,"users",a.uid,"journal"),{text:v,date:new Date(y.date),...y.updatedAt&&{updatedAt:new Date(y.updatedAt)}})}catch(v){console.error("Error restoring journal entry:",v)}},async()=>{try{await Hh(St(He,"users",a.uid,"journal",f))}catch(v){console.error("Error deleting journal entry:",v)}})}catch(y){console.error("Error scheduling journal entry deletion:",y)}},updateEntry:async(f,y)=>{if(!(!y.trim()||!a))try{const v=Di(y,a.uid);await ra(St(He,"users",a.uid,"journal",f),{text:v,updatedAt:new Date})}catch(v){console.error("Error updating journal entry:",v)}}}}function b9({isOpen:r,onClose:e,date:t}){const{todos:i,toggleTodo:a}=my(t),{entries:l}=py(t),{t:u,language:h}=sn();if(!r||!t)return null;const p=(f,y)=>{a(f,y)};return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:E.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl shadow-xl overflow-hidden max-h-[80vh] flex flex-col",style:{backgroundColor:"var(--color-bg-card)"},children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b shrink-0",style:{borderColor:"var(--color-border)"},children:[E.jsxs("h2",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:[u("calendar.summary_title")," ",t.toLocaleDateString(h)]}),E.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:E.jsx(Ni,{size:20})})]}),E.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-sm font-medium mb-3 uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:[u("calendar.tasks_section")," (",i.length,")"]}),i.length===0?E.jsx("p",{className:"text-sm italic",style:{color:"var(--color-text-muted)"},children:u("calendar.no_tasks")}):E.jsx("ul",{className:"space-y-2",children:i.map(f=>E.jsx("li",{children:E.jsxs("button",{onClick:()=>p(f.id,f.completed),className:"flex items-start gap-2 text-sm w-full text-left p-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[f.completed?E.jsx(oy,{size:18,className:"mt-0.5 shrink-0",style:{color:"var(--color-accent)"}}):E.jsx(Kh,{size:18,className:"mt-0.5 shrink-0",style:{color:"var(--color-text-muted)"}}),E.jsx("span",{style:{color:"var(--color-text-primary)",textDecoration:f.completed?"line-through":"none",opacity:f.completed?.7:1},children:f.text})]})},f.id))})]}),E.jsxs("div",{children:[E.jsxs("h3",{className:"text-sm font-medium mb-3 uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:[u("calendar.journal_section")," (",l.length,")"]}),l.length===0?E.jsx("p",{className:"text-sm italic",style:{color:"var(--color-text-muted)"},children:u("calendar.no_entries")}):E.jsx("div",{className:"space-y-3",children:l.map(f=>E.jsxs("div",{className:"p-3 rounded-lg border",style:{borderColor:"var(--color-border)"},children:[E.jsx("p",{className:"text-xs mb-1",style:{color:"var(--color-text-tertiary)"},children:new Date(f.date).toLocaleTimeString(h,{hour:"2-digit",minute:"2-digit"})}),E.jsx("p",{className:"text-sm whitespace-pre-wrap",style:{color:"var(--color-text-primary)"},children:f.text})]},f.id))})]})]})]})})}function E9(){const{focus:r,setFocusText:e,toggleFocus:t}=sk(),{todos:i}=my(),{greeting:a,formattedTime:l,formattedDate:u}=_9(),{t:h}=sn(),[p,f]=O.useState(!r.text),[y,v]=O.useState(null),[x,b]=O.useState(!1),w=i.filter(V=>!V.completed).length,T=V=>{V.preventDefault(),f(!1)},C=V=>{v(V),b(!0)};return E.jsxs("div",{className:"content-container space-y-8",children:[E.jsxs("header",{className:"flex items-start justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:a}),E.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:h("dashboard.subtitle")})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("div",{className:"text-3xl font-semibold tabular-nums",style:{color:"var(--color-text-primary)"},children:l}),E.jsx("div",{className:"text-lg font-medium opacity-80",style:{color:"var(--color-text-secondary)"},children:u})]})]}),E.jsxs("div",{className:"p-6 rounded-2xl border",style:{backgroundColor:"var(--color-bg-hover)",borderColor:"var(--color-border)"},children:[E.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--color-text-primary)"},children:h("dashboard.focus_title")}),p?E.jsx("form",{onSubmit:T,children:E.jsx("input",{type:"text",value:r.text,onChange:V=>e(V.target.value),placeholder:h("dashboard.focus_placeholder"),className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--color-bg-input)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},autoFocus:!0,onBlur:()=>{r.text&&f(!1)}})}):E.jsxs("div",{className:"flex items-center gap-3 group cursor-pointer",onClick:t,children:[E.jsx("button",{style:{color:"var(--color-accent)"},children:r.completed?E.jsx(oy,{size:24}):E.jsx(Kh,{size:24})}),E.jsx("span",{className:Tt("text-xl font-medium flex-1",r.completed&&"line-through opacity-75"),style:{color:"var(--color-text-primary)"},children:r.text}),E.jsx("button",{onClick:V=>{V.stopPropagation(),f(!0)},className:"text-xs opacity-0 group-hover:opacity-100 transition-opacity",style:{color:"var(--color-text-tertiary)"},children:h("common.edit")})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs(nl,{to:"/todos",className:"p-3 sm:p-5 rounded-2xl border shadow-sm hover:shadow-md transition-all flex flex-col justify-between h-full",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:h("dashboard.tasks_card.title")}),E.jsxs("p",{className:"text-base sm:text-2xl font-bold break-words",style:{color:"var(--color-text-primary)"},children:[w," ",h("dashboard.tasks_card.pending")]})]}),E.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium",style:{color:"var(--color-accent)"},children:[h("dashboard.tasks_card.action")," ",E.jsx(Lb,{size:16,className:"ml-1"})]})]}),E.jsxs(nl,{to:"/journal",className:"p-3 sm:p-5 rounded-2xl border shadow-sm hover:shadow-md transition-all flex flex-col justify-between h-full",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:h("dashboard.journal_card.title")}),E.jsx("p",{className:"text-base sm:text-2xl font-bold break-words",style:{color:"var(--color-text-primary)"},children:h("dashboard.journal_card.subtitle")})]}),E.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium",style:{color:"var(--color-accent)"},children:[h("dashboard.journal_card.action")," ",E.jsx(Lb,{size:16,className:"ml-1"})]})]})]}),E.jsx(qA,{onDateSelect:C,selectedDate:y}),E.jsx(b9,{isOpen:x,onClose:()=>b(!1),date:y})]})}function GA({isOpen:r,onClose:e,onDateSelect:t,selectedDate:i}){const{t:a}=sn();return r?E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:E.jsxs("div",{className:"relative w-full max-w-md rounded-2xl shadow-xl overflow-hidden",style:{backgroundColor:"var(--color-bg-card)"},children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--color-border)"},children:[E.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:a("calendar.select_date")}),E.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:E.jsx(Ni,{size:20})})]}),E.jsx("div",{className:"p-4",children:E.jsx(qA,{onDateSelect:l=>{const u=new Date;u.setHours(0,0,0,0);const h=new Date(l);h.setHours(0,0,0,0),h.getTime()===u.getTime()?t(null):t(l),e()},selectedDate:i})})]})}):null}function w9(){const[r,e]=O.useState([]),[t,i]=O.useState({}),{user:a}=br(),{scheduleDelete:l}=qh();return O.useEffect(()=>{if(!a){e([]),i({});return}const y=Lr(He,"users",a.uid,"todos"),v=Jr(y,ir("completed","==",!1),na("createdAt","desc"));return Wa(v,b=>{const w=b.docs.map(C=>{const V=C.data();return{id:C.id,...V,text:Wh(V.text,a.uid)}});e(w);const T={};w.forEach(C=>{const V=new Date(C.createdAt.toDate());V.setHours(0,0,0,0);const k=V.toISOString();T[k]||(T[k]={date:V,todos:[]}),T[k].todos.push(C)}),i(T)})},[a]),{incompleteTodos:r,groupedTodos:t,toggleTodo:async y=>{if(a)try{const v=r.find(w=>w.id===y),x=St(He,"users",a.uid,"todos",y),b={completed:!v.completed};v.completed?b.completedAt=null:b.completedAt=new Date,await ra(x,b)}catch(v){console.error("Error toggling todo:",v)}},deleteTodo:async y=>{if(a)try{const v=r.find(x=>x.id===y);if(!v)return;e(x=>x.filter(b=>b.id!==y)),i(x=>{const b={...x};for(const w in b)b[w]={...b[w],todos:b[w].todos.filter(T=>T.id!==y)},b[w].todos.length===0&&delete b[w];return b}),l(y,"todo",v,async()=>{try{e(b=>[...b,v]),i(b=>{const w=new Date(v.createdAt.toDate());w.setHours(0,0,0,0);const T=w.toISOString(),C={...b};return C[T]?C[T]={...C[T]}:C[T]={date:w,todos:[]},C[T].todos=[...C[T].todos,v],C});const x=Di(v.text,a.uid);await ul(Lr(He,"users",a.uid,"todos"),{text:x,completed:v.completed,category:v.category,createdAt:v.createdAt})}catch(x){console.error("Error restoring todo:",x)}},async()=>{try{await Hh(St(He,"users",a.uid,"todos",y))}catch(x){console.error("Error deleting todo:",x)}})}catch(v){console.error("Error scheduling todo deletion:",v)}},updateTodoText:async(y,v)=>{if(!a||!v.trim())return;const x=v.trim();e(b=>b.map(w=>w.id===y?{...w,text:x}:w)),i(b=>{const w={...b};for(const T in w){const C=w[T];C.todos.some(V=>V.id===y)&&(w[T]={...C,todos:C.todos.map(V=>V.id===y?{...V,text:x}:V)})}return w});try{const b=Di(x,a.uid),w=St(He,"users",a.uid,"todos",y);await ra(w,{text:b})}catch(b){console.error("Error updating todo text:",b)}},rescheduleTodo:async(y,v)=>{if(a)try{const x=St(He,"users",a.uid,"todos",y),b=new Date(v);b.setHours(0,0,0,0),await ra(x,{createdAt:b})}catch(x){console.error("Error rescheduling todo:",x)}}}}function gy({selectedDate:r,onDateChange:e,autoOpen:t=!1,onClose:i}){const[a,l]=O.useState(t),[u,h]=O.useState(r||new Date),[p,f]=O.useState(null),y=O.useRef(null),v=O.useRef(null),{t:x,language:b}=sn(),[w,T]=O.useState(window.innerWidth<640);O.useEffect(()=>{const j=()=>{T(window.innerWidth<640)};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),O.useEffect(()=>(w&&a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[w,a]),O.useEffect(()=>{function j(ie){w||v.current&&!v.current.contains(ie.target)&&y.current&&!y.current.contains(ie.target)&&(l(!1),i&&i())}if(a)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[a,w,i]),O.useEffect(()=>{if(a&&y.current&&!w){const j=y.current.getBoundingClientRect(),ie=320,fe=window.innerHeight-j.bottom,Q=j.top;let se=j.bottom+window.scrollY+8;fe<ie&&Q>fe&&(se=j.top+window.scrollY-ie-8);let de=j.left+window.scrollX,he="auto";j.left+280>window.innerWidth&&(de="auto",he=window.innerWidth-j.right+window.scrollX),f({top:se,left:de,right:he})}else f(w?{}:null)},[a,w]);const{settings:C}=bl(),V=C?.startOfWeek||"monday",k=j=>{const ie=j.getFullYear(),fe=j.getMonth(),Q=new Date(ie,fe,1),de=new Date(ie,fe+1,0).getDate(),he=Q.getDay();let ve=he;return V==="monday"&&(ve=he===0?6:he-1),{daysInMonth:de,startingDayOfWeek:ve}},B=j=>{const ie=new Date;return j.toDateString()===ie.toDateString()},L=(j,ie)=>ie?j.toDateString()===ie.toDateString():!1,H=j=>{const ie=new Date(u.getFullYear(),u.getMonth(),j);e(ie),l(!1)},q=()=>{h(new Date(u.getFullYear(),u.getMonth()-1))},D=()=>{h(new Date(u.getFullYear(),u.getMonth()+1))},R=j=>{j.stopPropagation(),e(null),l(!1)},I=()=>{l(!1),i&&i()},{daysInMonth:N,startingDayOfWeek:M}=k(u),U=u.toLocaleDateString("default",{month:"long",year:"numeric"});return E.jsxs(E.Fragment,{children:[E.jsxs("button",{ref:y,type:"button",onClick:()=>{a&&i&&i(),l(!a)},className:"flex items-center gap-1.5 p-2 rounded-md transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{color:r?"var(--color-accent)":"var(--color-text-secondary)",backgroundColor:r?"var(--color-accent)20":"transparent"},children:[E.jsx(Gh,{size:18}),r&&E.jsx(Ni,{size:14,onClick:R,className:"hover:text-red-600 transition-colors"})]}),a&&p&&Qo.createPortal(w?E.jsx("div",{className:"fixed inset-0 z-[99999] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:I,children:E.jsxs("div",{ref:v,onClick:j=>j.stopPropagation(),className:"w-full max-w-sm p-4 rounded-2xl shadow-2xl border animate-in fade-in zoom-in-95 duration-200",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("button",{type:"button",onClick:q,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:""}),E.jsx("span",{className:"font-semibold text-lg",style:{color:"var(--color-text-primary)"},children:U}),E.jsx("button",{type:"button",onClick:D,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:""})]}),E.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:Array.from({length:7},(j,ie)=>{const fe=V==="monday"?2:1,Q=new Date(2023,0,ie+fe);return E.jsx("div",{className:"text-center text-xs font-semibold py-1",style:{color:"var(--color-text-muted)"},children:Q.toLocaleDateString(b,{weekday:"narrow"})},ie)})}),E.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:M}).map((j,ie)=>E.jsx("div",{},`empty-${ie}`)),Array.from({length:N}).map((j,ie)=>{const fe=ie+1,Q=new Date(u.getFullYear(),u.getMonth(),fe),se=L(Q,r),de=B(Q);return E.jsx("button",{type:"button",onClick:()=>H(fe),className:"aspect-square rounded-lg text-sm transition-all hover:bg-black/10 dark:hover:bg-white/10 flex items-center justify-center",style:{backgroundColor:se||de?"var(--color-accent)":"transparent",color:se||de?"white":"var(--color-text-primary)",fontWeight:se||de?"600":"400"},children:fe},fe)})]}),E.jsx("button",{onClick:I,className:"w-full mt-4 p-3 rounded-xl border font-medium hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},children:x?x("common.close"):"Close"})]})}):E.jsxs("div",{ref:v,className:"fixed p-4 rounded-xl border shadow-xl animate-in fade-in zoom-in-95 duration-200",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",minWidth:"280px",top:`${p.top}px`,left:p.left!=="auto"?`${p.left}px`:void 0,right:p.right!=="auto"?`${p.right}px`:void 0,zIndex:99999},children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("button",{type:"button",onClick:q,className:"p-1 rounded hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:""}),E.jsx("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:U}),E.jsx("button",{type:"button",onClick:D,className:"p-1 rounded hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:""})]}),E.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:Array.from({length:7},(j,ie)=>{const fe=V==="monday"?2:1,Q=new Date(2023,0,ie+fe);return E.jsx("div",{className:"text-center text-xs font-semibold py-1",style:{color:"var(--color-text-muted)"},children:Q.toLocaleDateString(b,{weekday:"narrow"})},ie)})}),E.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:M}).map((j,ie)=>E.jsx("div",{},`empty-${ie}`)),Array.from({length:N}).map((j,ie)=>{const fe=ie+1,Q=new Date(u.getFullYear(),u.getMonth(),fe),se=L(Q,r),de=B(Q);return E.jsx("button",{type:"button",onClick:()=>H(fe),className:"aspect-square rounded-lg text-sm transition-all hover:bg-black/10 dark:hover:bg-white/10",style:{backgroundColor:se||de?"var(--color-accent)":"transparent",color:se||de?"white":"var(--color-text-primary)",fontWeight:se||de?"600":"400"},children:fe},fe)})]})]}),document.body)]})}const A9=({todo:r,t:e,toggleTodo:t,startEditing:i,isEditing:a,editText:l,setEditText:u,saveEdit:h,handleEditKeyDown:p,deleteTodo:f,rescheduleTodo:y,reschedulingTask:v,setReschedulingTask:x})=>{const[b,w]=O.useState(!1),T=O.useRef(null),C=O.useRef(null);return O.useEffect(()=>{function V(k){T.current&&!T.current.contains(k.target)&&w(!1)}if(b)return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[b]),O.useEffect(()=>{a&&C.current&&(C.current.style.height="auto",C.current.style.height=C.current.scrollHeight+"px",C.current.focus(),C.current.setSelectionRange(C.current.value.length,C.current.value.length))},[a,l]),E.jsxs("div",{className:"flex items-center justify-between rounded-xl border shadow-sm transition-all hover:shadow-md p-3 relative",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[E.jsxs("div",{className:"flex items-start gap-3 flex-1 text-left min-w-0",children:[E.jsx("button",{onClick:()=>t(r.id),className:"mt-0.5 flex-shrink-0",children:E.jsx(Kh,{size:20,style:{color:"var(--color-text-muted)"}})}),E.jsx("div",{className:"flex-1 min-w-0",children:a?E.jsx("textarea",{ref:C,value:l,onChange:V=>u(V.target.value),onBlur:h,onKeyDown:V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),h()),p(V)},className:"w-full bg-transparent border-b border-gray-300 dark:border-gray-600 focus:outline-none focus:border-blue-500 px-1 py-0.5 resize-none overflow-hidden",rows:1,style:{color:"var(--color-text-primary)"}}):E.jsx("button",{onClick:()=>t(r.id),className:"text-left w-full",children:E.jsx("span",{className:"text-base block",style:{color:"var(--color-text-primary)",wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word"},children:r.text})})})]}),E.jsx("div",{className:"flex items-center gap-1 ml-2 relative",children:v===r.id?E.jsx(gy,{selectedDate:null,onDateChange:V=>{V&&y(r.id,V),x(null)},onClose:()=>x(null),autoOpen:!0}):E.jsxs("div",{ref:T,className:"relative",children:[E.jsx("button",{onClick:()=>w(!b),className:"p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-full transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":"More options",children:E.jsx(cy,{size:18})}),b&&E.jsxs("div",{className:"absolute right-0 top-full mt-1 w-32 rounded-xl shadow-lg border overflow-hidden z-10",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[E.jsxs("button",{onClick:()=>{i(r),w(!1)},className:"w-full text-left px-4 py-2 text-sm flex items-center gap-2 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:[E.jsx(Yh,{size:14}),e("tasks.edit_label")]}),E.jsxs("button",{onClick:()=>{x(r.id),w(!1)},className:"w-full text-left px-4 py-2 text-sm flex items-center gap-2 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:[E.jsx(Gh,{size:14}),e("common.reschedule")||"Reschedule"]}),E.jsxs("button",{onClick:()=>{f(r.id),w(!1)},className:"w-full text-left px-4 py-2 text-sm flex items-center gap-2 hover:bg-red-500/10 text-red-600 transition-colors",children:[E.jsx(Qh,{size:14}),e("tasks.delete_label")]})]})]})})]})};function C9({isOpen:r,onClose:e}){const{t}=sn(),{incompleteTodos:i,groupedTodos:a,toggleTodo:l,deleteTodo:u,rescheduleTodo:h,updateTodoText:p}=w9(),[f,y]=O.useState(null),[v,x]=O.useState(null),[b,w]=O.useState(""),T=L=>{x(L.id),w(L.text)},C=()=>{v&&b.trim()&&(p(v,b),x(null),w(""))},V=()=>{x(null),w("")},k=L=>{L.key==="Enter"?C():L.key==="Escape"&&V()};if(!r)return null;const B=Object.keys(a).sort((L,H)=>new Date(L)-new Date(H));return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e,children:E.jsxs("div",{className:"relative w-full max-w-2xl max-h-[80vh] rounded-2xl shadow-xl overflow-hidden flex flex-col",style:{backgroundColor:"var(--color-bg-card)"},onClick:L=>L.stopPropagation(),children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--color-border)"},children:[E.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:t("tasks.incomplete_title")}),E.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:E.jsx(Ni,{size:20})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i.length===0?E.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-muted)"},children:E.jsx("p",{children:t("tasks.no_incomplete")})}):E.jsx("div",{className:"space-y-6",children:B.map(L=>{const H=a[L],q=H.date.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),D=new Date;D.setHours(0,0,0,0);const R=H.date.getTime()===D.getTime(),I=H.date.getTime()<D.getTime();return E.jsxs("div",{children:[E.jsxs("h3",{className:"text-sm font-semibold mb-3 px-2",style:{color:I?"#ef4444":"var(--color-text-secondary)"},children:[R?t("common.today"):q,I&&" "]}),E.jsx("div",{className:"space-y-2",children:H.todos.map(N=>E.jsx(A9,{todo:N,t,toggleTodo:l,startEditing:T,isEditing:v===N.id,editText:b,setEditText:w,saveEdit:C,handleEditKeyDown:k,deleteTodo:u,rescheduleTodo:h,reschedulingTask:f,setReschedulingTask:y},N.id))})]},L)})})})]})})}function T9(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return O.useMemo(()=>i=>{e.forEach(a=>a(i))},e)}const Zh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function El(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function yy(r){return"nodeType"in r}function sr(r){var e,t;return r?El(r)?r:yy(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function vy(r){const{Document:e}=sr(r);return r instanceof e}function xu(r){return El(r)?!1:r instanceof sr(r).HTMLElement}function $A(r){return r instanceof sr(r).SVGElement}function wl(r){return r?El(r)?r.document:yy(r)?vy(r)?r:xu(r)||$A(r)?r.ownerDocument:document:document:document}const Ii=Zh?O.useLayoutEffect:O.useEffect;function xy(r){const e=O.useRef(r);return Ii(()=>{e.current=r}),O.useCallback(function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}function S9(){const r=O.useRef(null),e=O.useCallback((i,a)=>{r.current=setInterval(i,a)},[]),t=O.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function Zc(r,e){e===void 0&&(e=[r]);const t=O.useRef(r);return Ii(()=>{t.current!==r&&(t.current=r)},e),t}function _u(r,e){const t=O.useRef();return O.useMemo(()=>{const i=r(t.current);return t.current=i,i},[...e])}function mh(r){const e=xy(r),t=O.useRef(null),i=O.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,i]}function eg(r){const e=O.useRef();return O.useEffect(()=>{e.current=r},[r]),e.current}let xp={};function bu(r,e){return O.useMemo(()=>{if(e)return e;const t=xp[r]==null?0:xp[r]+1;return xp[r]=t,r+"-"+t},[r,e])}function KA(r){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return i.reduce((l,u)=>{const h=Object.entries(u);for(const[p,f]of h){const y=l[p];y!=null&&(l[p]=y+r*f)}return l},{...e})}}const tl=KA(1),Jc=KA(-1);function D9(r){return"clientX"in r&&"clientY"in r}function _y(r){if(!r)return!1;const{KeyboardEvent:e}=sr(r.target);return e&&r instanceof e}function R9(r){if(!r)return!1;const{TouchEvent:e}=sr(r.target);return e&&r instanceof e}function tg(r){if(R9(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return D9(r)?{x:r.clientX,y:r.clientY}:null}const eu=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[eu.Translate.toString(r),eu.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:i}=r;return e+" "+t+"ms "+i}}}),EE="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function I9(r){return r.matches(EE)?r:r.querySelector(EE)}const N9={display:"none"};function k9(r){let{id:e,value:t}=r;return nr.createElement("div",{id:e,style:N9},t)}function B9(r){let{id:e,announcement:t,ariaLiveType:i="assertive"}=r;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return nr.createElement("div",{id:e,style:a,role:"status","aria-live":i,"aria-atomic":!0},t)}function O9(){const[r,e]=O.useState("");return{announce:O.useCallback(i=>{i!=null&&e(i)},[]),announcement:r}}const YA=O.createContext(null);function M9(r){const e=O.useContext(YA);O.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function V9(){const[r]=O.useState(()=>new Set),e=O.useCallback(i=>(r.add(i),()=>r.delete(i)),[r]);return[O.useCallback(i=>{let{type:a,event:l}=i;r.forEach(u=>{var h;return(h=u[a])==null?void 0:h.call(u,l)})},[r]),e]}const j9={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},P9={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function L9(r){let{announcements:e=P9,container:t,hiddenTextDescribedById:i,screenReaderInstructions:a=j9}=r;const{announce:l,announcement:u}=O9(),h=bu("DndLiveRegion"),[p,f]=O.useState(!1);if(O.useEffect(()=>{f(!0)},[]),M9(O.useMemo(()=>({onDragStart(v){let{active:x}=v;l(e.onDragStart({active:x}))},onDragMove(v){let{active:x,over:b}=v;e.onDragMove&&l(e.onDragMove({active:x,over:b}))},onDragOver(v){let{active:x,over:b}=v;l(e.onDragOver({active:x,over:b}))},onDragEnd(v){let{active:x,over:b}=v;l(e.onDragEnd({active:x,over:b}))},onDragCancel(v){let{active:x,over:b}=v;l(e.onDragCancel({active:x,over:b}))}}),[l,e])),!p)return null;const y=nr.createElement(nr.Fragment,null,nr.createElement(k9,{id:i,value:a.draggable}),nr.createElement(B9,{id:h,announcement:u}));return t?Qo.createPortal(y,t):y}var un;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(un||(un={}));function ph(){}function wE(r,e){return O.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function F9(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return O.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const ni=Object.freeze({x:0,y:0});function QA(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function XA(r,e){let{data:{value:t}}=r,{data:{value:i}}=e;return t-i}function z9(r,e){let{data:{value:t}}=r,{data:{value:i}}=e;return i-t}function AE(r){let{left:e,top:t,height:i,width:a}=r;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+i},{x:e+a,y:t+i}]}function WA(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}function CE(r,e,t){return e===void 0&&(e=r.left),t===void 0&&(t=r.top),{x:e+r.width*.5,y:t+r.height*.5}}const U9=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=CE(e,e.left,e.top),l=[];for(const u of i){const{id:h}=u,p=t.get(h);if(p){const f=QA(CE(p),a);l.push({id:h,data:{droppableContainer:u,value:f}})}}return l.sort(XA)},H9=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=AE(e),l=[];for(const u of i){const{id:h}=u,p=t.get(h);if(p){const f=AE(p),y=a.reduce((x,b,w)=>x+QA(f[w],b),0),v=Number((y/4).toFixed(4));l.push({id:h,data:{droppableContainer:u,value:v}})}}return l.sort(XA)};function q9(r,e){const t=Math.max(e.top,r.top),i=Math.max(e.left,r.left),a=Math.min(e.left+e.width,r.left+r.width),l=Math.min(e.top+e.height,r.top+r.height),u=a-i,h=l-t;if(i<a&&t<l){const p=e.width*e.height,f=r.width*r.height,y=u*h,v=y/(p+f-y);return Number(v.toFixed(4))}return 0}const G9=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=[];for(const l of i){const{id:u}=l,h=t.get(u);if(h){const p=q9(h,e);p>0&&a.push({id:u,data:{droppableContainer:l,value:p}})}}return a.sort(z9)};function $9(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function ZA(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:ni}function K9(r){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return a.reduce((u,h)=>({...u,top:u.top+r*h.y,bottom:u.bottom+r*h.y,left:u.left+r*h.x,right:u.right+r*h.x}),{...t})}}const Y9=K9(1);function Q9(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function X9(r,e,t){const i=Q9(e);if(!i)return r;const{scaleX:a,scaleY:l,x:u,y:h}=i,p=r.left-u-(1-a)*parseFloat(t),f=r.top-h-(1-l)*parseFloat(t.slice(t.indexOf(" ")+1)),y=a?r.width/a:r.width,v=l?r.height/l:r.height;return{width:y,height:v,top:f,right:p+y,bottom:f+v,left:p}}const W9={ignoreTransform:!1};function Al(r,e){e===void 0&&(e=W9);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:y}=sr(r).getComputedStyle(r);f&&(t=X9(t,f,y))}const{top:i,left:a,width:l,height:u,bottom:h,right:p}=t;return{top:i,left:a,width:l,height:u,bottom:h,right:p}}function TE(r){return Al(r,{ignoreTransform:!0})}function Z9(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function J9(r,e){return e===void 0&&(e=sr(r).getComputedStyle(r)),e.position==="fixed"}function eB(r,e){e===void 0&&(e=sr(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=e[a];return typeof l=="string"?t.test(l):!1})}function Jh(r,e){const t=[];function i(a){if(e!=null&&t.length>=e||!a)return t;if(vy(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!xu(a)||$A(a)||t.includes(a))return t;const l=sr(r).getComputedStyle(a);return a!==r&&eB(a,l)&&t.push(a),J9(a,l)?t:i(a.parentNode)}return r?i(r):t}function JA(r){const[e]=Jh(r,1);return e??null}function _p(r){return!Zh||!r?null:El(r)?r:yy(r)?vy(r)||r===wl(r).scrollingElement?window:xu(r)?r:null:null}function eC(r){return El(r)?r.scrollX:r.scrollLeft}function tC(r){return El(r)?r.scrollY:r.scrollTop}function ng(r){return{x:eC(r),y:tC(r)}}var yn;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(yn||(yn={}));function nC(r){return!Zh||!r?!1:r===document.scrollingElement}function rC(r){const e={x:0,y:0},t=nC(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},i={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},a=r.scrollTop<=e.y,l=r.scrollLeft<=e.x,u=r.scrollTop>=i.y,h=r.scrollLeft>=i.x;return{isTop:a,isLeft:l,isBottom:u,isRight:h,maxScroll:i,minScroll:e}}const tB={x:.2,y:.2};function nB(r,e,t,i,a){let{top:l,left:u,right:h,bottom:p}=t;i===void 0&&(i=10),a===void 0&&(a=tB);const{isTop:f,isBottom:y,isLeft:v,isRight:x}=rC(r),b={x:0,y:0},w={x:0,y:0},T={height:e.height*a.y,width:e.width*a.x};return!f&&l<=e.top+T.height?(b.y=yn.Backward,w.y=i*Math.abs((e.top+T.height-l)/T.height)):!y&&p>=e.bottom-T.height&&(b.y=yn.Forward,w.y=i*Math.abs((e.bottom-T.height-p)/T.height)),!x&&h>=e.right-T.width?(b.x=yn.Forward,w.x=i*Math.abs((e.right-T.width-h)/T.width)):!v&&u<=e.left+T.width&&(b.x=yn.Backward,w.x=i*Math.abs((e.left+T.width-u)/T.width)),{direction:b,speed:w}}function rB(r){if(r===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:e,left:t,right:i,bottom:a}=r.getBoundingClientRect();return{top:e,left:t,right:i,bottom:a,width:r.clientWidth,height:r.clientHeight}}function iC(r){return r.reduce((e,t)=>tl(e,ng(t)),ni)}function iB(r){return r.reduce((e,t)=>e+eC(t),0)}function sB(r){return r.reduce((e,t)=>e+tC(t),0)}function aB(r,e){if(e===void 0&&(e=Al),!r)return;const{top:t,left:i,bottom:a,right:l}=e(r);JA(r)&&(a<=0||l<=0||t>=window.innerHeight||i>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const oB=[["x",["left","right"],iB],["y",["top","bottom"],sB]];class by{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Jh(t),a=iC(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[l,u,h]of oB)for(const p of u)Object.defineProperty(this,p,{get:()=>{const f=h(i),y=a[l]-f;return this.rect[p]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class jc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...t)})},this.target=e}add(e,t,i){var a;(a=this.target)==null||a.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function lB(r){const{EventTarget:e}=sr(r);return r instanceof e?r:wl(r)}function bp(r,e){const t=Math.abs(r.x),i=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+i**2)>e:"x"in e&&"y"in e?t>e.x&&i>e.y:"x"in e?t>e.x:"y"in e?i>e.y:!1}var jr;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(jr||(jr={}));function SE(r){r.preventDefault()}function cB(r){r.stopPropagation()}var Ke;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Ke||(Ke={}));const sC={start:[Ke.Space,Ke.Enter],cancel:[Ke.Esc],end:[Ke.Space,Ke.Enter,Ke.Tab]},uB=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case Ke.Right:return{...t,x:t.x+25};case Ke.Left:return{...t,x:t.x-25};case Ke.Down:return{...t,y:t.y+25};case Ke.Up:return{...t,y:t.y-25}}};class Ey{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new jc(wl(t)),this.windowListeners=new jc(sr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(jr.Resize,this.handleCancel),this.windowListeners.add(jr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(jr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&aB(i),t(ni)}handleKeyDown(e){if(_y(e)){const{active:t,context:i,options:a}=this.props,{keyboardCodes:l=sC,coordinateGetter:u=uB,scrollBehavior:h="smooth"}=a,{code:p}=e;if(l.end.includes(p)){this.handleEnd(e);return}if(l.cancel.includes(p)){this.handleCancel(e);return}const{collisionRect:f}=i.current,y=f?{x:f.left,y:f.top}:ni;this.referenceCoordinates||(this.referenceCoordinates=y);const v=u(e,{active:t,context:i.current,currentCoordinates:y});if(v){const x=Jc(v,y),b={x:0,y:0},{scrollableAncestors:w}=i.current;for(const T of w){const C=e.code,{isTop:V,isRight:k,isLeft:B,isBottom:L,maxScroll:H,minScroll:q}=rC(T),D=rB(T),R={x:Math.min(C===Ke.Right?D.right-D.width/2:D.right,Math.max(C===Ke.Right?D.left:D.left+D.width/2,v.x)),y:Math.min(C===Ke.Down?D.bottom-D.height/2:D.bottom,Math.max(C===Ke.Down?D.top:D.top+D.height/2,v.y))},I=C===Ke.Right&&!k||C===Ke.Left&&!B,N=C===Ke.Down&&!L||C===Ke.Up&&!V;if(I&&R.x!==v.x){const M=T.scrollLeft+x.x,U=C===Ke.Right&&M<=H.x||C===Ke.Left&&M>=q.x;if(U&&!x.y){T.scrollTo({left:M,behavior:h});return}U?b.x=T.scrollLeft-M:b.x=C===Ke.Right?T.scrollLeft-H.x:T.scrollLeft-q.x,b.x&&T.scrollBy({left:-b.x,behavior:h});break}else if(N&&R.y!==v.y){const M=T.scrollTop+x.y,U=C===Ke.Down&&M<=H.y||C===Ke.Up&&M>=q.y;if(U&&!x.x){T.scrollTo({top:M,behavior:h});return}U?b.y=T.scrollTop-M:b.y=C===Ke.Down?T.scrollTop-H.y:T.scrollTop-q.y,b.y&&T.scrollBy({top:-b.y,behavior:h});break}}this.handleMove(e,tl(Jc(v,this.referenceCoordinates),b))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ey.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:i=sC,onActivation:a}=e,{active:l}=t;const{code:u}=r.nativeEvent;if(i.start.includes(u)){const h=l.activatorNode.current;return h&&r.target!==h?!1:(r.preventDefault(),a?.({event:r.nativeEvent}),!0)}return!1}}];function DE(r){return!!(r&&"distance"in r)}function RE(r){return!!(r&&"delay"in r)}class wy{constructor(e,t,i){var a;i===void 0&&(i=lB(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:l}=e,{target:u}=l;this.props=e,this.events=t,this.document=wl(u),this.documentListeners=new jc(this.document),this.listeners=new jc(i),this.windowListeners=new jc(sr(u)),this.initialCoordinates=(a=tg(l))!=null?a:ni,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(jr.Resize,this.handleCancel),this.windowListeners.add(jr.DragStart,SE),this.windowListeners.add(jr.VisibilityChange,this.handleCancel),this.windowListeners.add(jr.ContextMenu,SE),this.documentListeners.add(jr.Keydown,this.handleKeydown),t){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(RE(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(DE(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:i,onPending:a}=this.props;a(i,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(jr.Click,cB,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(jr.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:a,props:l}=this,{onMove:u,options:{activationConstraint:h}}=l;if(!a)return;const p=(t=tg(e))!=null?t:ni,f=Jc(a,p);if(!i&&h){if(DE(h)){if(h.tolerance!=null&&bp(f,h.tolerance))return this.handleCancel();if(bp(f,h.distance))return this.handleStart()}if(RE(h)&&bp(f,h.tolerance))return this.handleCancel();this.handlePending(h,f);return}e.cancelable&&e.preventDefault(),u(p)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Ke.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const dB={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ay extends wy{constructor(e){const{event:t}=e,i=wl(t.target);super(e,dB,i)}}Ay.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;return!t.isPrimary||t.button!==0?!1:(i?.({event:t}),!0)}}];const fB={move:{name:"mousemove"},end:{name:"mouseup"}};var rg;(function(r){r[r.RightClick=2]="RightClick"})(rg||(rg={}));class hB extends wy{constructor(e){super(e,fB,wl(e.event.target))}}hB.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;return t.button===rg.RightClick?!1:(i?.({event:t}),!0)}}];const Ep={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class mB extends wy{constructor(e){super(e,Ep)}static setup(){return window.addEventListener(Ep.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ep.move.name,e)};function e(){}}}mB.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;const{touches:a}=t;return a.length>1?!1:(i?.({event:t}),!0)}}];var Pc;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Pc||(Pc={}));var gh;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(gh||(gh={}));function pB(r){let{acceleration:e,activator:t=Pc.Pointer,canScroll:i,draggingRect:a,enabled:l,interval:u=5,order:h=gh.TreeOrder,pointerCoordinates:p,scrollableAncestors:f,scrollableAncestorRects:y,delta:v,threshold:x}=r;const b=yB({delta:v,disabled:!l}),[w,T]=S9(),C=O.useRef({x:0,y:0}),V=O.useRef({x:0,y:0}),k=O.useMemo(()=>{switch(t){case Pc.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case Pc.DraggableRect:return a}},[t,a,p]),B=O.useRef(null),L=O.useCallback(()=>{const q=B.current;if(!q)return;const D=C.current.x*V.current.x,R=C.current.y*V.current.y;q.scrollBy(D,R)},[]),H=O.useMemo(()=>h===gh.TreeOrder?[...f].reverse():f,[h,f]);O.useEffect(()=>{if(!l||!f.length||!k){T();return}for(const q of H){if(i?.(q)===!1)continue;const D=f.indexOf(q),R=y[D];if(!R)continue;const{direction:I,speed:N}=nB(q,R,k,e,x);for(const M of["x","y"])b[M][I[M]]||(N[M]=0,I[M]=0);if(N.x>0||N.y>0){T(),B.current=q,w(L,u),C.current=N,V.current=I;return}}C.current={x:0,y:0},V.current={x:0,y:0},T()},[e,L,i,T,l,u,JSON.stringify(k),JSON.stringify(b),w,f,H,y,JSON.stringify(x)])}const gB={x:{[yn.Backward]:!1,[yn.Forward]:!1},y:{[yn.Backward]:!1,[yn.Forward]:!1}};function yB(r){let{delta:e,disabled:t}=r;const i=eg(e);return _u(a=>{if(t||!i||!a)return gB;const l={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[yn.Backward]:a.x[yn.Backward]||l.x===-1,[yn.Forward]:a.x[yn.Forward]||l.x===1},y:{[yn.Backward]:a.y[yn.Backward]||l.y===-1,[yn.Forward]:a.y[yn.Forward]||l.y===1}}},[t,e,i])}function vB(r,e){const t=e!=null?r.get(e):void 0,i=t?t.node.current:null;return _u(a=>{var l;return e==null?null:(l=i??a)!=null?l:null},[i,e])}function xB(r,e){return O.useMemo(()=>r.reduce((t,i)=>{const{sensor:a}=i,l=a.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,i)}));return[...t,...l]},[]),[r,e])}var tu;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(tu||(tu={}));var ig;(function(r){r.Optimized="optimized"})(ig||(ig={}));const IE=new Map;function _B(r,e){let{dragging:t,dependencies:i,config:a}=e;const[l,u]=O.useState(null),{frequency:h,measure:p,strategy:f}=a,y=O.useRef(r),v=C(),x=Zc(v),b=O.useCallback(function(V){V===void 0&&(V=[]),!x.current&&u(k=>k===null?V:k.concat(V.filter(B=>!k.includes(B))))},[x]),w=O.useRef(null),T=_u(V=>{if(v&&!t)return IE;if(!V||V===IE||y.current!==r||l!=null){const k=new Map;for(let B of r){if(!B)continue;if(l&&l.length>0&&!l.includes(B.id)&&B.rect.current){k.set(B.id,B.rect.current);continue}const L=B.node.current,H=L?new by(p(L),L):null;B.rect.current=H,H&&k.set(B.id,H)}return k}return V},[r,l,t,v,p]);return O.useEffect(()=>{y.current=r},[r]),O.useEffect(()=>{v||b()},[t,v]),O.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),O.useEffect(()=>{v||typeof h!="number"||w.current!==null||(w.current=setTimeout(()=>{b(),w.current=null},h))},[h,v,b,...i]),{droppableRects:T,measureDroppableContainers:b,measuringScheduled:l!=null};function C(){switch(f){case tu.Always:return!1;case tu.BeforeDragging:return t;default:return!t}}}function aC(r,e){return _u(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function bB(r,e){return aC(r,e)}function EB(r){let{callback:e,disabled:t}=r;const i=xy(e),a=O.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(i)},[i,t]);return O.useEffect(()=>()=>a?.disconnect(),[a]),a}function e0(r){let{callback:e,disabled:t}=r;const i=xy(e),a=O.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(i)},[t]);return O.useEffect(()=>()=>a?.disconnect(),[a]),a}function wB(r){return new by(Al(r),r)}function NE(r,e,t){e===void 0&&(e=wB);const[i,a]=O.useState(null);function l(){a(p=>{if(!r)return null;if(r.isConnected===!1){var f;return(f=p??t)!=null?f:null}const y=e(r);return JSON.stringify(p)===JSON.stringify(y)?p:y})}const u=EB({callback(p){if(r)for(const f of p){const{type:y,target:v}=f;if(y==="childList"&&v instanceof HTMLElement&&v.contains(r)){l();break}}}}),h=e0({callback:l});return Ii(()=>{l(),r?(h?.observe(r),u?.observe(document.body,{childList:!0,subtree:!0})):(h?.disconnect(),u?.disconnect())},[r]),i}function AB(r){const e=aC(r);return ZA(r,e)}const kE=[];function CB(r){const e=O.useRef(r),t=_u(i=>r?i&&i!==kE&&r&&e.current&&r.parentNode===e.current.parentNode?i:Jh(r):kE,[r]);return O.useEffect(()=>{e.current=r},[r]),t}function TB(r){const[e,t]=O.useState(null),i=O.useRef(r),a=O.useCallback(l=>{const u=_p(l.target);u&&t(h=>h?(h.set(u,ng(u)),new Map(h)):null)},[]);return O.useEffect(()=>{const l=i.current;if(r!==l){u(l);const h=r.map(p=>{const f=_p(p);return f?(f.addEventListener("scroll",a,{passive:!0}),[f,ng(f)]):null}).filter(p=>p!=null);t(h.length?new Map(h):null),i.current=r}return()=>{u(r),u(l)};function u(h){h.forEach(p=>{const f=_p(p);f?.removeEventListener("scroll",a)})}},[a,r]),O.useMemo(()=>r.length?e?Array.from(e.values()).reduce((l,u)=>tl(l,u),ni):iC(r):ni,[r,e])}function BE(r,e){e===void 0&&(e=[]);const t=O.useRef(null);return O.useEffect(()=>{t.current=null},e),O.useEffect(()=>{const i=r!==ni;i&&!t.current&&(t.current=r),!i&&t.current&&(t.current=null)},[r]),t.current?Jc(r,t.current):ni}function SB(r){O.useEffect(()=>{if(!Zh)return;const e=r.map(t=>{let{sensor:i}=t;return i.setup==null?void 0:i.setup()});return()=>{for(const t of e)t?.()}},r.map(e=>{let{sensor:t}=e;return t}))}function DB(r,e){return O.useMemo(()=>r.reduce((t,i)=>{let{eventName:a,handler:l}=i;return t[a]=u=>{l(u,e)},t},{}),[r,e])}function oC(r){return O.useMemo(()=>r?Z9(r):null,[r])}const OE=[];function RB(r,e){e===void 0&&(e=Al);const[t]=r,i=oC(t?sr(t):null),[a,l]=O.useState(OE);function u(){l(()=>r.length?r.map(p=>nC(p)?i:new by(e(p),p)):OE)}const h=e0({callback:u});return Ii(()=>{h?.disconnect(),u(),r.forEach(p=>h?.observe(p))},[r]),a}function IB(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return xu(e)?e:r}function NB(r){let{measure:e}=r;const[t,i]=O.useState(null),a=O.useCallback(f=>{for(const{target:y}of f)if(xu(y)){i(v=>{const x=e(y);return v?{...v,width:x.width,height:x.height}:x});break}},[e]),l=e0({callback:a}),u=O.useCallback(f=>{const y=IB(f);l?.disconnect(),y&&l?.observe(y),i(y?e(y):null)},[e,l]),[h,p]=mh(u);return O.useMemo(()=>({nodeRef:h,rect:t,setRef:p}),[t,h,p])}const kB=[{sensor:Ay,options:{}},{sensor:Ey,options:{}}],BB={current:{}},Kf={draggable:{measure:TE},droppable:{measure:TE,strategy:tu.WhileDragging,frequency:ig.Optimized},dragOverlay:{measure:Al}};class Lc extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return(t=(i=this.get(e))==null?void 0:i.node.current)!=null?t:void 0}}const OB={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Lc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ph},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Kf,measureDroppableContainers:ph,windowRect:null,measuringScheduled:!1},MB={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ph,draggableNodes:new Map,over:null,measureDroppableContainers:ph},t0=O.createContext(MB),lC=O.createContext(OB);function VB(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Lc}}}function jB(r,e){switch(e.type){case un.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case un.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case un.DragEnd:case un.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case un.RegisterDroppable:{const{element:t}=e,{id:i}=t,a=new Lc(r.droppable.containers);return a.set(i,t),{...r,droppable:{...r.droppable,containers:a}}}case un.SetDroppableDisabled:{const{id:t,key:i,disabled:a}=e,l=r.droppable.containers.get(t);if(!l||i!==l.key)return r;const u=new Lc(r.droppable.containers);return u.set(t,{...l,disabled:a}),{...r,droppable:{...r.droppable,containers:u}}}case un.UnregisterDroppable:{const{id:t,key:i}=e,a=r.droppable.containers.get(t);if(!a||i!==a.key)return r;const l=new Lc(r.droppable.containers);return l.delete(t),{...r,droppable:{...r.droppable,containers:l}}}default:return r}}function PB(r){let{disabled:e}=r;const{active:t,activatorEvent:i,draggableNodes:a}=O.useContext(t0),l=eg(i),u=eg(t?.id);return O.useEffect(()=>{if(!e&&!i&&l&&u!=null){if(!_y(l)||document.activeElement===l.target)return;const h=a.get(u);if(!h)return;const{activatorNode:p,node:f}=h;if(!p.current&&!f.current)return;requestAnimationFrame(()=>{for(const y of[p.current,f.current]){if(!y)continue;const v=I9(y);if(v){v.focus();break}}})}},[i,e,a,u,l]),null}function LB(r,e){let{transform:t,...i}=e;return r!=null&&r.length?r.reduce((a,l)=>l({transform:a,...i}),t):t}function FB(r){return O.useMemo(()=>({draggable:{...Kf.draggable,...r?.draggable},droppable:{...Kf.droppable,...r?.droppable},dragOverlay:{...Kf.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function zB(r){let{activeNode:e,measure:t,initialRect:i,config:a=!0}=r;const l=O.useRef(!1),{x:u,y:h}=typeof a=="boolean"?{x:a,y:a}:a;Ii(()=>{if(!u&&!h||!e){l.current=!1;return}if(l.current||!i)return;const f=e?.node.current;if(!f||f.isConnected===!1)return;const y=t(f),v=ZA(y,i);if(u||(v.x=0),h||(v.y=0),l.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const x=JA(f);x&&x.scrollBy({top:v.y,left:v.x})}},[e,u,h,i,t])}const cC=O.createContext({...ni,scaleX:1,scaleY:1});var Gs;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(Gs||(Gs={}));const UB=O.memo(function(e){var t,i,a,l;let{id:u,accessibility:h,autoScroll:p=!0,children:f,sensors:y=kB,collisionDetection:v=G9,measuring:x,modifiers:b,...w}=e;const T=O.useReducer(jB,void 0,VB),[C,V]=T,[k,B]=V9(),[L,H]=O.useState(Gs.Uninitialized),q=L===Gs.Initialized,{draggable:{active:D,nodes:R,translate:I},droppable:{containers:N}}=C,M=D!=null?R.get(D):null,U=O.useRef({initial:null,translated:null}),j=O.useMemo(()=>{var je;return D!=null?{id:D,data:(je=M?.data)!=null?je:BB,rect:U}:null},[D,M]),ie=O.useRef(null),[fe,Q]=O.useState(null),[se,de]=O.useState(null),he=Zc(w,Object.values(w)),ve=bu("DndDescribedBy",u),F=O.useMemo(()=>N.getEnabled(),[N]),G=FB(x),{droppableRects:K,measureDroppableContainers:X,measuringScheduled:me}=_B(F,{dragging:q,dependencies:[I.x,I.y],config:G.droppable}),pe=vB(R,D),we=O.useMemo(()=>se?tg(se):null,[se]),xe=Hr(),Ie=bB(pe,G.draggable.measure);zB({activeNode:D!=null?R.get(D):null,config:xe.layoutShiftCompensation,initialRect:Ie,measure:G.draggable.measure});const Be=NE(pe,G.draggable.measure,Ie),kn=NE(pe?pe.parentElement:null),Rt=O.useRef({activatorEvent:null,active:null,activeNode:pe,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:R,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),vt=N.getNodeFor((t=Rt.current.over)==null?void 0:t.id),Xe=NB({measure:G.dragOverlay.measure}),xn=(i=Xe.nodeRef.current)!=null?i:pe,Gt=q?(a=Xe.rect)!=null?a:Be:null,ar=!!(Xe.nodeRef.current&&Xe.rect),$n=AB(ar?null:Be),lt=oC(xn?sr(xn):null),We=CB(q?vt??pe:null),xt=RB(We),Ft=LB(b,{transform:{x:I.x-$n.x,y:I.y-$n.y,scaleX:1,scaleY:1},activatorEvent:se,active:j,activeNodeRect:Be,containerNodeRect:kn,draggingNodeRect:Gt,over:Rt.current.over,overlayNodeRect:Xe.rect,scrollableAncestors:We,scrollableAncestorRects:xt,windowRect:lt}),Bn=we?tl(we,I):null,It=TB(We),Er=BE(It),Kn=BE(It,[Be]),fn=tl(Ft,Er),_n=Gt?Y9(Gt,Ft):null,wr=j&&_n?v({active:j,collisionRect:_n,droppableRects:K,droppableContainers:F,pointerCoordinates:Bn}):null,ii=WA(wr,"id"),[$t,or]=O.useState(null),Fn=ar?Ft:tl(Ft,Kn),Ot=$9(Fn,(l=$t?.rect)!=null?l:null,Be),an=O.useRef(null),mt=O.useCallback((je,pt)=>{let{sensor:gt,options:Mt}=pt;if(ie.current==null)return;const on=R.get(ie.current);if(!on)return;const Kt=je.nativeEvent,Nt=new gt({active:ie.current,activeNode:on,event:Kt,options:Mt,context:Rt,onAbort(kt){if(!R.get(kt))return;const{onDragAbort:rt}=he.current,wt={id:kt};rt?.(wt),k({type:"onDragAbort",event:wt})},onPending(kt,ln,rt,wt){if(!R.get(kt))return;const{onDragPending:En}=he.current,lr={id:kt,constraint:ln,initialCoordinates:rt,offset:wt};En?.(lr),k({type:"onDragPending",event:lr})},onStart(kt){const ln=ie.current;if(ln==null)return;const rt=R.get(ln);if(!rt)return;const{onDragStart:wt}=he.current,On={activatorEvent:Kt,active:{id:ln,data:rt.data,rect:U}};Qo.unstable_batchedUpdates(()=>{wt?.(On),H(Gs.Initializing),V({type:un.DragStart,initialCoordinates:kt,active:ln}),k({type:"onDragStart",event:On}),Q(an.current),de(Kt)})},onMove(kt){V({type:un.DragMove,coordinates:kt})},onEnd:bn(un.DragEnd),onCancel:bn(un.DragCancel)});an.current=Nt;function bn(kt){return async function(){const{active:rt,collisions:wt,over:On,scrollAdjustedTranslate:En}=Rt.current;let lr=null;if(rt&&En){const{cancelDrop:wn}=he.current;lr={activatorEvent:Kt,active:rt,collisions:wt,delta:En,over:On},kt===un.DragEnd&&typeof wn=="function"&&await Promise.resolve(wn(lr))&&(kt=un.DragCancel)}ie.current=null,Qo.unstable_batchedUpdates(()=>{V({type:kt}),H(Gs.Uninitialized),or(null),Q(null),de(null),an.current=null;const wn=kt===un.DragEnd?"onDragEnd":"onDragCancel";if(lr){const Un=he.current[wn];Un?.(lr),k({type:wn,event:lr})}})}}},[R]),us=O.useCallback((je,pt)=>(gt,Mt)=>{const on=gt.nativeEvent,Kt=R.get(Mt);if(ie.current!==null||!Kt||on.dndKit||on.defaultPrevented)return;const Nt={active:Kt};je(gt,pt.options,Nt)===!0&&(on.dndKit={capturedBy:pt.sensor},ie.current=Mt,mt(gt,pt))},[R,mt]),Ar=xB(y,us);SB(y),Ii(()=>{Be&&L===Gs.Initializing&&H(Gs.Initialized)},[Be,L]),O.useEffect(()=>{const{onDragMove:je}=he.current,{active:pt,activatorEvent:gt,collisions:Mt,over:on}=Rt.current;if(!pt||!gt)return;const Kt={active:pt,activatorEvent:gt,collisions:Mt,delta:{x:fn.x,y:fn.y},over:on};Qo.unstable_batchedUpdates(()=>{je?.(Kt),k({type:"onDragMove",event:Kt})})},[fn.x,fn.y]),O.useEffect(()=>{const{active:je,activatorEvent:pt,collisions:gt,droppableContainers:Mt,scrollAdjustedTranslate:on}=Rt.current;if(!je||ie.current==null||!pt||!on)return;const{onDragOver:Kt}=he.current,Nt=Mt.get(ii),bn=Nt&&Nt.rect.current?{id:Nt.id,rect:Nt.rect.current,data:Nt.data,disabled:Nt.disabled}:null,kt={active:je,activatorEvent:pt,collisions:gt,delta:{x:on.x,y:on.y},over:bn};Qo.unstable_batchedUpdates(()=>{or(bn),Kt?.(kt),k({type:"onDragOver",event:kt})})},[ii]),Ii(()=>{Rt.current={activatorEvent:se,active:j,activeNode:pe,collisionRect:_n,collisions:wr,droppableRects:K,draggableNodes:R,draggingNode:xn,draggingNodeRect:Gt,droppableContainers:N,over:$t,scrollableAncestors:We,scrollAdjustedTranslate:fn},U.current={initial:Gt,translated:_n}},[j,pe,wr,_n,R,xn,Gt,K,N,$t,We,fn]),pB({...xe,delta:I,draggingRect:_n,pointerCoordinates:Bn,scrollableAncestors:We,scrollableAncestorRects:xt});const ds=O.useMemo(()=>({active:j,activeNode:pe,activeNodeRect:Be,activatorEvent:se,collisions:wr,containerNodeRect:kn,dragOverlay:Xe,draggableNodes:R,droppableContainers:N,droppableRects:K,over:$t,measureDroppableContainers:X,scrollableAncestors:We,scrollableAncestorRects:xt,measuringConfiguration:G,measuringScheduled:me,windowRect:lt}),[j,pe,Be,se,wr,kn,Xe,R,N,K,$t,X,We,xt,G,me,lt]),zn=O.useMemo(()=>({activatorEvent:se,activators:Ar,active:j,activeNodeRect:Be,ariaDescribedById:{draggable:ve},dispatch:V,draggableNodes:R,over:$t,measureDroppableContainers:X}),[se,Ar,j,Be,V,ve,R,$t,X]);return nr.createElement(YA.Provider,{value:B},nr.createElement(t0.Provider,{value:zn},nr.createElement(lC.Provider,{value:ds},nr.createElement(cC.Provider,{value:Ot},f)),nr.createElement(PB,{disabled:h?.restoreFocus===!1})),nr.createElement(L9,{...h,hiddenTextDescribedById:ve}));function Hr(){const je=fe?.autoScrollEnabled===!1,pt=typeof p=="object"?p.enabled===!1:p===!1,gt=q&&!je&&!pt;return typeof p=="object"?{...p,enabled:gt}:{enabled:gt}}}),HB=O.createContext(null),ME="button",qB="Draggable";function GB(r){let{id:e,data:t,disabled:i=!1,attributes:a}=r;const l=bu(qB),{activators:u,activatorEvent:h,active:p,activeNodeRect:f,ariaDescribedById:y,draggableNodes:v,over:x}=O.useContext(t0),{role:b=ME,roleDescription:w="draggable",tabIndex:T=0}=a??{},C=p?.id===e,V=O.useContext(C?cC:HB),[k,B]=mh(),[L,H]=mh(),q=DB(u,e),D=Zc(t);Ii(()=>(v.set(e,{id:e,key:l,node:k,activatorNode:L,data:D}),()=>{const I=v.get(e);I&&I.key===l&&v.delete(e)}),[v,e]);const R=O.useMemo(()=>({role:b,tabIndex:T,"aria-disabled":i,"aria-pressed":C&&b===ME?!0:void 0,"aria-roledescription":w,"aria-describedby":y.draggable}),[i,b,T,C,w,y.draggable]);return{active:p,activatorEvent:h,activeNodeRect:f,attributes:R,isDragging:C,listeners:i?void 0:q,node:k,over:x,setNodeRef:B,setActivatorNodeRef:H,transform:V}}function $B(){return O.useContext(lC)}const KB="Droppable",YB={timeout:25};function QB(r){let{data:e,disabled:t=!1,id:i,resizeObserverConfig:a}=r;const l=bu(KB),{active:u,dispatch:h,over:p,measureDroppableContainers:f}=O.useContext(t0),y=O.useRef({disabled:t}),v=O.useRef(!1),x=O.useRef(null),b=O.useRef(null),{disabled:w,updateMeasurementsFor:T,timeout:C}={...YB,...a},V=Zc(T??i),k=O.useCallback(()=>{if(!v.current){v.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{f(Array.isArray(V.current)?V.current:[V.current]),b.current=null},C)},[C]),B=e0({callback:k,disabled:w||!u}),L=O.useCallback((R,I)=>{B&&(I&&(B.unobserve(I),v.current=!1),R&&B.observe(R))},[B]),[H,q]=mh(L),D=Zc(e);return O.useEffect(()=>{!B||!H.current||(B.disconnect(),v.current=!1,B.observe(H.current))},[H,B]),O.useEffect(()=>(h({type:un.RegisterDroppable,element:{id:i,key:l,disabled:t,node:H,rect:x,data:D}}),()=>h({type:un.UnregisterDroppable,key:l,id:i})),[i]),O.useEffect(()=>{t!==y.current.disabled&&(h({type:un.SetDroppableDisabled,id:i,key:l,disabled:t}),y.current.disabled=t)},[i,l,t,h]),{active:u,rect:x,isOver:p?.id===i,node:H,over:p,setNodeRef:q}}function Cy(r,e,t){const i=r.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}function XB(r,e){return r.reduce((t,i,a)=>{const l=e.get(i);return l&&(t[a]=l),t},Array(r.length))}function Xd(r){return r!==null&&r>=0}function WB(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function ZB(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const uC=r=>{let{rects:e,activeIndex:t,overIndex:i,index:a}=r;const l=Cy(e,i,t),u=e[a],h=l[a];return!h||!u?null:{x:h.left-u.left,y:h.top-u.top,scaleX:h.width/u.width,scaleY:h.height/u.height}},Wd={scaleX:1,scaleY:1},JB=r=>{var e;let{activeIndex:t,activeNodeRect:i,index:a,rects:l,overIndex:u}=r;const h=(e=l[t])!=null?e:i;if(!h)return null;if(a===t){const f=l[u];return f?{x:0,y:t<u?f.top+f.height-(h.top+h.height):f.top-h.top,...Wd}:null}const p=eO(l,a,t);return a>t&&a<=u?{x:0,y:-h.height-p,...Wd}:a<t&&a>=u?{x:0,y:h.height+p,...Wd}:{x:0,y:0,...Wd}};function eO(r,e,t){const i=r[e],a=r[e-1],l=r[e+1];return i?t<e?a?i.top-(a.top+a.height):l?l.top-(i.top+i.height):0:l?l.top-(i.top+i.height):a?i.top-(a.top+a.height):0:0}const dC="Sortable",fC=nr.createContext({activeIndex:-1,containerId:dC,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:uC,disabled:{draggable:!1,droppable:!1}});function tO(r){let{children:e,id:t,items:i,strategy:a=uC,disabled:l=!1}=r;const{active:u,dragOverlay:h,droppableRects:p,over:f,measureDroppableContainers:y}=$B(),v=bu(dC,t),x=h.rect!==null,b=O.useMemo(()=>i.map(q=>typeof q=="object"&&"id"in q?q.id:q),[i]),w=u!=null,T=u?b.indexOf(u.id):-1,C=f?b.indexOf(f.id):-1,V=O.useRef(b),k=!WB(b,V.current),B=C!==-1&&T===-1||k,L=ZB(l);Ii(()=>{k&&w&&y(b)},[k,b,w,y]),O.useEffect(()=>{V.current=b},[b]);const H=O.useMemo(()=>({activeIndex:T,containerId:v,disabled:L,disableTransforms:B,items:b,overIndex:C,useDragOverlay:x,sortedRects:XB(b,p),strategy:a}),[T,v,L.draggable,L.droppable,B,b,C,p,x,a]);return nr.createElement(fC.Provider,{value:H},e)}const nO=r=>{let{id:e,items:t,activeIndex:i,overIndex:a}=r;return Cy(t,i,a).indexOf(e)},rO=r=>{let{containerId:e,isSorting:t,wasDragging:i,index:a,items:l,newIndex:u,previousItems:h,previousContainerId:p,transition:f}=r;return!f||!i||h!==l&&a===u?!1:t?!0:u!==a&&e===p},iO={duration:200,easing:"ease"},hC="transform",sO=eu.Transition.toString({property:hC,duration:0,easing:"linear"}),aO={roleDescription:"sortable"};function oO(r){let{disabled:e,index:t,node:i,rect:a}=r;const[l,u]=O.useState(null),h=O.useRef(t);return Ii(()=>{if(!e&&t!==h.current&&i.current){const p=a.current;if(p){const f=Al(i.current,{ignoreTransform:!0}),y={x:p.left-f.left,y:p.top-f.top,scaleX:p.width/f.width,scaleY:p.height/f.height};(y.x||y.y)&&u(y)}}t!==h.current&&(h.current=t)},[e,t,i,a]),O.useEffect(()=>{l&&u(null)},[l]),l}function lO(r){let{animateLayoutChanges:e=rO,attributes:t,disabled:i,data:a,getNewIndex:l=nO,id:u,strategy:h,resizeObserverConfig:p,transition:f=iO}=r;const{items:y,containerId:v,activeIndex:x,disabled:b,disableTransforms:w,sortedRects:T,overIndex:C,useDragOverlay:V,strategy:k}=O.useContext(fC),B=cO(i,b),L=y.indexOf(u),H=O.useMemo(()=>({sortable:{containerId:v,index:L,items:y},...a}),[v,a,L,y]),q=O.useMemo(()=>y.slice(y.indexOf(u)),[y,u]),{rect:D,node:R,isOver:I,setNodeRef:N}=QB({id:u,data:H,disabled:B.droppable,resizeObserverConfig:{updateMeasurementsFor:q,...p}}),{active:M,activatorEvent:U,activeNodeRect:j,attributes:ie,setNodeRef:fe,listeners:Q,isDragging:se,over:de,setActivatorNodeRef:he,transform:ve}=GB({id:u,data:H,attributes:{...aO,...t},disabled:B.draggable}),F=T9(N,fe),G=!!M,K=G&&!w&&Xd(x)&&Xd(C),X=!V&&se,me=X&&K?ve:null,we=K?me??(h??k)({rects:T,activeNodeRect:j,activeIndex:x,overIndex:C,index:L}):null,xe=Xd(x)&&Xd(C)?l({id:u,items:y,activeIndex:x,overIndex:C}):L,Ie=M?.id,Be=O.useRef({activeId:Ie,items:y,newIndex:xe,containerId:v}),kn=y!==Be.current.items,Rt=e({active:M,containerId:v,isDragging:se,isSorting:G,id:u,index:L,items:y,newIndex:Be.current.newIndex,previousItems:Be.current.items,previousContainerId:Be.current.containerId,transition:f,wasDragging:Be.current.activeId!=null}),vt=oO({disabled:!Rt,index:L,node:R,rect:D});return O.useEffect(()=>{G&&Be.current.newIndex!==xe&&(Be.current.newIndex=xe),v!==Be.current.containerId&&(Be.current.containerId=v),y!==Be.current.items&&(Be.current.items=y)},[G,xe,v,y]),O.useEffect(()=>{if(Ie===Be.current.activeId)return;if(Ie!=null&&Be.current.activeId==null){Be.current.activeId=Ie;return}const xn=setTimeout(()=>{Be.current.activeId=Ie},50);return()=>clearTimeout(xn)},[Ie]),{active:M,activeIndex:x,attributes:ie,data:H,rect:D,index:L,newIndex:xe,items:y,isOver:I,isSorting:G,isDragging:se,listeners:Q,node:R,overIndex:C,over:de,setNodeRef:F,setActivatorNodeRef:he,setDroppableNodeRef:N,setDraggableNodeRef:fe,transform:vt??we,transition:Xe()};function Xe(){if(vt||kn&&Be.current.newIndex===L)return sO;if(!(X&&!_y(U)||!f)&&(G||Rt))return eu.Transition.toString({...f,property:hC})}}function cO(r,e){var t,i;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r?.draggable)!=null?t:e.draggable,droppable:(i=r?.droppable)!=null?i:e.droppable}}function yh(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const uO=[Ke.Down,Ke.Right,Ke.Up,Ke.Left],dO=(r,e)=>{let{context:{active:t,collisionRect:i,droppableRects:a,droppableContainers:l,over:u,scrollableAncestors:h}}=e;if(uO.includes(r.code)){if(r.preventDefault(),!t||!i)return;const p=[];l.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const x=a.get(v.id);if(x)switch(r.code){case Ke.Down:i.top<x.top&&p.push(v);break;case Ke.Up:i.top>x.top&&p.push(v);break;case Ke.Left:i.left>x.left&&p.push(v);break;case Ke.Right:i.left<x.left&&p.push(v);break}});const f=H9({collisionRect:i,droppableRects:a,droppableContainers:p});let y=WA(f,"id");if(y===u?.id&&f.length>1&&(y=f[1].id),y!=null){const v=l.get(t.id),x=l.get(y),b=x?a.get(x.id):null,w=x?.node.current;if(w&&b&&v&&x){const C=Jh(w).some((q,D)=>h[D]!==q),V=mC(v,x),k=fO(v,x),B=C||!V?{x:0,y:0}:{x:k?i.width-b.width:0,y:k?i.height-b.height:0},L={x:b.left,y:b.top};return B.x&&B.y?L:Jc(L,B)}}}};function mC(r,e){return!yh(r)||!yh(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function fO(r,e){return!yh(r)||!yh(e)||!mC(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const pC=O.memo(({todo:r,toggleTodo:e,startEditing:t,editingTaskId:i,editText:a,setEditText:l,saveEdit:u,handleEditKeyDown:h,isOverdue:p,t:f,isHistoryView:y,deleteTodo:v,rescheduleTodo:x,reschedulingTask:b,setReschedulingTask:w})=>{const T=i===r.id,[C,V]=O.useState(!1),k=O.useRef(null),B=O.useRef(null);O.useEffect(()=>{function D(R){k.current&&!k.current.contains(R.target)&&V(!1)}if(C)return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[C]),O.useEffect(()=>{T&&B.current&&(B.current.style.height="auto",B.current.style.height=B.current.scrollHeight+"px",B.current.focus(),B.current.setSelectionRange(B.current.value.length,B.current.value.length))},[T,a]);const[L,H]=O.useState("bottom"),q=()=>{if(!C&&k.current){const D=k.current.getBoundingClientRect(),R=window.innerHeight-D.bottom;H(R<150?"top":"bottom")}V(!C)};return E.jsxs("div",{className:Tt("group flex items-center justify-between rounded-xl border shadow-sm transition-all hover:shadow-md",r.completed&&"opacity-75",p?"p-5":"p-4"),style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",touchAction:"none"},children:[E.jsxs("div",{className:"flex items-start gap-3 flex-1 text-left min-w-0",children:[E.jsx("div",{onPointerDown:D=>D.stopPropagation(),children:E.jsx("button",{onClick:()=>e(r.id,r.completed),className:"mt-0.5 flex-shrink-0 cursor-pointer",style:{pointerEvents:"auto"},children:r.completed?E.jsx(oy,{className:"text-green-600",size:24}):E.jsx(Kh,{size:24,style:{color:"var(--color-text-muted)"}})})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[T?E.jsx("textarea",{ref:B,value:a,onChange:D=>l(D.target.value),onBlur:u,onKeyDown:D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),u()),h(D)},className:"w-full bg-transparent border-b border-gray-300 dark:border-gray-600 focus:outline-none focus:border-blue-500 px-1 py-0.5 resize-none overflow-hidden",rows:1,style:{color:"var(--color-text-primary)"}}):E.jsx("button",{onClick:()=>e(r.id,r.completed),className:"text-left w-full",children:E.jsx("span",{className:Tt("text-lg transition-all block",r.completed&&"line-through"),style:{color:r.completed?"var(--color-text-muted)":"var(--color-text-primary)",wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word"},children:r.text})}),p&&!i&&E.jsxs("span",{className:"text-sm mt-1 block",style:{color:"#ef4444"},children:[f("tasks.created"),": ",p.toLocaleDateString()]})]})]}),!y&&E.jsx("div",{className:"flex items-center gap-1 ml-2 relative",onPointerDown:D=>D.stopPropagation(),children:b===r.id?E.jsx(gy,{selectedDate:null,onDateChange:D=>{D&&x(r.id,D),w(null)},onClose:()=>w(null),autoOpen:!0}):E.jsxs("div",{ref:k,className:"relative",children:[E.jsx("button",{onClick:q,className:"p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-full transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":"More options",children:E.jsx(cy,{size:20})}),C&&E.jsxs("div",{className:Tt("absolute right-0 w-40 rounded-xl shadow-lg border overflow-hidden z-10 animate-in fade-in zoom-in-95 duration-100",L==="top"?"bottom-full mb-2":"top-full mt-1"),style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[E.jsxs("button",{onClick:()=>{t(r),V(!1)},className:"w-full text-left px-4 py-2 text-sm flex items-center gap-2 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:[E.jsx(Yh,{size:14}),f("tasks.edit_label")]}),E.jsxs("button",{onClick:()=>{w(r.id),V(!1)},className:"w-full text-left px-4 py-2 text-sm flex items-center gap-2 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:[E.jsx(Gh,{size:14}),f("common.reschedule")||"Reschedule"]}),E.jsxs("button",{onClick:()=>{v(r.id,r),V(!1)},className:"w-full text-left px-4 py-2 text-sm flex items-center gap-2 hover:bg-red-500/10 text-red-600 transition-colors",children:[E.jsx(Qh,{size:14}),f("tasks.delete_label")]})]})]})})]})}),hO=O.memo(r=>{const{attributes:e,listeners:t,setNodeRef:i,transform:a,transition:l,isDragging:u}=lO({id:r.todo.id}),h={transform:eu.Transform.toString(a),transition:l,opacity:u?.5:1,touchAction:"none"};return E.jsx("div",{ref:i,style:h,...e,...t,children:E.jsx(pC,{...r})})});function mO(){const[r,e]=O.useState(null),[t,i]=O.useState(!1),[a,l]=O.useState(!1),[u,h]=O.useState(null),{todos:p,addTodo:f,toggleTodo:y,deleteTodo:v,rescheduleTodo:x,updateTodoText:b,reorderTodos:w}=my(r),[T,C]=O.useState(""),[V,k]=O.useState(null),{t:B}=sn(),L=O.useRef(null);O.useEffect(()=>{L.current&&(L.current.style.height="auto",L.current.style.height=L.current.scrollHeight+"px")},[T]);const H=K=>{K.key==="Enter"&&!K.shiftKey&&(K.preventDefault(),fe(K))},q=F9(wE(Ay,{activationConstraint:{delay:200,tolerance:5}}),wE(Ey,{coordinateGetter:dO})),[D,R]=O.useState(null),[I,N]=O.useState(""),M=O.useCallback(K=>{R(K.id),N(K.text)},[]),U=O.useCallback(()=>{D&&I.trim()&&(b(D,I),R(null),N(""))},[D,I,b]),j=O.useCallback(()=>{R(null),N("")},[]),ie=O.useCallback(K=>{K.key==="Enter"?U():K.key==="Escape"&&j()},[U,j]),fe=K=>{if(K.preventDefault(),T.trim()){const X=u?new Date(u.setHours(0,0,0,0)):null;f(T,"general",X),C(""),h(null)}},Q=!!r,se=r&&(()=>{const K=new Date;K.setHours(0,0,0,0);const X=new Date(r);return X.setHours(0,0,0,0),X.getTime()>K.getTime()})(),de=K=>{const X=new Date(K.createdAt.toDate());X.setHours(0,0,0,0);const me=new Date;return me.setHours(0,0,0,0),!K.completed&&X.getTime()<me.getTime()?X:!1},he=p.filter(K=>!K.completed).sort((K,X)=>K.order!==void 0&&X.order!==void 0?K.order-X.order:(K.order||0)-(X.order||0)),ve=p.filter(K=>K.completed),F=K=>{const{active:X,over:me}=K;if(X.id!==me.id){const pe=he.findIndex(Ie=>Ie.id===X.id),we=he.findIndex(Ie=>Ie.id===me.id),xe=Cy(he,pe,we);w(xe)}},G={};return E.jsxs("div",{className:"content-container space-y-6",children:[E.jsxs("header",{className:"flex items-start justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:B(Q?se?"tasks.future_title":"tasks.past_title":"tasks.title")}),E.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:Q?`${B(se?"tasks.future_subtitle":"tasks.past_subtitle")} ${r.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}`:B("tasks.subtitle")})]}),E.jsxs("div",{className:"flex gap-2",children:[Q&&E.jsx("button",{onClick:()=>e(null),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},title:B("common.clear_filter"),children:E.jsx(Ni,{size:24})}),!Q&&E.jsx("button",{onClick:()=>l(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:B("tasks.view_incomplete"),children:E.jsx(SN,{size:24})}),E.jsx("button",{onClick:()=>i(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:B("common.view_history"),children:E.jsx(ly,{size:24})})]})]}),!Q&&E.jsxs("form",{onSubmit:fe,className:"relative",children:[E.jsx("textarea",{ref:L,value:T,onChange:K=>C(K.target.value),onKeyDown:H,placeholder:B("tasks.placeholder"),className:"w-full p-4 pr-32 rounded-xl border shadow-sm focus:outline-none focus:ring-2 transition-all resize-none overflow-hidden min-h-[3.5rem]",rows:1,style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"}}),E.jsxs("div",{className:"absolute right-2 bottom-3 flex items-center gap-1",children:[E.jsx(gy,{selectedDate:u,onDateChange:h}),E.jsx("div",{className:"w-px h-6 mx-1",style:{backgroundColor:"var(--color-border)"}}),E.jsx("button",{type:"submit",className:"p-2 text-white rounded-lg transition-colors",style:{backgroundColor:"var(--color-accent)"},children:E.jsx(uy,{size:20})})]})]}),E.jsx("div",{className:"space-y-3",children:p.length===0?E.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-muted)"},children:E.jsx("p",{children:B(Q?"tasks.empty_past":"tasks.empty")})}):E.jsxs(UB,{sensors:q,collisionDetection:U9,onDragEnd:F,children:[E.jsx(tO,{items:he.map(K=>K.id),strategy:JB,children:E.jsx("div",{className:"space-y-3",children:he.map(K=>E.jsx(hO,{todo:K,toggleTodo:y,startEditing:M,editingTaskId:D,editText:D===K.id?I:void 0,setEditText:N,saveEdit:U,handleEditKeyDown:ie,isOverdue:de(K),t:B,colors:G,isHistoryView:Q,deleteTodo:v,rescheduleTodo:x,reschedulingTask:V,setReschedulingTask:k},K.id))})}),ve.length>0&&E.jsxs("div",{className:"space-y-3 mt-6 pt-6 border-t",style:{borderColor:"var(--color-border-light)"},children:[E.jsx("h3",{className:"text-sm font-medium opacity-50 px-2",style:{color:"var(--color-text-secondary)"},children:B("tasks.completed_section")||"Completed"}),ve.map(K=>E.jsx(pC,{todo:K,toggleTodo:y,startEditing:M,editingTaskId:D,editText:D===K.id?I:void 0,setEditText:N,saveEdit:U,handleEditKeyDown:ie,isOverdue:!1,t:B,colors:G,isHistoryView:Q,deleteTodo:v,rescheduleTodo:x,reschedulingTask:V,setReschedulingTask:k},K.id))]})]})}),E.jsx(GA,{isOpen:t,onClose:()=>i(!1),onDateSelect:e,selectedDate:r}),a&&E.jsx(C9,{isOpen:!0,onClose:()=>l(!1)})]})}function pO(r=null,e="day"){const[t,i]=O.useState([]),[a,l]=O.useState({}),{user:u}=br(),{settings:h}=bl(),p=h?.startOfWeek||"monday";O.useEffect(()=>{if(!u){i([]);return}const b=Lr(He,"users",u.uid,"habits"),w=Jr(b,na("createdAt","desc"));return Wa(w,C=>{const V=C.docs.map(k=>{const B=k.data();return{id:k.id,...B,name:Wh(B.name,u.uid)}}).filter(k=>{if(!r||!k.frequency)return!0;const B=r.getDay();return k.frequency.includes(B)});i(V)})},[u]),O.useEffect(()=>{if(!u||!r){l({});return}const b=async()=>{const T=L=>{const H=L.getFullYear(),q=String(L.getMonth()+1).padStart(2,"0"),D=String(L.getDate()).padStart(2,"0");return`${H}-${q}-${D}`},C=T(r),V=Lr(He,"users",u.uid,"habit_logs");let k;if(e==="month"){const L=new Date(r.getFullYear(),r.getMonth(),1),H=new Date(r.getFullYear(),r.getMonth()+1,0);k=Jr(V,ir("date",">=",T(L)),ir("date","<=",T(H)))}else if(e==="week"){const L=new Date(r),H=L.getDay();let q;p==="monday"?q=L.getDate()-H+(H===0?-6:1):q=L.getDate()-H;const D=new Date(new Date(L).setDate(q)),R=new Date(new Date(L).setDate(q+6));k=Jr(V,ir("date",">=",T(D)),ir("date","<=",T(R)))}else k=Jr(V,ir("date","==",C));return Wa(k,L=>{const H={};L.forEach(q=>{const D=q.data();H[D.habitId]||(H[D.habitId]={}),H[D.habitId][D.date]=D.value}),l(H)})};let w=()=>{};return b().then(T=>{T&&(w=T)}),()=>w()},[u,r,e,p]);const f=O.useCallback(async b=>{if(u)try{const w=Di(b.name,u.uid);await ul(Lr(He,"users",u.uid,"habits"),{...b,name:w,createdAt:new Date,name:w,createdAt:new Date,updatedAt:new Date,frequency:b.frequency||[0,1,2,3,4,5,6],archived:!1})}catch(w){throw console.error("Error adding habit:",w),w}},[u]),y=O.useCallback(async(b,w)=>{if(u)try{const T={...w};T.name&&(T.name=Di(T.name,u.uid));const C=St(He,"users",u.uid,"habits",b);await ra(C,T)}catch(T){throw console.error("Error updating habit:",T),T}},[u]),v=O.useCallback(async b=>{if(u)try{await Hh(St(He,"users",u.uid,"habits",b))}catch(w){throw console.error("Error deleting habit:",w),w}},[u]),x=O.useCallback(async(b,w,T=new Date)=>{if(u)try{const C=T.getFullYear(),V=String(T.getMonth()+1).padStart(2,"0"),k=String(T.getDate()).padStart(2,"0"),B=`${C}-${V}-${k}`,L=`${b}_${B}`,H=St(He,"users",u.uid,"habit_logs",L);await os(H,{habitId:b,date:B,value:w,updatedAt:new Date},{merge:!0})}catch(C){console.error("Error logging habit:",C)}},[u]);return{habits:t,habitLogs:a,addHabit:f,updateHabit:y,deleteHabit:v,logHabitProgress:x}}function gO({isOpen:r,onClose:e,onSave:t,habit:i}){const{t:a}=sn(),[l,u]=O.useState(""),h=O.useRef(null);if(O.useEffect(()=>{r&&(u(""),setTimeout(()=>{h.current?.focus()},100))},[r]),!r)return null;const p=f=>{f.preventDefault();const y=parseInt(l);isNaN(y)||(t(y),e())};return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-[var(--color-bg-card)] rounded-2xl shadow-xl w-full max-w-sm border p-6 animate-in zoom-in-95 duration-200",style:{borderColor:"var(--color-border)"},children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"text-xl font-serif font-bold",style:{color:"var(--color-text-primary)"},children:a("habits.manual_modal_title")||"Add the units here"}),E.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",style:{color:"var(--color-text-secondary)"},children:E.jsx(Ni,{size:20})})]}),E.jsxs("form",{onSubmit:p,children:[E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium mb-2 opacity-70",style:{color:"var(--color-text-primary)"},children:i.name}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{ref:h,type:"number",value:l,onChange:f=>u(f.target.value),className:"w-full p-4 text-2xl font-bold bg-[var(--color-bg-secondary)] rounded-xl outline-none text-center",style:{color:"var(--color-text-primary)"},placeholder:"0"}),E.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm opacity-50 font-medium",children:i.unit||(i.type==="time"?"min":"units")})]})]}),E.jsx("button",{type:"submit",disabled:!l,className:"w-full py-3 rounded-xl font-bold text-white shadow-lg transition-transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-accent)"},children:a("common.save")||"Save"})]})]})})}function yO({habit:r,logValue:e,onLog:t,onDelete:i,onEdit:a}){const{t:l}=sn(),u=e||0,{name:h,target:p,unit:f,type:y}=r,[v,x]=O.useState(!1),b=O.useRef(null),[w,T]=O.useState("bottom"),[C,V]=O.useState(!1);O.useEffect(()=>{function R(I){b.current&&!b.current.contains(I.target)&&x(!1)}if(v)return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[v]);const k=()=>{if(!v&&b.current){const R=b.current.getBoundingClientRect(),I=window.innerHeight-R.bottom;T(I<150?"top":"bottom")}x(!v)},B=Math.min(100,Math.max(0,u/p*100));let L="var(--color-accent)";y==="limit"?L=u>p?"#ef4444":"#22c55e":L=u>=p?"#22c55e":"var(--color-accent)";const H=()=>{const R=y==="time"?15:1;t(r.id,u+R)},q=()=>{const R=y==="time"?15:1;t(r.id,Math.max(0,u-R))},D=R=>{t(r.id,u+R)};return E.jsxs("div",{className:"p-4 rounded-xl border mb-3 transition-all relative",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"font-medium text-lg",children:h}),E.jsxs("div",{className:"text-sm opacity-70",children:[u," / ",p," ",f||(y==="time"?"min":"")]})]}),E.jsxs("div",{ref:b,className:"relative z-10",children:[E.jsx("button",{onClick:k,className:"p-1.5 rounded-lg hover:bg-[var(--color-bg-secondary)] text-[var(--color-text-muted)] transition-colors",children:E.jsx(cy,{size:20})}),v&&E.jsxs("div",{className:Tt("absolute right-0 w-32 rounded-xl shadow-lg border overflow-hidden z-20 animate-in fade-in zoom-in-95 duration-100",w==="top"?"bottom-full mb-2":"top-full mt-1"),style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[E.jsxs("button",{onClick:()=>{x(!1),a(r)},className:"w-full text-left px-4 py-2 text-sm flex items-center gap-2 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:[E.jsx(Yh,{size:14}),l("common.edit")||"Edit"]}),E.jsxs("button",{onClick:()=>{x(!1),t(r.id,0)},className:"w-full text-left px-4 py-2 text-sm flex items-center gap-2 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:[E.jsx(PN,{size:14}),l("common.reset")||"Reset"]}),E.jsxs("button",{onClick:()=>{x(!1),i(r.id)},className:"w-full text-left px-4 py-2 text-sm flex items-center gap-2 hover:bg-red-500/10 text-red-600 transition-colors",children:[E.jsx(Qh,{size:14}),l("common.delete")||"Delete"]})]})]})]}),E.jsx("div",{className:"w-full h-3 bg-[var(--color-bg-secondary)] rounded-full overflow-hidden mb-3",children:E.jsx("div",{className:"h-full transition-all duration-500 ease-out",style:{width:`${B}%`,backgroundColor:L}})}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("div",{className:"bg-[var(--color-bg-secondary)] rounded-lg p-1 min-h-[40px] flex items-center gap-1 flex-1 justify-between px-2",children:[E.jsx("button",{onClick:q,className:"p-1.5 rounded-md hover:bg-[var(--color-bg-primary)] transition-colors",disabled:u<=0,children:E.jsx(BN,{size:16})}),E.jsx("span",{className:"text-xs font-medium opacity-70 w-12 text-center select-none",children:y==="time"?"15m":"1"}),E.jsx("button",{onClick:H,className:"p-1.5 rounded-md hover:bg-[var(--color-bg-primary)] transition-colors",children:E.jsx(uy,{size:16})})]}),E.jsx("button",{onClick:()=>V(!0),className:"bg-[var(--color-bg-secondary)] rounded-lg px-3 min-h-[40px] flex items-center justify-center hover:bg-[var(--color-bg-primary)] transition-colors text-[var(--color-text-secondary)]",title:l("habits.manual_entry")||"Manual Entry",children:E.jsx(wN,{size:18})})]}),E.jsx(gO,{isOpen:C,onClose:()=>V(!1),onSave:D,habit:r})]})}function vO({isOpen:r,onClose:e,onSave:t,initialData:i=null}){const{t:a}=sn(),[l,u]=O.useState(""),[h,p]=O.useState("count"),[f,y]=O.useState(1),[v,x]=O.useState(""),[b,w]=O.useState([0,1,2,3,4,5,6]),[T,C]=O.useState(!1);if(O.useEffect(()=>{r&&(i?(u(i.name),p(i.type),y(i.target),x(i.unit||""),w(i.frequency||[0,1,2,3,4,5,6])):(u(""),p("count"),y(1),x(""),w([0,1,2,3,4,5,6])))},[r,i]),!r)return null;const V=async H=>{if(H.preventDefault(),!!l.trim()){C(!0);try{await t({id:i?.id,name:l.trim(),type:h,target:Number(f),unit:v.trim(),frequency:b}),e()}catch(q){console.error(q)}finally{C(!1)}}},k=H=>{w(q=>q.includes(H)?q.filter(D=>D!==H):[...q,H].sort())},B=[{key:0,label:"S"},{key:1,label:"M"},{key:2,label:"T"},{key:3,label:"W"},{key:4,label:"T"},{key:5,label:"F"},{key:6,label:"S"}],L=H=>{switch(H){case"count":return E.jsx(hh,{size:18});case"time":return E.jsx(ly,{size:18});case"limit":return E.jsx(tN,{size:18});default:return E.jsx(hh,{size:18})}};return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:E.jsxs("div",{className:"w-full max-w-md rounded-2xl border shadow-xl animate-in fade-in zoom-in duration-200",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},children:[E.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--color-border)"},children:[E.jsx("h2",{className:"text-xl font-semibold",children:i?a("habits.edit_habit")||"Edit Habit":a("habits.create_new")||"New Habit"}),E.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",children:E.jsx(Ni,{size:20})})]}),E.jsx("div",{className:"p-6",children:E.jsxs("form",{onSubmit:V,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:a("habits.name_label")||"Habit Name"}),E.jsx("input",{type:"text",value:l,onChange:H=>u(H.target.value),placeholder:a("habits.name_placeholder")||"e.g., Drink Water",required:!0,className:"w-full px-4 py-2 rounded-lg border bg-[var(--color-bg-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"}})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:a("habits.frequency_label")||"Frequency"}),E.jsx("div",{className:"flex justify-between gap-1",children:B.map(H=>E.jsx("button",{type:"button",onClick:()=>k(H.key),className:Tt("w-9 h-9 rounded-full flex items-center justify-center text-sm font-medium transition-all",b.includes(H.key)?"bg-[var(--color-accent)] text-white shadow-sm":"bg-[var(--color-bg-secondary)] text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-primary)]"),style:b.includes(H.key)?{}:{borderColor:"var(--color-border)",border:"1px solid"},children:H.label},H.key))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text-secondary)"},children:a("habits.type_label")||"Type"}),E.jsx("div",{className:"grid grid-cols-3 gap-2",children:["count","time","limit"].map(H=>E.jsxs("button",{type:"button",onClick:()=>p(H),className:`flex flex-col items-center justify-center p-3 rounded-lg border transition-all ${h===H?"bg-[var(--color-accent)] text-white border-transparent":"bg-[var(--color-bg-secondary)] hover:bg-[var(--color-bg-primary)]"}`,style:h!==H?{borderColor:"var(--color-border)",color:"var(--color-text-primary)"}:{},children:[L(H),E.jsx("span",{className:"text-xs mt-1 capitalize",children:a(`habits.type_${H}`)||H})]},H))})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:a("habits.target_label")||"Target"}),E.jsx("input",{type:"number",min:"1",value:f,onChange:H=>y(H.target.value),className:"w-full px-4 py-2 rounded-lg border bg-[var(--color-bg-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"}})]}),E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:a("habits.unit_label")||"Unit (Optional)"}),E.jsx("input",{type:"text",value:v,onChange:H=>x(H.target.value),placeholder:a("habits.unit_placeholder")||(h==="time"?"minutes":"times"),className:"w-full px-4 py-2 rounded-lg border bg-[var(--color-bg-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"}})]})]}),E.jsx("button",{type:"submit",disabled:T||!l.trim(),className:"w-full mt-4 py-2 px-4 rounded-lg font-medium transition-all hover:opacity-90 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-accent)",color:"#ffffff"},children:T?a("common.saving")||"Saving...":E.jsxs(E.Fragment,{children:[E.jsx(BA,{size:18}),i?a("common.save")||"Save":a("habits.create_button")||"Create Habit"]})})]})})]})})}function xO({habits:r,habitLogs:e,currentDate:t,viewMode:i="month"}){const{t:a}=sn(),{settings:l}=bl(),u=l?.startOfWeek||"monday",h=O.useMemo(()=>{const p=[];if(i==="week"){const f=new Date(t),y=f.getDay();let v;u==="monday"?v=f.getDate()-y+(y===0?-6:1):v=f.getDate()-y;const x=new Date(f);x.setDate(v);for(let b=0;b<7;b++){const w=new Date(x);w.setDate(x.getDate()+b);const T=w.getFullYear(),C=String(w.getMonth()+1).padStart(2,"0"),V=String(w.getDate()).padStart(2,"0");p.push({date:w,day:w.getDate(),label:w.toLocaleDateString("en-US",{weekday:"narrow"}),dateString:`${T}-${C}-${V}`,dayOfWeek:w.getDay()})}}else{const f=t.getFullYear(),y=t.getMonth(),v=new Date(f,y+1,0).getDate();for(let x=1;x<=v;x++){const b=new Date(f,y,x),w=b.getFullYear(),T=String(b.getMonth()+1).padStart(2,"0"),C=String(b.getDate()).padStart(2,"0");p.push({date:b,day:x,label:b.toLocaleDateString("en-US",{weekday:"narrow"}),dateString:`${w}-${T}-${C}`,dayOfWeek:b.getDay()})}}return p},[t,i]);return E.jsx("div",{className:"w-full overflow-x-auto pb-4",children:E.jsxs("div",{className:Tt("min-w-full",i==="week"?"w-full":"min-w-max"),children:[E.jsxs("div",{className:Tt("flex",i==="week"?"mb-4 gap-3":"mb-1 gap-[2px]"),children:[E.jsx("div",{className:Tt("flex-shrink-0 font-medium sticky left-0 z-10 bg-[var(--color-bg-primary)] flex items-end pb-1",i==="week"?"w-40 px-2 text-sm":"w-32 px-1 text-xs"),style:{color:"var(--color-text-secondary)"}}),h.map(p=>E.jsxs("div",{className:Tt("flex-shrink-0 text-center flex flex-col items-center justify-center",i==="week"?"flex-1 gap-1":"w-5"),children:[E.jsxs("span",{className:Tt("font-semibold",i==="week"?"text-sm":"text-[8px]"),style:{color:"var(--color-text-secondary)"},children:[p.label[0]," "]}),E.jsx("span",{className:Tt("opacity-70 leading-none",i==="week"?"text-xs":"text-[8px]"),style:{color:"var(--color-text-primary)"},children:p.day})]},p.dateString))]}),r.map(p=>E.jsxs("div",{className:Tt("flex items-stretch",i==="week"?"mb-4 gap-3 min-h-[3rem]":"mb-1 gap-[2px] min-h-[1.5rem]"),children:[E.jsx("div",{className:Tt("flex-shrink-0 font-medium sticky left-0 z-10 bg-[var(--color-bg-primary)] flex items-center transition-all",i==="week"?"w-40 px-3 text-sm":"w-32 px-2 text-xs"),style:{color:"var(--color-text-primary)"},title:p.name,children:E.jsx("span",{className:"line-clamp-2 leading-tight whitespace-normal",children:p.name})}),h.map(f=>{const y=!p.frequency||p.frequency.includes(f.dayOfWeek);if(Tt("flex-shrink-0 transition-all duration-300",i==="week"?"w-full h-10 rounded-xl":"w-5 h-5 rounded-sm"),!y)return E.jsx("div",{className:Tt("flex items-center justify-center relative bg-[var(--color-bg-secondary)] opacity-20",i==="week"?"flex-1 h-10 rounded-xl":"w-5 h-5 rounded-sm")},f.dateString);const v=e[p.id]?.[f.dateString]||0,x=p.target;let b=i==="week"?"var(--color-bg-secondary)":"transparent";return p.type==="limit"?v>0&&v<=x?b="#22c55e":v>x&&(b="#ef4444"):v>=x?b="#22c55e":v>0&&(b="#eab308"),b==="transparent"&&(b="var(--color-bg-secondary)"),E.jsx("div",{className:Tt("flex-shrink-0 transition-all duration-300",i==="week"?"flex-1 h-10 rounded-xl":"w-5 h-5 rounded-sm"),style:{backgroundColor:b},title:`${f.dateString}: ${v} / ${x}`},f.dateString)})]},p.id))]})})}function VE({habit:r,habitLogs:e,currentDate:t,onMonthChange:i,hideController:a=!1,compact:l=!1}){const{t:u,language:h}=sn(),p=t.getFullYear(),f=t.getMonth(),{settings:y}=bl(),v=y?.startOfWeek||"monday",x=O.useMemo(()=>{const w=new Date(p,f+1,0).getDate();let T=new Date(p,f,1).getDay(),C=T;v==="monday"&&(C=T===0?6:T-1);const V=[];for(let k=0;k<C;k++)V.push(null);for(let k=1;k<=w;k++){const B=new Date(p,f,k),L=`${p}-${String(f+1).padStart(2,"0")}-${String(k).padStart(2,"0")}`;V.push({day:k,date:B,dateString:L,dayOfWeek:B.getDay()})}return V},[p,f,v]),b=O.useMemo(()=>{const w=v==="monday"?2:1;return Array.from({length:7},(T,C)=>new Date(2023,0,C+w).toLocaleDateString(h,{weekday:"short"}))},[h,v]);return r?E.jsxs("div",{className:"rounded-2xl border p-4 shadow-sm",style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-bg-card)"},children:[E.jsxs("div",{className:Tt("flex items-center justify-between mb-4",l&&"mb-2"),children:[E.jsx("h3",{className:Tt("font-bold font-serif capitalize",l?"text-base":"text-lg"),style:{color:"var(--color-text-primary)"},children:a?r.name:t.toLocaleDateString(h,{month:"long",year:"numeric"})}),!a&&E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>i(-1),className:"p-1.5 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",style:{color:"var(--color-text-secondary)"},children:E.jsx(ay,{size:20})}),E.jsx("button",{onClick:()=>i(1),className:"p-1.5 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",style:{color:"var(--color-text-secondary)"},children:E.jsx($h,{size:20})})]})]}),E.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[b.map(w=>E.jsx("div",{className:"text-center text-xs font-semibold opacity-60 uppercase mb-2",style:{color:"var(--color-text-secondary)"},children:w},w)),x.map((w,T)=>{if(!w)return E.jsx("div",{className:"aspect-square"},`empty-${T}`);const C=!r.frequency||r.frequency.includes(w.dayOfWeek),V=e[r.id]?.[w.dateString]||0,k=r.target;let B="var(--color-bg-secondary)",L=null;C?V>=k?B="#22c55e":V>0?B="#eab308":B="var(--color-bg-hover)":(B="var(--color-bg-secondary)",L=E.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:E.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[E.jsx("line",{x1:"0",y1:"0",x2:"100",y2:"100",stroke:"currentColor",strokeWidth:"1"}),E.jsx("line",{x1:"0",y1:"100",x2:"100",y2:"0",stroke:"currentColor",strokeWidth:"1"})]})})),r.type==="limit"&&C&&(V>0&&V<=k?B="#22c55e":V>k?B="#ef4444":B="var(--color-bg-hover)"),w.dateString,new Date().toISOString().split("T")[0];const H=new Date,q=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}-${String(H.getDate()).padStart(2,"0")}`,D=w.dateString===q;return E.jsxs("div",{className:Tt("aspect-square rounded-lg flex items-center justify-center relative font-medium transition-all hover:opacity-90",l?"text-xs":"text-sm",D&&"ring-2 ring-offset-1 ring-[var(--color-accent)]"),style:{backgroundColor:B,color:V>0&&C?"#fff":"var(--color-text-primary)"},title:`${w.dateString}: ${V}`,children:[w.day,L]},w.dateString)})]}),!l&&E.jsxs("div",{className:"flex justify-center gap-4 mt-6 text-xs",style:{color:"var(--color-text-secondary)"},children:[E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("div",{className:"w-3 h-3 rounded bg-[#22c55e]"})," Complete"]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("div",{className:"w-3 h-3 rounded bg-[#eab308]"})," Partial"]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("div",{className:"w-3 h-3 rounded bg-[var(--color-bg-secondary)] relative overflow-hidden",children:E.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-50",children:E.jsx("span",{className:"text-[8px] transform -rotate-45",children:"/"})})})," Unscheduled"]})]})]}):E.jsx("div",{className:"text-center py-8 opacity-50",children:"Select a habit to view calendar"})}function _O(){const[r,e]=O.useState("day"),[t,i]=O.useState(!1),[a,l]=O.useState(null),{t:u}=sn(),[h,p]=O.useState(new Date),{habits:f,habitLogs:y,addHabit:v,updateHabit:x,deleteHabit:b,logHabitProgress:w}=pO(h,r),[T,C]=O.useState(null),[V,k]=O.useState("single");O.useEffect(()=>{f.length>0&&!T&&C(f[0].id)},[f,T]);const B=I=>{const N=new Date(h);r==="month"?N.setMonth(N.getMonth()+I):r==="week"?N.setDate(N.getDate()+I*7):N.setDate(N.getDate()+I),p(N)},L=()=>{if(r==="month")return h.toLocaleDateString(u("locale")||"en-US",{month:"long",year:"numeric"});if(r==="week"){const N=new Date(h),M=N.getDate()-N.getDay()+(N.getDay()===0?-6:1),U=new Date(new Date(N).setDate(M)),j=new Date(new Date(N).setDate(M+6)),ie=U.toLocaleDateString(u("locale")||"en-US",{month:"short",day:"numeric"}),fe=j.toLocaleDateString(u("locale")||"en-US",{month:"short",day:"numeric"});return`${ie} - ${fe}`}const I=new Date;return h.toDateString()===I.toDateString()?u("common.today")||"Today":h.toLocaleDateString(u("locale")||"en-US",{weekday:"short",month:"short",day:"numeric"})},H=async I=>{if(I.id){const{id:N,...M}=I;await x(N,M)}else{const{id:N,...M}=I;await v(M)}},q=I=>{l(I),i(!0)},D=()=>{i(!1),l(null)},R=(I,N)=>{w(I,N,h)};return E.jsxs("div",{className:"content-container space-y-6 pb-24",children:[E.jsxs("header",{className:"flex flex-col gap-4",children:[E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:u("habits.title")||"Habits"}),E.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:u("habits.subtitle")||"Track your daily goals"})]}),E.jsx("button",{onClick:()=>{l(null),i(!0)},className:"p-2 rounded-xl text-white transition-opacity hover:opacity-90 shadow-lg",style:{backgroundColor:"var(--color-accent)"},children:E.jsx(uy,{size:24})})]}),E.jsx("div",{className:"flex p-1 rounded-xl border bg-[var(--color-bg-card)]",style:{borderColor:"var(--color-border)"},children:["day","week","month"].map(I=>E.jsx("button",{onClick:()=>e(I),className:Tt("flex-1 py-1.5 rounded-lg text-sm font-medium transition-all capitalize",r===I?"bg-[var(--color-bg-secondary)] shadow-sm":"hover:opacity-70"),style:{color:r===I?"var(--color-text-primary)":"var(--color-text-secondary)"},children:u(`habits.view_${I}`)||I},I))}),E.jsxs("div",{className:"flex items-center justify-between bg-[var(--color-bg-card)] p-2 rounded-xl border",style:{borderColor:"var(--color-border)"},children:[E.jsx("button",{onClick:()=>B(-1),className:"p-1.5 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",style:{color:"var(--color-text-secondary)"},children:E.jsx(ay,{size:20})}),E.jsx("h3",{className:"font-bold font-serif capitalize text-sm select-none",style:{color:"var(--color-text-primary)"},children:L()}),E.jsx("button",{onClick:()=>B(1),className:"p-1.5 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",style:{color:"var(--color-text-secondary)"},children:E.jsx($h,{size:20})})]}),r==="month"&&f.length>0&&E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex p-1 bg-[var(--color-bg-secondary)] rounded-xl w-full",children:[E.jsxs("button",{onClick:()=>k("single"),className:Tt("flex-1 px-3 py-1.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-all",V==="single"?"bg-[var(--color-bg-card)] shadow-sm text-[var(--color-text-primary)]":"text-[var(--color-text-secondary)] hover:opacity-80"),children:[E.jsx(qN,{size:16}),u("habits.view_habit")||"Habit Mode"]}),E.jsxs("button",{onClick:()=>k("compact"),className:Tt("flex-1 px-3 py-1.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 transition-all",V==="compact"?"bg-[var(--color-bg-card)] shadow-sm text-[var(--color-text-primary)]":"text-[var(--color-text-secondary)] hover:opacity-80"),children:[E.jsx(CN,{size:16}),u("habits.view_compact")||"Compact Mode"]})]}),V==="single"&&E.jsx("div",{className:"w-full",children:E.jsx("select",{value:T||"",onChange:I=>C(I.target.value),className:"w-full p-3 rounded-xl border appearance-none outline-none font-medium cursor-pointer transition-colors",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},children:f.map(I=>E.jsx("option",{value:I.id,children:I.name},I.id))})})]})]}),E.jsx("main",{children:r==="day"?E.jsx("div",{className:"space-y-4",children:f.length===0?E.jsxs("div",{className:"text-center py-12",style:{color:"var(--color-text-muted)"},children:[E.jsx(hh,{className:"mx-auto mb-3 opacity-50",size:48}),E.jsx("p",{children:u("habits.empty")||"No habits yet. Create one to get started!"})]}):f.map(I=>E.jsx(yO,{habit:I,logValue:y[I.id]?.[`${h.getFullYear()}-${String(h.getMonth()+1).padStart(2,"0")}-${String(h.getDate()).padStart(2,"0")}`],onLog:R,onDelete:b,onEdit:q},I.id))}):r==="week"?E.jsx(xO,{habits:f,habitLogs:y,currentDate:h,viewMode:r}):V==="single"?E.jsx(VE,{habit:f.find(I=>I.id===T),habitLogs:y,currentDate:h,onMonthChange:B}):E.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:f.map(I=>E.jsx(VE,{habit:I,habitLogs:y,currentDate:h,onMonthChange:B,hideController:!0,compact:!0},I.id))})}),E.jsx(vO,{isOpen:t,onClose:D,onSave:H,initialData:a})]})}function bO({isOpen:r,onClose:e}){const{t}=sn(),{entries:i}=py(null,!0),[a,l]=O.useState({}),u=O.useMemo(()=>{const p={};return i.forEach(f=>{const v=new Date(f.date).toLocaleString("default",{month:"long",year:"numeric"});p[v]||(p[v]=[]),p[v].push(f)}),p},[i]),h=p=>{l(f=>({...f,[p]:!f[p]}))};return r?E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:E.jsxs("div",{className:"w-full max-w-md rounded-2xl border shadow-xl flex flex-col max-h-[80vh]",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b shrink-0",style:{borderColor:"var(--color-border)"},children:[E.jsx("h2",{className:"text-xl font-semibold",children:t("journal.archive_title")||"Journal Archive"}),E.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",children:E.jsx(Ni,{size:20})})]}),E.jsx("div",{className:"p-4 overflow-y-auto flex-1 custom-scrollbar",children:Object.keys(u).length===0?E.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text-muted)"},children:t("journal.no_archived_entries")||"No entries found."}):Object.entries(u).map(([p,f])=>E.jsxs("div",{className:"mb-6 last:mb-0",children:[E.jsxs("button",{onClick:()=>h(p),className:"w-full text-lg font-medium mb-3 sticky top-0 py-2 backdrop-blur-sm z-10 flex items-center gap-2 hover:opacity-80 transition-opacity text-left",style:{color:"var(--color-accent)",backgroundColor:"var(--color-bg-card)"},children:[a[p]?E.jsx($h,{size:20}):E.jsx(cN,{size:20}),E.jsx(Gh,{size:18}),p,E.jsx("span",{className:"text-sm font-normal ml-auto opacity-70",style:{color:"var(--color-text-secondary)"},children:f.length})]}),!a[p]&&E.jsx("div",{className:"space-y-3 pl-4 border-l-2 animate-in slide-in-from-top-2 duration-200",style:{borderColor:"var(--color-border)"},children:f.map(y=>{const v=y.updatedAt?new Date(y.updatedAt):new Date(y.date);return E.jsxs("div",{className:"p-3 rounded-lg hover:bg-[var(--color-bg-secondary)] transition-colors",children:[E.jsxs("div",{className:"text-xs font-medium mb-1 opacity-70",children:[v.toLocaleDateString(void 0,{weekday:"short",day:"numeric"}),"  ",v.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}),y.updatedAt&&` ${t("common.edited")}`]}),E.jsx("p",{className:"whitespace-pre-wrap text-sm line-clamp-3",children:y.text})]},y.id)})})]},p))})]})}):null}function EO(){const[r,e]=O.useState(null),[t,i]=O.useState(!1),[a,l]=O.useState(!1),{entries:u,addEntry:h,deleteEntry:p,updateEntry:f}=py(r),[y,v]=O.useState(""),{t:x}=sn(),[b,w]=O.useState(null),[T,C]=O.useState(""),V=q=>{w(q.id),C(q.text)},k=()=>{w(null),C("")},B=async()=>{b&&(await f(b,T),w(null),C(""))},L=q=>{q.preventDefault(),y.trim()&&(h(y),v(""))},H=!!r;return E.jsxs("div",{className:"content-container space-y-6",children:[E.jsxs("header",{className:"flex items-start justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:x(H?"journal.past_title":"journal.title")}),E.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:H?`${x("journal.past_subtitle")} ${r.toLocaleDateString()}`:x("journal.subtitle")})]}),E.jsxs("div",{className:"flex gap-2",children:[H&&E.jsx("button",{onClick:()=>e(null),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},title:x("common.clear_filter"),children:E.jsx(Ni,{size:24})}),!H&&E.jsx("button",{onClick:()=>l(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:x("journal.view_archive"),children:E.jsx(sN,{size:24})}),E.jsx("button",{onClick:()=>i(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:x("common.view_history"),children:E.jsx(ly,{size:24})})]})]}),!H&&E.jsxs("form",{onSubmit:L,className:"relative",children:[E.jsx("textarea",{value:y,onChange:q=>v(q.target.value),placeholder:x("journal.placeholder"),className:"w-full p-4 pr-12 rounded-xl border shadow-sm focus:outline-none focus:ring-2 transition-all min-h-[120px] resize-none",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"}}),E.jsx("button",{type:"submit",className:"absolute right-2 bottom-2 p-2 text-white rounded-lg transition-colors",style:{backgroundColor:"var(--color-accent)"},children:E.jsx(FN,{size:20})})]}),E.jsx("div",{className:"space-y-4",children:u.length===0?E.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-muted)"},children:E.jsx("p",{children:x(H?"journal.empty_past":"journal.empty")})}):u.map(q=>E.jsxs("div",{className:"p-5 rounded-xl border shadow-sm hover:shadow-md transition-all group",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx("span",{className:"text-xs font-medium",style:{color:"var(--color-text-tertiary)"},children:q.updatedAt?`${new Date(q.updatedAt).toLocaleString()} ${x("common.edited")}`:new Date(q.date).toLocaleString()}),!H&&E.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.jsx("button",{onClick:()=>V(q),className:"p-1 hover:text-blue-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":x("common.edit"),children:E.jsx(Yh,{size:16})}),E.jsx("button",{onClick:()=>p(q.id),className:"p-1 hover:text-red-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":x("common.delete"),children:E.jsx(Qh,{size:16})})]})]}),b===q.id?E.jsxs("div",{className:"mt-2",children:[E.jsx("textarea",{value:T,onChange:D=>C(D.target.value),className:"w-full p-2 rounded-lg border bg-transparent focus:outline-none focus:ring-2 min-h-[100px]",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},autoFocus:!0}),E.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[E.jsx("button",{onClick:k,className:"px-3 py-1 text-sm rounded-lg border hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},children:x("common.cancel")}),E.jsx("button",{onClick:B,className:"px-3 py-1 text-sm rounded-lg text-white transition-colors",style:{backgroundColor:"var(--color-accent)"},children:x("common.save")})]})]}):E.jsx("p",{className:"whitespace-pre-wrap",style:{color:"var(--color-text-primary)",wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word"},children:q.text})]},q.id))}),E.jsx(GA,{isOpen:t,onClose:()=>i(!1),onDateSelect:e,selectedDate:r}),E.jsx(bO,{isOpen:a,onClose:()=>l(!1)})]})}function wO(){const{signInWithGoogle:r,loginWithEmail:e,registerWithEmail:t}=br(),{t:i}=sn(),{isDark:a,toggleDarkMode:l}=dy(),[u,h]=O.useState(!1),[p,f]=O.useState(!1),[y,v]=O.useState(""),[x,b]=O.useState(""),[w,T]=O.useState(""),[C,V]=O.useState(!1),k=async()=>{try{await r()}catch(L){console.error("Failed to sign in:",L),T(i("auth.google_failed"))}},B=async L=>{L.preventDefault(),T(""),V(!0);try{p?await t(y,x):await e(y,x)}catch(H){console.error("Failed to authenticate:",H),H.code==="auth/email-already-in-use"?T(i("auth.email_in_use")):H.code==="auth/weak-password"?T(i("auth.weak_password")):T(i("auth.auth_failed"))}finally{V(!1)}};return E.jsxs("div",{className:"min-h-screen flex items-center justify-center font-sans relative",style:{backgroundColor:"var(--color-bg-primary)"},children:[E.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[E.jsx(PA,{}),E.jsx("button",{onClick:l,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",style:{color:"var(--color-text-primary)"},children:a?E.jsx(MA,{size:20}):E.jsx(OA,{size:20})})]}),E.jsxs("div",{className:"w-full max-w-md p-8",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("img",{src:FA,alt:"MyNotBusyAgenda Logo",className:"h-50 w-100 mx-auto mb-4"}),E.jsx("h1",{className:"text-3xl font-serif font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"MyNotBusyAgenda"}),E.jsx("p",{className:"text-lg",style:{color:"var(--color-text-secondary)"},children:i("auth.subtitle")})]}),E.jsxs("div",{className:"p-8 rounded-2xl border",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[E.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",style:{color:"var(--color-text-primary)"},children:i("auth.welcome")}),w&&E.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 text-red-500 text-sm",children:w}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("button",{onClick:k,className:"w-full py-3 px-4 rounded-lg font-medium transition-all hover:opacity-90 flex items-center justify-center gap-3",style:{backgroundColor:"var(--color-accent)",color:"#ffffff"},children:[E.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),E.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),i("auth.sign_in_google")]}),E.jsxs("div",{className:"relative flex py-2 items-center",children:[E.jsx("div",{className:"flex-grow border-t",style:{borderColor:"var(--color-border)"}}),E.jsx("span",{className:"flex-shrink-0 mx-4 text-sm",style:{color:"var(--color-text-secondary)"},children:i("auth.or")}),E.jsx("div",{className:"flex-grow border-t",style:{borderColor:"var(--color-border)"}})]}),u?E.jsxs("form",{onSubmit:B,className:"space-y-4 animate-in slide-in-from-top-4 fade-in duration-200",children:[E.jsx("div",{children:E.jsx("input",{type:"email",value:y,onChange:L=>v(L.target.value),placeholder:i("auth.email_placeholder"),className:"w-full px-4 py-2 rounded-lg border bg-[var(--color-bg-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},required:!0})}),E.jsx("div",{children:E.jsx("input",{type:"password",value:x,onChange:L=>b(L.target.value),placeholder:i("auth.password_placeholder"),className:"w-full px-4 py-2 rounded-lg border bg-[var(--color-bg-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},required:!0})}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{type:"button",onClick:()=>{h(!1),f(!1),T("")},className:"flex-1 py-2 px-4 rounded-lg font-medium transition-all hover:bg-[var(--color-bg-secondary)] text-sm",style:{color:"var(--color-text-secondary)"},children:i("auth.cancel")}),E.jsx("button",{type:"submit",disabled:C,className:"flex-1 py-2 px-4 rounded-lg font-medium transition-all hover:opacity-90 text-white disabled:opacity-50",style:{backgroundColor:"var(--color-accent)"},children:i(C?p?"auth.signing_up":"auth.signing_in":p?"auth.sign_up":"auth.sign_in")})]}),E.jsx("div",{className:"text-center pt-2",children:E.jsx("button",{type:"button",onClick:()=>{f(!p),T("")},className:"text-sm underline hover:opacity-80 transition-opacity",style:{color:"var(--color-text-secondary)"},children:i(p?"auth.already_have_account":"auth.need_account")})})]}):E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>h(!0),className:"w-full py-3 px-4 rounded-lg font-medium transition-all hover:bg-[var(--color-bg-secondary)] border",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},children:i("auth.email_login")}),E.jsx("div",{className:"text-center pt-3",children:E.jsx("button",{onClick:()=>{h(!0),f(!0)},className:"text-sm underline hover:opacity-80 transition-opacity",style:{color:"var(--color-text-secondary)"},children:i("auth.need_account")})})]})]})]})]}),E.jsx("div",{className:"absolute bottom-4 text-center text-xs",style:{color:"var(--color-text-tertiary)"},children:E.jsxs("p",{children:[i("profile.version")," ","e71a583"]})})]})}function AO(){const{user:r,loading:e}=br();return e?E.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--color-bg-primary)"},children:E.jsx("div",{className:"text-center",children:E.jsx("div",{className:"text-2xl font-semibold",style:{color:"var(--color-text-primary)"},children:"Loading..."})})}):r?E.jsxs(WS,{children:[E.jsxs(Fa,{path:"/",element:E.jsx(ik,{}),children:[E.jsx(Fa,{index:!0,element:E.jsx(E9,{})}),E.jsx(Fa,{path:"todos",element:E.jsx(mO,{})}),E.jsx(Fa,{path:"habits",element:E.jsx(_O,{})}),E.jsx(Fa,{path:"journal",element:E.jsx(EO,{})})]}),E.jsx(Fa,{path:"*",element:E.jsx(YS,{to:"/",replace:!0})})]}):E.jsx(wO,{})}function CO(){return E.jsx(HI,{children:E.jsx(GI,{children:E.jsx(ZN,{children:E.jsx($I,{children:E.jsx(ek,{children:E.jsx(_4,{basename:"/MyNotBusyAgenda/",children:E.jsx(AO,{})})})})})})})}tS.createRoot(document.getElementById("root")).render(E.jsx(O.StrictMode,{children:E.jsx(CO,{})}));
