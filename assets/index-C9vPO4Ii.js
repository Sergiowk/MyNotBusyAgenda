(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function ZT(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var n=function a(){var o=!1;try{o=this instanceof a}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var o=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return i[a]}})}),n}var om={exports:{}},rc={};var Vx;function JT(){if(Vx)return rc;Vx=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:i,type:a,key:u,ref:o!==void 0?o:null,props:c}}return rc.Fragment=e,rc.jsx=n,rc.jsxs=n,rc}var Px;function e4(){return Px||(Px=1,om.exports=JT()),om.exports}var I=e4(),lm={exports:{}},Ie={};var Fx;function t4(){if(Fx)return Ie;Fx=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),_=Symbol.iterator;function A(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,S={};function U(F,G,Y){this.props=F,this.context=G,this.refs=S,this.updater=Y||C}U.prototype.isReactComponent={},U.prototype.setState=function(F,G){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,G,"setState")},U.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function k(){}k.prototype=U.prototype;function V(F,G,Y){this.props=F,this.context=G,this.refs=S,this.updater=Y||C}var j=V.prototype=new k;j.constructor=V,N(j,U.prototype),j.isPureReactComponent=!0;var q=Array.isArray;function z(){}var T={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function O(F,G,Y){var W=Y.ref;return{$$typeof:i,type:F,key:G,ref:W!==void 0?W:null,props:Y}}function D(F,G){return O(F.type,G,F.props)}function R(F){return typeof F=="object"&&F!==null&&F.$$typeof===i}function L(F){var G={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Y){return G[Y]})}var M=/\/+/g;function le(F,G){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):G.toString(36)}function de(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(z,z):(F.status="pending",F.then(function(G){F.status==="pending"&&(F.status="fulfilled",F.value=G)},function(G){F.status==="pending"&&(F.status="rejected",F.reason=G)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function X(F,G,Y,W,pe){var ge=typeof F;(ge==="undefined"||ge==="boolean")&&(F=null);var Se=!1;if(F===null)Se=!0;else switch(ge){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(F.$$typeof){case i:case e:Se=!0;break;case y:return Se=F._init,X(Se(F._payload),G,Y,W,pe)}}if(Se)return pe=pe(F),Se=W===""?"."+le(F,0):W,q(pe)?(Y="",Se!=null&&(Y=Se.replace(M,"$&/")+"/"),X(pe,G,Y,"",function(pn){return pn})):pe!=null&&(R(pe)&&(pe=D(pe,Y+(pe.key==null||F&&F.key===pe.key?"":(""+pe.key).replace(M,"$&/")+"/")+Se)),G.push(pe)),1;Se=0;var be=W===""?".":W+":";if(q(F))for(var Ye=0;Ye<F.length;Ye++)W=F[Ye],ge=be+le(W,Ye),Se+=X(W,G,Y,ge,pe);else if(Ye=A(F),typeof Ye=="function")for(F=Ye.call(F),Ye=0;!(W=F.next()).done;)W=W.value,ge=be+le(W,Ye++),Se+=X(W,G,Y,ge,pe);else if(ge==="object"){if(typeof F.then=="function")return X(de(F),G,Y,W,pe);throw G=String(F),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ue(F,G,Y){if(F==null)return F;var W=[],pe=0;return X(F,W,"","",function(ge){return G.call(Y,ge,pe++)}),W}function he(F){if(F._status===-1){var G=F._result;G=G(),G.then(function(Y){(F._status===0||F._status===-1)&&(F._status=1,F._result=Y)},function(Y){(F._status===0||F._status===-1)&&(F._status=2,F._result=Y)}),F._status===-1&&(F._status=0,F._result=G)}if(F._status===1)return F._result.default;throw F._result}var _e=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Ee={map:ue,forEach:function(F,G,Y){ue(F,function(){G.apply(this,arguments)},Y)},count:function(F){var G=0;return ue(F,function(){G++}),G},toArray:function(F){return ue(F,function(G){return G})||[]},only:function(F){if(!R(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Ie.Activity=v,Ie.Children=Ee,Ie.Component=U,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=V,Ie.StrictMode=a,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(F){return T.H.useMemoCache(F)}},Ie.cache=function(F){return function(){return F.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(F,G,Y){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var W=N({},F.props),pe=F.key;if(G!=null)for(ge in G.key!==void 0&&(pe=""+G.key),G)!w.call(G,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&G.ref===void 0||(W[ge]=G[ge]);var ge=arguments.length-2;if(ge===1)W.children=Y;else if(1<ge){for(var Se=Array(ge),be=0;be<ge;be++)Se[be]=arguments[be+2];W.children=Se}return O(F.type,pe,W)},Ie.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:c,_context:F},F},Ie.createElement=function(F,G,Y){var W,pe={},ge=null;if(G!=null)for(W in G.key!==void 0&&(ge=""+G.key),G)w.call(G,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(pe[W]=G[W]);var Se=arguments.length-2;if(Se===1)pe.children=Y;else if(1<Se){for(var be=Array(Se),Ye=0;Ye<Se;Ye++)be[Ye]=arguments[Ye+2];pe.children=be}if(F&&F.defaultProps)for(W in Se=F.defaultProps,Se)pe[W]===void 0&&(pe[W]=Se[W]);return O(F,ge,pe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(F){return{$$typeof:p,render:F}},Ie.isValidElement=R,Ie.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:he}},Ie.memo=function(F,G){return{$$typeof:d,type:F,compare:G===void 0?null:G}},Ie.startTransition=function(F){var G=T.T,Y={};T.T=Y;try{var W=F(),pe=T.S;pe!==null&&pe(Y,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(z,_e)}catch(ge){_e(ge)}finally{G!==null&&Y.types!==null&&(G.types=Y.types),T.T=G}},Ie.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ie.use=function(F){return T.H.use(F)},Ie.useActionState=function(F,G,Y){return T.H.useActionState(F,G,Y)},Ie.useCallback=function(F,G){return T.H.useCallback(F,G)},Ie.useContext=function(F){return T.H.useContext(F)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(F,G){return T.H.useDeferredValue(F,G)},Ie.useEffect=function(F,G){return T.H.useEffect(F,G)},Ie.useEffectEvent=function(F){return T.H.useEffectEvent(F)},Ie.useId=function(){return T.H.useId()},Ie.useImperativeHandle=function(F,G,Y){return T.H.useImperativeHandle(F,G,Y)},Ie.useInsertionEffect=function(F,G){return T.H.useInsertionEffect(F,G)},Ie.useLayoutEffect=function(F,G){return T.H.useLayoutEffect(F,G)},Ie.useMemo=function(F,G){return T.H.useMemo(F,G)},Ie.useOptimistic=function(F,G){return T.H.useOptimistic(F,G)},Ie.useReducer=function(F,G,Y){return T.H.useReducer(F,G,Y)},Ie.useRef=function(F){return T.H.useRef(F)},Ie.useState=function(F){return T.H.useState(F)},Ie.useSyncExternalStore=function(F,G,Y){return T.H.useSyncExternalStore(F,G,Y)},Ie.useTransition=function(){return T.H.useTransition()},Ie.version="19.2.0",Ie}var Lx;function sp(){return Lx||(Lx=1,lm.exports=t4()),lm.exports}var K=sp(),cm={exports:{}},ic={},um={exports:{}},hm={};var Ux;function n4(){return Ux||(Ux=1,(function(i){function e(X,ue){var he=X.length;X.push(ue);e:for(;0<he;){var _e=he-1>>>1,Ee=X[_e];if(0<o(Ee,ue))X[_e]=ue,X[he]=Ee,he=_e;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var ue=X[0],he=X.pop();if(he!==ue){X[0]=he;e:for(var _e=0,Ee=X.length,F=Ee>>>1;_e<F;){var G=2*(_e+1)-1,Y=X[G],W=G+1,pe=X[W];if(0>o(Y,he))W<Ee&&0>o(pe,Y)?(X[_e]=pe,X[W]=he,_e=W):(X[_e]=Y,X[G]=he,_e=G);else if(W<Ee&&0>o(pe,he))X[_e]=pe,X[W]=he,_e=W;else break e}}return ue}function o(X,ue){var he=X.sortIndex-ue.sortIndex;return he!==0?he:X.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();i.unstable_now=function(){return u.now()-p}}var g=[],d=[],y=1,v=null,_=3,A=!1,C=!1,N=!1,S=!1,U=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function j(X){for(var ue=n(d);ue!==null;){if(ue.callback===null)a(d);else if(ue.startTime<=X)a(d),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=n(d)}}function q(X){if(N=!1,j(X),!C)if(n(g)!==null)C=!0,z||(z=!0,L());else{var ue=n(d);ue!==null&&de(q,ue.startTime-X)}}var z=!1,T=-1,w=5,O=-1;function D(){return S?!0:!(i.unstable_now()-O<w)}function R(){if(S=!1,z){var X=i.unstable_now();O=X;var ue=!0;try{e:{C=!1,N&&(N=!1,k(T),T=-1),A=!0;var he=_;try{t:{for(j(X),v=n(g);v!==null&&!(v.expirationTime>X&&D());){var _e=v.callback;if(typeof _e=="function"){v.callback=null,_=v.priorityLevel;var Ee=_e(v.expirationTime<=X);if(X=i.unstable_now(),typeof Ee=="function"){v.callback=Ee,j(X),ue=!0;break t}v===n(g)&&a(g),j(X)}else a(g);v=n(g)}if(v!==null)ue=!0;else{var F=n(d);F!==null&&de(q,F.startTime-X),ue=!1}}break e}finally{v=null,_=he,A=!1}ue=void 0}}finally{ue?L():z=!1}}}var L;if(typeof V=="function")L=function(){V(R)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,le=M.port2;M.port1.onmessage=R,L=function(){le.postMessage(null)}}else L=function(){U(R,0)};function de(X,ue){T=U(function(){X(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(X){switch(_){case 1:case 2:case 3:var ue=3;break;default:ue=_}var he=_;_=ue;try{return X()}finally{_=he}},i.unstable_requestPaint=function(){S=!0},i.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=_;_=X;try{return ue()}finally{_=he}},i.unstable_scheduleCallback=function(X,ue,he){var _e=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?_e+he:_e):he=_e,X){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=he+Ee,X={id:y++,callback:ue,priorityLevel:X,startTime:he,expirationTime:Ee,sortIndex:-1},he>_e?(X.sortIndex=he,e(d,X),n(g)===null&&X===n(d)&&(N?(k(T),T=-1):N=!0,de(q,he-_e))):(X.sortIndex=Ee,e(g,X),C||A||(C=!0,z||(z=!0,L()))),X},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(X){var ue=_;return function(){var he=_;_=ue;try{return X.apply(this,arguments)}finally{_=he}}}})(hm)),hm}var jx;function r4(){return jx||(jx=1,um.exports=n4()),um.exports}var fm={exports:{}},on={};var zx;function i4(){if(zx)return on;zx=1;var i=sp();function e(g){var d="https://react.dev/errors/"+g;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,d,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:d,implementation:y}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,d){if(g==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(g,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return c(g,d,null,y)},on.flushSync=function(g){var d=u.T,y=a.p;try{if(u.T=null,a.p=2,g)return g()}finally{u.T=d,a.p=y,a.d.f()}},on.preconnect=function(g,d){typeof g=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,a.d.C(g,d))},on.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},on.preinit=function(g,d){if(typeof g=="string"&&d&&typeof d.as=="string"){var y=d.as,v=p(y,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,A=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?a.d.S(g,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:A}):y==="script"&&a.d.X(g,{crossOrigin:v,integrity:_,fetchPriority:A,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},on.preinitModule=function(g,d){if(typeof g=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=p(d.as,d.crossOrigin);a.d.M(g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&a.d.M(g)},on.preload=function(g,d){if(typeof g=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,v=p(y,d.crossOrigin);a.d.L(g,y,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},on.preloadModule=function(g,d){if(typeof g=="string")if(d){var y=p(d.as,d.crossOrigin);a.d.m(g,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else a.d.m(g)},on.requestFormReset=function(g){a.d.r(g)},on.unstable_batchedUpdates=function(g,d){return g(d)},on.useFormState=function(g,d,y){return u.H.useFormState(g,d,y)},on.useFormStatus=function(){return u.H.useHostTransitionStatus()},on.version="19.2.0",on}var Hx;function fE(){if(Hx)return fm.exports;Hx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fm.exports=i4(),fm.exports}var qx;function a4(){if(qx)return ic;qx=1;var i=r4(),e=sp(),n=fE();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function u(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function d(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var f=s.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===s)return g(f),t;if(m===l)return g(f),r;m=m.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=m;else{for(var E=!1,B=f.child;B;){if(B===s){E=!0,s=f,l=m;break}if(B===l){E=!0,l=f,s=m;break}B=B.sibling}if(!E){for(B=m.child;B;){if(B===s){E=!0,s=m,l=f;break}if(B===l){E=!0,l=m,s=f;break}B=B.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=R&&t[R]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case U:return"Profiler";case S:return"StrictMode";case q:return"Suspense";case z:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case V:return t.displayName||"Context";case k:return(t._context.displayName||"Context")+".Consumer";case j:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T:return r=t.displayName||null,r!==null?r:le(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return le(t(r))}catch{}}return null}var de=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},_e=[],Ee=-1;function F(t){return{current:t}}function G(t){0>Ee||(t.current=_e[Ee],_e[Ee]=null,Ee--)}function Y(t,r){Ee++,_e[Ee]=t.current,t.current=r}var W=F(null),pe=F(null),ge=F(null),Se=F(null);function be(t,r){switch(Y(ge,r),Y(pe,t),Y(W,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?ax(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=ax(r),t=sx(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(W),Y(W,t)}function Ye(){G(W),G(pe),G(ge)}function pn(t){t.memoizedState!==null&&Y(Se,t);var r=W.current,s=sx(r,t.type);r!==s&&(Y(pe,t),Y(W,s))}function Nr(t){pe.current===t&&(G(W),G(pe)),Se.current===t&&(G(Se),Jl._currentValue=he)}var Hn,qt;function ft(t){if(Hn===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);Hn=r&&r[1]||"",qt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hn+t+qt}var kr=!1;function Sn(t,r){if(!t||kr)return"";kr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(re){var te=re}Reflect.construct(t,[],oe)}else{try{oe.call()}catch(re){te=re}t.call(oe.prototype)}}else{try{throw Error()}catch(re){te=re}(oe=t())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],B=m[1];if(E&&B){var H=E.split(`
`),ee=B.split(`
`);for(f=l=0;l<H.length&&!H[l].includes("DetermineComponentFrameRoot");)l++;for(;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;if(l===H.length||f===ee.length)for(l=H.length-1,f=ee.length-1;1<=l&&0<=f&&H[l]!==ee[f];)f--;for(;1<=l&&0<=f;l--,f--)if(H[l]!==ee[f]){if(l!==1||f!==1)do if(l--,f--,0>f||H[l]!==ee[f]){var ie=`
`+H[l].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=l&&0<=f);break}}}finally{kr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ft(s):""}function Br(t,r){switch(t.tag){case 26:case 27:case 5:return ft(t.type);case 16:return ft("Lazy");case 13:return t.child!==r&&r!==null?ft("Suspense Fallback"):ft("Suspense");case 19:return ft("SuspenseList");case 0:case 15:return Sn(t.type,!1);case 11:return Sn(t.type.render,!1);case 1:return Sn(t.type,!0);case 31:return ft("Activity");default:return""}}function fr(t){try{var r="",s=null;do r+=Br(t,s),s=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var dt=Object.prototype.hasOwnProperty,lt=i.unstable_scheduleCallback,St=i.unstable_cancelCallback,sn=i.unstable_shouldYield,Dn=i.unstable_requestPaint,Dt=i.unstable_now,Or=i.unstable_getCurrentPriorityLevel,qn=i.unstable_ImmediatePriority,dr=i.unstable_UserBlockingPriority,Mr=i.unstable_NormalPriority,Fs=i.unstable_LowPriority,Qa=i.unstable_IdlePriority,mr=i.log,Vr=i.unstable_setDisableYieldValue,Rn=null,Rt=null;function fn(t){if(typeof mr=="function"&&Vr(t),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(Rn,t)}catch{}}var yt=Math.clz32?Math.clz32:Us,Ls=Math.log,ui=Math.LN2;function Us(t){return t>>>=0,t===0?32:31-(Ls(t)/ui|0)|0}var In=256,hi=262144,vt=4194304;function Gn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Kn(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,m=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var B=l&134217727;return B!==0?(l=B&~m,l!==0?f=Gn(l):(E&=B,E!==0?f=Gn(E):s||(s=B&~t,s!==0&&(f=Gn(s))))):(B=l&~m,B!==0?f=Gn(B):E!==0?f=Gn(E):s||(s=l&~t,s!==0&&(f=Gn(s)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,s=r&-r,m>=s||m===32&&(s&4194048)!==0)?r:f}function Nn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function js(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zs(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function $n(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Pr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function al(t,r,s,l,f,m){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var B=t.entanglements,H=t.expirationTimes,ee=t.hiddenUpdates;for(s=E&~s;0<s;){var ie=31-yt(s),oe=1<<ie;B[ie]=0,H[ie]=-1;var te=ee[ie];if(te!==null)for(ee[ie]=null,ie=0;ie<te.length;ie++){var re=te[ie];re!==null&&(re.lane&=-536870913)}s&=~oe}l!==0&&Fr(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(E&~r))}function Fr(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-yt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function jt(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-yt(s),f=1<<l;f&r|t[l]&r&&(t[l]|=r),s&=~f}}function gn(t,r){var s=r&-r;return s=(s&42)!==0?1:Lr(s),(s&(t.suspendedLanes|r))!==0?0:s}function Lr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function pr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Kc(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:Rx(t.type))}function gr(t,r){var s=ue.p;try{return ue.p=t,r()}finally{ue.p=s}}var yr=Math.random().toString(36).slice(2),It="__reactFiber$"+yr,Gt="__reactProps$"+yr,Ur="__reactContainer$"+yr,Hs="__reactEvents$"+yr,f0="__reactListeners$"+yr,$c="__reactHandles$"+yr,Qc="__reactResources$"+yr,jr="__reactMarker$"+yr;function qs(t){delete t[It],delete t[Gt],delete t[Hs],delete t[f0],delete t[$c]}function zr(t){var r=t[It];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Ur]||s[It]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=dx(t);t!==null;){if(s=t[It])return s;t=dx(t)}return r}t=s,s=t.parentNode}return null}function Qn(t){if(t=t[It]||t[Ur]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function kn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function Hr(t){var r=t[Qc];return r||(r=t[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Nt(t){t[jr]=!0}var sl=new Set,ol={};function qr(t,r){Gr(t,r),Gr(t+"Capture",r)}function Gr(t,r){for(ol[t]=r,t=0;t<r.length;t++)sl.add(r[t])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cl={},ul={};function Yc(t){return dt.call(ul,t)?!0:dt.call(cl,t)?!1:ll.test(t)?ul[t]=!0:(cl[t]=!0,!1)}function Gs(t,r,s){if(Yc(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function Bn(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function kt(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qi(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hl(t,r,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){s=""+E,m.call(this,E)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(E){s=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function We(t){if(!t._valueTracker){var r=qi(t)?"checked":"value";t._valueTracker=hl(t,r,""+t[r])}}function Ya(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=qi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function Kr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xa=/[\n"\\]/g;function yn(t){return t.replace(Xa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ks(t,r,s,l,f,m,E,B){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Kt(r)):t.value!==""+Kt(r)&&(t.value=""+Kt(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?fl(t,E,Kt(r)):s!=null?fl(t,E,Kt(s)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?t.name=""+Kt(B):t.removeAttribute("name")}function Xc(t,r,s,l,f,m,E,B){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){We(t);return}s=s!=null?""+Kt(s):"",r=r!=null?""+Kt(r):s,B||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=B?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),We(t)}function fl(t,r,s){r==="number"&&Kr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Gi(t,r,s,l){if(t=t.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=r.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Kt(s),r=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Wc(t,r,s){if(r!=null&&(r=""+Kt(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+Kt(s):""}function Ki(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(de(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=Kt(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),We(t)}function vn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Zc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dl(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Zc.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function ml(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&dl(t,f,l)}else for(var m in r)r.hasOwnProperty(m)&&dl(t,m,r[m])}function $s(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$i=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(t){return $i.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function vr(){}var pl=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qi=null,$r=null;function Wa(t){var r=Qn(t);if(r&&(t=r.stateNode)){var s=t[Gt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ks(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var f=l[Gt]||null;if(!f)throw Error(a(90));Ks(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Ya(l)}break e;case"textarea":Wc(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Gi(t,!!s.multiple,r,!1)}}}var Ys=!1;function Yi(t,r,s){if(Ys)return t(r,s);Ys=!0;try{var l=t(r);return l}finally{if(Ys=!1,(Qi!==null||$r!==null)&&(Ku(),Qi&&(r=Qi,t=$r,$r=Qi=null,Wa(r),t)))for(r=0;r<t.length;r++)Wa(t[r])}}function xr(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Gt]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=!1;if(Xn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Za=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Za=!1}var Qr=null,gl=null,Ja=null;function yl(){if(Ja)return Ja;var t,r=gl,s=r.length,l,f="value"in Qr?Qr.value:Qr.textContent,m=f.length;for(t=0;t<s&&r[t]===f[t];t++);var E=s-t;for(l=1;l<=E&&r[s-l]===f[m-l];l++);return Ja=f.slice(t,1<l?1-l:void 0)}function es(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function fi(){return!0}function _r(){return!1}function Wt(t){function r(s,l,f,m,E){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var B in t)t.hasOwnProperty(B)&&(s=t[B],this[B]=s?s(m):m[B]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fi:_r,this.isPropagationStopped=_r,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),r}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yr=Wt(di),Xi=v({},di,{view:0,detail:0}),vl=Wt(Xi),Wi,Xs,Xr,Ws=v({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xr&&(Xr&&t.type==="mousemove"?(Wi=t.screenX-Xr.screenX,Xs=t.screenY-Xr.screenY):Xs=Wi=0,Xr=t),Wi)},movementY:function(t){return"movementY"in t?t.movementY:Xs}}),xl=Wt(Ws),ts=v({},Ws,{dataTransfer:0}),eu=Wt(ts),tu=v({},Xi,{relatedTarget:0}),ns=Wt(tu),_l=v({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=Wt(_l),Zs=v({},di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ru=Wt(Zs),iu=v({},di,{data:0}),Wr=Wt(iu),au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ou[t])?!!r[t]:!1}function Zi(){return lu}var dn=v({},Xi,{key:function(t){if(t.key){var r=au[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(t){return t.type==="keypress"?es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cu=Wt(dn),uu=v({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mi=Wt(uu),h=v({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),x=Wt(h),b=v({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=Wt(b),Z=v({},Ws,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Wt(Z),fe=v({},di,{newState:0,oldState:0}),ke=Wt(fe),At=[9,13,27,32],$e=Xn&&"CompositionEvent"in window,mt=null;Xn&&"documentMode"in document&&(mt=document.documentMode);var Wn=Xn&&"TextEvent"in window&&!mt,Zr=Xn&&(!$e||mt&&8<mt&&11>=mt),Er=" ",br=!1;function rs(t,r){switch(t){case"keyup":return At.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Js(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eo=!1;function EA(t,r){switch(t){case"compositionend":return Js(r);case"keypress":return r.which!==32?null:(br=!0,Er);case"textInput":return t=r.data,t===Er&&br?null:t;default:return null}}function bA(t,r){if(eo)return t==="compositionend"||!$e&&rs(t,r)?(t=yl(),Ja=gl=Qr=null,eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Zr&&r.locale!=="ko"?null:r.data;default:return null}}var AA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!AA[t.type]:r==="textarea"}function yg(t,r,s,l){Qi?$r?$r.push(l):$r=[l]:Qi=l,r=Ju(r,"onChange"),0<r.length&&(s=new Yr("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var El=null,bl=null;function TA(t){Jv(t,0)}function hu(t){var r=kn(t);if(Ya(r))return t}function vg(t,r){if(t==="change")return r}var xg=!1;if(Xn){var d0;if(Xn){var m0="oninput"in document;if(!m0){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),m0=typeof _g.oninput=="function"}d0=m0}else d0=!1;xg=d0&&(!document.documentMode||9<document.documentMode)}function Eg(){El&&(El.detachEvent("onpropertychange",bg),bl=El=null)}function bg(t){if(t.propertyName==="value"&&hu(bl)){var r=[];yg(r,bl,t,Yn(t)),Yi(TA,r)}}function CA(t,r,s){t==="focusin"?(Eg(),El=r,bl=s,El.attachEvent("onpropertychange",bg)):t==="focusout"&&Eg()}function wA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(bl)}function SA(t,r){if(t==="click")return hu(r)}function DA(t,r){if(t==="input"||t==="change")return hu(r)}function RA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var On=typeof Object.is=="function"?Object.is:RA;function Al(t,r){if(On(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!dt.call(r,f)||!On(t[f],r[f]))return!1}return!0}function Ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,r){var s=Ag(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ag(s)}}function Cg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Cg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Kr(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=Kr(t.document)}return r}function p0(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var IA=Xn&&"documentMode"in document&&11>=document.documentMode,to=null,g0=null,Tl=null,y0=!1;function Sg(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;y0||to==null||to!==Kr(l)||(l=to,"selectionStart"in l&&p0(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&Al(Tl,l)||(Tl=l,l=Ju(g0,"onSelect"),0<l.length&&(r=new Yr("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=to)))}function is(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var no={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},v0={},Dg={};Xn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function as(t){if(v0[t])return v0[t];if(!no[t])return t;var r=no[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Dg)return v0[t]=r[s];return t}var Rg=as("animationend"),Ig=as("animationiteration"),Ng=as("animationstart"),NA=as("transitionrun"),kA=as("transitionstart"),BA=as("transitioncancel"),kg=as("transitionend"),Bg=new Map,x0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");x0.push("scrollEnd");function Ar(t,r){Bg.set(t,r),qr(r,[t])}var fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],ro=0,_0=0;function du(){for(var t=ro,r=_0=ro=0;r<t;){var s=Zn[r];Zn[r++]=null;var l=Zn[r];Zn[r++]=null;var f=Zn[r];Zn[r++]=null;var m=Zn[r];if(Zn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}m!==0&&Og(s,f,m)}}function mu(t,r,s,l){Zn[ro++]=t,Zn[ro++]=r,Zn[ro++]=s,Zn[ro++]=l,_0|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function E0(t,r,s,l){return mu(t,r,s,l),pu(t)}function ss(t,r){return mu(t,null,null,r),pu(t)}function Og(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,m=t.return;m!==null;)m.childLanes|=s,l=m.alternate,l!==null&&(l.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&r!==null&&(f=31-yt(s),t=m.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=s|536870912),m):null}function pu(t){if(50<Kl)throw Kl=0,Id=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var io={};function OA(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,r,s,l){return new OA(t,r,s,l)}function b0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pi(t,r){var s=t.alternate;return s===null?(s=Mn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Mg(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function gu(t,r,s,l,f,m){var E=0;if(l=t,typeof t=="function")b0(t)&&(E=1);else if(typeof t=="string")E=LT(t,s,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=Mn(31,s,r,f),t.elementType=O,t.lanes=m,t;case N:return os(s.children,f,m,r);case S:E=8,f|=24;break;case U:return t=Mn(12,s,r,f|2),t.elementType=U,t.lanes=m,t;case q:return t=Mn(13,s,r,f),t.elementType=q,t.lanes=m,t;case z:return t=Mn(19,s,r,f),t.elementType=z,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:E=10;break e;case k:E=9;break e;case j:E=11;break e;case T:E=14;break e;case w:E=16,l=null;break e}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=Mn(E,s,r,f),r.elementType=t,r.type=l,r.lanes=m,r}function os(t,r,s,l){return t=Mn(7,t,l,r),t.lanes=s,t}function A0(t,r,s){return t=Mn(6,t,null,r),t.lanes=s,t}function Vg(t){var r=Mn(18,null,null,0);return r.stateNode=t,r}function T0(t,r,s){return r=Mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Pg=new WeakMap;function Jn(t,r){if(typeof t=="object"&&t!==null){var s=Pg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:fr(r)},Pg.set(t,r),r)}return{value:t,source:r,stack:fr(r)}}var ao=[],so=0,yu=null,Cl=0,er=[],tr=0,Ji=null,Jr=1,ei="";function gi(t,r){ao[so++]=Cl,ao[so++]=yu,yu=t,Cl=r}function Fg(t,r,s){er[tr++]=Jr,er[tr++]=ei,er[tr++]=Ji,Ji=t;var l=Jr;t=ei;var f=32-yt(l)-1;l&=~(1<<f),s+=1;var m=32-yt(r)+f;if(30<m){var E=f-f%5;m=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Jr=1<<32-yt(r)+f|s<<f|l,ei=m+t}else Jr=1<<m|s<<f|l,ei=t}function C0(t){t.return!==null&&(gi(t,1),Fg(t,1,0))}function w0(t){for(;t===yu;)yu=ao[--so],ao[so]=null,Cl=ao[--so],ao[so]=null;for(;t===Ji;)Ji=er[--tr],er[tr]=null,ei=er[--tr],er[tr]=null,Jr=er[--tr],er[tr]=null}function Lg(t,r){er[tr++]=Jr,er[tr++]=ei,er[tr++]=Ji,Jr=r.id,ei=r.overflow,Ji=t}var Zt=null,ct=null,ze=!1,ea=null,nr=!1,S0=Error(a(519));function ta(t){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(Jn(r,t)),S0}function Ug(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[It]=t,r[Gt]=l,s){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<Ql.length;s++)Ve(Ql[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),Xc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),Ki(r,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||rx(r.textContent,s)?(l.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),l.onScroll!=null&&Ve("scroll",r),l.onScrollEnd!=null&&Ve("scrollend",r),l.onClick!=null&&(r.onclick=vr),r=!0):r=!1,r||ta(t,!0)}function jg(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:nr=!1;return;case 27:case 3:nr=!0;return;default:Zt=Zt.return}}function oo(t){if(t!==Zt)return!1;if(!ze)return jg(t),ze=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Gd(t.type,t.memoizedProps)),s=!s),s&&ct&&ta(t),jg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=fx(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=fx(t)}else r===27?(r=ct,pa(t.type)?(t=Xd,Xd=null,ct=t):ct=r):ct=Zt?ir(t.stateNode.nextSibling):null;return!0}function ls(){ct=Zt=null,ze=!1}function D0(){var t=ea;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),ea=null),t}function wl(t){ea===null?ea=[t]:ea.push(t)}var R0=F(null),cs=null,yi=null;function na(t,r,s){Y(R0,r._currentValue),r._currentValue=s}function vi(t){t._currentValue=R0.current,G(R0)}function I0(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function N0(t,r,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var B=m;m=f;for(var H=0;H<r.length;H++)if(B.context===r[H]){m.lanes|=s,B=m.alternate,B!==null&&(B.lanes|=s),I0(m.return,s,t),l||(E=null);break e}m=B.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=s,m=E.alternate,m!==null&&(m.lanes|=s),I0(E,s,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function lo(t,r,s,l){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var B=f.type;On(f.pendingProps.value,E.value)||(t!==null?t.push(B):t=[B])}}else if(f===Se.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}f=f.return}t!==null&&N0(r,t,s,l),r.flags|=262144}function vu(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function us(t){cs=t,yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return zg(cs,t)}function xu(t,r){return cs===null&&us(t),zg(t,r)}function zg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},yi===null){if(t===null)throw Error(a(308));yi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else yi=yi.next=r;return s}var MA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},VA=i.unstable_scheduleCallback,PA=i.unstable_NormalPriority,Bt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function k0(){return{controller:new MA,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&VA(PA,function(){t.controller.abort()})}var Dl=null,B0=0,co=0,uo=null;function FA(t,r){if(Dl===null){var s=Dl=[];B0=0,co=Vd(),uo={status:"pending",value:void 0,then:function(l){s.push(l)}}}return B0++,r.then(Hg,Hg),r}function Hg(){if(--B0===0&&Dl!==null){uo!==null&&(uo.status="fulfilled");var t=Dl;Dl=null,co=0,uo=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function LA(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var qg=X.S;X.S=function(t,r){Sv=Dt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&FA(t,r),qg!==null&&qg(t,r)};var hs=F(null);function O0(){var t=hs.current;return t!==null?t:it.pooledCache}function _u(t,r){r===null?Y(hs,hs.current):Y(hs,r.pool)}function Gg(){var t=O0();return t===null?null:{parent:Bt._currentValue,pool:t}}var ho=Error(a(460)),M0=Error(a(474)),Eu=Error(a(542)),bu={then:function(){}};function Kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $g(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(vr,vr),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Yg(t),t;default:if(typeof r.status=="string")r.then(vr,vr);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Yg(t),t}throw ds=r,ho}}function fs(t){try{var r=t._init;return r(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ds=s,ho):s}}var ds=null;function Qg(){if(ds===null)throw Error(a(459));var t=ds;return ds=null,t}function Yg(t){if(t===ho||t===Eu)throw Error(a(483))}var fo=null,Rl=0;function Au(t){var r=Rl;return Rl+=1,fo===null&&(fo=[]),$g(fo,t,r)}function Il(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Tu(t,r){throw r.$$typeof===_?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Xg(t){function r(Q,$){if(t){var J=Q.deletions;J===null?(Q.deletions=[$],Q.flags|=16):J.push($)}}function s(Q,$){if(!t)return null;for(;$!==null;)r(Q,$),$=$.sibling;return null}function l(Q){for(var $=new Map;Q!==null;)Q.key!==null?$.set(Q.key,Q):$.set(Q.index,Q),Q=Q.sibling;return $}function f(Q,$){return Q=pi(Q,$),Q.index=0,Q.sibling=null,Q}function m(Q,$,J){return Q.index=J,t?(J=Q.alternate,J!==null?(J=J.index,J<$?(Q.flags|=67108866,$):J):(Q.flags|=67108866,$)):(Q.flags|=1048576,$)}function E(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function B(Q,$,J,ae){return $===null||$.tag!==6?($=A0(J,Q.mode,ae),$.return=Q,$):($=f($,J),$.return=Q,$)}function H(Q,$,J,ae){var Ae=J.type;return Ae===N?ie(Q,$,J.props.children,ae,J.key):$!==null&&($.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===w&&fs(Ae)===$.type)?($=f($,J.props),Il($,J),$.return=Q,$):($=gu(J.type,J.key,J.props,null,Q.mode,ae),Il($,J),$.return=Q,$)}function ee(Q,$,J,ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==J.containerInfo||$.stateNode.implementation!==J.implementation?($=T0(J,Q.mode,ae),$.return=Q,$):($=f($,J.children||[]),$.return=Q,$)}function ie(Q,$,J,ae,Ae){return $===null||$.tag!==7?($=os(J,Q.mode,ae,Ae),$.return=Q,$):($=f($,J),$.return=Q,$)}function oe(Q,$,J){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=A0(""+$,Q.mode,J),$.return=Q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return J=gu($.type,$.key,$.props,null,Q.mode,J),Il(J,$),J.return=Q,J;case C:return $=T0($,Q.mode,J),$.return=Q,$;case w:return $=fs($),oe(Q,$,J)}if(de($)||L($))return $=os($,Q.mode,J,null),$.return=Q,$;if(typeof $.then=="function")return oe(Q,Au($),J);if($.$$typeof===V)return oe(Q,xu(Q,$),J);Tu(Q,$)}return null}function te(Q,$,J,ae){var Ae=$!==null?$.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ae!==null?null:B(Q,$,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return J.key===Ae?H(Q,$,J,ae):null;case C:return J.key===Ae?ee(Q,$,J,ae):null;case w:return J=fs(J),te(Q,$,J,ae)}if(de(J)||L(J))return Ae!==null?null:ie(Q,$,J,ae,null);if(typeof J.then=="function")return te(Q,$,Au(J),ae);if(J.$$typeof===V)return te(Q,$,xu(Q,J),ae);Tu(Q,J)}return null}function re(Q,$,J,ae,Ae){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Q=Q.get(J)||null,B($,Q,""+ae,Ae);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return Q=Q.get(ae.key===null?J:ae.key)||null,H($,Q,ae,Ae);case C:return Q=Q.get(ae.key===null?J:ae.key)||null,ee($,Q,ae,Ae);case w:return ae=fs(ae),re(Q,$,J,ae,Ae)}if(de(ae)||L(ae))return Q=Q.get(J)||null,ie($,Q,ae,Ae,null);if(typeof ae.then=="function")return re(Q,$,J,Au(ae),Ae);if(ae.$$typeof===V)return re(Q,$,J,xu($,ae),Ae);Tu($,ae)}return null}function ve(Q,$,J,ae){for(var Ae=null,Ge=null,xe=$,Oe=$=0,Fe=null;xe!==null&&Oe<J.length;Oe++){xe.index>Oe?(Fe=xe,xe=null):Fe=xe.sibling;var Ke=te(Q,xe,J[Oe],ae);if(Ke===null){xe===null&&(xe=Fe);break}t&&xe&&Ke.alternate===null&&r(Q,xe),$=m(Ke,$,Oe),Ge===null?Ae=Ke:Ge.sibling=Ke,Ge=Ke,xe=Fe}if(Oe===J.length)return s(Q,xe),ze&&gi(Q,Oe),Ae;if(xe===null){for(;Oe<J.length;Oe++)xe=oe(Q,J[Oe],ae),xe!==null&&($=m(xe,$,Oe),Ge===null?Ae=xe:Ge.sibling=xe,Ge=xe);return ze&&gi(Q,Oe),Ae}for(xe=l(xe);Oe<J.length;Oe++)Fe=re(xe,Q,Oe,J[Oe],ae),Fe!==null&&(t&&Fe.alternate!==null&&xe.delete(Fe.key===null?Oe:Fe.key),$=m(Fe,$,Oe),Ge===null?Ae=Fe:Ge.sibling=Fe,Ge=Fe);return t&&xe.forEach(function(_a){return r(Q,_a)}),ze&&gi(Q,Oe),Ae}function Ce(Q,$,J,ae){if(J==null)throw Error(a(151));for(var Ae=null,Ge=null,xe=$,Oe=$=0,Fe=null,Ke=J.next();xe!==null&&!Ke.done;Oe++,Ke=J.next()){xe.index>Oe?(Fe=xe,xe=null):Fe=xe.sibling;var _a=te(Q,xe,Ke.value,ae);if(_a===null){xe===null&&(xe=Fe);break}t&&xe&&_a.alternate===null&&r(Q,xe),$=m(_a,$,Oe),Ge===null?Ae=_a:Ge.sibling=_a,Ge=_a,xe=Fe}if(Ke.done)return s(Q,xe),ze&&gi(Q,Oe),Ae;if(xe===null){for(;!Ke.done;Oe++,Ke=J.next())Ke=oe(Q,Ke.value,ae),Ke!==null&&($=m(Ke,$,Oe),Ge===null?Ae=Ke:Ge.sibling=Ke,Ge=Ke);return ze&&gi(Q,Oe),Ae}for(xe=l(xe);!Ke.done;Oe++,Ke=J.next())Ke=re(xe,Q,Oe,Ke.value,ae),Ke!==null&&(t&&Ke.alternate!==null&&xe.delete(Ke.key===null?Oe:Ke.key),$=m(Ke,$,Oe),Ge===null?Ae=Ke:Ge.sibling=Ke,Ge=Ke);return t&&xe.forEach(function(XT){return r(Q,XT)}),ze&&gi(Q,Oe),Ae}function rt(Q,$,J,ae){if(typeof J=="object"&&J!==null&&J.type===N&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case A:e:{for(var Ae=J.key;$!==null;){if($.key===Ae){if(Ae=J.type,Ae===N){if($.tag===7){s(Q,$.sibling),ae=f($,J.props.children),ae.return=Q,Q=ae;break e}}else if($.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===w&&fs(Ae)===$.type){s(Q,$.sibling),ae=f($,J.props),Il(ae,J),ae.return=Q,Q=ae;break e}s(Q,$);break}else r(Q,$);$=$.sibling}J.type===N?(ae=os(J.props.children,Q.mode,ae,J.key),ae.return=Q,Q=ae):(ae=gu(J.type,J.key,J.props,null,Q.mode,ae),Il(ae,J),ae.return=Q,Q=ae)}return E(Q);case C:e:{for(Ae=J.key;$!==null;){if($.key===Ae)if($.tag===4&&$.stateNode.containerInfo===J.containerInfo&&$.stateNode.implementation===J.implementation){s(Q,$.sibling),ae=f($,J.children||[]),ae.return=Q,Q=ae;break e}else{s(Q,$);break}else r(Q,$);$=$.sibling}ae=T0(J,Q.mode,ae),ae.return=Q,Q=ae}return E(Q);case w:return J=fs(J),rt(Q,$,J,ae)}if(de(J))return ve(Q,$,J,ae);if(L(J)){if(Ae=L(J),typeof Ae!="function")throw Error(a(150));return J=Ae.call(J),Ce(Q,$,J,ae)}if(typeof J.then=="function")return rt(Q,$,Au(J),ae);if(J.$$typeof===V)return rt(Q,$,xu(Q,J),ae);Tu(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,$!==null&&$.tag===6?(s(Q,$.sibling),ae=f($,J),ae.return=Q,Q=ae):(s(Q,$),ae=A0(J,Q.mode,ae),ae.return=Q,Q=ae),E(Q)):s(Q,$)}return function(Q,$,J,ae){try{Rl=0;var Ae=rt(Q,$,J,ae);return fo=null,Ae}catch(xe){if(xe===ho||xe===Eu)throw xe;var Ge=Mn(29,xe,null,Q.mode);return Ge.lanes=ae,Ge.return=Q,Ge}finally{}}}var ms=Xg(!0),Wg=Xg(!1),ra=!1;function V0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function P0(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ia(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function aa(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=pu(t),Og(t,null,s),r}return mu(t,l,r,s),pu(t)}function Nl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,jt(t,s)}}function F0(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,s=s.next}while(s!==null);m===null?f=m=r:m=m.next=r}else f=m=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var L0=!1;function kl(){if(L0){var t=uo;if(t!==null)throw t}}function Bl(t,r,s,l){L0=!1;var f=t.updateQueue;ra=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,B=f.shared.pending;if(B!==null){f.shared.pending=null;var H=B,ee=H.next;H.next=null,E===null?m=ee:E.next=ee,E=H;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,B=ie.lastBaseUpdate,B!==E&&(B===null?ie.firstBaseUpdate=ee:B.next=ee,ie.lastBaseUpdate=H))}if(m!==null){var oe=f.baseState;E=0,ie=ee=H=null,B=m;do{var te=B.lane&-536870913,re=te!==B.lane;if(re?(Pe&te)===te:(l&te)===te){te!==0&&te===co&&(L0=!0),ie!==null&&(ie=ie.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var ve=t,Ce=B;te=r;var rt=s;switch(Ce.tag){case 1:if(ve=Ce.payload,typeof ve=="function"){oe=ve.call(rt,oe,te);break e}oe=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ce.payload,te=typeof ve=="function"?ve.call(rt,oe,te):ve,te==null)break e;oe=v({},oe,te);break e;case 2:ra=!0}}te=B.callback,te!==null&&(t.flags|=64,re&&(t.flags|=8192),re=f.callbacks,re===null?f.callbacks=[te]:re.push(te))}else re={lane:te,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ie===null?(ee=ie=re,H=oe):ie=ie.next=re,E|=te;if(B=B.next,B===null){if(B=f.shared.pending,B===null)break;re=B,B=re.next,re.next=null,f.lastBaseUpdate=re,f.shared.pending=null}}while(!0);ie===null&&(H=oe),f.baseState=H,f.firstBaseUpdate=ee,f.lastBaseUpdate=ie,m===null&&(f.shared.lanes=0),ua|=E,t.lanes=E,t.memoizedState=oe}}function Zg(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function Jg(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Zg(s[t],r)}var mo=F(null),Cu=F(0);function ey(t,r){t=Si,Y(Cu,t),Y(mo,r),Si=t|r.baseLanes}function U0(){Y(Cu,Si),Y(mo,mo.current)}function j0(){Si=Cu.current,G(mo),G(Cu)}var Vn=F(null),rr=null;function sa(t){var r=t.alternate;Y(Tt,Tt.current&1),Y(Vn,t),rr===null&&(r===null||mo.current!==null||r.memoizedState!==null)&&(rr=t)}function z0(t){Y(Tt,Tt.current),Y(Vn,t),rr===null&&(rr=t)}function ty(t){t.tag===22?(Y(Tt,Tt.current),Y(Vn,t),rr===null&&(rr=t)):oa()}function oa(){Y(Tt,Tt.current),Y(Vn,Vn.current)}function Pn(t){G(Vn),rr===t&&(rr=null),G(Tt)}var Tt=F(0);function wu(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Qd(s)||Yd(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var xi=0,Be=null,tt=null,Ot=null,Su=!1,po=!1,ps=!1,Du=0,Ol=0,go=null,UA=0;function _t(){throw Error(a(321))}function H0(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!On(t[s],r[s]))return!1;return!0}function q0(t,r,s,l,f,m){return xi=m,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?Fy:ad,ps=!1,m=s(l,f),ps=!1,po&&(m=ry(r,s,l,f)),ny(t),m}function ny(t){X.H=Pl;var r=tt!==null&&tt.next!==null;if(xi=0,Ot=tt=Be=null,Su=!1,Ol=0,go=null,r)throw Error(a(300));t===null||Mt||(t=t.dependencies,t!==null&&vu(t)&&(Mt=!0))}function ry(t,r,s,l){Be=t;var f=0;do{if(po&&(go=null),Ol=0,po=!1,25<=f)throw Error(a(301));if(f+=1,Ot=tt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=Ly,m=r(s,l)}while(po);return m}function jA(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?Ml(r):r,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Be.flags|=1024),r}function G0(){var t=Du!==0;return Du=0,t}function K0(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function $0(t){if(Su){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Su=!1}xi=0,Ot=tt=Be=null,po=!1,Ol=Du=0,go=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Be.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Ct(){if(tt===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var r=Ot===null?Be.memoizedState:Ot.next;if(r!==null)Ot=r,tt=t;else{if(t===null)throw Be.alternate===null?Error(a(467)):Error(a(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ot===null?Be.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(t){var r=Ol;return Ol+=1,go===null&&(go=[]),t=$g(go,t,r),r=Be,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Fy:ad),t}function Iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ml(t);if(t.$$typeof===V)return Jt(t)}throw Error(a(438,String(t)))}function Q0(t){var r=null,s=Be.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Ru(),Be.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=D;return r.index++,s}function _i(t,r){return typeof r=="function"?r(t):r}function Nu(t){var r=Ct();return Y0(r,tt,t)}function Y0(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}r.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var B=E=null,H=null,ee=r,ie=!1;do{var oe=ee.lane&-536870913;if(oe!==ee.lane?(Pe&oe)===oe:(xi&oe)===oe){var te=ee.revertLane;if(te===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),oe===co&&(ie=!0);else if((xi&te)===te){ee=ee.next,te===co&&(ie=!0);continue}else oe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(B=H=oe,E=m):H=H.next=oe,Be.lanes|=te,ua|=te;oe=ee.action,ps&&s(m,oe),m=ee.hasEagerState?ee.eagerState:s(m,oe)}else te={lane:oe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?(B=H=te,E=m):H=H.next=te,Be.lanes|=oe,ua|=oe;ee=ee.next}while(ee!==null&&ee!==r);if(H===null?E=m:H.next=B,!On(m,t.memoizedState)&&(Mt=!0,ie&&(s=uo,s!==null)))throw s;t.memoizedState=m,t.baseState=E,t.baseQueue=H,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function X0(t){var r=Ct(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,m=r.memoizedState;if(f!==null){s.pending=null;var E=f=f.next;do m=t(m,E.action),E=E.next;while(E!==f);On(m,r.memoizedState)||(Mt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),s.lastRenderedState=m}return[m,l]}function iy(t,r,s){var l=Be,f=Ct(),m=ze;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=r();var E=!On((tt||f).memoizedState,s);if(E&&(f.memoizedState=s,Mt=!0),f=f.queue,J0(oy.bind(null,l,f,t),[t]),f.getSnapshot!==r||E||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,yo(9,{destroy:void 0},sy.bind(null,l,f,s,r),null),it===null)throw Error(a(349));m||(xi&127)!==0||ay(l,r,s)}return s}function ay(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Be.updateQueue,r===null?(r=Ru(),Be.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function sy(t,r,s,l){r.value=s,r.getSnapshot=l,ly(r)&&cy(t)}function oy(t,r,s){return s(function(){ly(r)&&cy(t)})}function ly(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!On(t,s)}catch{return!0}}function cy(t){var r=ss(t,2);r!==null&&An(r,t,2)}function W0(t){var r=mn();if(typeof t=="function"){var s=t;if(t=s(),ps){fn(!0);try{s()}finally{fn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},r}function uy(t,r,s,l){return t.baseState=s,Y0(t,tt,typeof l=="function"?l:_i)}function zA(t,r,s,l,f){if(Ou(t))throw Error(a(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};X.T!==null?s(!0):m.isTransition=!1,l(m),s=r.pending,s===null?(m.next=r.pending=m,hy(r,m)):(m.next=s.next,r.pending=s.next=m)}}function hy(t,r){var s=r.action,l=r.payload,f=t.state;if(r.isTransition){var m=X.T,E={};X.T=E;try{var B=s(f,l),H=X.S;H!==null&&H(E,B),fy(t,r,B)}catch(ee){Z0(t,r,ee)}finally{m!==null&&E.types!==null&&(m.types=E.types),X.T=m}}else try{m=s(f,l),fy(t,r,m)}catch(ee){Z0(t,r,ee)}}function fy(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){dy(t,r,l)},function(l){return Z0(t,r,l)}):dy(t,r,s)}function dy(t,r,s){r.status="fulfilled",r.value=s,my(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,hy(t,s)))}function Z0(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,my(r),r=r.next;while(r!==l)}t.action=null}function my(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function py(t,r){return r}function gy(t,r){if(ze){var s=it.formState;if(s!==null){e:{var l=Be;if(ze){if(ct){t:{for(var f=ct,m=nr;f.nodeType!==8;){if(!m){f=null;break t}if(f=ir(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ct=ir(f.nextSibling),l=f.data==="F!";break e}}ta(l)}l=!1}l&&(r=s[0])}}return s=mn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:r},s.queue=l,s=My.bind(null,Be,l),l.dispatch=s,l=W0(!1),m=id.bind(null,Be,!1,l.queue),l=mn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,s=zA.bind(null,Be,f,m,s),f.dispatch=s,l.memoizedState=t,[r,s,!1]}function yy(t){var r=Ct();return vy(r,tt,t)}function vy(t,r,s){if(r=Y0(t,r,py)[0],t=Nu(_i)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ml(r)}catch(E){throw E===ho?Eu:E}else l=r;r=Ct();var f=r.queue,m=f.dispatch;return s!==r.memoizedState&&(Be.flags|=2048,yo(9,{destroy:void 0},HA.bind(null,f,s),null)),[l,m,t]}function HA(t,r){t.action=r}function xy(t){var r=Ct(),s=tt;if(s!==null)return vy(r,s,t);Ct(),r=r.memoizedState,s=Ct();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function yo(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Be.updateQueue,r===null&&(r=Ru(),Be.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function _y(){return Ct().memoizedState}function ku(t,r,s,l){var f=mn();Be.flags|=t,f.memoizedState=yo(1|r,{destroy:void 0},s,l===void 0?null:l)}function Bu(t,r,s,l){var f=Ct();l=l===void 0?null:l;var m=f.memoizedState.inst;tt!==null&&l!==null&&H0(l,tt.memoizedState.deps)?f.memoizedState=yo(r,m,s,l):(Be.flags|=t,f.memoizedState=yo(1|r,m,s,l))}function Ey(t,r){ku(8390656,8,t,r)}function J0(t,r){Bu(2048,8,t,r)}function qA(t){Be.flags|=4;var r=Be.updateQueue;if(r===null)r=Ru(),Be.updateQueue=r,r.events=[t];else{var s=r.events;s===null?r.events=[t]:s.push(t)}}function by(t){var r=Ct().memoizedState;return qA({ref:r,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function Ay(t,r){return Bu(4,2,t,r)}function Ty(t,r){return Bu(4,4,t,r)}function Cy(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function wy(t,r,s){s=s!=null?s.concat([t]):null,Bu(4,4,Cy.bind(null,r,t),s)}function ed(){}function Sy(t,r){var s=Ct();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&H0(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function Dy(t,r){var s=Ct();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&H0(r,l[1]))return l[0];if(l=t(),ps){fn(!0);try{t()}finally{fn(!1)}}return s.memoizedState=[l,r],l}function td(t,r,s){return s===void 0||(xi&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=r:(t.memoizedState=s,t=Rv(),Be.lanes|=t,ua|=t,s)}function Ry(t,r,s,l){return On(s,r)?s:mo.current!==null?(t=td(t,s,l),On(t,r)||(Mt=!0),t):(xi&42)===0||(xi&1073741824)!==0&&(Pe&261930)===0?(Mt=!0,t.memoizedState=s):(t=Rv(),Be.lanes|=t,ua|=t,r)}function Iy(t,r,s,l,f){var m=ue.p;ue.p=m!==0&&8>m?m:8;var E=X.T,B={};X.T=B,id(t,!1,r,s);try{var H=f(),ee=X.S;if(ee!==null&&ee(B,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ie=LA(H,l);Vl(t,r,ie,Un(t))}else Vl(t,r,l,Un(t))}catch(oe){Vl(t,r,{then:function(){},status:"rejected",reason:oe},Un())}finally{ue.p=m,E!==null&&B.types!==null&&(E.types=B.types),X.T=E}}function GA(){}function nd(t,r,s,l){if(t.tag!==5)throw Error(a(476));var f=Ny(t).queue;Iy(t,f,r,he,s===null?GA:function(){return ky(t),s(l)})}function Ny(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:he},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function ky(t){var r=Ny(t);r.next===null&&(r=t.alternate.memoizedState),Vl(t,r.next.queue,{},Un())}function rd(){return Jt(Jl)}function By(){return Ct().memoizedState}function Oy(){return Ct().memoizedState}function KA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Un();t=ia(s);var l=aa(r,t,s);l!==null&&(An(l,r,s),Nl(l,r,s)),r={cache:k0()},t.payload=r;return}r=r.return}}function $A(t,r,s){var l=Un();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ou(t)?Vy(r,s):(s=E0(t,r,s,l),s!==null&&(An(s,t,l),Py(s,r,l)))}function My(t,r,s){var l=Un();Vl(t,r,s,l)}function Vl(t,r,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))Vy(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,B=m(E,s);if(f.hasEagerState=!0,f.eagerState=B,On(B,E))return mu(t,r,f,0),it===null&&du(),!1}catch{}finally{}if(s=E0(t,r,f,l),s!==null)return An(s,t,l),Py(s,r,l),!0}return!1}function id(t,r,s,l){if(l={lane:2,revertLane:Vd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(r)throw Error(a(479))}else r=E0(t,s,l,2),r!==null&&An(r,t,2)}function Ou(t){var r=t.alternate;return t===Be||r!==null&&r===Be}function Vy(t,r){po=Su=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function Py(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,jt(t,s)}}var Pl={readContext:Jt,use:Iu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Pl.useEffectEvent=_t;var Fy={readContext:Jt,use:Iu,useCallback:function(t,r){return mn().memoizedState=[t,r===void 0?null:r],t},useContext:Jt,useEffect:Ey,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,ku(4194308,4,Cy.bind(null,r,t),s)},useLayoutEffect:function(t,r){return ku(4194308,4,t,r)},useInsertionEffect:function(t,r){ku(4,2,t,r)},useMemo:function(t,r){var s=mn();r=r===void 0?null:r;var l=t();if(ps){fn(!0);try{t()}finally{fn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=mn();if(s!==void 0){var f=s(r);if(ps){fn(!0);try{s(r)}finally{fn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=$A.bind(null,Be,t),[l.memoizedState,t]},useRef:function(t){var r=mn();return t={current:t},r.memoizedState=t},useState:function(t){t=W0(t);var r=t.queue,s=My.bind(null,Be,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:ed,useDeferredValue:function(t,r){var s=mn();return td(s,t,r)},useTransition:function(){var t=W0(!1);return t=Iy.bind(null,Be,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Be,f=mn();if(ze){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),it===null)throw Error(a(349));(Pe&127)!==0||ay(l,r,s)}f.memoizedState=s;var m={value:s,getSnapshot:r};return f.queue=m,Ey(oy.bind(null,l,m,t),[t]),l.flags|=2048,yo(9,{destroy:void 0},sy.bind(null,l,m,s,r),null),s},useId:function(){var t=mn(),r=it.identifierPrefix;if(ze){var s=ei,l=Jr;s=(l&~(1<<32-yt(l)-1)).toString(32)+s,r="_"+r+"R_"+s,s=Du++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=UA++,r="_"+r+"r_"+s.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:rd,useFormState:gy,useActionState:gy,useOptimistic:function(t){var r=mn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=id.bind(null,Be,!0,s),s.dispatch=r,[t,r]},useMemoCache:Q0,useCacheRefresh:function(){return mn().memoizedState=KA.bind(null,Be)},useEffectEvent:function(t){var r=mn(),s={impl:t};return r.memoizedState=s,function(){if((Qe&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},ad={readContext:Jt,use:Iu,useCallback:Sy,useContext:Jt,useEffect:J0,useImperativeHandle:wy,useInsertionEffect:Ay,useLayoutEffect:Ty,useMemo:Dy,useReducer:Nu,useRef:_y,useState:function(){return Nu(_i)},useDebugValue:ed,useDeferredValue:function(t,r){var s=Ct();return Ry(s,tt.memoizedState,t,r)},useTransition:function(){var t=Nu(_i)[0],r=Ct().memoizedState;return[typeof t=="boolean"?t:Ml(t),r]},useSyncExternalStore:iy,useId:By,useHostTransitionStatus:rd,useFormState:yy,useActionState:yy,useOptimistic:function(t,r){var s=Ct();return uy(s,tt,t,r)},useMemoCache:Q0,useCacheRefresh:Oy};ad.useEffectEvent=by;var Ly={readContext:Jt,use:Iu,useCallback:Sy,useContext:Jt,useEffect:J0,useImperativeHandle:wy,useInsertionEffect:Ay,useLayoutEffect:Ty,useMemo:Dy,useReducer:X0,useRef:_y,useState:function(){return X0(_i)},useDebugValue:ed,useDeferredValue:function(t,r){var s=Ct();return tt===null?td(s,t,r):Ry(s,tt.memoizedState,t,r)},useTransition:function(){var t=X0(_i)[0],r=Ct().memoizedState;return[typeof t=="boolean"?t:Ml(t),r]},useSyncExternalStore:iy,useId:By,useHostTransitionStatus:rd,useFormState:xy,useActionState:xy,useOptimistic:function(t,r){var s=Ct();return tt!==null?uy(s,tt,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Q0,useCacheRefresh:Oy};Ly.useEffectEvent=by;function sd(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:v({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var od={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Un(),f=ia(l);f.payload=r,s!=null&&(f.callback=s),r=aa(t,f,l),r!==null&&(An(r,t,l),Nl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Un(),f=ia(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=aa(t,f,l),r!==null&&(An(r,t,l),Nl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Un(),l=ia(s);l.tag=2,r!=null&&(l.callback=r),r=aa(t,l,s),r!==null&&(An(r,t,s),Nl(r,t,s))}};function Uy(t,r,s,l,f,m,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,E):r.prototype&&r.prototype.isPureReactComponent?!Al(s,l)||!Al(f,m):!0}function jy(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&od.enqueueReplaceState(r,r.state,null)}function gs(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=v({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function zy(t){fu(t)}function Hy(t){console.error(t)}function qy(t){fu(t)}function Mu(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Gy(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ld(t,r,s){return s=ia(s),s.tag=3,s.payload={element:null},s.callback=function(){Mu(t,r)},s}function Ky(t){return t=ia(t),t.tag=3,t}function $y(t,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){Gy(r,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Gy(r,s,l),typeof f!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var B=l.stack;this.componentDidCatch(l.value,{componentStack:B!==null?B:""})})}function QA(t,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&lo(r,s,f,!0),s=Vn.current,s!==null){switch(s.tag){case 31:case 13:return rr===null?$u():s.alternate===null&&Et===0&&(Et=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===bu?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Bd(t,l,f)),!1;case 22:return s.flags|=65536,l===bu?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Bd(t,l,f)),!1}throw Error(a(435,s.tag))}return Bd(t,l,f),$u(),!1}if(ze)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==S0&&(t=Error(a(422),{cause:l}),wl(Jn(t,s)))):(l!==S0&&(r=Error(a(423),{cause:l}),wl(Jn(r,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Jn(l,s),f=ld(t.stateNode,l,f),F0(t,f),Et!==4&&(Et=2)),!1;var m=Error(a(520),{cause:l});if(m=Jn(m,s),Gl===null?Gl=[m]:Gl.push(m),Et!==4&&(Et=2),r===null)return!0;l=Jn(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=ld(s.stateNode,l,t),F0(s,t),!1;case 1:if(r=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ha===null||!ha.has(m))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Ky(f),$y(f,t,s,l),F0(s,f),!1}s=s.return}while(s!==null);return!1}var cd=Error(a(461)),Mt=!1;function en(t,r,s,l){r.child=t===null?Wg(r,null,s,l):ms(r,t.child,s,l)}function Qy(t,r,s,l,f){s=s.render;var m=r.ref;if("ref"in l){var E={};for(var B in l)B!=="ref"&&(E[B]=l[B])}else E=l;return us(r),l=q0(t,r,s,E,m,f),B=G0(),t!==null&&!Mt?(K0(t,r,f),Ei(t,r,f)):(ze&&B&&C0(r),r.flags|=1,en(t,r,l,f),r.child)}function Yy(t,r,s,l,f){if(t===null){var m=s.type;return typeof m=="function"&&!b0(m)&&m.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=m,Xy(t,r,m,l,f)):(t=gu(s.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!yd(t,f)){var E=m.memoizedProps;if(s=s.compare,s=s!==null?s:Al,s(E,l)&&t.ref===r.ref)return Ei(t,r,f)}return r.flags|=1,t=pi(m,l),t.ref=r.ref,t.return=r,r.child=t}function Xy(t,r,s,l,f){if(t!==null){var m=t.memoizedProps;if(Al(m,l)&&t.ref===r.ref)if(Mt=!1,r.pendingProps=l=m,yd(t,f))(t.flags&131072)!==0&&(Mt=!0);else return r.lanes=t.lanes,Ei(t,r,f)}return ud(t,r,s,l,f)}function Wy(t,r,s,l){var f=l.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return Zy(t,r,m,s,l)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(r,m!==null?m.cachePool:null),m!==null?ey(r,m):U0(),ty(r);else return l=r.lanes=536870912,Zy(t,r,m!==null?m.baseLanes|s:s,s,l)}else m!==null?(_u(r,m.cachePool),ey(r,m),oa(),r.memoizedState=null):(t!==null&&_u(r,null),U0(),oa());return en(t,r,f,s),r.child}function Fl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Zy(t,r,s,l,f){var m=O0();return m=m===null?null:{parent:Bt._currentValue,pool:m},r.memoizedState={baseLanes:s,cachePool:m},t!==null&&_u(r,null),U0(),ty(r),t!==null&&lo(t,r,l,!0),r.childLanes=f,null}function Vu(t,r){return r=Fu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Jy(t,r,s){return ms(r,t.child,null,s),t=Vu(r,r.pendingProps),t.flags|=2,Pn(r),r.memoizedState=null,t}function YA(t,r,s){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Vu(r,l),r.lanes=536870912,Fl(null,t);if(z0(r),(t=ct)?(t=hx(t,nr),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ji!==null?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},s=Vg(t),s.return=r,r.child=s,Zt=r,ct=null)):t=null,t===null)throw ta(r);return r.lanes=536870912,null}return Vu(r,l)}var m=t.memoizedState;if(m!==null){var E=m.dehydrated;if(z0(r),f)if(r.flags&256)r.flags&=-257,r=Jy(t,r,s);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(a(558));else if(Mt||lo(t,r,s,!1),f=(s&t.childLanes)!==0,Mt||f){if(l=it,l!==null&&(E=gn(l,s),E!==0&&E!==m.retryLane))throw m.retryLane=E,ss(t,E),An(l,t,E),cd;$u(),r=Jy(t,r,s)}else t=m.treeContext,ct=ir(E.nextSibling),Zt=r,ze=!0,ea=null,nr=!1,t!==null&&Lg(r,t),r=Vu(r,l),r.flags|=4096;return r}return t=pi(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Pu(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function ud(t,r,s,l,f){return us(r),s=q0(t,r,s,l,void 0,f),l=G0(),t!==null&&!Mt?(K0(t,r,f),Ei(t,r,f)):(ze&&l&&C0(r),r.flags|=1,en(t,r,s,f),r.child)}function ev(t,r,s,l,f,m){return us(r),r.updateQueue=null,s=ry(r,l,s,f),ny(t),l=G0(),t!==null&&!Mt?(K0(t,r,m),Ei(t,r,m)):(ze&&l&&C0(r),r.flags|=1,en(t,r,s,m),r.child)}function tv(t,r,s,l,f){if(us(r),r.stateNode===null){var m=io,E=s.contextType;typeof E=="object"&&E!==null&&(m=Jt(E)),m=new s(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=od,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},V0(r),E=s.contextType,m.context=typeof E=="object"&&E!==null?Jt(E):io,m.state=r.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(sd(r,s,E,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&od.enqueueReplaceState(m,m.state,null),Bl(r,l,m,f),kl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var B=r.memoizedProps,H=gs(s,B);m.props=H;var ee=m.context,ie=s.contextType;E=io,typeof ie=="object"&&ie!==null&&(E=Jt(ie));var oe=s.getDerivedStateFromProps;ie=typeof oe=="function"||typeof m.getSnapshotBeforeUpdate=="function",B=r.pendingProps!==B,ie||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(B||ee!==E)&&jy(r,m,l,E),ra=!1;var te=r.memoizedState;m.state=te,Bl(r,l,m,f),kl(),ee=r.memoizedState,B||te!==ee||ra?(typeof oe=="function"&&(sd(r,s,oe,l),ee=r.memoizedState),(H=ra||Uy(r,s,H,l,te,ee,E))?(ie||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=ee),m.props=l,m.state=ee,m.context=E,l=H):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,P0(t,r),E=r.memoizedProps,ie=gs(s,E),m.props=ie,oe=r.pendingProps,te=m.context,ee=s.contextType,H=io,typeof ee=="object"&&ee!==null&&(H=Jt(ee)),B=s.getDerivedStateFromProps,(ee=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==oe||te!==H)&&jy(r,m,l,H),ra=!1,te=r.memoizedState,m.state=te,Bl(r,l,m,f),kl();var re=r.memoizedState;E!==oe||te!==re||ra||t!==null&&t.dependencies!==null&&vu(t.dependencies)?(typeof B=="function"&&(sd(r,s,B,l),re=r.memoizedState),(ie=ra||Uy(r,s,ie,l,te,re,H)||t!==null&&t.dependencies!==null&&vu(t.dependencies))?(ee||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,re,H),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,re,H)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===t.memoizedProps&&te===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&te===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=re),m.props=l,m.state=re,m.context=H,l=ie):(typeof m.componentDidUpdate!="function"||E===t.memoizedProps&&te===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&te===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,Pu(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=ms(r,t.child,null,f),r.child=ms(r,null,s,f)):en(t,r,s,f),r.memoizedState=m.state,t=r.child):t=Ei(t,r,f),t}function nv(t,r,s,l){return ls(),r.flags|=256,en(t,r,s,l),r.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:Gg()}}function dd(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Ln),t}function rv(t,r,s){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(ze){if(f?sa(r):oa(),(t=ct)?(t=hx(t,nr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Ji!==null?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},s=Vg(t),s.return=r,r.child=s,Zt=r,ct=null)):t=null,t===null)throw ta(r);return Yd(t)?r.lanes=32:r.lanes=536870912,null}var B=l.children;return l=l.fallback,f?(oa(),f=r.mode,B=Fu({mode:"hidden",children:B},f),l=os(l,f,s,null),B.return=r,l.return=r,B.sibling=l,r.child=B,l=r.child,l.memoizedState=fd(s),l.childLanes=dd(t,E,s),r.memoizedState=hd,Fl(null,l)):(sa(r),md(r,B))}var H=t.memoizedState;if(H!==null&&(B=H.dehydrated,B!==null)){if(m)r.flags&256?(sa(r),r.flags&=-257,r=pd(t,r,s)):r.memoizedState!==null?(oa(),r.child=t.child,r.flags|=128,r=null):(oa(),B=l.fallback,f=r.mode,l=Fu({mode:"visible",children:l.children},f),B=os(B,f,s,null),B.flags|=2,l.return=r,B.return=r,l.sibling=B,r.child=l,ms(r,t.child,null,s),l=r.child,l.memoizedState=fd(s),l.childLanes=dd(t,E,s),r.memoizedState=hd,r=Fl(null,l));else if(sa(r),Yd(B)){if(E=B.nextSibling&&B.nextSibling.dataset,E)var ee=E.dgst;E=ee,l=Error(a(419)),l.stack="",l.digest=E,wl({value:l,source:null,stack:null}),r=pd(t,r,s)}else if(Mt||lo(t,r,s,!1),E=(s&t.childLanes)!==0,Mt||E){if(E=it,E!==null&&(l=gn(E,s),l!==0&&l!==H.retryLane))throw H.retryLane=l,ss(t,l),An(E,t,l),cd;Qd(B)||$u(),r=pd(t,r,s)}else Qd(B)?(r.flags|=192,r.child=t.child,r=null):(t=H.treeContext,ct=ir(B.nextSibling),Zt=r,ze=!0,ea=null,nr=!1,t!==null&&Lg(r,t),r=md(r,l.children),r.flags|=4096);return r}return f?(oa(),B=l.fallback,f=r.mode,H=t.child,ee=H.sibling,l=pi(H,{mode:"hidden",children:l.children}),l.subtreeFlags=H.subtreeFlags&65011712,ee!==null?B=pi(ee,B):(B=os(B,f,s,null),B.flags|=2),B.return=r,l.return=r,l.sibling=B,r.child=l,Fl(null,l),l=r.child,B=t.child.memoizedState,B===null?B=fd(s):(f=B.cachePool,f!==null?(H=Bt._currentValue,f=f.parent!==H?{parent:H,pool:H}:f):f=Gg(),B={baseLanes:B.baseLanes|s,cachePool:f}),l.memoizedState=B,l.childLanes=dd(t,E,s),r.memoizedState=hd,Fl(t.child,l)):(sa(r),s=t.child,t=s.sibling,s=pi(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=s,r.memoizedState=null,s)}function md(t,r){return r=Fu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Fu(t,r){return t=Mn(22,t,null,r),t.lanes=0,t}function pd(t,r,s){return ms(r,t.child,null,s),t=md(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function iv(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),I0(t.return,r,s)}function gd(t,r,s,l,f,m){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:m}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=s,E.tailMode=f,E.treeForkCount=m)}function av(t,r,s){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var E=Tt.current,B=(E&2)!==0;if(B?(E=E&1|2,r.flags|=128):E&=1,Y(Tt,E),en(t,r,l,s),l=ze?Cl:0,!B&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,s,r);else if(t.tag===19)iv(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=r.child,f=null;s!==null;)t=s.alternate,t!==null&&wu(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),gd(r,!1,f,s,m,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&wu(t)===null){r.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}gd(r,!0,s,null,m,l);break;case"together":gd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Ei(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),ua|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(lo(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=pi(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=pi(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function yd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&vu(t)))}function XA(t,r,s){switch(r.tag){case 3:be(r,r.stateNode.containerInfo),na(r,Bt,t.memoizedState.cache),ls();break;case 27:case 5:pn(r);break;case 4:be(r,r.stateNode.containerInfo);break;case 10:na(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,z0(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(sa(r),r.flags|=128,null):(s&r.child.childLanes)!==0?rv(t,r,s):(sa(r),t=Ei(t,r,s),t!==null?t.sibling:null);sa(r);break;case 19:var f=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(lo(t,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return av(t,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Y(Tt,Tt.current),l)break;return null;case 22:return r.lanes=0,Wy(t,r,s,r.pendingProps);case 24:na(r,Bt,t.memoizedState.cache)}return Ei(t,r,s)}function sv(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Mt=!0;else{if(!yd(t,s)&&(r.flags&128)===0)return Mt=!1,XA(t,r,s);Mt=(t.flags&131072)!==0}else Mt=!1,ze&&(r.flags&1048576)!==0&&Fg(r,Cl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=fs(r.elementType),r.type=t,typeof t=="function")b0(t)?(l=gs(t,l),r.tag=1,r=tv(null,r,t,l,s)):(r.tag=0,r=ud(null,r,t,l,s));else{if(t!=null){var f=t.$$typeof;if(f===j){r.tag=11,r=Qy(null,r,t,l,s);break e}else if(f===T){r.tag=14,r=Yy(null,r,t,l,s);break e}}throw r=le(t)||t,Error(a(306,r,""))}}return r;case 0:return ud(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=gs(l,r.pendingProps),tv(t,r,l,f,s);case 3:e:{if(be(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,P0(t,r),Bl(r,l,null,s);var E=r.memoizedState;if(l=E.cache,na(r,Bt,l),l!==m.cache&&N0(r,[Bt],s,!0),kl(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=nv(t,r,l,s);break e}else if(l!==f){f=Jn(Error(a(424)),r),wl(f),r=nv(t,r,l,s);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=ir(t.firstChild),Zt=r,ze=!0,ea=null,nr=!0,s=Wg(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ls(),l===f){r=Ei(t,r,s);break e}en(t,r,l,s)}r=r.child}return r;case 26:return Pu(t,r),t===null?(s=yx(r.type,null,r.pendingProps,null))?r.memoizedState=s:ze||(s=r.type,t=r.pendingProps,l=eh(ge.current).createElement(s),l[It]=r,l[Gt]=t,tn(l,s,t),Nt(l),r.stateNode=l):r.memoizedState=yx(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return pn(r),t===null&&ze&&(l=r.stateNode=mx(r.type,r.pendingProps,ge.current),Zt=r,nr=!0,f=ct,pa(r.type)?(Xd=f,ct=ir(l.firstChild)):ct=f),en(t,r,r.pendingProps.children,s),Pu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ze&&((f=l=ct)&&(l=wT(l,r.type,r.pendingProps,nr),l!==null?(r.stateNode=l,Zt=r,ct=ir(l.firstChild),nr=!1,f=!0):f=!1),f||ta(r)),pn(r),f=r.type,m=r.pendingProps,E=t!==null?t.memoizedProps:null,l=m.children,Gd(f,m)?l=null:E!==null&&Gd(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=q0(t,r,jA,null,null,s),Jl._currentValue=f),Pu(t,r),en(t,r,l,s),r.child;case 6:return t===null&&ze&&((t=s=ct)&&(s=ST(s,r.pendingProps,nr),s!==null?(r.stateNode=s,Zt=r,ct=null,t=!0):t=!1),t||ta(r)),null;case 13:return rv(t,r,s);case 4:return be(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ms(r,null,l,s):en(t,r,l,s),r.child;case 11:return Qy(t,r,r.type,r.pendingProps,s);case 7:return en(t,r,r.pendingProps,s),r.child;case 8:return en(t,r,r.pendingProps.children,s),r.child;case 12:return en(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,na(r,r.type,l.value),en(t,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,us(r),f=Jt(f),l=l(f),r.flags|=1,en(t,r,l,s),r.child;case 14:return Yy(t,r,r.type,r.pendingProps,s);case 15:return Xy(t,r,r.type,r.pendingProps,s);case 19:return av(t,r,s);case 31:return YA(t,r,s);case 22:return Wy(t,r,s,r.pendingProps);case 24:return us(r),l=Jt(Bt),t===null?(f=O0(),f===null&&(f=it,m=k0(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=s),f=m),r.memoizedState={parent:l,cache:f},V0(r),na(r,Bt,f)):((t.lanes&s)!==0&&(P0(t,r),Bl(r,null,null,s),kl()),f=t.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),na(r,Bt,l)):(l=m.cache,na(r,Bt,l),l!==f.cache&&N0(r,[Bt],s,!0))),en(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function bi(t){t.flags|=4}function vd(t,r,s,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Bv())t.flags|=8192;else throw ds=bu,M0}else t.flags&=-16777217}function ov(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bx(r))if(Bv())t.flags|=8192;else throw ds=bu,M0}function Lu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?zs():536870912,t.lanes|=r,Eo|=r)}function Ll(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function WA(t,r,s){var l=r.pendingProps;switch(w0(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),vi(Bt),Ye(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(oo(r)?bi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,D0())),ut(r),null;case 26:var f=r.type,m=r.memoizedState;return t===null?(bi(r),m!==null?(ut(r),ov(r,m)):(ut(r),vd(r,f,null,l,s))):m?m!==t.memoizedState?(bi(r),ut(r),ov(r,m)):(ut(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&bi(r),ut(r),vd(r,f,t,l,s)),null;case 27:if(Nr(r),s=ge.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&bi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ut(r),null}t=W.current,oo(r)?Ug(r):(t=mx(f,l,s),r.stateNode=t,bi(r))}return ut(r),null;case 5:if(Nr(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&bi(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ut(r),null}if(m=W.current,oo(r))Ug(r);else{var E=eh(ge.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?E.createElement(f,{is:l.is}):E.createElement(f)}}m[It]=r,m[Gt]=l;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=m;e:switch(tn(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&bi(r)}}return ut(r),vd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,s),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&bi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=ge.current,oo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[It]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||rx(t.nodeValue,s)),t||ta(r,!0)}else t=eh(t).createTextNode(l),t[It]=r,r.stateNode=t}return ut(r),null;case 31:if(s=r.memoizedState,t===null||t.memoizedState!==null){if(l=oo(r),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[It]=r}else ls(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),t=!1}else s=D0(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return r.flags&256?(Pn(r),r):(Pn(r),null);if((r.flags&128)!==0)throw Error(a(558))}return ut(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=oo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[It]=r}else ls(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=D0(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Pn(r),r):(Pn(r),null)}return Pn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),s!==t&&s&&(r.child.flags|=8192),Lu(r,r.updateQueue),ut(r),null);case 4:return Ye(),t===null&&Ud(r.stateNode.containerInfo),ut(r),null;case 10:return vi(r.type),ut(r),null;case 19:if(G(Tt),l=r.memoizedState,l===null)return ut(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)Ll(l,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=wu(t),m!==null){for(r.flags|=128,Ll(l,!1),t=m.updateQueue,r.updateQueue=t,Lu(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Mg(s,t),s=s.sibling;return Y(Tt,Tt.current&1|2),ze&&gi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Dt()>qu&&(r.flags|=128,f=!0,Ll(l,!1),r.lanes=4194304)}else{if(!f)if(t=wu(m),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Lu(r,t),Ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!ze)return ut(r),null}else 2*Dt()-l.renderingStartTime>qu&&s!==536870912&&(r.flags|=128,f=!0,Ll(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(t=l.last,t!==null?t.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Dt(),t.sibling=null,s=Tt.current,Y(Tt,f?s&1|2:s&1),ze&&gi(r,l.treeForkCount),t):(ut(r),null);case 22:case 23:return Pn(r),j0(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),s=r.updateQueue,s!==null&&Lu(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&G(hs),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),vi(Bt),ut(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function ZA(t,r){switch(w0(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return vi(Bt),Ye(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Nr(r),null;case 31:if(r.memoizedState!==null){if(Pn(r),r.alternate===null)throw Error(a(340));ls()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Pn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));ls()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return G(Tt),null;case 4:return Ye(),null;case 10:return vi(r.type),null;case 22:case 23:return Pn(r),j0(),t!==null&&G(hs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return vi(Bt),null;case 25:return null;default:return null}}function lv(t,r){switch(w0(r),r.tag){case 3:vi(Bt),Ye();break;case 26:case 27:case 5:Nr(r);break;case 4:Ye();break;case 31:r.memoizedState!==null&&Pn(r);break;case 13:Pn(r);break;case 19:G(Tt);break;case 10:vi(r.type);break;case 22:case 23:Pn(r),j0(),t!==null&&G(hs);break;case 24:vi(Bt)}}function Ul(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var m=s.create,E=s.inst;l=m(),E.destroy=l}s=s.next}while(s!==f)}}catch(B){Je(r,r.return,B)}}function la(t,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var E=l.inst,B=E.destroy;if(B!==void 0){E.destroy=void 0,f=r;var H=s,ee=B;try{ee()}catch(ie){Je(f,H,ie)}}}l=l.next}while(l!==m)}}catch(ie){Je(r,r.return,ie)}}function cv(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Jg(r,s)}catch(l){Je(t,t.return,l)}}}function uv(t,r,s){s.props=gs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Je(t,r,l)}}function jl(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){Je(t,r,f)}}function ti(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){Je(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Je(t,r,f)}else s.current=null}function hv(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){Je(t,t.return,f)}}function xd(t,r,s){try{var l=t.stateNode;_T(l,t.type,s,r),l[Gt]=r}catch(f){Je(t,t.return,f)}}function fv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&pa(t.type)||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&pa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=vr));else if(l!==4&&(l===27&&pa(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(Ed(t,r,s),t=t.sibling;t!==null;)Ed(t,r,s),t=t.sibling}function Uu(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&pa(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Uu(t,r,s),t=t.sibling;t!==null;)Uu(t,r,s),t=t.sibling}function dv(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);tn(r,l,s),r[It]=t,r[Gt]=s}catch(m){Je(t,t.return,m)}}var Ai=!1,Vt=!1,bd=!1,mv=typeof WeakSet=="function"?WeakSet:Set,$t=null;function JA(t,r){if(t=t.containerInfo,Hd=oh,t=wg(t),p0(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var E=0,B=-1,H=-1,ee=0,ie=0,oe=t,te=null;t:for(;;){for(var re;oe!==s||f!==0&&oe.nodeType!==3||(B=E+f),oe!==m||l!==0&&oe.nodeType!==3||(H=E+l),oe.nodeType===3&&(E+=oe.nodeValue.length),(re=oe.firstChild)!==null;)te=oe,oe=re;for(;;){if(oe===t)break t;if(te===s&&++ee===f&&(B=E),te===m&&++ie===l&&(H=E),(re=oe.nextSibling)!==null)break;oe=te,te=oe.parentNode}oe=re}s=B===-1||H===-1?null:{start:B,end:H}}else s=null}s=s||{start:0,end:0}}else s=null;for(qd={focusedElem:t,selectionRange:s},oh=!1,$t=r;$t!==null;)if(r=$t,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,$t=t;else for(;$t!==null;){switch(r=$t,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=r,f=m.memoizedProps,m=m.memoizedState,l=s.stateNode;try{var ve=gs(s.type,f);t=l.getSnapshotBeforeUpdate(ve,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){Je(s,s.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)$d(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,$t=t;break}$t=r.return}}function pv(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ci(t,s),l&4&&Ul(5,s);break;case 1:if(Ci(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(E){Je(s,s.return,E)}else{var f=gs(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Je(s,s.return,E)}}l&64&&cv(s),l&512&&jl(s,s.return);break;case 3:if(Ci(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Jg(t,r)}catch(E){Je(s,s.return,E)}}break;case 27:r===null&&l&4&&dv(s);case 26:case 5:Ci(t,s),r===null&&l&4&&hv(s),l&512&&jl(s,s.return);break;case 12:Ci(t,s);break;case 31:Ci(t,s),l&4&&vv(t,s);break;case 13:Ci(t,s),l&4&&xv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=lT.bind(null,s),DT(t,s))));break;case 22:if(l=s.memoizedState!==null||Ai,!l){r=r!==null&&r.memoizedState!==null||Vt,f=Ai;var m=Vt;Ai=l,(Vt=r)&&!m?wi(t,s,(s.subtreeFlags&8772)!==0):Ci(t,s),Ai=f,Vt=m}break;case 30:break;default:Ci(t,s)}}function gv(t){var r=t.alternate;r!==null&&(t.alternate=null,gv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&qs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,xn=!1;function Ti(t,r,s){for(s=s.child;s!==null;)yv(t,r,s),s=s.sibling}function yv(t,r,s){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Rn,s)}catch{}switch(s.tag){case 26:Vt||ti(s,r),Ti(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Vt||ti(s,r);var l=pt,f=xn;pa(s.type)&&(pt=s.stateNode,xn=!1),Ti(t,r,s),Xl(s.stateNode),pt=l,xn=f;break;case 5:Vt||ti(s,r);case 6:if(l=pt,f=xn,pt=null,Ti(t,r,s),pt=l,xn=f,pt!==null)if(xn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(s.stateNode)}catch(m){Je(s,r,m)}else try{pt.removeChild(s.stateNode)}catch(m){Je(s,r,m)}break;case 18:pt!==null&&(xn?(t=pt,cx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ro(t)):cx(pt,s.stateNode));break;case 4:l=pt,f=xn,pt=s.stateNode.containerInfo,xn=!0,Ti(t,r,s),pt=l,xn=f;break;case 0:case 11:case 14:case 15:la(2,s,r),Vt||la(4,s,r),Ti(t,r,s);break;case 1:Vt||(ti(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&uv(s,r,l)),Ti(t,r,s);break;case 21:Ti(t,r,s);break;case 22:Vt=(l=Vt)||s.memoizedState!==null,Ti(t,r,s),Vt=l;break;default:Ti(t,r,s)}}function vv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ro(t)}catch(s){Je(r,r.return,s)}}}function xv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ro(t)}catch(s){Je(r,r.return,s)}}function eT(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new mv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new mv),r;default:throw Error(a(435,t.tag))}}function ju(t,r){var s=eT(t);r.forEach(function(l){if(!s.has(l)){s.add(l);var f=cT.bind(null,t,l);l.then(f,f)}})}function _n(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],m=t,E=r,B=E;e:for(;B!==null;){switch(B.tag){case 27:if(pa(B.type)){pt=B.stateNode,xn=!1;break e}break;case 5:pt=B.stateNode,xn=!1;break e;case 3:case 4:pt=B.stateNode.containerInfo,xn=!0;break e}B=B.return}if(pt===null)throw Error(a(160));yv(m,E,f),pt=null,xn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)_v(r,t),r=r.sibling}var Tr=null;function _v(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(r,t),En(t),l&4&&(la(3,t,t.return),Ul(3,t),la(5,t,t.return));break;case 1:_n(r,t),En(t),l&512&&(Vt||s===null||ti(s,s.return)),l&64&&Ai&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Tr;if(_n(r,t),En(t),l&512&&(Vt||s===null||ti(s,s.return)),l&4){var m=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[jr]||m[It]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),tn(m,l,s),m[It]=t,Nt(m),l=m;break e;case"link":var E=_x("link","href",f).get(l+(s.href||""));if(E){for(var B=0;B<E.length;B++)if(m=E[B],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(B,1);break t}}m=f.createElement(l),tn(m,l,s),f.head.appendChild(m);break;case"meta":if(E=_x("meta","content",f).get(l+(s.content||""))){for(B=0;B<E.length;B++)if(m=E[B],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(B,1);break t}}m=f.createElement(l),tn(m,l,s),f.head.appendChild(m);break;default:throw Error(a(468,l))}m[It]=t,Nt(m),l=m}t.stateNode=l}else Ex(f,t.type,t.stateNode);else t.stateNode=xx(f,l,t.memoizedProps);else m!==l?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,l===null?Ex(f,t.type,t.stateNode):xx(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xd(t,t.memoizedProps,s.memoizedProps)}break;case 27:_n(r,t),En(t),l&512&&(Vt||s===null||ti(s,s.return)),s!==null&&l&4&&xd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(_n(r,t),En(t),l&512&&(Vt||s===null||ti(s,s.return)),t.flags&32){f=t.stateNode;try{vn(f,"")}catch(ve){Je(t,t.return,ve)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,xd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(bd=!0);break;case 6:if(_n(r,t),En(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ve){Je(t,t.return,ve)}}break;case 3:if(rh=null,f=Tr,Tr=th(r.containerInfo),_n(r,t),Tr=f,En(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ro(r.containerInfo)}catch(ve){Je(t,t.return,ve)}bd&&(bd=!1,Ev(t));break;case 4:l=Tr,Tr=th(t.stateNode.containerInfo),_n(r,t),En(t),Tr=l;break;case 12:_n(r,t),En(t);break;case 31:_n(r,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ju(t,l)));break;case 13:_n(r,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Hu=Dt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ju(t,l)));break;case 22:f=t.memoizedState!==null;var H=s!==null&&s.memoizedState!==null,ee=Ai,ie=Vt;if(Ai=ee||f,Vt=ie||H,_n(r,t),Vt=ie,Ai=ee,En(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||H||Ai||Vt||ys(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){H=s=r;try{if(m=H.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{B=H.stateNode;var oe=H.memoizedProps.style,te=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;B.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ve){Je(H,H.return,ve)}}}else if(r.tag===6){if(s===null){H=r;try{H.stateNode.nodeValue=f?"":H.memoizedProps}catch(ve){Je(H,H.return,ve)}}}else if(r.tag===18){if(s===null){H=r;try{var re=H.stateNode;f?ux(re,!0):ux(H.stateNode,!1)}catch(ve){Je(H,H.return,ve)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ju(t,s))));break;case 19:_n(r,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ju(t,l)));break;case 30:break;case 21:break;default:_n(r,t),En(t)}}function En(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(fv(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,m=_d(t);Uu(t,m,f);break;case 5:var E=s.stateNode;s.flags&32&&(vn(E,""),s.flags&=-33);var B=_d(t);Uu(t,B,E);break;case 3:case 4:var H=s.stateNode.containerInfo,ee=_d(t);Ed(t,ee,H);break;default:throw Error(a(161))}}catch(ie){Je(t,t.return,ie)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Ev(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ci(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)pv(t,r.alternate,r),r=r.sibling}function ys(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:la(4,r,r.return),ys(r);break;case 1:ti(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&uv(r,r.return,s),ys(r);break;case 27:Xl(r.stateNode);case 26:case 5:ti(r,r.return),ys(r);break;case 22:r.memoizedState===null&&ys(r);break;case 30:ys(r);break;default:ys(r)}t=t.sibling}}function wi(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:wi(f,m,s),Ul(4,m);break;case 1:if(wi(f,m,s),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ee){Je(l,l.return,ee)}if(l=m,f=l.updateQueue,f!==null){var B=l.stateNode;try{var H=f.shared.hiddenCallbacks;if(H!==null)for(f.shared.hiddenCallbacks=null,f=0;f<H.length;f++)Zg(H[f],B)}catch(ee){Je(l,l.return,ee)}}s&&E&64&&cv(m),jl(m,m.return);break;case 27:dv(m);case 26:case 5:wi(f,m,s),s&&l===null&&E&4&&hv(m),jl(m,m.return);break;case 12:wi(f,m,s);break;case 31:wi(f,m,s),s&&E&4&&vv(f,m);break;case 13:wi(f,m,s),s&&E&4&&xv(f,m);break;case 22:m.memoizedState===null&&wi(f,m,s),jl(m,m.return);break;case 30:break;default:wi(f,m,s)}r=r.sibling}}function Ad(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Sl(s))}function Td(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Sl(t))}function Cr(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)bv(t,r,s,l),r=r.sibling}function bv(t,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Cr(t,r,s,l),f&2048&&Ul(9,r);break;case 1:Cr(t,r,s,l);break;case 3:Cr(t,r,s,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Sl(t)));break;case 12:if(f&2048){Cr(t,r,s,l),t=r.stateNode;try{var m=r.memoizedProps,E=m.id,B=m.onPostCommit;typeof B=="function"&&B(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(H){Je(r,r.return,H)}}else Cr(t,r,s,l);break;case 31:Cr(t,r,s,l);break;case 13:Cr(t,r,s,l);break;case 23:break;case 22:m=r.stateNode,E=r.alternate,r.memoizedState!==null?m._visibility&2?Cr(t,r,s,l):zl(t,r):m._visibility&2?Cr(t,r,s,l):(m._visibility|=2,vo(t,r,s,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Ad(E,r);break;case 24:Cr(t,r,s,l),f&2048&&Td(r.alternate,r);break;default:Cr(t,r,s,l)}}function vo(t,r,s,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,E=r,B=s,H=l,ee=E.flags;switch(E.tag){case 0:case 11:case 15:vo(m,E,B,H,f),Ul(8,E);break;case 23:break;case 22:var ie=E.stateNode;E.memoizedState!==null?ie._visibility&2?vo(m,E,B,H,f):zl(m,E):(ie._visibility|=2,vo(m,E,B,H,f)),f&&ee&2048&&Ad(E.alternate,E);break;case 24:vo(m,E,B,H,f),f&&ee&2048&&Td(E.alternate,E);break;default:vo(m,E,B,H,f)}r=r.sibling}}function zl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,f=l.flags;switch(l.tag){case 22:zl(s,l),f&2048&&Ad(l.alternate,l);break;case 24:zl(s,l),f&2048&&Td(l.alternate,l);break;default:zl(s,l)}r=r.sibling}}var Hl=8192;function xo(t,r,s){if(t.subtreeFlags&Hl)for(t=t.child;t!==null;)Av(t,r,s),t=t.sibling}function Av(t,r,s){switch(t.tag){case 26:xo(t,r,s),t.flags&Hl&&t.memoizedState!==null&&UT(s,Tr,t.memoizedState,t.memoizedProps);break;case 5:xo(t,r,s);break;case 3:case 4:var l=Tr;Tr=th(t.stateNode.containerInfo),xo(t,r,s),Tr=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Hl,Hl=16777216,xo(t,r,s),Hl=l):xo(t,r,s));break;default:xo(t,r,s)}}function Tv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ql(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];$t=l,wv(l,t)}Tv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cv(t),t=t.sibling}function Cv(t){switch(t.tag){case 0:case 11:case 15:ql(t),t.flags&2048&&la(9,t,t.return);break;case 3:ql(t);break;case 12:ql(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,zu(t)):ql(t);break;default:ql(t)}}function zu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];$t=l,wv(l,t)}Tv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:la(8,r,r.return),zu(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,zu(r));break;default:zu(r)}t=t.sibling}}function wv(t,r){for(;$t!==null;){var s=$t;switch(s.tag){case 0:case 11:case 15:la(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,$t=l;else e:for(s=t;$t!==null;){l=$t;var f=l.sibling,m=l.return;if(gv(l),l===s){$t=null;break e}if(f!==null){f.return=m,$t=f;break e}$t=m}}}var tT={getCacheForType:function(t){var r=Jt(Bt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s},cacheSignal:function(){return Jt(Bt).controller.signal}},nT=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,Me=null,Pe=0,Ze=0,Fn=null,ca=!1,_o=!1,Cd=!1,Si=0,Et=0,ua=0,vs=0,wd=0,Ln=0,Eo=0,Gl=null,bn=null,Sd=!1,Hu=0,Sv=0,qu=1/0,Gu=null,ha=null,zt=0,fa=null,bo=null,Di=0,Dd=0,Rd=null,Dv=null,Kl=0,Id=null;function Un(){return(Qe&2)!==0&&Pe!==0?Pe&-Pe:X.T!==null?Vd():Kc()}function Rv(){if(Ln===0)if((Pe&536870912)===0||ze){var t=hi;hi<<=1,(hi&3932160)===0&&(hi=262144),Ln=t}else Ln=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Ln}function An(t,r,s){(t===it&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Ao(t,0),da(t,Pe,Ln,!1)),Pr(t,s),((Qe&2)===0||t!==it)&&(t===it&&((Qe&2)===0&&(vs|=s),Et===4&&da(t,Pe,Ln,!1)),ni(t))}function Iv(t,r,s){if((Qe&6)!==0)throw Error(a(327));var l=!s&&(r&127)===0&&(r&t.expiredLanes)===0||Nn(t,r),f=l?aT(t,r):kd(t,r,!0),m=l;do{if(f===0){_o&&!l&&da(t,r,0,!1);break}else{if(s=t.current.alternate,m&&!rT(s)){f=kd(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var B=t;f=Gl;var H=B.current.memoizedState.isDehydrated;if(H&&(Ao(B,E).flags|=256),E=kd(B,E,!1),E!==2){if(Cd&&!H){B.errorRecoveryDisabledLanes|=m,vs|=m,f=4;break e}m=bn,bn=f,m!==null&&(bn===null?bn=m:bn.push.apply(bn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){Ao(t,0),da(t,r,0,!0);break}e:{switch(l=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:da(l,r,Ln,!ca);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=Hu+300-Dt(),10<f)){if(da(l,r,Ln,!ca),Kn(l,0,!0)!==0)break e;Di=r,l.timeoutHandle=ox(Nv.bind(null,l,s,bn,Gu,Sd,r,Ln,vs,Eo,ca,m,"Throttled",-0,0),f);break e}Nv(l,s,bn,Gu,Sd,r,Ln,vs,Eo,ca,m,null,-0,0)}}break}while(!0);ni(t)}function Nv(t,r,s,l,f,m,E,B,H,ee,ie,oe,te,re){if(t.timeoutHandle=-1,oe=r.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vr},Av(r,m,oe);var ve=(m&62914560)===m?Hu-Dt():(m&4194048)===m?Sv-Dt():0;if(ve=jT(oe,ve),ve!==null){Di=m,t.cancelPendingCommit=ve(Lv.bind(null,t,r,m,s,l,f,E,B,H,ie,oe,null,te,re)),da(t,m,E,!ee);return}}Lv(t,r,m,s,l,f,E,B,H)}function rT(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],m=f.getSnapshot;f=f.value;try{if(!On(m(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function da(t,r,s,l){r&=~wd,r&=~vs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var m=31-yt(f),E=1<<m;l[m]=-1,f&=~E}s!==0&&Fr(t,s,r)}function Ku(){return(Qe&6)===0?($l(0),!1):!0}function Nd(){if(Me!==null){if(Ze===0)var t=Me.return;else t=Me,yi=cs=null,$0(t),fo=null,Rl=0,t=Me;for(;t!==null;)lv(t.alternate,t),t=t.return;Me=null}}function Ao(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,AT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Di=0,Nd(),it=t,Me=s=pi(t.current,null),Pe=r,Ze=0,Fn=null,ca=!1,_o=Nn(t,r),Cd=!1,Eo=Ln=wd=vs=ua=Et=0,bn=Gl=null,Sd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-yt(l),m=1<<f;r|=t[f],l&=~m}return Si=r,du(),s}function kv(t,r){Be=null,X.H=Pl,r===ho||r===Eu?(r=Qg(),Ze=3):r===M0?(r=Qg(),Ze=4):Ze=r===cd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Fn=r,Me===null&&(Et=1,Mu(t,Jn(r,t.current)))}function Bv(){var t=Vn.current;return t===null?!0:(Pe&4194048)===Pe?rr===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===rr:!1}function Ov(){var t=X.H;return X.H=Pl,t===null?Pl:t}function Mv(){var t=X.A;return X.A=tT,t}function $u(){Et=4,ca||(Pe&4194048)!==Pe&&Vn.current!==null||(_o=!0),(ua&134217727)===0&&(vs&134217727)===0||it===null||da(it,Pe,Ln,!1)}function kd(t,r,s){var l=Qe;Qe|=2;var f=Ov(),m=Mv();(it!==t||Pe!==r)&&(Gu=null,Ao(t,r)),r=!1;var E=Et;e:do try{if(Ze!==0&&Me!==null){var B=Me,H=Fn;switch(Ze){case 8:Nd(),E=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var ee=Ze;if(Ze=0,Fn=null,To(t,B,H,ee),s&&_o){E=0;break e}break;default:ee=Ze,Ze=0,Fn=null,To(t,B,H,ee)}}iT(),E=Et;break}catch(ie){kv(t,ie)}while(!0);return r&&t.shellSuspendCounter++,yi=cs=null,Qe=l,X.H=f,X.A=m,Me===null&&(it=null,Pe=0,du()),E}function iT(){for(;Me!==null;)Vv(Me)}function aT(t,r){var s=Qe;Qe|=2;var l=Ov(),f=Mv();it!==t||Pe!==r?(Gu=null,qu=Dt()+500,Ao(t,r)):_o=Nn(t,r);e:do try{if(Ze!==0&&Me!==null){r=Me;var m=Fn;t:switch(Ze){case 1:Ze=0,Fn=null,To(t,r,m,1);break;case 2:case 9:if(Kg(m)){Ze=0,Fn=null,Pv(r);break}r=function(){Ze!==2&&Ze!==9||it!==t||(Ze=7),ni(t)},m.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Kg(m)?(Ze=0,Fn=null,Pv(r)):(Ze=0,Fn=null,To(t,r,m,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var B=Me;if(E?bx(E):B.stateNode.complete){Ze=0,Fn=null;var H=B.sibling;if(H!==null)Me=H;else{var ee=B.return;ee!==null?(Me=ee,Qu(ee)):Me=null}break t}}Ze=0,Fn=null,To(t,r,m,5);break;case 6:Ze=0,Fn=null,To(t,r,m,6);break;case 8:Nd(),Et=6;break e;default:throw Error(a(462))}}sT();break}catch(ie){kv(t,ie)}while(!0);return yi=cs=null,X.H=l,X.A=f,Qe=s,Me!==null?0:(it=null,Pe=0,du(),Et)}function sT(){for(;Me!==null&&!sn();)Vv(Me)}function Vv(t){var r=sv(t.alternate,t,Si);t.memoizedProps=t.pendingProps,r===null?Qu(t):Me=r}function Pv(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=ev(s,r,r.pendingProps,r.type,void 0,Pe);break;case 11:r=ev(s,r,r.pendingProps,r.type.render,r.ref,Pe);break;case 5:$0(r);default:lv(s,r),r=Me=Mg(r,Si),r=sv(s,r,Si)}t.memoizedProps=t.pendingProps,r===null?Qu(t):Me=r}function To(t,r,s,l){yi=cs=null,$0(r),fo=null,Rl=0;var f=r.return;try{if(QA(t,f,r,s,Pe)){Et=1,Mu(t,Jn(s,t.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;Et=1,Mu(t,Jn(s,t.current)),Me=null;return}r.flags&32768?(ze||l===1?t=!0:_o||(Pe&536870912)!==0?t=!1:(ca=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fv(r,t)):Qu(r)}function Qu(t){var r=t;do{if((r.flags&32768)!==0){Fv(r,ca);return}t=r.return;var s=WA(r.alternate,r,Si);if(s!==null){Me=s;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=t}while(r!==null);Et===0&&(Et=5)}function Fv(t,r){do{var s=ZA(t.alternate,t);if(s!==null){s.flags&=32767,Me=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Me=t;return}Me=t=s}while(t!==null);Et=6,Me=null}function Lv(t,r,s,l,f,m,E,B,H){t.cancelPendingCommit=null;do Yu();while(zt!==0);if((Qe&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(m=r.lanes|r.childLanes,m|=_0,al(t,s,m,E,B,H),t===it&&(Me=it=null,Pe=0),bo=r,fa=t,Di=s,Dd=m,Rd=f,Dv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uT(Mr,function(){return qv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ue.p,ue.p=2,E=Qe,Qe|=4;try{JA(t,r,s)}finally{Qe=E,ue.p=f,X.T=l}}zt=1,Uv(),jv(),zv()}}function Uv(){if(zt===1){zt=0;var t=fa,r=bo,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=ue.p;ue.p=2;var f=Qe;Qe|=4;try{_v(r,t);var m=qd,E=wg(t.containerInfo),B=m.focusedElem,H=m.selectionRange;if(E!==B&&B&&B.ownerDocument&&Cg(B.ownerDocument.documentElement,B)){if(H!==null&&p0(B)){var ee=H.start,ie=H.end;if(ie===void 0&&(ie=ee),"selectionStart"in B)B.selectionStart=ee,B.selectionEnd=Math.min(ie,B.value.length);else{var oe=B.ownerDocument||document,te=oe&&oe.defaultView||window;if(te.getSelection){var re=te.getSelection(),ve=B.textContent.length,Ce=Math.min(H.start,ve),rt=H.end===void 0?Ce:Math.min(H.end,ve);!re.extend&&Ce>rt&&(E=rt,rt=Ce,Ce=E);var Q=Tg(B,Ce),$=Tg(B,rt);if(Q&&$&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==$.node||re.focusOffset!==$.offset)){var J=oe.createRange();J.setStart(Q.node,Q.offset),re.removeAllRanges(),Ce>rt?(re.addRange(J),re.extend($.node,$.offset)):(J.setEnd($.node,$.offset),re.addRange(J))}}}}for(oe=[],re=B;re=re.parentNode;)re.nodeType===1&&oe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<oe.length;B++){var ae=oe[B];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}oh=!!Hd,qd=Hd=null}finally{Qe=f,ue.p=l,X.T=s}}t.current=r,zt=2}}function jv(){if(zt===2){zt=0;var t=fa,r=bo,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=ue.p;ue.p=2;var f=Qe;Qe|=4;try{pv(t,r.alternate,r)}finally{Qe=f,ue.p=l,X.T=s}}zt=3}}function zv(){if(zt===4||zt===3){zt=0,Dn();var t=fa,r=bo,s=Di,l=Dv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,bo=fa=null,Hv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ha=null),pr(s),r=r.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Rn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=ue.p,ue.p=2,X.T=null;try{for(var m=t.onRecoverableError,E=0;E<l.length;E++){var B=l[E];m(B.value,{componentStack:B.stack})}}finally{X.T=r,ue.p=f}}(Di&3)!==0&&Yu(),ni(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===Id?Kl++:(Kl=0,Id=t):Kl=0,$l(0)}}function Hv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Sl(r)))}function Yu(){return Uv(),jv(),zv(),qv()}function qv(){if(zt!==5)return!1;var t=fa,r=Dd;Dd=0;var s=pr(Di),l=X.T,f=ue.p;try{ue.p=32>s?32:s,X.T=null,s=Rd,Rd=null;var m=fa,E=Di;if(zt=0,bo=fa=null,Di=0,(Qe&6)!==0)throw Error(a(331));var B=Qe;if(Qe|=4,Cv(m.current),bv(m,m.current,E,s),Qe=B,$l(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Rn,m)}catch{}return!0}finally{ue.p=f,X.T=l,Hv(t,r)}}function Gv(t,r,s){r=Jn(s,r),r=ld(t.stateNode,r,2),t=aa(t,r,2),t!==null&&(Pr(t,2),ni(t))}function Je(t,r,s){if(t.tag===3)Gv(t,t,s);else for(;r!==null;){if(r.tag===3){Gv(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ha===null||!ha.has(l))){t=Jn(s,t),s=Ky(2),l=aa(r,s,2),l!==null&&($y(s,l,r,t),Pr(l,2),ni(l));break}}r=r.return}}function Bd(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new nT;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(Cd=!0,f.add(s),t=oT.bind(null,t,r,s),r.then(t,t))}function oT(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,it===t&&(Pe&s)===s&&(Et===4||Et===3&&(Pe&62914560)===Pe&&300>Dt()-Hu?(Qe&2)===0&&Ao(t,0):wd|=s,Eo===Pe&&(Eo=0)),ni(t)}function Kv(t,r){r===0&&(r=zs()),t=ss(t,r),t!==null&&(Pr(t,r),ni(t))}function lT(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Kv(t,s)}function cT(t,r){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),Kv(t,s)}function uT(t,r){return lt(t,r)}var Xu=null,Co=null,Od=!1,Wu=!1,Md=!1,ma=0;function ni(t){t!==Co&&t.next===null&&(Co===null?Xu=Co=t:Co=Co.next=t),Wu=!0,Od||(Od=!0,fT())}function $l(t,r){if(!Md&&Wu){Md=!0;do for(var s=!1,l=Xu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var E=l.suspendedLanes,B=l.pingedLanes;m=(1<<31-yt(42|t)+1)-1,m&=f&~(E&~B),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,Xv(l,m))}else m=Pe,m=Kn(l,l===it?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Nn(l,m)||(s=!0,Xv(l,m));l=l.next}while(s);Md=!1}}function hT(){$v()}function $v(){Wu=Od=!1;var t=0;ma!==0&&bT()&&(t=ma);for(var r=Dt(),s=null,l=Xu;l!==null;){var f=l.next,m=Qv(l,r);m===0?(l.next=null,s===null?Xu=f:s.next=f,f===null&&(Co=s)):(s=l,(t!==0||(m&3)!==0)&&(Wu=!0)),l=f}zt!==0&&zt!==5||$l(t),ma!==0&&(ma=0)}function Qv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var E=31-yt(m),B=1<<E,H=f[E];H===-1?((B&s)===0||(B&l)!==0)&&(f[E]=js(B,r)):H<=r&&(t.expiredLanes|=B),m&=~B}if(r=it,s=Pe,s=Kn(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&St(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Nn(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&St(l),pr(s)){case 2:case 8:s=dr;break;case 32:s=Mr;break;case 268435456:s=Qa;break;default:s=Mr}return l=Yv.bind(null,t),s=lt(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&St(l),t.callbackPriority=2,t.callbackNode=null,2}function Yv(t,r){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Yu()&&t.callbackNode!==s)return null;var l=Pe;return l=Kn(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iv(t,l,r),Qv(t,Dt()),t.callbackNode!=null&&t.callbackNode===s?Yv.bind(null,t):null)}function Xv(t,r){if(Yu())return null;Iv(t,r,!0)}function fT(){TT(function(){(Qe&6)!==0?lt(qn,hT):$v()})}function Vd(){if(ma===0){var t=co;t===0&&(t=In,In<<=1,(In&261888)===0&&(In=256)),ma=t}return ma}function Wv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qs(""+t)}function Zv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function dT(t,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var m=Wv((f[Gt]||null).action),E=l.submitter;E&&(r=(r=E[Gt]||null)?Wv(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var B=new Yr("action","action",null,l,f);t.push({event:B,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ma!==0){var H=E?Zv(f,E):new FormData(f);nd(s,{pending:!0,data:H,method:f.method,action:m},null,H)}}else typeof m=="function"&&(B.preventDefault(),H=E?Zv(f,E):new FormData(f),nd(s,{pending:!0,data:H,method:f.method,action:m},m,H))},currentTarget:f}]})}}for(var Pd=0;Pd<x0.length;Pd++){var Fd=x0[Pd],mT=Fd.toLowerCase(),pT=Fd[0].toUpperCase()+Fd.slice(1);Ar(mT,"on"+pT)}Ar(Rg,"onAnimationEnd"),Ar(Ig,"onAnimationIteration"),Ar(Ng,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(NA,"onTransitionRun"),Ar(kA,"onTransitionStart"),Ar(BA,"onTransitionCancel"),Ar(kg,"onTransitionEnd"),Gr("onMouseEnter",["mouseout","mouseover"]),Gr("onMouseLeave",["mouseout","mouseover"]),Gr("onPointerEnter",["pointerout","pointerover"]),Gr("onPointerLeave",["pointerout","pointerover"]),qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function Jv(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var E=l.length-1;0<=E;E--){var B=l[E],H=B.instance,ee=B.currentTarget;if(B=B.listener,H!==m&&f.isPropagationStopped())break e;m=B,f.currentTarget=ee;try{m(f)}catch(ie){fu(ie)}f.currentTarget=null,m=H}else for(E=0;E<l.length;E++){if(B=l[E],H=B.instance,ee=B.currentTarget,B=B.listener,H!==m&&f.isPropagationStopped())break e;m=B,f.currentTarget=ee;try{m(f)}catch(ie){fu(ie)}f.currentTarget=null,m=H}}}}function Ve(t,r){var s=r[Hs];s===void 0&&(s=r[Hs]=new Set);var l=t+"__bubble";s.has(l)||(ex(r,t,2,!1),s.add(l))}function Ld(t,r,s){var l=0;r&&(l|=4),ex(s,t,l,r)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Zu]){t[Zu]=!0,sl.forEach(function(s){s!=="selectionchange"&&(gT.has(s)||Ld(s,!1,t),Ld(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Zu]||(r[Zu]=!0,Ld("selectionchange",!1,r))}}function ex(t,r,s,l){switch(Rx(r)){case 2:var f=qT;break;case 8:f=GT;break;default:f=tm}s=f.bind(null,r,s,t),f=void 0,!Za||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,s,{capture:!0,passive:f}):t.addEventListener(r,s,!0):f!==void 0?t.addEventListener(r,s,{passive:f}):t.addEventListener(r,s,!1)}function jd(t,r,s,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var B=l.stateNode.containerInfo;if(B===f)break;if(E===4)for(E=l.return;E!==null;){var H=E.tag;if((H===3||H===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;B!==null;){if(E=zr(B),E===null)return;if(H=E.tag,H===5||H===6||H===26||H===27){l=m=E;continue e}B=B.parentNode}}l=l.return}Yi(function(){var ee=m,ie=Yn(s),oe=[];e:{var te=Bg.get(t);if(te!==void 0){var re=Yr,ve=t;switch(t){case"keypress":if(es(s)===0)break e;case"keydown":case"keyup":re=cu;break;case"focusin":ve="focus",re=ns;break;case"focusout":ve="blur",re=ns;break;case"beforeblur":case"afterblur":re=ns;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=x;break;case Rg:case Ig:case Ng:re=nu;break;case kg:re=P;break;case"scroll":case"scrollend":re=vl;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=mi;break;case"toggle":case"beforetoggle":re=ke}var Ce=(r&4)!==0,rt=!Ce&&(t==="scroll"||t==="scrollend"),Q=Ce?te!==null?te+"Capture":null:te;Ce=[];for(var $=ee,J;$!==null;){var ae=$;if(J=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||J===null||Q===null||(ae=xr($,Q),ae!=null&&Ce.push(Yl($,ae,J))),rt)break;$=$.return}0<Ce.length&&(te=new re(te,ve,null,s,ie),oe.push({event:te,listeners:Ce}))}}if((r&7)===0){e:{if(te=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",te&&s!==pl&&(ve=s.relatedTarget||s.fromElement)&&(zr(ve)||ve[Ur]))break e;if((re||te)&&(te=ie.window===ie?ie:(te=ie.ownerDocument)?te.defaultView||te.parentWindow:window,re?(ve=s.relatedTarget||s.toElement,re=ee,ve=ve?zr(ve):null,ve!==null&&(rt=c(ve),Ce=ve.tag,ve!==rt||Ce!==5&&Ce!==27&&Ce!==6)&&(ve=null)):(re=null,ve=ee),re!==ve)){if(Ce=xl,ae="onMouseLeave",Q="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=mi,ae="onPointerLeave",Q="onPointerEnter",$="pointer"),rt=re==null?te:kn(re),J=ve==null?te:kn(ve),te=new Ce(ae,$+"leave",re,s,ie),te.target=rt,te.relatedTarget=J,ae=null,zr(ie)===ee&&(Ce=new Ce(Q,$+"enter",ve,s,ie),Ce.target=J,Ce.relatedTarget=rt,ae=Ce),rt=ae,re&&ve)t:{for(Ce=yT,Q=re,$=ve,J=0,ae=Q;ae;ae=Ce(ae))J++;ae=0;for(var Ae=$;Ae;Ae=Ce(Ae))ae++;for(;0<J-ae;)Q=Ce(Q),J--;for(;0<ae-J;)$=Ce($),ae--;for(;J--;){if(Q===$||$!==null&&Q===$.alternate){Ce=Q;break t}Q=Ce(Q),$=Ce($)}Ce=null}else Ce=null;re!==null&&tx(oe,te,re,Ce,!1),ve!==null&&rt!==null&&tx(oe,rt,ve,Ce,!0)}}e:{if(te=ee?kn(ee):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var Ge=vg;else if(gg(te))if(xg)Ge=DA;else{Ge=wA;var xe=CA}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&$s(ee.elementType)&&(Ge=vg):Ge=SA;if(Ge&&(Ge=Ge(t,ee))){yg(oe,Ge,s,ie);break e}xe&&xe(t,te,ee),t==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&fl(te,"number",te.value)}switch(xe=ee?kn(ee):window,t){case"focusin":(gg(xe)||xe.contentEditable==="true")&&(to=xe,g0=ee,Tl=null);break;case"focusout":Tl=g0=to=null;break;case"mousedown":y0=!0;break;case"contextmenu":case"mouseup":case"dragend":y0=!1,Sg(oe,s,ie);break;case"selectionchange":if(IA)break;case"keydown":case"keyup":Sg(oe,s,ie)}var Oe;if($e)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else eo?rs(t,s)&&(Fe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Fe="onCompositionStart");Fe&&(Zr&&s.locale!=="ko"&&(eo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&eo&&(Oe=yl()):(Qr=ie,gl="value"in Qr?Qr.value:Qr.textContent,eo=!0)),xe=Ju(ee,Fe),0<xe.length&&(Fe=new Wr(Fe,t,null,s,ie),oe.push({event:Fe,listeners:xe}),Oe?Fe.data=Oe:(Oe=Js(s),Oe!==null&&(Fe.data=Oe)))),(Oe=Wn?EA(t,s):bA(t,s))&&(Fe=Ju(ee,"onBeforeInput"),0<Fe.length&&(xe=new Wr("onBeforeInput","beforeinput",null,s,ie),oe.push({event:xe,listeners:Fe}),xe.data=Oe)),dT(oe,t,ee,s,ie)}Jv(oe,r)})}function Yl(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Ju(t,r){for(var s=r+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=xr(t,s),f!=null&&l.unshift(Yl(t,f,m)),f=xr(t,r),f!=null&&l.push(Yl(t,f,m))),t.tag===3)return l;t=t.return}return[]}function yT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tx(t,r,s,l,f){for(var m=r._reactName,E=[];s!==null&&s!==l;){var B=s,H=B.alternate,ee=B.stateNode;if(B=B.tag,H!==null&&H===l)break;B!==5&&B!==26&&B!==27||ee===null||(H=ee,f?(ee=xr(s,m),ee!=null&&E.unshift(Yl(s,ee,H))):f||(ee=xr(s,m),ee!=null&&E.push(Yl(s,ee,H)))),s=s.return}E.length!==0&&t.push({event:r,listeners:E})}var vT=/\r\n?/g,xT=/\u0000|\uFFFD/g;function nx(t){return(typeof t=="string"?t:""+t).replace(vT,`
`).replace(xT,"")}function rx(t,r){return r=nx(r),nx(t)===r}function nt(t,r,s,l,f,m){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&vn(t,""+l);break;case"className":Bn(t,"class",l);break;case"tabIndex":Bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,s,l);break;case"style":ml(t,l,m);break;case"data":if(r!=="object"){Bn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Qs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(r!=="input"&&nt(t,r,"name",f.name,f,null),nt(t,r,"formEncType",f.formEncType,f,null),nt(t,r,"formMethod",f.formMethod,f,null),nt(t,r,"formTarget",f.formTarget,f,null)):(nt(t,r,"encType",f.encType,f,null),nt(t,r,"method",f.method,f,null),nt(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Qs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=vr);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Qs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Gs(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Jc.get(s)||s,Gs(t,s,l))}}function zd(t,r,s,l,f,m){switch(s){case"style":ml(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=vr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ol.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),m=t[Gt]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Gs(t,s,l)}}}function tn(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,f=!1,m;for(m in s)if(s.hasOwnProperty(m)){var E=s[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:nt(t,r,m,E,s,null)}}f&&nt(t,r,"srcSet",s.srcSet,s,null),l&&nt(t,r,"src",s.src,s,null);return;case"input":Ve("invalid",t);var B=m=E=f=null,H=null,ee=null;for(l in s)if(s.hasOwnProperty(l)){var ie=s[l];if(ie!=null)switch(l){case"name":f=ie;break;case"type":E=ie;break;case"checked":H=ie;break;case"defaultChecked":ee=ie;break;case"value":m=ie;break;case"defaultValue":B=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,r));break;default:nt(t,r,l,ie,s,null)}}Xc(t,m,B,H,ee,E,f,!1);return;case"select":Ve("invalid",t),l=E=m=null;for(f in s)if(s.hasOwnProperty(f)&&(B=s[f],B!=null))switch(f){case"value":m=B;break;case"defaultValue":E=B;break;case"multiple":l=B;default:nt(t,r,f,B,s,null)}r=m,s=E,t.multiple=!!l,r!=null?Gi(t,!!l,r,!1):s!=null&&Gi(t,!!l,s,!0);return;case"textarea":Ve("invalid",t),m=f=l=null;for(E in s)if(s.hasOwnProperty(E)&&(B=s[E],B!=null))switch(E){case"value":l=B;break;case"defaultValue":f=B;break;case"children":m=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(91));break;default:nt(t,r,E,B,s,null)}Ki(t,l,f,m);return;case"option":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,r,H,l,s,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Ql.length;l++)Ve(Ql[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in s)if(s.hasOwnProperty(ee)&&(l=s[ee],l!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:nt(t,r,ee,l,s,null)}return;default:if($s(r)){for(ie in s)s.hasOwnProperty(ie)&&(l=s[ie],l!==void 0&&zd(t,r,ie,l,s,void 0));return}}for(B in s)s.hasOwnProperty(B)&&(l=s[B],l!=null&&nt(t,r,B,l,s,null))}function _T(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,B=null,H=null,ee=null,ie=null;for(re in s){var oe=s[re];if(s.hasOwnProperty(re)&&oe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":H=oe;default:l.hasOwnProperty(re)||nt(t,r,re,null,l,oe)}}for(var te in l){var re=l[te];if(oe=s[te],l.hasOwnProperty(te)&&(re!=null||oe!=null))switch(te){case"type":m=re;break;case"name":f=re;break;case"checked":ee=re;break;case"defaultChecked":ie=re;break;case"value":E=re;break;case"defaultValue":B=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,r));break;default:re!==oe&&nt(t,r,te,re,l,oe)}}Ks(t,E,B,H,ee,ie,m,f);return;case"select":re=E=B=te=null;for(m in s)if(H=s[m],s.hasOwnProperty(m)&&H!=null)switch(m){case"value":break;case"multiple":re=H;default:l.hasOwnProperty(m)||nt(t,r,m,null,l,H)}for(f in l)if(m=l[f],H=s[f],l.hasOwnProperty(f)&&(m!=null||H!=null))switch(f){case"value":te=m;break;case"defaultValue":B=m;break;case"multiple":E=m;default:m!==H&&nt(t,r,f,m,l,H)}r=B,s=E,l=re,te!=null?Gi(t,!!s,te,!1):!!l!=!!s&&(r!=null?Gi(t,!!s,r,!0):Gi(t,!!s,s?[]:"",!1));return;case"textarea":re=te=null;for(B in s)if(f=s[B],s.hasOwnProperty(B)&&f!=null&&!l.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:nt(t,r,B,null,l,f)}for(E in l)if(f=l[E],m=s[E],l.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":te=f;break;case"defaultValue":re=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&nt(t,r,E,f,l,m)}Wc(t,te,re);return;case"option":for(var ve in s)if(te=s[ve],s.hasOwnProperty(ve)&&te!=null&&!l.hasOwnProperty(ve))switch(ve){case"selected":t.selected=!1;break;default:nt(t,r,ve,null,l,te)}for(H in l)if(te=l[H],re=s[H],l.hasOwnProperty(H)&&te!==re&&(te!=null||re!=null))switch(H){case"selected":t.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:nt(t,r,H,te,l,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in s)te=s[Ce],s.hasOwnProperty(Ce)&&te!=null&&!l.hasOwnProperty(Ce)&&nt(t,r,Ce,null,l,te);for(ee in l)if(te=l[ee],re=s[ee],l.hasOwnProperty(ee)&&te!==re&&(te!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,r));break;default:nt(t,r,ee,te,l,re)}return;default:if($s(r)){for(var rt in s)te=s[rt],s.hasOwnProperty(rt)&&te!==void 0&&!l.hasOwnProperty(rt)&&zd(t,r,rt,void 0,l,te);for(ie in l)te=l[ie],re=s[ie],!l.hasOwnProperty(ie)||te===re||te===void 0&&re===void 0||zd(t,r,ie,te,l,re);return}}for(var Q in s)te=s[Q],s.hasOwnProperty(Q)&&te!=null&&!l.hasOwnProperty(Q)&&nt(t,r,Q,null,l,te);for(oe in l)te=l[oe],re=s[oe],!l.hasOwnProperty(oe)||te===re||te==null&&re==null||nt(t,r,oe,te,l,re)}function ix(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ET(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],m=f.transferSize,E=f.initiatorType,B=f.duration;if(m&&B&&ix(E)){for(E=0,B=f.responseEnd,l+=1;l<s.length;l++){var H=s[l],ee=H.startTime;if(ee>B)break;var ie=H.transferSize,oe=H.initiatorType;ie&&ix(oe)&&(H=H.responseEnd,E+=ie*(H<B?1:(B-ee)/(H-ee)))}if(--l,r+=8*(m+E)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hd=null,qd=null;function eh(t){return t.nodeType===9?t:t.ownerDocument}function ax(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sx(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Gd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kd=null;function bT(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var ox=typeof setTimeout=="function"?setTimeout:void 0,AT=typeof clearTimeout=="function"?clearTimeout:void 0,lx=typeof Promise=="function"?Promise:void 0,TT=typeof queueMicrotask=="function"?queueMicrotask:typeof lx<"u"?function(t){return lx.resolve(null).then(t).catch(CT)}:ox;function CT(t){setTimeout(function(){throw t})}function pa(t){return t==="head"}function cx(t,r){var s=r,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(f),Ro(r);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Xl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Xl(s);for(var m=s.firstChild;m;){var E=m.nextSibling,B=m.nodeName;m[jr]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=E}}else s==="body"&&Xl(t.ownerDocument.body);s=f}while(s);Ro(r)}function ux(t,r){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function $d(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":$d(s),qs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function wT(t,r,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[jr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ir(t.nextSibling),t===null)break}return null}function ST(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ir(t.nextSibling),t===null))return null;return t}function hx(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ir(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function Yd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function DT(t,r){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||s.readyState!=="loading")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ir(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Xd=null;function fx(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(r===0)return ir(t.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}t=t.nextSibling}return null}function dx(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return t;r--}else s!=="/$"&&s!=="/&"||r++}t=t.previousSibling}return null}function mx(t,r,s){switch(r=eh(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Xl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);qs(t)}var ar=new Map,px=new Set;function th(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=ue.d;ue.d={f:RT,r:IT,D:NT,C:kT,L:BT,m:OT,X:VT,S:MT,M:PT};function RT(){var t=Ri.f(),r=Ku();return t||r}function IT(t){var r=Qn(t);r!==null&&r.tag===5&&r.type==="form"?ky(r):Ri.r(t)}var wo=typeof document>"u"?null:document;function gx(t,r,s){var l=wo;if(l&&typeof r=="string"&&r){var f=yn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),px.has(f)||(px.add(f),t={rel:t,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),tn(r,"link",t),Nt(r),l.head.appendChild(r)))}}function NT(t){Ri.D(t),gx("dns-prefetch",t,null)}function kT(t,r){Ri.C(t,r),gx("preconnect",t,r)}function BT(t,r,s){Ri.L(t,r,s);var l=wo;if(l&&t&&r){var f='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+yn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+yn(s.imageSizes)+'"]')):f+='[href="'+yn(t)+'"]';var m=f;switch(r){case"style":m=So(t);break;case"script":m=Do(t)}ar.has(m)||(t=v({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),ar.set(m,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Wl(m))||r==="script"&&l.querySelector(Zl(m))||(r=l.createElement("link"),tn(r,"link",t),Nt(r),l.head.appendChild(r)))}}function OT(t,r){Ri.m(t,r);var s=wo;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Do(t)}if(!ar.has(m)&&(t=v({rel:"modulepreload",href:t},r),ar.set(m,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zl(m)))return}l=s.createElement("link"),tn(l,"link",t),Nt(l),s.head.appendChild(l)}}}function MT(t,r,s){Ri.S(t,r,s);var l=wo;if(l&&t){var f=Hr(l).hoistableStyles,m=So(t);r=r||"default";var E=f.get(m);if(!E){var B={loading:0,preload:null};if(E=l.querySelector(Wl(m)))B.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},s),(s=ar.get(m))&&Wd(t,s);var H=E=l.createElement("link");Nt(H),tn(H,"link",t),H._p=new Promise(function(ee,ie){H.onload=ee,H.onerror=ie}),H.addEventListener("load",function(){B.loading|=1}),H.addEventListener("error",function(){B.loading|=2}),B.loading|=4,nh(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:B},f.set(m,E)}}}function VT(t,r){Ri.X(t,r);var s=wo;if(s&&t){var l=Hr(s).hoistableScripts,f=Do(t),m=l.get(f);m||(m=s.querySelector(Zl(f)),m||(t=v({src:t,async:!0},r),(r=ar.get(f))&&Zd(t,r),m=s.createElement("script"),Nt(m),tn(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function PT(t,r){Ri.M(t,r);var s=wo;if(s&&t){var l=Hr(s).hoistableScripts,f=Do(t),m=l.get(f);m||(m=s.querySelector(Zl(f)),m||(t=v({src:t,async:!0,type:"module"},r),(r=ar.get(f))&&Zd(t,r),m=s.createElement("script"),Nt(m),tn(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function yx(t,r,s,l){var f=(f=ge.current)?th(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=So(s.href),s=Hr(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=So(s.href);var m=Hr(f).hoistableStyles,E=m.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,E),(m=f.querySelector(Wl(t)))&&!m._p&&(E.instance=m,E.state.loading=5),ar.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ar.set(t,s),m||FT(f,t,s,E.state))),r&&l===null)throw Error(a(528,""));return E}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Do(s),s=Hr(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function So(t){return'href="'+yn(t)+'"'}function Wl(t){return'link[rel="stylesheet"]['+t+"]"}function vx(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function FT(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),tn(r,"link",s),Nt(r),t.head.appendChild(r))}function Do(t){return'[src="'+yn(t)+'"]'}function Zl(t){return"script[async]"+t}function xx(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+yn(s.href)+'"]');if(l)return r.instance=l,Nt(l),l;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),tn(l,"style",f),nh(l,s.precedence,t),r.instance=l;case"stylesheet":f=So(s.href);var m=t.querySelector(Wl(f));if(m)return r.state.loading|=4,r.instance=m,Nt(m),m;l=vx(s),(f=ar.get(f))&&Wd(l,f),m=(t.ownerDocument||t).createElement("link"),Nt(m);var E=m;return E._p=new Promise(function(B,H){E.onload=B,E.onerror=H}),tn(m,"link",l),r.state.loading|=4,nh(m,s.precedence,t),r.instance=m;case"script":return m=Do(s.src),(f=t.querySelector(Zl(m)))?(r.instance=f,Nt(f),f):(l=s,(f=ar.get(m))&&(l=v({},s),Zd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Nt(f),tn(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,nh(l,s.precedence,t));return r.instance}function nh(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,E=0;E<l.length;E++){var B=l[E];if(B.dataset.precedence===r)m=B;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Wd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Zd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var rh=null;function _x(t,r,s){if(rh===null){var l=new Map,f=rh=new Map;f.set(s,l)}else f=rh,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var m=s[f];if(!(m[jr]||m[It]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=t+E;var B=l.get(E);B?B.push(m):l.set(E,[m])}}return l}function Ex(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function LT(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function UT(t,r,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=So(l.href),m=r.querySelector(Wl(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=ih.bind(t),r.then(t,t)),s.state.loading|=4,s.instance=m,Nt(m);return}m=r.ownerDocument||r,l=vx(l),(f=ar.get(f))&&Wd(l,f),m=m.createElement("link"),Nt(m);var E=m;E._p=new Promise(function(B,H){E.onload=B,E.onerror=H}),tn(m,"link",l),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=ih.bind(t),r.addEventListener("load",s),r.addEventListener("error",s))}}var Jd=0;function jT(t,r){return t.stylesheets&&t.count===0&&sh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&sh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&Jd===0&&(Jd=62500*ET());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&sh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Jd?50:800)+r);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ah=null;function sh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ah=new Map,r.forEach(zT,t),ah=null,ih.call(t))}function zT(t,r){if(!(r.state.loading&4)){var s=ah.get(t);if(s)var l=s.get(null);else{s=new Map,ah.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),m=s.get(E)||l,m===l&&s.set(null,f),s.set(E,f),this.count++,l=ih.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Jl={$$typeof:V,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function HT(t,r,s,l,f,m,E,B,H){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Ax(t,r,s,l,f,m,E,B,H,ee,ie,oe){return t=new HT(t,r,s,E,H,ee,ie,oe,B),r=1,m===!0&&(r|=24),m=Mn(3,null,null,r),t.current=m,m.stateNode=t,r=k0(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:s,cache:r},V0(m),t}function Tx(t){return t?(t=io,t):io}function Cx(t,r,s,l,f,m){f=Tx(f),l.context===null?l.context=f:l.pendingContext=f,l=ia(r),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=aa(t,l,r),s!==null&&(An(s,t,r),Nl(s,t,r))}function wx(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function em(t,r){wx(t,r),(t=t.alternate)&&wx(t,r)}function Sx(t){if(t.tag===13||t.tag===31){var r=ss(t,67108864);r!==null&&An(r,t,67108864),em(t,67108864)}}function Dx(t){if(t.tag===13||t.tag===31){var r=Un();r=Lr(r);var s=ss(t,r);s!==null&&An(s,t,r),em(t,r)}}var oh=!0;function qT(t,r,s,l){var f=X.T;X.T=null;var m=ue.p;try{ue.p=2,tm(t,r,s,l)}finally{ue.p=m,X.T=f}}function GT(t,r,s,l){var f=X.T;X.T=null;var m=ue.p;try{ue.p=8,tm(t,r,s,l)}finally{ue.p=m,X.T=f}}function tm(t,r,s,l){if(oh){var f=nm(l);if(f===null)jd(t,r,l,lh,s),Ix(t,l);else if($T(f,t,r,s,l))l.stopPropagation();else if(Ix(t,l),r&4&&-1<KT.indexOf(t)){for(;f!==null;){var m=Qn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Gn(m.pendingLanes);if(E!==0){var B=m;for(B.pendingLanes|=2,B.entangledLanes|=2;E;){var H=1<<31-yt(E);B.entanglements[1]|=H,E&=~H}ni(m),(Qe&6)===0&&(qu=Dt()+500,$l(0))}}break;case 31:case 13:B=ss(m,2),B!==null&&An(B,m,2),Ku(),em(m,2)}if(m=nm(l),m===null&&jd(t,r,l,lh,s),m===f)break;f=m}f!==null&&l.stopPropagation()}else jd(t,r,l,null,s)}}function nm(t){return t=Yn(t),rm(t)}var lh=null;function rm(t){if(lh=null,t=zr(t),t!==null){var r=c(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=u(r),t!==null)return t;t=null}else if(s===31){if(t=p(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return lh=t,null}function Rx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Or()){case qn:return 2;case dr:return 8;case Mr:case Fs:return 32;case Qa:return 268435456;default:return 32}default:return 32}}var im=!1,ga=null,ya=null,va=null,ec=new Map,tc=new Map,xa=[],KT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ix(t,r){switch(t){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":ec.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(r.pointerId)}}function nc(t,r,s,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Qn(r),r!==null&&Sx(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function $T(t,r,s,l,f){switch(r){case"focusin":return ga=nc(ga,t,r,s,l,f),!0;case"dragenter":return ya=nc(ya,t,r,s,l,f),!0;case"mouseover":return va=nc(va,t,r,s,l,f),!0;case"pointerover":var m=f.pointerId;return ec.set(m,nc(ec.get(m)||null,t,r,s,l,f)),!0;case"gotpointercapture":return m=f.pointerId,tc.set(m,nc(tc.get(m)||null,t,r,s,l,f)),!0}return!1}function Nx(t){var r=zr(t.target);if(r!==null){var s=c(r);if(s!==null){if(r=s.tag,r===13){if(r=u(s),r!==null){t.blockedOn=r,gr(t.priority,function(){Dx(s)});return}}else if(r===31){if(r=p(s),r!==null){t.blockedOn=r,gr(t.priority,function(){Dx(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=nm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);pl=l,s.target.dispatchEvent(l),pl=null}else return r=Qn(s),r!==null&&Sx(r),t.blockedOn=s,!1;r.shift()}return!0}function kx(t,r,s){ch(t)&&s.delete(r)}function QT(){im=!1,ga!==null&&ch(ga)&&(ga=null),ya!==null&&ch(ya)&&(ya=null),va!==null&&ch(va)&&(va=null),ec.forEach(kx),tc.forEach(kx)}function uh(t,r){t.blockedOn===r&&(t.blockedOn=null,im||(im=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,QT)))}var hh=null;function Bx(t){hh!==t&&(hh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){hh===t&&(hh=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(rm(l||s)===null)continue;break}var m=Qn(s);m!==null&&(t.splice(r,3),r-=3,nd(m,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Ro(t){function r(H){return uh(H,t)}ga!==null&&uh(ga,t),ya!==null&&uh(ya,t),va!==null&&uh(va,t),ec.forEach(r),tc.forEach(r);for(var s=0;s<xa.length;s++){var l=xa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<xa.length&&(s=xa[0],s.blockedOn===null);)Nx(s),s.blockedOn===null&&xa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],m=s[l+1],E=f[Gt]||null;if(typeof m=="function")E||Bx(s);else if(E){var B=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Gt]||null)B=E.formAction;else if(rm(f)!==null)continue}else B=E.action;typeof B=="function"?s[l+1]=B:(s.splice(l,3),l-=3),Bx(s)}}}function Ox(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function am(t){this._internalRoot=t}fh.prototype.render=am.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Un();Cx(s,l,t,r,null,null)},fh.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Cx(t.current,2,null,t,null,null),Ku(),r[Ur]=null}};function fh(t){this._internalRoot=t}fh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Kc();t={blockedOn:null,target:t,priority:r};for(var s=0;s<xa.length&&r!==0&&r<xa[s].priority;s++);xa.splice(s,0,t),s===0&&Nx(t)}};var Mx=e.version;if(Mx!=="19.2.0")throw Error(a(527,Mx,"19.2.0"));ue.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=d(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var YT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{Rn=dh.inject(YT),Rt=dh}catch{}}return ic.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",f=zy,m=Hy,E=qy;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=Ax(t,1,!1,null,null,s,l,null,f,m,E,Ox),t[Ur]=r.current,Ud(t),new am(r)},ic.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,f="",m=zy,E=Hy,B=qy,H=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(B=s.onRecoverableError),s.formState!==void 0&&(H=s.formState)),r=Ax(t,1,!0,r,s??null,l,f,H,m,E,B,Ox),r.context=Tx(null),s=r.current,l=Un(),l=Lr(l),f=ia(l),f.callback=null,aa(s,f,l),s=l,r.current.lanes=s,Pr(r,s),ni(r),t[Ur]=r.current,Ud(t),new fh(r)},ic.version="19.2.0",ic}var Gx;function s4(){if(Gx)return cm.exports;Gx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cm.exports=a4(),cm.exports}var o4=s4();var Kx="popstate";function l4(i={}){function e(a,o){let{pathname:c,search:u,hash:p}=a.location;return Dm("",{pathname:c,search:u,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:vc(o)}return u4(e,n,null,i)}function gt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function cr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c4(){return Math.random().toString(36).substring(2,10)}function $x(i,e){return{usr:i.state,key:i.key,idx:e}}function Dm(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Yo(e):e,state:n,key:e&&e.key||a||c4()}}function vc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Yo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function u4(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,u=o.history,p="POP",g=null,d=y();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function y(){return(u.state||{idx:null}).idx}function v(){p="POP";let S=y(),U=S==null?null:S-d;d=S,g&&g({action:p,location:N.location,delta:U})}function _(S,U){p="PUSH";let k=Dm(N.location,S,U);d=y()+1;let V=$x(k,d),j=N.createHref(k);try{u.pushState(V,"",j)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;o.location.assign(j)}c&&g&&g({action:p,location:N.location,delta:1})}function A(S,U){p="REPLACE";let k=Dm(N.location,S,U);d=y();let V=$x(k,d),j=N.createHref(k);u.replaceState(V,"",j),c&&g&&g({action:p,location:N.location,delta:0})}function C(S){return h4(S)}let N={get action(){return p},get location(){return i(o,u)},listen(S){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Kx,v),g=S,()=>{o.removeEventListener(Kx,v),g=null}},createHref(S){return e(o,S)},createURL:C,encodeLocation(S){let U=C(S);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:_,replace:A,go(S){return u.go(S)}};return N}function h4(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:vc(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function dE(i,e,n="/"){return f4(i,e,n,!1)}function f4(i,e,n,a){let o=typeof e=="string"?Yo(e):e,c=Pi(o.pathname||"/",n);if(c==null)return null;let u=mE(i);d4(u);let p=null;for(let g=0;p==null&&g<u.length;++g){let d=T4(c);p=b4(u[g],d,a)}return p}function mE(i,e=[],n=[],a="",o=!1){let c=(u,p,g=o,d)=>{let y={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&g)return;gt(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let v=Oi([a,y.relativePath]),_=n.concat(y);u.children&&u.children.length>0&&(gt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),mE(u.children,e,_,v,g)),!(u.path==null&&!u.index)&&e.push({path:v,score:_4(v,u.index),routesMeta:_})};return i.forEach((u,p)=>{if(u.path===""||!u.path?.includes("?"))c(u,p);else for(let g of pE(u.path))c(u,p,!0,g)}),e}function pE(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let u=pE(a.join("/")),p=[];return p.push(...u.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...u),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function d4(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:E4(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var m4=/^:[\w-]+$/,p4=3,g4=2,y4=1,v4=10,x4=-2,Qx=i=>i==="*";function _4(i,e){let n=i.split("/"),a=n.length;return n.some(Qx)&&(a+=x4),e&&(a+=g4),n.filter(o=>!Qx(o)).reduce((o,c)=>o+(m4.test(c)?p4:c===""?y4:v4),a)}function E4(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function b4(i,e,n=!1){let{routesMeta:a}=i,o={},c="/",u=[];for(let p=0;p<a.length;++p){let g=a[p],d=p===a.length-1,y=c==="/"?e:e.slice(c.length)||"/",v=gf({path:g.relativePath,caseSensitive:g.caseSensitive,end:d},y),_=g.route;if(!v&&d&&n&&!a[a.length-1].route.index&&(v=gf({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:Oi([c,v.pathname]),pathnameBase:R4(Oi([c,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(c=Oi([c,v.pathnameBase]))}return u}function gf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=A4(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:a.reduce((d,{paramName:y,isOptional:v},_)=>{if(y==="*"){let C=p[_]||"";u=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const A=p[_];return v&&!A?d[y]=void 0:d[y]=(A||"").replace(/%2F/g,"/"),d},{}),pathname:c,pathnameBase:u,pattern:i}}function A4(i,e=!1,n=!0){cr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function T4(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Pi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}var C4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w4=i=>C4.test(i);function S4(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?Yo(i):i,c;if(n)if(w4(n))c=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),cr(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?c=Yx(n.substring(1),"/"):c=Yx(n,e)}else c=e;return{pathname:c,search:I4(a),hash:N4(o)}}function Yx(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dm(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D4(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function op(i){let e=D4(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function lp(i,e,n,a=!1){let o;typeof i=="string"?o=Yo(i):(o={...i},gt(!o.pathname||!o.pathname.includes("?"),dm("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),dm("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),dm("#","search","hash",o)));let c=i===""||o.pathname==="",u=c?"/":o.pathname,p;if(u==null)p=n;else{let v=e.length-1;if(!a&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),v-=1;o.pathname=_.join("/")}p=v>=0?e[v]:"/"}let g=S4(o,p),d=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(d||y)&&(g.pathname+="/"),g}var Oi=i=>i.join("/").replace(/\/\/+/g,"/"),R4=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),I4=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,N4=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function k4(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function B4(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gE=["POST","PUT","PATCH","DELETE"];new Set(gE);var O4=["GET",...gE];new Set(O4);var Xo=K.createContext(null);Xo.displayName="DataRouter";var Vf=K.createContext(null);Vf.displayName="DataRouterState";K.createContext(!1);var yE=K.createContext({isTransitioning:!1});yE.displayName="ViewTransition";var M4=K.createContext(new Map);M4.displayName="Fetchers";var V4=K.createContext(null);V4.displayName="Await";var hr=K.createContext(null);hr.displayName="Navigation";var Nc=K.createContext(null);Nc.displayName="Location";var Rr=K.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var cp=K.createContext(null);cp.displayName="RouteError";function P4(i,{relative:e}={}){gt(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=K.useContext(hr),{hash:o,pathname:c,search:u}=kc(i,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:Oi([n,c])),a.createHref({pathname:p,search:u,hash:o})}function Wo(){return K.useContext(Nc)!=null}function zi(){return gt(Wo(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Nc).location}var vE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xE(i){K.useContext(hr).static||K.useLayoutEffect(i)}function _E(){let{isDataRoute:i}=K.useContext(Rr);return i?Z4():F4()}function F4(){gt(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(Xo),{basename:e,navigator:n}=K.useContext(hr),{matches:a}=K.useContext(Rr),{pathname:o}=zi(),c=JSON.stringify(op(a)),u=K.useRef(!1);return xE(()=>{u.current=!0}),K.useCallback((g,d={})=>{if(cr(u.current,vE),!u.current)return;if(typeof g=="number"){n.go(g);return}let y=lp(g,JSON.parse(c),o,d.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Oi([e,y.pathname])),(d.replace?n.replace:n.push)(y,d.state,d)},[e,n,c,o,i])}var L4=K.createContext(null);function U4(i){let e=K.useContext(Rr).outlet;return K.useMemo(()=>e&&K.createElement(L4.Provider,{value:i},e),[e,i])}function kc(i,{relative:e}={}){let{matches:n}=K.useContext(Rr),{pathname:a}=zi(),o=JSON.stringify(op(n));return K.useMemo(()=>lp(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function j4(i,e){return EE(i,e)}function EE(i,e,n,a,o){gt(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=K.useContext(hr),{matches:u}=K.useContext(Rr),p=u[u.length-1],g=p?p.params:{},d=p?p.pathname:"/",y=p?p.pathnameBase:"/",v=p&&p.route;{let k=v&&v.path||"";bE(d,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let _=zi(),A;if(e){let k=typeof e=="string"?Yo(e):e;gt(y==="/"||k.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${k.pathname}" was given in the \`location\` prop.`),A=k}else A=_;let C=A.pathname||"/",N=C;if(y!=="/"){let k=y.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=dE(i,{pathname:N});cr(v||S!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),cr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=K4(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:Oi([y,c.encodeLocation?c.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?y:Oi([y,c.encodeLocation?c.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),u,n,a,o);return e&&U?K.createElement(Nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},U):U}function z4(){let i=W4(),e=k4(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:c},"ErrorBoundary")," or"," ",K.createElement("code",{style:c},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:o},n):null,u)}var H4=K.createElement(z4,null),q4=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?K.createElement(Rr.Provider,{value:this.props.routeContext},K.createElement(cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function G4({routeContext:i,match:e,children:n}){let a=K.useContext(Xo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Rr.Provider,{value:i},n)}function K4(i,e=[],n=null,a=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,u=n?.errors;if(u!=null){let y=c.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);gt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.id){let{loaderData:_,errors:A}=n,C=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||C){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let d=n&&a?(y,v)=>{a(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:B4(n.matches),errorInfo:v})}:void 0;return c.reduceRight((y,v,_)=>{let A,C=!1,N=null,S=null;n&&(A=u&&v.route.id?u[v.route.id]:void 0,N=v.route.errorElement||H4,p&&(g<0&&_===0?(bE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,S=null):g===_&&(C=!0,S=v.route.hydrateFallbackElement||null)));let U=e.concat(c.slice(0,_+1)),k=()=>{let V;return A?V=N:C?V=S:v.route.Component?V=K.createElement(v.route.Component,null):v.route.element?V=v.route.element:V=y,K.createElement(G4,{match:v,routeContext:{outlet:y,matches:U,isDataRoute:n!=null},children:V})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?K.createElement(q4,{location:n.location,revalidation:n.revalidation,component:N,error:A,children:k(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:d}):k()},null)}function up(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $4(i){let e=K.useContext(Xo);return gt(e,up(i)),e}function Q4(i){let e=K.useContext(Vf);return gt(e,up(i)),e}function Y4(i){let e=K.useContext(Rr);return gt(e,up(i)),e}function hp(i){let e=Y4(i),n=e.matches[e.matches.length-1];return gt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function X4(){return hp("useRouteId")}function W4(){let i=K.useContext(cp),e=Q4("useRouteError"),n=hp("useRouteError");return i!==void 0?i:e.errors?.[n]}function Z4(){let{router:i}=$4("useNavigate"),e=hp("useNavigate"),n=K.useRef(!1);return xE(()=>{n.current=!0}),K.useCallback(async(o,c={})=>{cr(n.current,vE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var Xx={};function bE(i,e,n){!e&&!Xx[i]&&(Xx[i]=!0,cr(!1,n))}K.memo(J4);function J4({routes:i,future:e,state:n,unstable_onError:a}){return EE(i,void 0,n,a,e)}function eC({to:i,replace:e,state:n,relative:a}){gt(Wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=K.useContext(hr);cr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=K.useContext(Rr),{pathname:u}=zi(),p=_E(),g=lp(i,op(c),u,a==="path"),d=JSON.stringify(g);return K.useEffect(()=>{p(JSON.parse(d),{replace:e,state:n,relative:a})},[p,d,a,e,n]),null}function tC(i){return U4(i.context)}function Io(i){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nC({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){gt(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),g=K.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[p,o,c,u]);typeof n=="string"&&(n=Yo(n));let{pathname:d="/",search:y="",hash:v="",state:_=null,key:A="default"}=n,C=K.useMemo(()=>{let N=Pi(d,p);return N==null?null:{location:{pathname:N,search:y,hash:v,state:_,key:A},navigationType:a}},[p,d,y,v,_,A,a]);return cr(C!=null,`<Router basename="${p}"> is not able to match the URL "${d}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:K.createElement(hr.Provider,{value:g},K.createElement(Nc.Provider,{children:e,value:C}))}function rC({children:i,location:e}){return j4(Rm(i),e)}function Rm(i,e=[]){let n=[];return K.Children.forEach(i,(a,o)=>{if(!K.isValidElement(a))return;let c=[...e,o];if(a.type===K.Fragment){n.push.apply(n,Rm(a.props.children,c));return}gt(a.type===Io,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=Rm(a.props.children,c)),n.push(u)}),n}var Eh="get",bh="application/x-www-form-urlencoded";function Pf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function iC(i){return Pf(i)&&i.tagName.toLowerCase()==="button"}function aC(i){return Pf(i)&&i.tagName.toLowerCase()==="form"}function sC(i){return Pf(i)&&i.tagName.toLowerCase()==="input"}function oC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function lC(i,e){return i.button===0&&(!e||e==="_self")&&!oC(i)}var mh=null;function cC(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var uC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(i){return i!=null&&!uC.has(i)?(cr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bh}"`),null):i}function hC(i,e){let n,a,o,c,u;if(aC(i)){let p=i.getAttribute("action");a=p?Pi(p,e):null,n=i.getAttribute("method")||Eh,o=mm(i.getAttribute("enctype"))||bh,c=new FormData(i)}else if(iC(i)||sC(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(a=g?Pi(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||Eh,o=mm(i.getAttribute("formenctype"))||mm(p.getAttribute("enctype"))||bh,c=new FormData(p,i),!cC()){let{name:d,type:y,value:v}=i;if(y==="image"){let _=d?`${d}.`:"";c.append(`${_}x`,"0"),c.append(`${_}y`,"0")}else d&&c.append(d,v)}}else{if(Pf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Eh,a=null,o=bh,u=i}return c&&o==="text/plain"&&(u=c,c=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function fC(i,e,n){let a=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Pi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function dC(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function pC(i,e,n){let a=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await dC(c,n);return u.links?u.links():[]}return[]}));return xC(a.flat(1).filter(mC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Wx(i,e,n,a,o,c){let u=(g,d)=>n[d]?g.route.id!==n[d].route.id:!0,p=(g,d)=>n[d].pathname!==g.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,d)=>u(g,d)||p(g,d)):c==="data"?e.filter((g,d)=>{let y=a.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(u(g,d)||p(g,d))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function gC(i,e,{includeHydrateFallback:n}={}){return yC(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function yC(i){return[...new Set(i)]}function vC(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function xC(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let c=JSON.stringify(vC(o));return n.has(c)||(n.add(c),a.push({key:c,link:o})),a},[])}function AE(){let i=K.useContext(Xo);return fp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function _C(){let i=K.useContext(Vf);return fp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var dp=K.createContext(void 0);dp.displayName="FrameworkContext";function TE(){let i=K.useContext(dp);return fp(i,"You must render this element inside a <HydratedRouter> element"),i}function EC(i,e){let n=K.useContext(dp),[a,o]=K.useState(!1),[c,u]=K.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:d,onMouseLeave:y,onTouchStart:v}=e,_=K.useRef(null);K.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let N=U=>{U.forEach(k=>{u(k.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return _.current&&S.observe(_.current),()=>{S.disconnect()}}},[i]),K.useEffect(()=>{if(a){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[a]);let A=()=>{o(!0)},C=()=>{o(!1),u(!1)};return n?i!=="intent"?[c,_,{}]:[c,_,{onFocus:ac(p,A),onBlur:ac(g,C),onMouseEnter:ac(d,A),onMouseLeave:ac(y,C),onTouchStart:ac(v,A)}]:[!1,_,{}]}function ac(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function bC({page:i,...e}){let{router:n}=AE(),a=K.useMemo(()=>dE(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?K.createElement(TC,{page:i,matches:a,...e}):null}function AC(i){let{manifest:e,routeModules:n}=TE(),[a,o]=K.useState([]);return K.useEffect(()=>{let c=!1;return pC(i,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[i,e,n]),a}function TC({page:i,matches:e,...n}){let a=zi(),{manifest:o,routeModules:c}=TE(),{basename:u}=AE(),{loaderData:p,matches:g}=_C(),d=K.useMemo(()=>Wx(i,e,g,o,a,"data"),[i,e,g,o,a]),y=K.useMemo(()=>Wx(i,e,g,o,a,"assets"),[i,e,g,o,a]),v=K.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let C=new Set,N=!1;if(e.forEach(U=>{let k=o.routes[U.route.id];!k||!k.hasLoader||(!d.some(V=>V.route.id===U.route.id)&&U.route.id in p&&c[U.route.id]?.shouldRevalidate||k.hasClientLoader?N=!0:C.add(U.route.id))}),C.size===0)return[];let S=fC(i,u,"data");return N&&C.size>0&&S.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[S.pathname+S.search]},[u,p,a,o,d,e,i,c]),_=K.useMemo(()=>gC(y,o),[y,o]),A=AC(y);return K.createElement(K.Fragment,null,v.map(C=>K.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),_.map(C=>K.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),A.map(({key:C,link:N})=>K.createElement("link",{key:C,nonce:n.nonce,...N})))}function CC(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CE&&(window.__reactRouterVersion="7.10.0")}catch{}function wC({basename:i,children:e,unstable_useTransitions:n,window:a}){let o=K.useRef();o.current==null&&(o.current=l4({window:a,v5Compat:!0}));let c=o.current,[u,p]=K.useState({action:c.action,location:c.location}),g=K.useCallback(d=>{n===!1?p(d):K.startTransition(()=>p(d))},[n]);return K.useLayoutEffect(()=>c.listen(g),[c,g]),K.createElement(nC,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:n===!0})}var wE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uo=K.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:c,replace:u,state:p,target:g,to:d,preventScrollReset:y,viewTransition:v,..._},A){let{basename:C,unstable_useTransitions:N}=K.useContext(hr),S=typeof d=="string"&&wE.test(d),U,k=!1;if(typeof d=="string"&&S&&(U=d,CE))try{let D=new URL(window.location.href),R=d.startsWith("//")?new URL(D.protocol+d):new URL(d),L=Pi(R.pathname,C);R.origin===D.origin&&L!=null?d=L+R.search+R.hash:k=!0}catch{cr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=P4(d,{relative:o}),[j,q,z]=EC(a,_),T=IC(d,{replace:u,state:p,target:g,preventScrollReset:y,relative:o,viewTransition:v,unstable_useTransitions:N});function w(D){e&&e(D),D.defaultPrevented||T(D)}let O=K.createElement("a",{..._,...z,href:U||V,onClick:k||c?e:w,ref:CC(A,q),target:g,"data-discover":!S&&n==="render"?"true":void 0});return j&&!S?K.createElement(K.Fragment,null,O,K.createElement(bC,{page:V})):O});Uo.displayName="Link";var SC=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:c,to:u,viewTransition:p,children:g,...d},y){let v=kc(u,{relative:d.relative}),_=zi(),A=K.useContext(Vf),{navigator:C,basename:N}=K.useContext(hr),S=A!=null&&MC(v)&&p===!0,U=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,k=_.pathname,V=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(k=k.toLowerCase(),V=V?V.toLowerCase():null,U=U.toLowerCase()),V&&N&&(V=Pi(V,N)||V);const j=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let q=k===U||!o&&k.startsWith(U)&&k.charAt(j)==="/",z=V!=null&&(V===U||!o&&V.startsWith(U)&&V.charAt(U.length)==="/"),T={isActive:q,isPending:z,isTransitioning:S},w=q?e:void 0,O;typeof a=="function"?O=a(T):O=[a,q?"active":null,z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(T):c;return K.createElement(Uo,{...d,"aria-current":w,className:O,ref:y,style:D,to:u,viewTransition:p},typeof g=="function"?g(T):g)});SC.displayName="NavLink";var DC=K.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:c,method:u=Eh,action:p,onSubmit:g,relative:d,preventScrollReset:y,viewTransition:v,..._},A)=>{let{unstable_useTransitions:C}=K.useContext(hr),N=BC(),S=OC(p,{relative:d}),U=u.toLowerCase()==="get"?"get":"post",k=typeof p=="string"&&wE.test(p),V=j=>{if(g&&g(j),j.defaultPrevented)return;j.preventDefault();let q=j.nativeEvent.submitter,z=q?.getAttribute("formmethod")||u,T=()=>N(q||j.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:o,state:c,relative:d,preventScrollReset:y,viewTransition:v});C&&n!==!1?K.startTransition(()=>T()):T()};return K.createElement("form",{ref:A,method:U,action:S,onSubmit:a?g:V,..._,"data-discover":!k&&i==="render"?"true":void 0})});DC.displayName="Form";function RC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SE(i){let e=K.useContext(Xo);return gt(e,RC(i)),e}function IC(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:c,viewTransition:u,unstable_useTransitions:p}={}){let g=_E(),d=zi(),y=kc(i,{relative:c});return K.useCallback(v=>{if(lC(v,e)){v.preventDefault();let _=n!==void 0?n:vc(d)===vc(y),A=()=>g(i,{replace:_,state:a,preventScrollReset:o,relative:c,viewTransition:u});p?K.startTransition(()=>A()):A()}},[d,g,y,n,a,e,i,o,c,u,p])}var NC=0,kC=()=>`__${String(++NC)}__`;function BC(){let{router:i}=SE("useSubmit"),{basename:e}=K.useContext(hr),n=X4(),a=i.fetch,o=i.navigate;return K.useCallback(async(c,u={})=>{let{action:p,method:g,encType:d,formData:y,body:v}=hC(c,e);if(u.navigate===!1){let _=u.fetcherKey||kC();await a(_,n,u.action||p,{preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||g,formEncType:u.encType||d,flushSync:u.flushSync})}else await o(u.action||p,{preventScrollReset:u.preventScrollReset,formData:y,body:v,formMethod:u.method||g,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,o,e,n])}function OC(i,{relative:e}={}){let{basename:n}=K.useContext(hr),a=K.useContext(Rr);gt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...kc(i||".",{relative:e})},u=zi();if(i==null){c.search=u.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(y=>y==="")){p.delete("index"),g.filter(v=>v).forEach(v=>p.append("index",v));let y=p.toString();c.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Oi([n,c.pathname])),vc(c)}function MC(i,{relative:e}={}){let n=K.useContext(yE);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=SE("useViewTransitionState"),o=kc(i,{relative:e});if(!n.isTransitioning)return!1;let c=Pi(n.currentLocation.pathname,a)||n.currentLocation.pathname,u=Pi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return gf(o.pathname,u)!=null||gf(o.pathname,c)!=null}var VC=fE();const PC=()=>{};var Zx={};const DE=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},FC=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],u=i[n++],p=i[n++],g=((o&7)<<18|(c&63)<<12|(u&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],u=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},RE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,p=u?i[o+1]:0,g=o+2<i.length,d=g?i[o+2]:0,y=c>>2,v=(c&3)<<4|p>>4;let _=(p&15)<<2|d>>6,A=d&63;g||(A=64,u||(_=64)),a.push(n[y],n[v],n[_],n[A])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(DE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):FC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const d=o<i.length?n[i.charAt(o)]:64;++o;const v=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||p==null||d==null||v==null)throw new LC;const _=c<<2|p>>4;if(a.push(_),d!==64){const A=p<<4&240|d>>2;if(a.push(A),v!==64){const C=d<<6&192|v;a.push(C)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class LC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UC=function(i){const e=DE(i);return RE.encodeByteArray(e,!0)},yf=function(i){return UC(i).replace(/\./g,"")},IE=function(i){try{return RE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zC=()=>jC().__FIREBASE_DEFAULTS__,HC=()=>{if(typeof process>"u"||typeof Zx>"u")return;const i=Zx.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},qC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&IE(i[1]);return e&&JSON.parse(e)},Ff=()=>{try{return PC()||zC()||HC()||qC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},NE=i=>Ff()?.emulatorHosts?.[i],GC=i=>{const e=NE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},kE=()=>Ff()?.config,BE=i=>Ff()?.[`_${i}`];class KC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function Zo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function OE(i){return(await fetch(i,{credentials:"include"})).ok}function $C(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[yf(JSON.stringify(n)),yf(JSON.stringify(u)),""].join(".")}const fc={};function QC(){const i={prod:[],emulator:[]};for(const e of Object.keys(fc))fc[e]?i.emulator.push(e):i.prod.push(e);return i}function YC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Jx=!1;function ME(i,e){if(typeof window>"u"||typeof document>"u"||!Zo(window.location.host)||fc[i]===e||fc[i]||Jx)return;fc[i]=e;function n(_){return`__firebase__banner__${_}`}const a="__firebase__banner",c=QC().prod.length>0;function u(){const _=document.getElementById(a);_&&_.remove()}function p(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function g(_,A){_.setAttribute("width","24"),_.setAttribute("id",A),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Jx=!0,u()},_}function y(_,A){_.setAttribute("id",A),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=YC(a),A=n("text"),C=document.getElementById(A)||document.createElement("span"),N=n("learnmore"),S=document.getElementById(N)||document.createElement("a"),U=n("preprendIcon"),k=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const V=_.element;p(V),y(S,N);const j=d();g(k,U),V.append(k,C,S,j),document.body.appendChild(V)}c?(C.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function WC(){const i=Ff()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function ew(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tw(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function nw(){return!WC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rw(){try{return typeof indexedDB=="object"}catch{return!1}}function iw(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const aw="FirebaseError";class Hi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=aw,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bc.prototype.create)}}class Bc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?sw(c,a):"Error",p=`${this.serviceName}: ${u} (${o}).`;return new Hi(o,p,a)}}function sw(i,e){return i.replace(ow,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const ow=/\{\$([^}]+)}/g;function lw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ws(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const c=i[o],u=e[o];if(e1(c)&&e1(u)){if(!ws(c,u))return!1}else if(c!==u)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function e1(i){return i!==null&&typeof i=="object"}function Oc(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function sc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function oc(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function cw(i,e){const n=new uw(i,e);return n.subscribe.bind(n)}class uw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");hw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function pm(){}function Ut(i){return i&&i._delegate?i._delegate:i}class Ss{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xs="[DEFAULT]";class fw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new KC;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mw(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&u.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:dw(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dw(i){return i===xs?void 0:i}function mw(i){return i.instantiationMode==="EAGER"}class pw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const gw={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},yw=Le.INFO,vw={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},xw=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=vw[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mp{constructor(e){this.name=e,this._logLevel=yw,this._logHandler=xw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const _w=(i,e)=>e.some(n=>i instanceof n);let t1,n1;function Ew(){return t1||(t1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bw(){return n1||(n1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,Im=new WeakMap,PE=new WeakMap,gm=new WeakMap,pp=new WeakMap;function Aw(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{n(Sa(i.result)),o()},u=()=>{a(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&VE.set(n,i)}).catch(()=>{}),pp.set(e,i),e}function Tw(i){if(Im.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});Im.set(i,e)}let Nm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Im.get(i);if(e==="objectStoreNames")return i.objectStoreNames||PE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sa(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Cw(i){Nm=i(Nm)}function ww(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(ym(this),e,...n);return PE.set(a,e.sort?e.sort():[e]),Sa(a)}:bw().includes(i)?function(...e){return i.apply(ym(this),e),Sa(VE.get(this))}:function(...e){return Sa(i.apply(ym(this),e))}}function Sw(i){return typeof i=="function"?ww(i):(i instanceof IDBTransaction&&Tw(i),_w(i,Ew())?new Proxy(i,Nm):i)}function Sa(i){if(i instanceof IDBRequest)return Aw(i);if(gm.has(i))return gm.get(i);const e=Sw(i);return e!==i&&(gm.set(i,e),pp.set(e,i)),e}const ym=i=>pp.get(i);function Dw(i,e,{blocked:n,upgrade:a,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),p=Sa(u);return a&&u.addEventListener("upgradeneeded",g=>{a(Sa(u.result),g.oldVersion,g.newVersion,Sa(u.transaction),g)}),n&&u.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),p}const Rw=["get","getKey","getAll","getAllKeys","count"],Iw=["put","add","delete","clear"],vm=new Map;function r1(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=Iw.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Rw.includes(n)))return;const c=async function(u,...p){const g=this.transaction(u,o?"readwrite":"readonly");let d=g.store;return a&&(d=d.index(p.shift())),(await Promise.all([d[n](...p),o&&g.done]))[0]};return vm.set(e,c),c}Cw(i=>({...i,get:(e,n,a)=>r1(e,n)||i.get(e,n,a),has:(e,n)=>!!r1(e,n)||i.has(e,n)}));class Nw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kw(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function kw(i){return i.getComponent()?.type==="VERSION"}const km="@firebase/app",i1="0.14.6";const Fi=new mp("@firebase/app"),Bw="@firebase/app-compat",Ow="@firebase/analytics-compat",Mw="@firebase/analytics",Vw="@firebase/app-check-compat",Pw="@firebase/app-check",Fw="@firebase/auth",Lw="@firebase/auth-compat",Uw="@firebase/database",jw="@firebase/data-connect",zw="@firebase/database-compat",Hw="@firebase/functions",qw="@firebase/functions-compat",Gw="@firebase/installations",Kw="@firebase/installations-compat",$w="@firebase/messaging",Qw="@firebase/messaging-compat",Yw="@firebase/performance",Xw="@firebase/performance-compat",Ww="@firebase/remote-config",Zw="@firebase/remote-config-compat",Jw="@firebase/storage",eS="@firebase/storage-compat",tS="@firebase/firestore",nS="@firebase/ai",rS="@firebase/firestore-compat",iS="firebase",aS="12.6.0";const Bm="[DEFAULT]",sS={[km]:"fire-core",[Bw]:"fire-core-compat",[Mw]:"fire-analytics",[Ow]:"fire-analytics-compat",[Pw]:"fire-app-check",[Vw]:"fire-app-check-compat",[Fw]:"fire-auth",[Lw]:"fire-auth-compat",[Uw]:"fire-rtdb",[jw]:"fire-data-connect",[zw]:"fire-rtdb-compat",[Hw]:"fire-fn",[qw]:"fire-fn-compat",[Gw]:"fire-iid",[Kw]:"fire-iid-compat",[$w]:"fire-fcm",[Qw]:"fire-fcm-compat",[Yw]:"fire-perf",[Xw]:"fire-perf-compat",[Ww]:"fire-rc",[Zw]:"fire-rc-compat",[Jw]:"fire-gcs",[eS]:"fire-gcs-compat",[tS]:"fire-fst",[rS]:"fire-fst-compat",[nS]:"fire-vertex","fire-js":"fire-js",[iS]:"fire-js-all"};const vf=new Map,oS=new Map,Om=new Map;function a1(i,e){try{i.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function jo(i){const e=i.name;if(Om.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,i);for(const n of vf.values())a1(n,i);for(const n of oS.values())a1(n,i);return!0}function gp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function jn(i){return i==null?!1:i.settings!==void 0}const lS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new Bc("app","Firebase",lS);class cS{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}const Jo=aS;function FE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a={name:Bm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Da.create("bad-app-name",{appName:String(o)});if(n||(n=kE()),!n)throw Da.create("no-options");const c=vf.get(o);if(c){if(ws(n,c.options)&&ws(a,c.config))return c;throw Da.create("duplicate-app",{appName:o})}const u=new pw(o);for(const g of Om.values())u.addComponent(g);const p=new cS(n,a,u);return vf.set(o,p),p}function LE(i=Bm){const e=vf.get(i);if(!e&&i===Bm&&kE())return FE();if(!e)throw Da.create("no-app",{appName:i});return e}function Ra(i,e,n){let a=sS[i]??i;n&&(a+=`-${n}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${a}" with version "${e}":`];o&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(u.join(" "));return}jo(new Ss(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const uS="firebase-heartbeat-database",hS=1,xc="firebase-heartbeat-store";let xm=null;function UE(){return xm||(xm=Dw(uS,hS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(xc)}catch(n){console.warn(n)}}}}).catch(i=>{throw Da.create("idb-open",{originalErrorMessage:i.message})})),xm}async function fS(i){try{const n=(await UE()).transaction(xc),a=await n.objectStore(xc).get(jE(i));return await n.done,a}catch(e){if(e instanceof Hi)Fi.warn(e.message);else{const n=Da.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(n.message)}}}async function s1(i,e){try{const a=(await UE()).transaction(xc,"readwrite");await a.objectStore(xc).put(e,jE(i)),await a.done}catch(n){if(n instanceof Hi)Fi.warn(n.message);else{const a=Da.create("idb-set",{originalErrorMessage:n?.message});Fi.warn(a.message)}}}function jE(i){return`${i.name}!${i.options.appId}`}const dS=1024,mS=30;class pS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yS(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=o1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>mS){const o=vS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o1(),{heartbeatsToSend:n,unsentEntries:a}=gS(this._heartbeatsCache.heartbeats),o=yf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Fi.warn(e),""}}}function o1(){return new Date().toISOString().substring(0,10)}function gS(i,e=dS){const n=[];let a=i.slice();for(const o of i){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),l1(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),l1(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class yS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rw()?iw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return s1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return s1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function l1(i){return yf(JSON.stringify({version:2,heartbeats:i})).length}function vS(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}function xS(i){jo(new Ss("platform-logger",e=>new Nw(e),"PRIVATE")),jo(new Ss("heartbeat",e=>new pS(e),"PRIVATE")),Ra(km,i1,i),Ra(km,i1,"esm2020"),Ra("fire-js","")}xS("");function zE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _S=zE,HE=new Bc("auth","Firebase",zE());const xf=new mp("@firebase/auth");function ES(i,...e){xf.logLevel<=Le.WARN&&xf.warn(`Auth (${Jo}): ${i}`,...e)}function Ah(i,...e){xf.logLevel<=Le.ERROR&&xf.error(`Auth (${Jo}): ${i}`,...e)}function ur(i,...e){throw vp(i,...e)}function Sr(i,...e){return vp(i,...e)}function yp(i,e,n){const a={..._S(),[e]:n};return new Bc("auth","Firebase",a).create(e,{appName:i.name})}function Mi(i){return yp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bS(i,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&ur(i,"argument-error"),yp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vp(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return HE.create(i,...e)}function we(i,e,...n){if(!i)throw vp(e,...n)}function Ni(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ah(e),new Error(e)}function Li(i,e){i||Ni(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function AS(){return c1()==="http:"||c1()==="https:"}function c1(){return typeof self<"u"&&self.location?.protocol||null}function TS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AS()||JC()||"connection"in navigator)?navigator.onLine:!0}function CS(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Li(n>e,"Short delay should be less than long delay!"),this.isMobile=XC()||ew()}get(){return TS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xp(i,e){Li(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class qE{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DS=new Mc(3e4,6e4);function ja(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function za(i,e,n,a,o={}){return GE(i,o,async()=>{let c={},u={};a&&(e==="GET"?u=a:c={body:JSON.stringify(a)});const p=Oc({key:i.config.apiKey,...u}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const d={method:e,headers:g,...c};return ZC()||(d.referrerPolicy="no-referrer"),i.emulatorConfig&&Zo(i.emulatorConfig.host)&&(d.credentials="include"),qE.fetch()(await KE(i,i.config.apiHost,n,p),d)})}async function GE(i,e,n){i._canInitEmulator=!1;const a={...wS,...e};try{const o=new IS(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw ph(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const p=c.ok?u.errorMessage:u.error.message,[g,d]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(i,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw ph(i,"email-already-in-use",u);if(g==="USER_DISABLED")throw ph(i,"user-disabled",u);const y=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw yp(i,y,d);ur(i,y)}}catch(o){if(o instanceof Hi)throw o;ur(i,"network-request-failed",{message:String(o)})}}async function Vc(i,e,n,a,o={}){const c=await za(i,e,n,a,o);return"mfaPendingCredential"in c&&ur(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function KE(i,e,n,a){const o=`${e}${n}?${a}`,c=i,u=c.config.emulator?xp(i.config,o):`${i.config.apiScheme}://${o}`;return SS.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function RS(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Sr(this.auth,"network-request-failed")),DS.get())})}}function ph(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Sr(i,e,a);return o.customData._tokenResponse=n,o}function u1(i){return i!==void 0&&i.enterprise!==void 0}class NS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kS(i,e){return za(i,"GET","/v2/recaptchaConfig",ja(i,e))}async function BS(i,e){return za(i,"POST","/v1/accounts:delete",e)}async function _f(i,e){return za(i,"POST","/v1/accounts:lookup",e)}function dc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OS(i,e=!1){const n=Ut(i),a=await n.getIdToken(e),o=_p(a);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:a,authTime:dc(_m(o.auth_time)),issuedAtTime:dc(_m(o.iat)),expirationTime:dc(_m(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function _m(i){return Number(i)*1e3}function _p(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=IE(n);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function h1(i){const e=_p(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _c(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Hi&&MS(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function MS({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class VS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ec(i){const e=i.auth,n=await i.getIdToken(),a=await _c(i,_f(e,{idToken:n}));we(a?.users.length,e,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?$E(o.providerUserInfo):[],u=FS(i.providerData,c),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!u?.length,d=p?g:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(i,y)}async function PS(i){const e=Ut(i);await Ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FS(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function $E(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function LS(i,e){const n=await GE(i,{},async()=>{const a=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await KE(i,o,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:a};return i.emulatorConfig&&Zo(i.emulatorConfig.host)&&(g.credentials="include"),qE.fetch()(u,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function US(i,e){return za(i,"POST","/v2/accounts:revokeToken",ja(i,e))}class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=h1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:c}=await LS(e,n);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:c}=n,u=new Mo;return a&&(we(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),o&&(we(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(we(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Ni("not implemented")}}function Ea(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class wr{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new VS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OS(this,e)}reload(){return PS(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Ec(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await _c(this,BS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,d=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:A,providerData:C,stsTokenManager:N}=n;we(v&&N,e,"internal-error");const S=Mo.fromJSON(this.name,N);we(typeof v=="string",e,"internal-error"),Ea(a,e.name),Ea(o,e.name),we(typeof _=="boolean",e,"internal-error"),we(typeof A=="boolean",e,"internal-error"),Ea(c,e.name),Ea(u,e.name),Ea(p,e.name),Ea(g,e.name),Ea(d,e.name),Ea(y,e.name);const U=new wr({uid:v,auth:e,email:o,emailVerified:_,displayName:a,isAnonymous:A,photoURL:u,phoneNumber:c,tenantId:p,stsTokenManager:S,createdAt:d,lastLoginAt:y});return C&&Array.isArray(C)&&(U.providerData=C.map(k=>({...k}))),g&&(U._redirectEventId=g),U}static async _fromIdTokenResponse(e,n,a=!1){const o=new Mo;o.updateFromServerResponse(n);const c=new wr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Ec(c),c}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];we(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?$E(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,p=new Mo;p.updateFromIdToken(a);const g=new wr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:u}),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,d),g}}const f1=new Map;function ki(i){Li(i instanceof Function,"Expected a class definition");let e=f1.get(i);return e?(Li(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,f1.set(i,e),e)}class QE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QE.type="NONE";const d1=QE;function Th(i,e,n){return`firebase:${i}:${e}:${n}`}class Vo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Th(this.userKey,o.apiKey,c),this.fullPersistenceKey=Th("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _f(this.auth,{idToken:e}).catch(()=>{});return n?wr._fromGetAccountInfoResponse(this.auth,n,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Vo(ki(d1),e,a);const o=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let c=o[0]||ki(d1);const u=Th(a,e.config.apiKey,e.name);let p=null;for(const d of n)try{const y=await d._get(u);if(y){let v;if(typeof y=="string"){const _=await _f(e,{idToken:y}).catch(()=>{});if(!_)break;v=await wr._fromGetAccountInfoResponse(e,_,y)}else v=wr._fromJSON(e,y);d!==c&&(p=v),c=d;break}}catch{}const g=o.filter(d=>d._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Vo(c,e,a):(c=g[0],p&&await c._set(u,p.toJSON()),await Promise.all(n.map(async d=>{if(d!==c)try{await d._remove(u)}catch{}})),new Vo(c,e,a))}}function m1(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e2(e))return"Blackberry";if(t2(e))return"Webos";if(XE(e))return"Safari";if((e.includes("chrome/")||WE(e))&&!e.includes("edge/"))return"Chrome";if(JE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if(a?.length===2)return a[1]}return"Other"}function YE(i=hn()){return/firefox\//i.test(i)}function XE(i=hn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WE(i=hn()){return/crios\//i.test(i)}function ZE(i=hn()){return/iemobile/i.test(i)}function JE(i=hn()){return/android/i.test(i)}function e2(i=hn()){return/blackberry/i.test(i)}function t2(i=hn()){return/webos/i.test(i)}function Ep(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function jS(i=hn()){return Ep(i)&&!!window.navigator?.standalone}function zS(){return tw()&&document.documentMode===10}function n2(i=hn()){return Ep(i)||JE(i)||t2(i)||e2(i)||/windows phone/i.test(i)||ZE(i)}function r2(i,e=[]){let n;switch(i){case"Browser":n=m1(hn());break;case"Worker":n=`${m1(hn())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${a}`}class HS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((u,p)=>{try{const g=e(c);u(g)}catch(g){p(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function qS(i,e={}){return za(i,"GET","/v2/passwordPolicy",ja(i,e))}const GS=6;class KS{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GS,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class $S{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p1(this),this.idTokenSubscription=new p1(this),this.beforeStateQueue=new HS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ki(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _f(this,{idToken:e}),a=await wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===u)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ec(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Mi(this));const n=e?Ut(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qS(this),n=new KS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await US(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ki(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{u=!0,g()}}else{const g=e.addObserver(n);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ES(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ha(i){return Ut(i)}class p1{constructor(e){this.auth=e,this.observer=null,this.addObserver=cw(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QS(i){Lf=i}function i2(i){return Lf.loadJS(i)}function YS(){return Lf.recaptchaEnterpriseScript}function XS(){return Lf.gapiScript}function WS(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class ZS{constructor(){this.enterprise=new JS}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JS{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const e6="recaptcha-enterprise",a2="NO_RECAPTCHA";class t6{constructor(e){this.type=e6,this.auth=Ha(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,p)=>{kS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const d=new NS(g);return c.tenantId==null?c._agentRecaptchaConfig=d:c._tenantRecaptchaConfigs[c.tenantId]=d,u(d.siteKey)}}).catch(g=>{p(g)})})}function o(c,u,p){const g=window.grecaptcha;u1(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(d=>{u(d)}).catch(()=>{u(a2)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZS().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{a(this.auth).then(p=>{if(!n&&u1(window.grecaptcha))o(p,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=YS();g.length!==0&&(g+=p),i2(g).then(()=>{o(p,c,u)}).catch(d=>{u(d)})}}).catch(p=>{u(p)})})}}async function g1(i,e,n,a=!1,o=!1){const c=new t6(i);let u;if(o)u=a2;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,d=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Pm(i,e,n,a,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await g1(i,e,n,n==="getOobCode");return a(i,c)}else return a(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await g1(i,e,n,n==="getOobCode");return a(i,u)}else return Promise.reject(c)})}function n6(i,e){const n=gp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ws(c,e??{}))return o;ur(o,"already-initialized")}return n.initialize({options:e})}function r6(i,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ki);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function i6(i,e,n){const a=Ha(i);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=s2(e),{host:u,port:p}=a6(e),g=p===null?"":`:${p}`,d={url:`${c}//${u}${g}/`},y=Object.freeze({host:u,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(ws(d,a.config.emulator)&&ws(y,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=d,a.emulatorConfig=y,a.settings.appVerificationDisabledForTesting=!0,Zo(u)?(OE(`${c}//${u}${g}`),ME("Auth",!0)):s6()}function s2(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function a6(i){const e=s2(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:y1(a.substr(c.length+1))}}else{const[c,u]=a.split(":");return{host:c,port:y1(u)}}}function y1(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function s6(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class bp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,n){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function o6(i,e){return za(i,"POST","/v1/accounts:signUp",e)}async function l6(i,e){return Vc(i,"POST","/v1/accounts:signInWithPassword",ja(i,e))}async function c6(i,e){return Vc(i,"POST","/v1/accounts:signInWithEmailLink",ja(i,e))}async function u6(i,e){return Vc(i,"POST","/v1/accounts:signInWithEmailLink",ja(i,e))}class bc extends bp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new bc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new bc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,n,"signInWithPassword",l6);case"emailLink":return c6(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,a,"signUpPassword",o6);case"emailLink":return u6(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Po(i,e){return Vc(i,"POST","/v1/accounts:signInWithIdp",ja(i,e))}const h6="http://localhost";class Ds extends bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=n;if(!a||!o)return null;const u=new Ds(a,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Po(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}buildRequest(){const e={requestUri:h6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}function f6(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function d6(i){const e=sc(oc(i)).link,n=e?sc(oc(e)).deep_link_id:null,a=sc(oc(i)).deep_link_id;return(a?sc(oc(a)).link:null)||a||n||e||i}class Ap{constructor(e){const n=sc(oc(e)),a=n.apiKey??null,o=n.oobCode??null,c=f6(n.mode??null);we(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=d6(e);try{return new Ap(n)}catch{return null}}}class ks{constructor(){this.providerId=ks.PROVIDER_ID}static credential(e,n){return bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Ap.parseLink(n);return we(a,"argument-error"),bc._fromEmailAndCode(e,a.code,a.tenantId)}}ks.PROVIDER_ID="password";ks.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ks.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Tp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pc extends Tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Aa extends Pc{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Aa.PROVIDER_ID="facebook.com";class Ii extends Pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ds._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ii.credential(n,a)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";class Ta extends Pc{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.GITHUB_SIGN_IN_METHOD="github.com";Ta.PROVIDER_ID="github.com";class Ca extends Pc{constructor(){super("twitter.com")}static credential(e,n){return Ds._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ca.credential(n,a)}catch{return null}}}Ca.TWITTER_SIGN_IN_METHOD="twitter.com";Ca.PROVIDER_ID="twitter.com";async function m6(i,e){return Vc(i,"POST","/v1/accounts:signUp",ja(i,e))}class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const c=await wr._fromIdTokenResponse(e,a,o),u=v1(a);return new Rs({user:c,providerId:u,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=v1(a);return new Rs({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function v1(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Ef extends Hi{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Ef.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Ef(e,n,a,o)}}function o2(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ef._fromErrorAndOperation(i,c,e,a):c})}function p6(i){return new Set(i.map(({providerId:e})=>e).filter(e=>!!e))}async function l2(i,e,n=!1){const a=await _c(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Rs._forOperation(i,"link",a)}async function g6(i,e,n){await Ec(e);const a=p6(e.providerData);we(a.has(n)===i,e.auth,"provider-already-linked")}async function y6(i,e,n=!1){const{auth:a}=i;if(jn(a.app))return Promise.reject(Mi(a));const o="reauthenticate";try{const c=await _c(i,o2(a,o,e,i),n);we(c.idToken,a,"internal-error");const u=_p(c.idToken);we(u,a,"internal-error");const{sub:p}=u;return we(i.uid===p,a,"user-mismatch"),Rs._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ur(a,"user-mismatch"),c}}async function c2(i,e,n=!1){if(jn(i.app))return Promise.reject(Mi(i));const a="signIn",o=await o2(i,a,e),c=await Rs._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(c.user),c}async function v6(i,e){return c2(Ha(i),e)}async function x6(i,e){const n=Ut(i);return await g6(!1,n,e.providerId),l2(n,e)}async function u2(i){const e=Ha(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _6(i,e,n){if(jn(i.app))return Promise.reject(Mi(i));const a=Ha(i),u=await Pm(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",m6).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&u2(i),g}),p=await Rs._fromIdTokenResponse(a,"signIn",u);return await a._updateCurrentUser(p.user),p}function E6(i,e,n){return jn(i.app)?Promise.reject(Mi(i)):v6(Ut(i),ks.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&u2(i),a})}function b6(i,e,n,a){return Ut(i).onIdTokenChanged(e,n,a)}function A6(i,e,n){return Ut(i).beforeAuthStateChanged(e,n)}function T6(i,e,n,a){return Ut(i).onAuthStateChanged(e,n,a)}function C6(i){return Ut(i).signOut()}const bf="__sak";class h2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bf,"1"),this.storage.removeItem(bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const w6=1e3,S6=10;class f2 extends h2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,p,g)=>{this.notifyListeners(u,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(a);!n&&this.localCache[a]===u||this.notifyListeners(a,u)},c=this.storage.getItem(a);zS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,S6):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},w6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}f2.type="LOCAL";const D6=f2;class d2 extends h2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}d2.type="SESSION";const m2=d2;function R6(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Uf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(u).map(async d=>d(n.origin,c)),g=await R6(p);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];function Cp(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}class I6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((p,g)=>{const d=Cp("",20);o.port1.start();const y=setTimeout(()=>{g(new Error("unsupported_event"))},a);u={messageChannel:o,onMessage(v){const _=v;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(_.data.response);break;default:clearTimeout(y),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ii(){return window}function N6(i){ii().location.href=i}function p2(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function k6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B6(){return navigator?.serviceWorker?.controller||null}function O6(){return p2()?self:null}const g2="firebaseLocalStorageDb",M6=1,Af="firebaseLocalStorage",y2="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jf(i,e){return i.transaction([Af],e?"readwrite":"readonly").objectStore(Af)}function V6(){const i=indexedDB.deleteDatabase(g2);return new Fc(i).toPromise()}function Fm(){const i=indexedDB.open(g2,M6);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(Af,{keyPath:y2})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(Af)?e(a):(a.close(),await V6(),e(await Fm()))})})}async function x1(i,e,n){const a=jf(i,!0).put({[y2]:e,value:n});return new Fc(a).toPromise()}async function P6(i,e){const n=jf(i,!1).get(e),a=await new Fc(n).toPromise();return a===void 0?null:a.value}function _1(i,e){const n=jf(i,!0).delete(e);return new Fc(n).toPromise()}const F6=800,L6=3;class v2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>L6)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance(O6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await k6(),!this.activeServiceWorker)return;this.sender=new I6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await x1(e,bf,"1"),await _1(e,bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>x1(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>P6(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=jf(o,!1).getAll();return new Fc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v2.type="LOCAL";const U6=v2;new Mc(3e4,6e4);function x2(i,e){return e?ki(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class wp extends bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j6(i){return c2(i.auth,new wp(i),i.bypassAuthState)}function z6(i){const{auth:e,user:n}=i;return we(n,e,"internal-error"),y6(n,new wp(i),i.bypassAuthState)}async function H6(i){const{auth:e,user:n}=i;return we(n,e,"internal-error"),l2(n,new wp(i),i.bypassAuthState)}class _2{constructor(e,n,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:c,error:u,type:p}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j6;case"linkViaPopup":case"linkViaRedirect":return H6;case"reauthViaPopup":case"reauthViaRedirect":return z6;default:ur(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const q6=new Mc(2e3,1e4);async function G6(i,e,n){if(jn(i.app))return Promise.reject(Sr(i,"operation-not-supported-in-this-environment"));const a=Ha(i);bS(i,e,Tp);const o=x2(a,n);return new _s(a,"signInViaPopup",e,o).executeNotNull()}class _s extends _2{constructor(e,n,a,o,c){super(e,n,o,c),this.provider=a,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=Cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q6.get())};e()}}_s.currentPopupAction=null;const K6="pendingRedirect",Ch=new Map;class $6 extends _2{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const a=await Q6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q6(i,e){const n=W6(e),a=X6(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function Y6(i,e){Ch.set(i._key(),e)}function X6(i){return ki(i._redirectPersistence)}function W6(i){return Th(K6,i.config.apiKey,i.name)}async function Z6(i,e,n=!1){if(jn(i.app))return Promise.reject(Mi(i));const a=Ha(i),o=x2(a,e),u=await new $6(a,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}const J6=600*1e3;class e3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!E2(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Sr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J6&&this.cachedEventUids.clear(),this.cachedEventUids.has(E1(e))}saveEventToCache(e){this.cachedEventUids.add(E1(e)),this.lastProcessedEventTime=Date.now()}}function E1(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function E2({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function t3(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return E2(i);default:return!1}}async function n3(i,e={}){return za(i,"GET","/v1/projects",e)}const r3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i3=/^https?/;async function a3(i){if(i.config.emulator)return;const{authorizedDomains:e}=await n3(i);for(const n of e)try{if(s3(n))return}catch{}ur(i,"unauthorized-domain")}function s3(i){const e=Mm(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===a}if(!i3.test(n))return!1;if(r3.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const o3=new Mc(3e4,6e4);function b1(){const i=ii().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function l3(i){return new Promise((e,n)=>{function a(){b1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b1(),n(Sr(i,"network-request-failed"))},timeout:o3.get()})}if(ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ii().gapi?.load)a();else{const o=WS("iframefcb");return ii()[o]=()=>{gapi.load?a():n(Sr(i,"network-request-failed"))},i2(`${XS()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw wh=null,e})}let wh=null;function c3(i){return wh=wh||l3(i),wh}const u3=new Mc(5e3,15e3),h3="__/auth/iframe",f3="emulator/auth/iframe",d3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p3(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?xp(e,f3):`https://${i.config.authDomain}/${h3}`,a={apiKey:e.apiKey,appName:i.name,v:Jo},o=m3.get(i.config.apiHost);o&&(a.eid=o);const c=i._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${Oc(a).slice(1)}`}async function g3(i){const e=await c3(i),n=ii().gapi;return we(n,i,"internal-error"),e.open({where:document.body,url:p3(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d3,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const u=Sr(i,"network-request-failed"),p=ii().setTimeout(()=>{c(u)},u3.get());function g(){ii().clearTimeout(p),o(a)}a.ping(g).then(g,()=>{c(u)})}))}const y3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v3=500,x3=600,_3="_blank",E3="http://localhost";class A1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b3(i,e,n,a=v3,o=x3){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const g={...y3,width:a.toString(),height:o.toString(),top:c,left:u},d=hn().toLowerCase();n&&(p=WE(d)?_3:n),YE(d)&&(e=e||E3,g.scrollbars="yes");const y=Object.entries(g).reduce((_,[A,C])=>`${_}${A}=${C},`,"");if(jS(d)&&p!=="_self")return A3(e||"",p),new A1(null);const v=window.open(e||"",p,y);we(v,i,"popup-blocked");try{v.focus()}catch{}return new A1(v)}function A3(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const T3="__/auth/handler",C3="emulator/auth/handler",w3=encodeURIComponent("fac");async function T1(i,e,n,a,o,c){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:Jo,eventId:o};if(e instanceof Tp){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",lw(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Pc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}i.tenantId&&(u.tid=i.tenantId);const p=u;for(const y of Object.keys(p))p[y]===void 0&&delete p[y];const g=await i._getAppCheckToken(),d=g?`#${w3}=${encodeURIComponent(g)}`:"";return`${S3(i)}?${Oc(p).slice(1)}${d}`}function S3({config:i}){return i.emulator?xp(i,C3):`https://${i.authDomain}/${T3}`}const Em="webStorageSupport";class D3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m2,this._completeRedirectFn=Z6,this._overrideRedirectResult=Y6}async _openPopup(e,n,a,o){Li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T1(e,n,a,Mm(),o);return b3(e,c,Cp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const c=await T1(e,n,a,Mm(),o);return N6(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Li(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await g3(e),a=new e3(e);return n.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Em,{type:Em},o=>{const c=o?.[0]?.[Em];c!==void 0&&n(!!c),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return n2()||XE()||Ep()}}const R3=D3;var C1="@firebase/auth",w1="1.11.1";class I3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function N3(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k3(i){jo(new Ss("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=a.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:u,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r2(i)},d=new $S(a,o,c,g);return r6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),jo(new Ss("auth-internal",e=>{const n=Ha(e.getProvider("auth").getImmediate());return(a=>new I3(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ra(C1,w1,N3(i)),Ra(C1,w1,"esm2020")}const B3=300,O3=BE("authIdTokenMaxAge")||B3;let S1=null;const M3=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>O3)return;const o=n?.token;S1!==o&&(S1=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function V3(i=LE()){const e=gp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=n6(i,{popupRedirectResolver:R3,persistence:[U6,D6,m2]}),a=BE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const u=M3(c.toString());A6(n,u,()=>u(n.currentUser)),b6(n,p=>u(p))}}const o=NE("auth");return o&&i6(n,`http://${o}`),n}function P3(){return document.getElementsByTagName("head")?.[0]??document}QS({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const c=Sr("internal-error");c.customData=o,n(c)},a.type="text/javascript",a.charset="UTF-8",P3().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k3("Browser");var F3="firebase",L3="12.6.0";Ra(F3,L3,"app");var D1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ia,b2;(function(){var i;function e(T,w){function O(){}O.prototype=w.prototype,T.F=w.prototype,T.prototype=new O,T.prototype.constructor=T,T.D=function(D,R,L){for(var M=Array(arguments.length-2),le=2;le<arguments.length;le++)M[le-2]=arguments[le];return w.prototype[R].apply(D,M)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(T,w,O){O||(O=0);const D=Array(16);if(typeof w=="string")for(var R=0;R<16;++R)D[R]=w.charCodeAt(O++)|w.charCodeAt(O++)<<8|w.charCodeAt(O++)<<16|w.charCodeAt(O++)<<24;else for(R=0;R<16;++R)D[R]=w[O++]|w[O++]<<8|w[O++]<<16|w[O++]<<24;w=T.g[0],O=T.g[1],R=T.g[2];let L=T.g[3],M;M=w+(L^O&(R^L))+D[0]+3614090360&4294967295,w=O+(M<<7&4294967295|M>>>25),M=L+(R^w&(O^R))+D[1]+3905402710&4294967295,L=w+(M<<12&4294967295|M>>>20),M=R+(O^L&(w^O))+D[2]+606105819&4294967295,R=L+(M<<17&4294967295|M>>>15),M=O+(w^R&(L^w))+D[3]+3250441966&4294967295,O=R+(M<<22&4294967295|M>>>10),M=w+(L^O&(R^L))+D[4]+4118548399&4294967295,w=O+(M<<7&4294967295|M>>>25),M=L+(R^w&(O^R))+D[5]+1200080426&4294967295,L=w+(M<<12&4294967295|M>>>20),M=R+(O^L&(w^O))+D[6]+2821735955&4294967295,R=L+(M<<17&4294967295|M>>>15),M=O+(w^R&(L^w))+D[7]+4249261313&4294967295,O=R+(M<<22&4294967295|M>>>10),M=w+(L^O&(R^L))+D[8]+1770035416&4294967295,w=O+(M<<7&4294967295|M>>>25),M=L+(R^w&(O^R))+D[9]+2336552879&4294967295,L=w+(M<<12&4294967295|M>>>20),M=R+(O^L&(w^O))+D[10]+4294925233&4294967295,R=L+(M<<17&4294967295|M>>>15),M=O+(w^R&(L^w))+D[11]+2304563134&4294967295,O=R+(M<<22&4294967295|M>>>10),M=w+(L^O&(R^L))+D[12]+1804603682&4294967295,w=O+(M<<7&4294967295|M>>>25),M=L+(R^w&(O^R))+D[13]+4254626195&4294967295,L=w+(M<<12&4294967295|M>>>20),M=R+(O^L&(w^O))+D[14]+2792965006&4294967295,R=L+(M<<17&4294967295|M>>>15),M=O+(w^R&(L^w))+D[15]+1236535329&4294967295,O=R+(M<<22&4294967295|M>>>10),M=w+(R^L&(O^R))+D[1]+4129170786&4294967295,w=O+(M<<5&4294967295|M>>>27),M=L+(O^R&(w^O))+D[6]+3225465664&4294967295,L=w+(M<<9&4294967295|M>>>23),M=R+(w^O&(L^w))+D[11]+643717713&4294967295,R=L+(M<<14&4294967295|M>>>18),M=O+(L^w&(R^L))+D[0]+3921069994&4294967295,O=R+(M<<20&4294967295|M>>>12),M=w+(R^L&(O^R))+D[5]+3593408605&4294967295,w=O+(M<<5&4294967295|M>>>27),M=L+(O^R&(w^O))+D[10]+38016083&4294967295,L=w+(M<<9&4294967295|M>>>23),M=R+(w^O&(L^w))+D[15]+3634488961&4294967295,R=L+(M<<14&4294967295|M>>>18),M=O+(L^w&(R^L))+D[4]+3889429448&4294967295,O=R+(M<<20&4294967295|M>>>12),M=w+(R^L&(O^R))+D[9]+568446438&4294967295,w=O+(M<<5&4294967295|M>>>27),M=L+(O^R&(w^O))+D[14]+3275163606&4294967295,L=w+(M<<9&4294967295|M>>>23),M=R+(w^O&(L^w))+D[3]+4107603335&4294967295,R=L+(M<<14&4294967295|M>>>18),M=O+(L^w&(R^L))+D[8]+1163531501&4294967295,O=R+(M<<20&4294967295|M>>>12),M=w+(R^L&(O^R))+D[13]+2850285829&4294967295,w=O+(M<<5&4294967295|M>>>27),M=L+(O^R&(w^O))+D[2]+4243563512&4294967295,L=w+(M<<9&4294967295|M>>>23),M=R+(w^O&(L^w))+D[7]+1735328473&4294967295,R=L+(M<<14&4294967295|M>>>18),M=O+(L^w&(R^L))+D[12]+2368359562&4294967295,O=R+(M<<20&4294967295|M>>>12),M=w+(O^R^L)+D[5]+4294588738&4294967295,w=O+(M<<4&4294967295|M>>>28),M=L+(w^O^R)+D[8]+2272392833&4294967295,L=w+(M<<11&4294967295|M>>>21),M=R+(L^w^O)+D[11]+1839030562&4294967295,R=L+(M<<16&4294967295|M>>>16),M=O+(R^L^w)+D[14]+4259657740&4294967295,O=R+(M<<23&4294967295|M>>>9),M=w+(O^R^L)+D[1]+2763975236&4294967295,w=O+(M<<4&4294967295|M>>>28),M=L+(w^O^R)+D[4]+1272893353&4294967295,L=w+(M<<11&4294967295|M>>>21),M=R+(L^w^O)+D[7]+4139469664&4294967295,R=L+(M<<16&4294967295|M>>>16),M=O+(R^L^w)+D[10]+3200236656&4294967295,O=R+(M<<23&4294967295|M>>>9),M=w+(O^R^L)+D[13]+681279174&4294967295,w=O+(M<<4&4294967295|M>>>28),M=L+(w^O^R)+D[0]+3936430074&4294967295,L=w+(M<<11&4294967295|M>>>21),M=R+(L^w^O)+D[3]+3572445317&4294967295,R=L+(M<<16&4294967295|M>>>16),M=O+(R^L^w)+D[6]+76029189&4294967295,O=R+(M<<23&4294967295|M>>>9),M=w+(O^R^L)+D[9]+3654602809&4294967295,w=O+(M<<4&4294967295|M>>>28),M=L+(w^O^R)+D[12]+3873151461&4294967295,L=w+(M<<11&4294967295|M>>>21),M=R+(L^w^O)+D[15]+530742520&4294967295,R=L+(M<<16&4294967295|M>>>16),M=O+(R^L^w)+D[2]+3299628645&4294967295,O=R+(M<<23&4294967295|M>>>9),M=w+(R^(O|~L))+D[0]+4096336452&4294967295,w=O+(M<<6&4294967295|M>>>26),M=L+(O^(w|~R))+D[7]+1126891415&4294967295,L=w+(M<<10&4294967295|M>>>22),M=R+(w^(L|~O))+D[14]+2878612391&4294967295,R=L+(M<<15&4294967295|M>>>17),M=O+(L^(R|~w))+D[5]+4237533241&4294967295,O=R+(M<<21&4294967295|M>>>11),M=w+(R^(O|~L))+D[12]+1700485571&4294967295,w=O+(M<<6&4294967295|M>>>26),M=L+(O^(w|~R))+D[3]+2399980690&4294967295,L=w+(M<<10&4294967295|M>>>22),M=R+(w^(L|~O))+D[10]+4293915773&4294967295,R=L+(M<<15&4294967295|M>>>17),M=O+(L^(R|~w))+D[1]+2240044497&4294967295,O=R+(M<<21&4294967295|M>>>11),M=w+(R^(O|~L))+D[8]+1873313359&4294967295,w=O+(M<<6&4294967295|M>>>26),M=L+(O^(w|~R))+D[15]+4264355552&4294967295,L=w+(M<<10&4294967295|M>>>22),M=R+(w^(L|~O))+D[6]+2734768916&4294967295,R=L+(M<<15&4294967295|M>>>17),M=O+(L^(R|~w))+D[13]+1309151649&4294967295,O=R+(M<<21&4294967295|M>>>11),M=w+(R^(O|~L))+D[4]+4149444226&4294967295,w=O+(M<<6&4294967295|M>>>26),M=L+(O^(w|~R))+D[11]+3174756917&4294967295,L=w+(M<<10&4294967295|M>>>22),M=R+(w^(L|~O))+D[2]+718787259&4294967295,R=L+(M<<15&4294967295|M>>>17),M=O+(L^(R|~w))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(R+(M<<21&4294967295|M>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+L&4294967295}a.prototype.v=function(T,w){w===void 0&&(w=T.length);const O=w-this.blockSize,D=this.C;let R=this.h,L=0;for(;L<w;){if(R==0)for(;L<=O;)o(this,T,L),L+=this.blockSize;if(typeof T=="string"){for(;L<w;)if(D[R++]=T.charCodeAt(L++),R==this.blockSize){o(this,D),R=0;break}}else for(;L<w;)if(D[R++]=T[L++],R==this.blockSize){o(this,D),R=0;break}}this.h=R,this.o+=w},a.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;w=this.o*8;for(var O=T.length-8;O<T.length;++O)T[O]=w&255,w/=256;for(this.v(T),T=Array(16),w=0,O=0;O<4;++O)for(let D=0;D<32;D+=8)T[w++]=this.g[O]>>>D&255;return T};function c(T,w){var O=p;return Object.prototype.hasOwnProperty.call(O,T)?O[T]:O[T]=w(T)}function u(T,w){this.h=w;const O=[];let D=!0;for(let R=T.length-1;R>=0;R--){const L=T[R]|0;D&&L==w||(O[R]=L,D=!1)}this.g=O}var p={};function g(T){return-128<=T&&T<128?c(T,function(w){return new u([w|0],w<0?-1:0)}):new u([T|0],T<0?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return v;if(T<0)return S(d(-T));const w=[];let O=1;for(let D=0;T>=O;D++)w[D]=T/O|0,O*=4294967296;return new u(w,0)}function y(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return S(y(T.substring(1),w));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=d(Math.pow(w,8));let D=v;for(let L=0;L<T.length;L+=8){var R=Math.min(8,T.length-L);const M=parseInt(T.substring(L,L+R),w);R<8?(R=d(Math.pow(w,R)),D=D.j(R).add(d(M))):(D=D.j(O),D=D.add(d(M)))}return D}var v=g(0),_=g(1),A=g(16777216);i=u.prototype,i.m=function(){if(N(this))return-S(this).m();let T=0,w=1;for(let O=0;O<this.g.length;O++){const D=this.i(O);T+=(D>=0?D:4294967296+D)*w,w*=4294967296}return T},i.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(N(this))return"-"+S(this).toString(T);const w=d(Math.pow(T,6));var O=this;let D="";for(;;){const R=j(O,w).g;O=U(O,R.j(w));let L=((O.g.length>0?O.g[0]:O.h)>>>0).toString(T);if(O=R,C(O))return L+D;for(;L.length<6;)L="0"+L;D=L+D}},i.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(let w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function N(T){return T.h==-1}i.l=function(T){return T=U(this,T),N(T)?-1:C(T)?0:1};function S(T){const w=T.g.length,O=[];for(let D=0;D<w;D++)O[D]=~T.g[D];return new u(O,~T.h).add(_)}i.abs=function(){return N(this)?S(this):this},i.add=function(T){const w=Math.max(this.g.length,T.g.length),O=[];let D=0;for(let R=0;R<=w;R++){let L=D+(this.i(R)&65535)+(T.i(R)&65535),M=(L>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);D=M>>>16,L&=65535,M&=65535,O[R]=M<<16|L}return new u(O,O[O.length-1]&-2147483648?-1:0)};function U(T,w){return T.add(S(w))}i.j=function(T){if(C(this)||C(T))return v;if(N(this))return N(T)?S(this).j(S(T)):S(S(this).j(T));if(N(T))return S(this.j(S(T)));if(this.l(A)<0&&T.l(A)<0)return d(this.m()*T.m());const w=this.g.length+T.g.length,O=[];for(var D=0;D<2*w;D++)O[D]=0;for(D=0;D<this.g.length;D++)for(let R=0;R<T.g.length;R++){const L=this.i(D)>>>16,M=this.i(D)&65535,le=T.i(R)>>>16,de=T.i(R)&65535;O[2*D+2*R]+=M*de,k(O,2*D+2*R),O[2*D+2*R+1]+=L*de,k(O,2*D+2*R+1),O[2*D+2*R+1]+=M*le,k(O,2*D+2*R+1),O[2*D+2*R+2]+=L*le,k(O,2*D+2*R+2)}for(T=0;T<w;T++)O[T]=O[2*T+1]<<16|O[2*T];for(T=w;T<2*w;T++)O[T]=0;return new u(O,0)};function k(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function V(T,w){this.g=T,this.h=w}function j(T,w){if(C(w))throw Error("division by zero");if(C(T))return new V(v,v);if(N(T))return w=j(S(T),w),new V(S(w.g),S(w.h));if(N(w))return w=j(T,S(w)),new V(S(w.g),w.h);if(T.g.length>30){if(N(T)||N(w))throw Error("slowDivide_ only works with positive integers.");for(var O=_,D=w;D.l(T)<=0;)O=q(O),D=q(D);var R=z(O,1),L=z(D,1);for(D=z(D,2),O=z(O,2);!C(D);){var M=L.add(D);M.l(T)<=0&&(R=R.add(O),L=M),D=z(D,1),O=z(O,1)}return w=U(T,R.j(w)),new V(R,w)}for(R=v;T.l(w)>=0;){for(O=Math.max(1,Math.floor(T.m()/w.m())),D=Math.ceil(Math.log(O)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),L=d(O),M=L.j(w);N(M)||M.l(T)>0;)O-=D,L=d(O),M=L.j(w);C(L)&&(L=_),R=R.add(L),T=U(T,M)}return new V(R,T)}i.B=function(T){return j(this,T).h},i.and=function(T){const w=Math.max(this.g.length,T.g.length),O=[];for(let D=0;D<w;D++)O[D]=this.i(D)&T.i(D);return new u(O,this.h&T.h)},i.or=function(T){const w=Math.max(this.g.length,T.g.length),O=[];for(let D=0;D<w;D++)O[D]=this.i(D)|T.i(D);return new u(O,this.h|T.h)},i.xor=function(T){const w=Math.max(this.g.length,T.g.length),O=[];for(let D=0;D<w;D++)O[D]=this.i(D)^T.i(D);return new u(O,this.h^T.h)};function q(T){const w=T.g.length+1,O=[];for(let D=0;D<w;D++)O[D]=T.i(D)<<1|T.i(D-1)>>>31;return new u(O,T.h)}function z(T,w){const O=w>>5;w%=32;const D=T.g.length-O,R=[];for(let L=0;L<D;L++)R[L]=w>0?T.i(L+O)>>>w|T.i(L+O+1)<<32-w:T.i(L+O);return new u(R,T.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,b2=a,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,Ia=u}).apply(typeof D1<"u"?D1:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var A2,lc,T2,Sh,Lm,C2,w2,S2;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var x=0;x<h.length;++x){var b=h[x];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=n(this);function o(h,x){if(x)e:{var b=a;h=h.split(".");for(var P=0;P<h.length-1;P++){var Z=h[P];if(!(Z in b))break e;b=b[Z]}h=h[h.length-1],P=b[h],x=x(P),x!=P&&x!=null&&e(b,h,{configurable:!0,writable:!0,value:x})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(x){var b=[],P;for(P in x)Object.prototype.hasOwnProperty.call(x,P)&&b.push([P,x[P]]);return b}});var c=c||{},u=this||self;function p(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function g(h,x,b){return h.call.apply(h.bind,arguments)}function d(h,x,b){return d=g,d.apply(null,arguments)}function y(h,x){var b=Array.prototype.slice.call(arguments,1);return function(){var P=b.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function v(h,x){function b(){}b.prototype=x.prototype,h.Z=x.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(P,Z,ne){for(var fe=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)fe[ke-2]=arguments[ke];return x.prototype[Z].apply(P,fe)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const x=h.length;if(x>0){const b=Array(x);for(let P=0;P<x;P++)b[P]=h[P];return b}return[]}function C(h,x){for(let P=1;P<arguments.length;P++){const Z=arguments[P];var b=typeof Z;if(b=b!="object"?b:Z?Array.isArray(Z)?"array":b:"null",b=="array"||b=="object"&&typeof Z.length=="number"){b=h.length||0;const ne=Z.length||0;h.length=b+ne;for(let fe=0;fe<ne;fe++)h[b+fe]=Z[fe]}else h.push(Z)}}class N{constructor(x,b){this.i=x,this.j=b,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function S(h){u.setTimeout(()=>{throw h},0)}function U(){var h=T;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class k{constructor(){this.h=this.g=null}add(x,b){const P=V.get();P.set(x,b),this.h?this.h.next=P:this.g=P,this.h=P}}var V=new N(()=>new j,h=>h.reset());class j{constructor(){this.next=this.g=this.h=null}set(x,b){this.h=x,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let q,z=!1,T=new k,w=()=>{const h=Promise.resolve(void 0);q=()=>{h.then(O)}};function O(){for(var h;h=U();){try{h.h.call(h.g)}catch(b){S(b)}var x=V;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}z=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};u.addEventListener("test",b,x),u.removeEventListener("test",b,x)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function le(h,x){R.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}v(le,R),le.prototype.init=function(h,x){const b=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(b=="mouseover"?x=h.fromElement:b=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),X=0;function ue(h,x,b,P,Z){this.listener=h,this.proxy=null,this.src=x,this.type=b,this.capture=!!P,this.ha=Z,this.key=++X,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function _e(h,x,b){for(const P in h)x.call(b,h[P],P,h)}function Ee(h,x){for(const b in h)x.call(void 0,h[b],b,h)}function F(h){const x={};for(const b in h)x[b]=h[b];return x}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(h,x){let b,P;for(let Z=1;Z<arguments.length;Z++){P=arguments[Z];for(b in P)h[b]=P[b];for(let ne=0;ne<G.length;ne++)b=G[ne],Object.prototype.hasOwnProperty.call(P,b)&&(h[b]=P[b])}}function W(h){this.src=h,this.g={},this.h=0}W.prototype.add=function(h,x,b,P,Z){const ne=h.toString();h=this.g[ne],h||(h=this.g[ne]=[],this.h++);const fe=ge(h,x,P,Z);return fe>-1?(x=h[fe],b||(x.fa=!1)):(x=new ue(x,this.src,ne,!!P,Z),x.fa=b,h.push(x)),x};function pe(h,x){const b=x.type;if(b in h.g){var P=h.g[b],Z=Array.prototype.indexOf.call(P,x,void 0),ne;(ne=Z>=0)&&Array.prototype.splice.call(P,Z,1),ne&&(he(x),h.g[b].length==0&&(delete h.g[b],h.h--))}}function ge(h,x,b,P){for(let Z=0;Z<h.length;++Z){const ne=h[Z];if(!ne.da&&ne.listener==x&&ne.capture==!!b&&ne.ha==P)return Z}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),be={};function Ye(h,x,b,P,Z){if(Array.isArray(x)){for(let ne=0;ne<x.length;ne++)Ye(h,x[ne],b,P,Z);return null}return b=fr(b),h&&h[de]?h.J(x,b,p(P)?!!P.capture:!1,Z):pn(h,x,b,!1,P,Z)}function pn(h,x,b,P,Z,ne){if(!x)throw Error("Invalid event type");const fe=p(Z)?!!Z.capture:!!Z;let ke=Sn(h);if(ke||(h[Se]=ke=new W(h)),b=ke.add(x,b,P,fe,ne),b.proxy)return b;if(P=Nr(),b.proxy=P,P.src=h,P.listener=b,h.addEventListener)L||(Z=fe),Z===void 0&&(Z=!1),h.addEventListener(x.toString(),P,Z);else if(h.attachEvent)h.attachEvent(ft(x.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Nr(){function h(b){return x.call(h.src,h.listener,b)}const x=kr;return h}function Hn(h,x,b,P,Z){if(Array.isArray(x))for(var ne=0;ne<x.length;ne++)Hn(h,x[ne],b,P,Z);else P=p(P)?!!P.capture:!!P,b=fr(b),h&&h[de]?(h=h.i,ne=String(x).toString(),ne in h.g&&(x=h.g[ne],b=ge(x,b,P,Z),b>-1&&(he(x[b]),Array.prototype.splice.call(x,b,1),x.length==0&&(delete h.g[ne],h.h--)))):h&&(h=Sn(h))&&(x=h.g[x.toString()],h=-1,x&&(h=ge(x,b,P,Z)),(b=h>-1?x[h]:null)&&qt(b))}function qt(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[de])pe(x.i,h);else{var b=h.type,P=h.proxy;x.removeEventListener?x.removeEventListener(b,P,h.capture):x.detachEvent?x.detachEvent(ft(b),P):x.addListener&&x.removeListener&&x.removeListener(P),(b=Sn(x))?(pe(b,h),b.h==0&&(b.src=null,x[Se]=null)):he(h)}}}function ft(h){return h in be?be[h]:be[h]="on"+h}function kr(h,x){if(h.da)h=!0;else{x=new le(x,this);const b=h.listener,P=h.ha||h.src;h.fa&&qt(h),h=b.call(P,x)}return h}function Sn(h){return h=h[Se],h instanceof W?h:null}var Br="__closure_events_fn_"+(Math.random()*1e9>>>0);function fr(h){return typeof h=="function"?h:(h[Br]||(h[Br]=function(x){return h.handleEvent(x)}),h[Br])}function dt(){D.call(this),this.i=new W(this),this.M=this,this.G=null}v(dt,D),dt.prototype[de]=!0,dt.prototype.removeEventListener=function(h,x,b,P){Hn(this,h,x,b,P)};function lt(h,x){var b,P=h.G;if(P)for(b=[];P;P=P.G)b.push(P);if(h=h.M,P=x.type||x,typeof x=="string")x=new R(x,h);else if(x instanceof R)x.target=x.target||h;else{var Z=x;x=new R(P,h),Y(x,Z)}Z=!0;let ne,fe;if(b)for(fe=b.length-1;fe>=0;fe--)ne=x.g=b[fe],Z=St(ne,P,!0,x)&&Z;if(ne=x.g=h,Z=St(ne,P,!0,x)&&Z,Z=St(ne,P,!1,x)&&Z,b)for(fe=0;fe<b.length;fe++)ne=x.g=b[fe],Z=St(ne,P,!1,x)&&Z}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const b=h.g[x];for(let P=0;P<b.length;P++)he(b[P]);delete h.g[x],h.h--}}this.G=null},dt.prototype.J=function(h,x,b,P){return this.i.add(String(h),x,!1,b,P)},dt.prototype.K=function(h,x,b,P){return this.i.add(String(h),x,!0,b,P)};function St(h,x,b,P){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let Z=!0;for(let ne=0;ne<x.length;++ne){const fe=x[ne];if(fe&&!fe.da&&fe.capture==b){const ke=fe.listener,At=fe.ha||fe.src;fe.fa&&pe(h.i,fe),Z=ke.call(At,P)!==!1&&Z}}return Z&&!P.defaultPrevented}function sn(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=d(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(h,x||0)}function Dn(h){h.g=sn(()=>{h.g=null,h.i&&(h.i=!1,Dn(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Dt extends D{constructor(x,b){super(),this.m=x,this.l=b,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Dn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(h){D.call(this),this.h=h,this.g={}}v(Or,D);var qn=[];function dr(h){_e(h.g,function(x,b){this.g.hasOwnProperty(b)&&qt(x)},h),h.g={}}Or.prototype.N=function(){Or.Z.N.call(this),dr(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mr=u.JSON.stringify,Fs=u.JSON.parse,Qa=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function mr(){}function Vr(){}var Rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rt(){R.call(this,"d")}v(Rt,R);function fn(){R.call(this,"c")}v(fn,R);var yt={},Ls=null;function ui(){return Ls=Ls||new dt}yt.Ia="serverreachability";function Us(h){R.call(this,yt.Ia,h)}v(Us,R);function In(h){const x=ui();lt(x,new Us(x))}yt.STAT_EVENT="statevent";function hi(h,x){R.call(this,yt.STAT_EVENT,h),this.stat=x}v(hi,R);function vt(h){const x=ui();lt(x,new hi(x,h))}yt.Ja="timingevent";function Gn(h,x){R.call(this,yt.Ja,h),this.size=x}v(Gn,R);function Kn(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},x)}function Nn(){this.g=!0}Nn.prototype.ua=function(){this.g=!1};function js(h,x,b,P,Z,ne){h.info(function(){if(h.g)if(ne){var fe="",ke=ne.split("&");for(let $e=0;$e<ke.length;$e++){var At=ke[$e].split("=");if(At.length>1){const mt=At[0];At=At[1];const Wn=mt.split("_");fe=Wn.length>=2&&Wn[1]=="type"?fe+(mt+"="+At+"&"):fe+(mt+"=redacted&")}}}else fe=null;else fe=ne;return"XMLHTTP REQ ("+P+") [attempt "+Z+"]: "+x+`
`+b+`
`+fe})}function zs(h,x,b,P,Z,ne,fe){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Z+"]: "+x+`
`+b+`
`+ne+" "+fe})}function $n(h,x,b,P){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+al(h,b)+(P?" "+P:"")})}function Pr(h,x){h.info(function(){return"TIMEOUT: "+x})}Nn.prototype.info=function(){};function al(h,x){if(!h.g)return x;if(!x)return null;try{const ne=JSON.parse(x);if(ne){for(h=0;h<ne.length;h++)if(Array.isArray(ne[h])){var b=ne[h];if(!(b.length<2)){var P=b[1];if(Array.isArray(P)&&!(P.length<1)){var Z=P[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let fe=1;fe<P.length;fe++)P[fe]=""}}}}return Mr(ne)}catch{return x}}var Fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gn;function Lr(){}v(Lr,mr),Lr.prototype.g=function(){return new XMLHttpRequest},gn=new Lr;function pr(h){return encodeURIComponent(String(h))}function Kc(h){var x=1;h=h.split(":");const b=[];for(;x>0&&h.length;)b.push(h.shift()),x--;return h.length&&b.push(h.join(":")),b}function gr(h,x,b,P){this.j=h,this.i=x,this.l=b,this.S=P||1,this.V=new Or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}var It={},Gt={};function Ur(h,x,b){h.M=1,h.A=Ya(kt(x)),h.u=b,h.R=!0,Hs(h,null)}function Hs(h,x){h.F=Date.now(),jr(h),h.B=kt(h.A);var b=h.B,P=h.S;Array.isArray(P)||(P=[String(P)]),$s(b.i,"t",P),h.C=0,b=h.j.L,h.h=new yr,h.g=ou(h.j,b?x:null,!h.u),h.P>0&&(h.O=new Dt(d(h.Y,h,h.g),h.P)),x=h.V,b=h.g,P=h.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(qn[0]=Z.toString()),Z=qn);for(let ne=0;ne<Z.length;ne++){const fe=Ye(b,Z[ne],P||x.handleEvent,!1,x.h||x);if(!fe)break;x.g[fe.key]=fe}x=h.J?F(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),In(),js(h.i,h.v,h.B,h.l,h.S,h.u)}gr.prototype.ba=function(h){h=h.target;const x=this.O;x&&_r(h)==3?x.j():this.Y(h)},gr.prototype.Y=function(h){try{if(h==this.g)e:{const ke=_r(this.g),At=this.g.ya(),$e=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||ke!=4||At==7||(At==8||$e<=0?In(3):In(2)),zr(this);var x=this.g.ca();this.X=x;var b=f0(this);if(this.o=x==200,zs(this.i,this.v,this.B,this.l,this.S,ke,x),this.o){if(this.U&&!this.L){t:{if(this.g){var P,Z=this.g;if((P=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(P)){var ne=P;break t}}ne=null}if(h=ne)$n(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hr(this,h);else{this.o=!1,this.m=3,vt(12),kn(this),Qn(this);break e}}if(this.R){h=!0;let mt;for(;!this.K&&this.C<b.length;)if(mt=Qc(this,b),mt==Gt){ke==4&&(this.m=4,vt(14),h=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==It){this.m=4,vt(15),$n(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else $n(this.i,this.l,mt,null),Hr(this,mt);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||b.length!=0||this.h.h||(this.m=1,vt(16),h=!1),this.o=this.o&&h,!h)$n(this.i,this.l,b,"[Invalid Chunked Response]"),kn(this),Qn(this);else if(b.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),_l(fe),fe.P=!0,vt(11))}}else $n(this.i,this.l,b,null),Hr(this,b);ke==4&&kn(this),this.o&&!this.K&&(ke==4?ru(this.j,this):(this.o=!1,jr(this)))}else di(this.g),x==400&&b.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),kn(this),Qn(this)}}}catch{}finally{}};function f0(h){if(!$c(h))return h.g.la();const x=Wt(h.g);if(x==="")return"";let b="";const P=x.length,Z=_r(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),Qn(h),"";h.h.i=new u.TextDecoder}for(let ne=0;ne<P;ne++)h.h.h=!0,b+=h.h.i.decode(x[ne],{stream:!(Z&&ne==P-1)});return x.length=0,h.h.g+=b,h.C=0,h.h.g}function $c(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Qc(h,x){var b=h.C,P=x.indexOf(`
`,b);return P==-1?Gt:(b=Number(x.substring(b,P)),isNaN(b)?It:(P+=1,P+b>x.length?Gt:(x=x.slice(P,P+b),h.C=P+b,x)))}gr.prototype.cancel=function(){this.K=!0,kn(this)};function jr(h){h.T=Date.now()+h.H,qs(h,h.H)}function qs(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Kn(d(h.aa,h),x)}function zr(h){h.D&&(u.clearTimeout(h.D),h.D=null)}gr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Pr(this.i,this.B),this.M!=2&&(In(),vt(17)),kn(this),this.m=2,Qn(this)):qs(this,this.T-h)};function Qn(h){h.j.I==0||h.K||ru(h.j,h)}function kn(h){zr(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,dr(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Hr(h,x){try{var b=h.j;if(b.I!=0&&(b.g==h||Gr(b.h,h))){if(!h.L&&Gr(b.h,h)&&b.I==3){try{var P=b.Ba.g.parse(x)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Z=P;if(Z[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Zs(b),Wi(b);else break e;ns(b),vt(18)}}else b.xa=Z[1],0<b.xa-b.K&&Z[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Kn(d(b.Va,b),6e3));qr(b.h)<=1&&b.ta&&(b.ta=void 0)}else Wr(b,11)}else if((h.L||b.g==h)&&Zs(b),!M(x))for(Z=b.Ba.g.parse(x),x=0;x<Z.length;x++){let $e=Z[x];const mt=$e[0];if(!(mt<=b.K))if(b.K=mt,$e=$e[1],b.I==2)if($e[0]=="c"){b.M=$e[1],b.ba=$e[2];const Wn=$e[3];Wn!=null&&(b.ka=Wn,b.j.info("VER="+b.ka));const Zr=$e[4];Zr!=null&&(b.za=Zr,b.j.info("SVER="+b.za));const Er=$e[5];Er!=null&&typeof Er=="number"&&Er>0&&(P=1.5*Er,b.O=P,b.j.info("backChannelRequestTimeoutMs_="+P)),P=b;const br=h.g;if(br){const rs=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rs){var ne=P.h;ne.g||rs.indexOf("spdy")==-1&&rs.indexOf("quic")==-1&&rs.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ll(ne,ne.h),ne.h=null))}if(P.G){const Js=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(P.wa=Js,We(P.J,P.G,Js))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),P=b;var fe=h;if(P.na=su(P,P.L?P.ba:null,P.W),fe.L){cl(P.h,fe);var ke=fe,At=P.O;At&&(ke.H=At),ke.D&&(zr(ke),jr(ke)),P.g=fe}else tu(P);b.i.length>0&&Xr(b)}else $e[0]!="stop"&&$e[0]!="close"||Wr(b,7);else b.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Wr(b,7):vl(b):$e[0]!="noop"&&b.l&&b.l.qa($e),b.A=0)}}In(4)}catch{}}var Nt=class{constructor(h,x){this.g=h,this.map=x}};function sl(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ol(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qr(h){return h.h?1:h.g?h.g.size:0}function Gr(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function ll(h,x){h.g?h.g.add(x):h.h=x}function cl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}sl.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ul(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const b of h.g.values())x=x.concat(b.G);return x}return A(h.i)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gs(h,x){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const P=h[b].indexOf("=");let Z,ne=null;P>=0?(Z=h[b].substring(0,P),ne=h[b].substring(P+1)):Z=h[b],x(Z,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Bn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Bn?(this.l=h.l,Kt(this,h.j),this.o=h.o,this.g=h.g,qi(this,h.u),this.h=h.h,hl(this,Jc(h.i)),this.m=h.m):h&&(x=String(h).match(Yc))?(this.l=!1,Kt(this,x[1]||"",!0),this.o=Kr(x[2]||""),this.g=Kr(x[3]||"",!0),qi(this,x[4]),this.h=Kr(x[5]||"",!0),hl(this,x[6]||"",!0),this.m=Kr(x[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}Bn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(Xa(x,Ks,!0),":");var b=this.g;return(b||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Xa(x,Ks,!0),"@"),h.push(pr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Xa(b,b.charAt(0)=="/"?fl:Xc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Xa(b,Wc)),h.join("")},Bn.prototype.resolve=function(h){const x=kt(this);let b=!!h.j;b?Kt(x,h.j):b=!!h.o,b?x.o=h.o:b=!!h.g,b?x.g=h.g:b=h.u!=null;var P=h.h;if(b)qi(x,h.u);else if(b=!!h.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var Z=x.h.lastIndexOf("/");Z!=-1&&(P=x.h.slice(0,Z+1)+P)}if(Z=P,Z==".."||Z==".")P="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){P=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const ne=[];for(let fe=0;fe<Z.length;){const ke=Z[fe++];ke=="."?P&&fe==Z.length&&ne.push(""):ke==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),P&&fe==Z.length&&ne.push("")):(ne.push(ke),P=!0)}P=ne.join("/")}else P=Z}return b?x.h=P:b=h.i.toString()!=="",b?hl(x,Jc(h.i)):b=!!h.m,b&&(x.m=h.m),x};function kt(h){return new Bn(h)}function Kt(h,x,b){h.j=b?Kr(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function qi(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function hl(h,x,b){x instanceof Ki?(h.i=x,Qs(h.i,h.l)):(b||(x=Xa(x,Gi)),h.i=new Ki(x,h.l))}function We(h,x,b){h.i.set(x,b)}function Ya(h){return We(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Kr(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xa(h,x,b){return typeof h=="string"?(h=encodeURI(h).replace(x,yn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ks=/[#\/\?@]/g,Xc=/[#\?:]/g,fl=/[#\?]/g,Gi=/[#\?@]/g,Wc=/#/g;function Ki(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function vn(h){h.g||(h.g=new Map,h.h=0,h.i&&Gs(h.i,function(x,b){h.add(decodeURIComponent(x.replace(/\+/g," ")),b)}))}i=Ki.prototype,i.add=function(h,x){vn(this),this.i=null,h=$i(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(x),this.h+=1,this};function Zc(h,x){vn(h),x=$i(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function dl(h,x){return vn(h),x=$i(h,x),h.g.has(x)}i.forEach=function(h,x){vn(this),this.g.forEach(function(b,P){b.forEach(function(Z){h.call(x,Z,P,this)},this)},this)};function ml(h,x){vn(h);let b=[];if(typeof x=="string")dl(h,x)&&(b=b.concat(h.g.get($i(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)b=b.concat(h[x]);return b}i.set=function(h,x){return vn(this),this.i=null,h=$i(this,h),dl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},i.get=function(h,x){return h?(h=ml(this,h),h.length>0?String(h[0]):x):x};function $s(h,x,b){Zc(h,x),b.length>0&&(h.i=null,h.g.set($i(h,x),A(b)),h.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let P=0;P<x.length;P++){var b=x[P];const Z=pr(b);b=ml(this,b);for(let ne=0;ne<b.length;ne++){let fe=Z;b[ne]!==""&&(fe+="="+pr(b[ne])),h.push(fe)}}return this.i=h.join("&")};function Jc(h){const x=new Ki;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function $i(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function Qs(h,x){x&&!h.j&&(vn(h),h.i=null,h.g.forEach(function(b,P){const Z=P.toLowerCase();P!=Z&&(Zc(this,P),$s(this,Z,b))},h)),h.j=x}function vr(h,x){const b=new Nn;if(u.Image){const P=new Image;P.onload=y(Yn,b,"TestLoadImage: loaded",!0,x,P),P.onerror=y(Yn,b,"TestLoadImage: error",!1,x,P),P.onabort=y(Yn,b,"TestLoadImage: abort",!1,x,P),P.ontimeout=y(Yn,b,"TestLoadImage: timeout",!1,x,P),u.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else x(!1)}function pl(h,x){const b=new Nn,P=new AbortController,Z=setTimeout(()=>{P.abort(),Yn(b,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:P.signal}).then(ne=>{clearTimeout(Z),ne.ok?Yn(b,"TestPingServer: ok",!0,x):Yn(b,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Z),Yn(b,"TestPingServer: error",!1,x)})}function Yn(h,x,b,P,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),P(b)}catch{}}function Qi(){this.g=new Qa}function $r(h){this.i=h.Sb||null,this.h=h.ab||!1}v($r,mr),$r.prototype.g=function(){return new Wa(this.i,this.h)};function Wa(h,x){dt.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Wa,dt),i=Wa.prototype,i.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,xr(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yi(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ys(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ys(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Yi(this):xr(this),this.readyState==3&&Ys(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Yi(this))},i.Na=function(h){this.g&&(this.response=h,Yi(this))},i.ga=function(){this.g&&Yi(this)};function Yi(h){h.readyState=4,h.l=null,h.j=null,h.B=null,xr(h)}i.setRequestHeader=function(h,x){this.A.append(h,x)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var b=x.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=x.next();return h.join(`\r
`)};function xr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xn(h){let x="";return _e(h,function(b,P){x+=P,x+=":",x+=b,x+=`\r
`}),x}function Za(h,x,b){e:{for(P in b){var P=!1;break e}P=!0}P||(b=Xn(b),typeof h=="string"?b!=null&&pr(b):We(h,x,b))}function et(h){dt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(et,dt);var Qr=/^https?$/i,gl=["POST","PUT"];i=et.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,x,b,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gn.g(),this.g.onreadystatechange=_(d(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(ne){Ja(this,ne);return}if(h=b||"",b=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Z in P)b.set(Z,P[Z]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ne of P.keys())b.set(ne,P.get(ne));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(b.keys()).find(ne=>ne.toLowerCase()=="content-type"),Z=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(gl,x,void 0)>=0)||P||Z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,fe]of b)this.g.setRequestHeader(ne,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ne){Ja(this,ne)}};function Ja(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,yl(h),fi(h)}function yl(h){h.A||(h.A=!0,lt(h,"complete"),lt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,lt(this,"complete"),lt(this,"abort"),fi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?es(this):this.Xa())},i.Xa=function(){es(this)};function es(h){if(h.h&&typeof c<"u"){if(h.v&&_r(h)==4)setTimeout(h.Ca.bind(h),0);else if(lt(h,"readystatechange"),_r(h)==4){h.h=!1;try{const ne=h.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var b;if(!(b=x)){var P;if(P=ne===0){let fe=String(h.D).match(Yc)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),P=!Qr.test(fe?fe.toLowerCase():"")}b=P}if(b)lt(h,"complete"),lt(h,"success");else{h.o=6;try{var Z=_r(h)>2?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.ca()+"]",yl(h)}}finally{fi(h)}}}}function fi(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,x||lt(h,"ready");try{b.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function _r(h){return h.g?h.g.readyState:0}i.ca=function(){try{return _r(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Fs(x)}};function Wt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function di(h){const x={};h=(h.g&&_r(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(M(h[P]))continue;var b=Kc(h[P]);const Z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ne=x[Z]||[];x[Z]=ne,ne.push(b)}Ee(x,function(P){return P.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(h,x,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||x}function Xi(h){this.za=0,this.i=[],this.j=new Nn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yr("baseRetryDelayMs",5e3,h),this.Za=Yr("retryDelaySeedMs",1e4,h),this.Ta=Yr("forwardChannelMaxRetries",2,h),this.va=Yr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new sl(h&&h.concurrentRequestLimit),this.Ba=new Qi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Xi.prototype,i.ka=8,i.I=1,i.connect=function(h,x,b,P){vt(0),this.W=h,this.H=x||{},b&&P!==void 0&&(this.H.OSID=b,this.H.OAID=P),this.F=this.X,this.J=su(this,null,this.W),Xr(this)};function vl(h){if(Xs(h),h.I==3){var x=h.V++,b=kt(h.J);if(We(b,"SID",h.M),We(b,"RID",x),We(b,"TYPE","terminate"),ts(h,b),x=new gr(h,h.j,x),x.M=2,x.A=Ya(kt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=x.A,b=!0),b||(x.g=ou(x.j,null),x.g.ea(x.A)),x.F=Date.now(),jr(x)}au(h)}function Wi(h){h.g&&(_l(h),h.g.cancel(),h.g=null)}function Xs(h){Wi(h),h.v&&(u.clearTimeout(h.v),h.v=null),Zs(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Xr(h){if(!ol(h.h)&&!h.m){h.m=!0;var x=h.Ea;q||w(),z||(q(),z=!0),T.add(x,h),h.D=0}}function Ws(h,x){return qr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Kn(d(h.Ea,h,x),iu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Z=new gr(this,this.j,h);let ne=this.o;if(this.U&&(ne?(ne=F(ne),Y(ne,this.U)):ne=this.U),this.u!==null||this.R||(Z.J=ne,ne=null),this.S)e:{for(var x=0,b=0;b<this.i.length;b++){t:{var P=this.i[b];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(x+=P,x>4096){x=b;break e}if(x===4096||b===this.i.length-1){x=b+1;break e}}x=1e3}else x=1e3;x=eu(this,Z,x),b=kt(this.J),We(b,"RID",h),We(b,"CVER",22),this.G&&We(b,"X-HTTP-Session-Id",this.G),ts(this,b),ne&&(this.R?x="headers="+pr(Xn(ne))+"&"+x:this.u&&Za(b,this.u,ne)),ll(this.h,Z),this.Ra&&We(b,"TYPE","init"),this.S?(We(b,"$req",x),We(b,"SID","null"),Z.U=!0,Ur(Z,b,null)):Ur(Z,b,x),this.I=2}}else this.I==3&&(h?xl(this,h):this.i.length==0||ol(this.h)||xl(this))};function xl(h,x){var b;x?b=x.l:b=h.V++;const P=kt(h.J);We(P,"SID",h.M),We(P,"RID",b),We(P,"AID",h.K),ts(h,P),h.u&&h.o&&Za(P,h.u,h.o),b=new gr(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),x&&(h.i=x.G.concat(h.i)),x=eu(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ll(h.h,b),Ur(b,P,x)}function ts(h,x){h.H&&_e(h.H,function(b,P){We(x,P,b)}),h.l&&_e({},function(b,P){We(x,P,b)})}function eu(h,x,b){b=Math.min(h.i.length,b);const P=h.l?d(h.l.Ka,h.l,h):null;e:{var Z=h.i;let ke=-1;for(;;){const At=["count="+b];ke==-1?b>0?(ke=Z[0].g,At.push("ofs="+ke)):ke=0:At.push("ofs="+ke);let $e=!0;for(let mt=0;mt<b;mt++){var ne=Z[mt].g;const Wn=Z[mt].map;if(ne-=ke,ne<0)ke=Math.max(0,Z[mt].g-100),$e=!1;else try{ne="req"+ne+"_"||"";try{var fe=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Zr,Er]of fe){let br=Er;p(Er)&&(br=Mr(Er)),At.push(ne+Zr+"="+encodeURIComponent(br))}}catch(Zr){throw At.push(ne+"type="+encodeURIComponent("_badmap")),Zr}}catch{P&&P(Wn)}}if($e){fe=At.join("&");break e}}fe=void 0}return h=h.i.splice(0,b),x.G=h,fe}function tu(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;q||w(),z||(q(),z=!0),T.add(x,h),h.A=0}}function ns(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Kn(d(h.Da,h),iu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Kn(d(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Wi(this),nu(this))};function _l(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function nu(h){h.g=new gr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=kt(h.na);We(x,"RID","rpc"),We(x,"SID",h.M),We(x,"AID",h.K),We(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&We(x,"TO",h.ia),We(x,"TYPE","xmlhttp"),ts(h,x),h.u&&h.o&&Za(x,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Ya(kt(x)),b.u=null,b.R=!0,Hs(b,h)}i.Va=function(){this.C!=null&&(this.C=null,Wi(this),ns(this),vt(19))};function Zs(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function ru(h,x){var b=null;if(h.g==x){Zs(h),_l(h),h.g=null;var P=2}else if(Gr(h.h,x))b=x.G,cl(h.h,x),P=1;else return;if(h.I!=0){if(x.o)if(P==1){b=x.u?x.u.length:0,x=Date.now()-x.F;var Z=h.D;P=ui(),lt(P,new Gn(P,b)),Xr(h)}else tu(h);else if(Z=x.m,Z==3||Z==0&&x.X>0||!(P==1&&Ws(h,x)||P==2&&ns(h)))switch(b&&b.length>0&&(x=h.h,x.i=x.i.concat(b)),Z){case 1:Wr(h,5);break;case 4:Wr(h,10);break;case 3:Wr(h,6);break;default:Wr(h,2)}}}function iu(h,x){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*x}function Wr(h,x){if(h.j.info("Error code "+x),x==2){var b=d(h.bb,h),P=h.Ua;const Z=!P;P=new Bn(P||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Kt(P,"https"),Ya(P),Z?vr(P.toString(),b):pl(P.toString(),b)}else vt(2);h.I=0,h.l&&h.l.pa(x),au(h),Xs(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function au(h){if(h.I=0,h.ja=[],h.l){const x=ul(h.h);(x.length!=0||h.i.length!=0)&&(C(h.ja,x),C(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function su(h,x,b){var P=b instanceof Bn?kt(b):new Bn(b);if(P.g!="")x&&(P.g=x+"."+P.g),qi(P,P.u);else{var Z=u.location;P=Z.protocol,x=x?x+"."+Z.hostname:Z.hostname,Z=+Z.port;const ne=new Bn(null);P&&Kt(ne,P),x&&(ne.g=x),Z&&qi(ne,Z),b&&(ne.h=b),P=ne}return b=h.G,x=h.wa,b&&x&&We(P,b,x),We(P,"VER",h.ka),ts(h,P),P}function ou(h,x,b){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new et(new $r({ab:b})):new et(h.ma),x.Fa(h.L),x}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}i=lu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Zi(){}Zi.prototype.g=function(h,x){return new dn(h,x)};function dn(h,x){dt.call(this),this.g=new Xi(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!M(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new mi(this)}v(dn,dt),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){vl(this.g)},dn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Mr(h),h=b);x.i.push(new Nt(x.Ya++,h)),x.I==3&&Xr(x)},dn.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,dn.Z.N.call(this)};function cu(h){Rt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const b in x){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}v(cu,Rt);function uu(){fn.call(this),this.status=1}v(uu,fn);function mi(h){this.g=h}v(mi,lu),mi.prototype.ra=function(){lt(this.g,"a")},mi.prototype.qa=function(h){lt(this.g,new cu(h))},mi.prototype.pa=function(h){lt(this.g,new uu)},mi.prototype.oa=function(){lt(this.g,"b")},Zi.prototype.createWebChannel=Zi.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,S2=function(){return new Zi},w2=function(){return ui()},C2=yt,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,Sh=Fr,jt.COMPLETE="complete",T2=jt,Vr.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",dt.prototype.listen=dt.prototype.J,lc=Vr,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,A2=et}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const R1="@firebase/firestore",I1="4.9.2";let cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let el="12.3.0";const Is=new mp("@firebase/firestore");function No(){return Is.logLevel}function ye(i,...e){if(Is.logLevel<=Le.DEBUG){const n=e.map(Sp);Is.debug(`Firestore (${el}): ${i}`,...n)}}function Ui(i,...e){if(Is.logLevel<=Le.ERROR){const n=e.map(Sp);Is.error(`Firestore (${el}): ${i}`,...n)}}function zo(i,...e){if(Is.logLevel<=Le.WARN){const n=e.map(Sp);Is.warn(`Firestore (${el}): ${i}`,...n)}}function Sp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function De(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,D2(i,a,n)}function D2(i,e,n){let a=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ui(a),new Error(a)}function Xe(i,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||D2(e,o,a)}function Ne(i,e){return i}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Na{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class R2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class j3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class z3{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let c=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Na,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Na)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xe(typeof a.accessToken=="string",31837,{l:a}),new R2(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class H3{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q3{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new H3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const a=c=>{c.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new N1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function K3(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}class Dp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=K3(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<n&&(a+=e.charAt(o[c]%62))}return a}}function Ue(i,e){return i<e?-1:i>e?1:0}function Um(i,e){const n=Math.min(i.length,e.length);for(let a=0;a<n;a++){const o=i.charAt(a),c=e.charAt(a);if(o!==c)return bm(o)===bm(c)?Ue(o,c):bm(o)?1:-1}return Ue(i.length,e.length)}const $3=55296,Q3=57343;function bm(i){const e=i.charCodeAt(0);return e>=$3&&e<=Q3}function Ho(i,e,n){return i.length===e.length&&i.every(((a,o)=>n(a,e[o])))}const k1="__name__";class ri{constructor(e,n,a){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&De(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const c=ri.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ue(e.length,n.length)}static compareSegments(e,n){const a=ri.isNumericId(e),o=ri.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ri.extractNumericId(e).compare(ri.extractNumericId(n)):Um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ia.fromString(e.substring(4,e.length-2))}}class ot extends ri{construct(e,n,a){return new ot(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new me(se.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const Y3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends ri{construct(e,n,a){return new rn(e,n,a)}static isValidIdentifier(e){return Y3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k1}static keyField(){return new rn([k1])}static fromServerFormat(e){const n=[];let a="",o=0;const c=()=>{if(a.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let u=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new me(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else p==="`"?(u=!u,o++):p!=="."||u?(a+=p,o++):(c(),o++)}if(c(),u)throw new me(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ot.fromString(e))}static fromName(e){return new Te(ot.fromString(e).popFirst(5))}static empty(){return new Te(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ot(e.slice()))}}function I2(i,e,n){if(!n)throw new me(se.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function X3(i,e,n,a){if(e===!0&&a===!0)throw new me(se.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function B1(i){if(!Te.isDocumentKey(i))throw new me(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function O1(i){if(Te.isDocumentKey(i))throw new me(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function N2(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function zf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":De(12329,{type:typeof i})}function or(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zf(i);throw new me(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Lt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Lc(i,e){if(!N2(i))throw new me(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const u=i[a];if(o&&typeof u!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new me(se.INVALID_ARGUMENT,n);return!0}const M1=-62135596800,V1=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*V1);return new ht(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<M1)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V1}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lc(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Lt("string",ht._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ht(0,0))}static max(){return new Re(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ac=-1;function W3(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(a===1e9?new ht(n+1,0):new ht(n,a));return new Oa(o,Te.empty(),e)}function Z3(i){return new Oa(i.readTime,i.key,Ac)}class Oa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Oa(Re.min(),Te.empty(),Ac)}static max(){return new Oa(Re.max(),Te.empty(),Ac)}}function J3(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}const eD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function tl(i){if(i.code!==se.FAILED_PRECONDITION||i.message!==eD)throw i;ye("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,a)=>{n(e)}))}static reject(e){return new ce(((n,a)=>{a(e)}))}static waitFor(e){return new ce(((n,a)=>{let o=0,c=0,u=!1;e.forEach((p=>{++o,p.next((()=>{++c,u&&c===o&&n()}),(g=>a(g)))})),u=!0,c===o&&n()}))}static or(e){let n=ce.resolve(!1);for(const a of e)n=n.next((o=>o?ce.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,c)=>{a.push(n.call(this,o,c))})),this.waitFor(a)}static mapArray(e,n){return new ce(((a,o)=>{const c=e.length,u=new Array(c);let p=0;for(let g=0;g<c;g++){const d=g;n(e[d]).next((y=>{u[d]=y,++p,p===c&&a(u)}),(y=>o(y)))}}))}static doWhile(e,n){return new ce(((a,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):a()};c()}))}}function nD(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(i){return i.name==="IndexedDbTransactionError"}class Hf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hf.ce=-1;const Rp=-1;function qf(i){return i==null}function Tf(i){return i===0&&1/i==-1/0}function rD(i){return typeof i=="number"&&Number.isInteger(i)&&!Tf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const k2="";function iD(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=P1(e)),e=aD(i.get(n),e);return P1(e)}function aD(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case k2:n+="";break;default:n+=c}}return n}function P1(i){return i+k2+""}function F1(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function qa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function B2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class xt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,a,o,c){this.key=e,this.value=n,this.color=a??nn.RED,this.left=o??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,c){return new nn(e??this.key,n??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,a),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,a,o,c){return this}insert(e,n,a){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L1(this.data.getIterator())}getIteratorFrom(e){return new L1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class L1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Ht(rn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ho(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class O2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new O2("Invalid base64 string: "+c):c}})(e);return new an(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const sD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=sD.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:wt(i.seconds),nanos:wt(i.nanos)}}function wt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Va(i){return typeof i=="string"?an.fromBase64String(i):an.fromUint8Array(i)}const M2="server_timestamp",V2="__type__",P2="__previous_value__",F2="__local_write_time__";function Ip(i){return(i?.mapValue?.fields||{})[V2]?.stringValue===M2}function Gf(i){const e=i.mapValue.fields[P2];return Ip(e)?Gf(e):e}function Tc(i){const e=Ma(i.mapValue.fields[F2].timestampValue);return new ht(e.seconds,e.nanos)}class oD{constructor(e,n,a,o,c,u,p,g,d,y){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=d,this.isUsingEmulator=y}}const Cf="(default)";class Cc{constructor(e,n){this.projectId=e,this.database=n||Cf}static empty(){return new Cc("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}const L2="__type__",lD="__max__",vh={mapValue:{}},U2="__vector__",wf="value";function Pa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ip(i)?4:uD(i)?9007199254740991:cD(i)?10:11:De(28295,{value:i})}function ci(i,e){if(i===e)return!0;const n=Pa(i);if(n!==Pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Tc(i).isEqual(Tc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Ma(o.timestampValue),p=Ma(c.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Va(o.bytesValue).isEqual(Va(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return wt(o.geoPointValue.latitude)===wt(c.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return wt(o.integerValue)===wt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=wt(o.doubleValue),p=wt(c.doubleValue);return u===p?Tf(u)===Tf(p):isNaN(u)&&isNaN(p)}return!1})(i,e);case 9:return Ho(i.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},p=c.mapValue.fields||{};if(F1(u)!==F1(p))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(p[g]===void 0||!ci(u[g],p[g])))return!1;return!0})(i,e);default:return De(52216,{left:i})}}function wc(i,e){return(i.values||[]).find((n=>ci(n,e)))!==void 0}function qo(i,e){if(i===e)return 0;const n=Pa(i),a=Pa(e);if(n!==a)return Ue(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const p=wt(c.integerValue||c.doubleValue),g=wt(u.integerValue||u.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return U1(i.timestampValue,e.timestampValue);case 4:return U1(Tc(i),Tc(e));case 5:return Um(i.stringValue,e.stringValue);case 6:return(function(c,u){const p=Va(c),g=Va(u);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const p=c.split("/"),g=u.split("/");for(let d=0;d<p.length&&d<g.length;d++){const y=Ue(p[d],g[d]);if(y!==0)return y}return Ue(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const p=Ue(wt(c.latitude),wt(u.latitude));return p!==0?p:Ue(wt(c.longitude),wt(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return j1(i.arrayValue,e.arrayValue);case 10:return(function(c,u){const p=c.fields||{},g=u.fields||{},d=p[wf]?.arrayValue,y=g[wf]?.arrayValue,v=Ue(d?.values?.length||0,y?.values?.length||0);return v!==0?v:j1(d,y)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===vh.mapValue&&u===vh.mapValue)return 0;if(c===vh.mapValue)return 1;if(u===vh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),d=u.fields||{},y=Object.keys(d);g.sort(),y.sort();for(let v=0;v<g.length&&v<y.length;++v){const _=Um(g[v],y[v]);if(_!==0)return _;const A=qo(p[g[v]],d[y[v]]);if(A!==0)return A}return Ue(g.length,y.length)})(i.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function U1(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=Ma(i),a=Ma(e),o=Ue(n.seconds,a.seconds);return o!==0?o:Ue(n.nanos,a.nanos)}function j1(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const c=qo(n[o],a[o]);if(c)return c}return Ue(n.length,a.length)}function Go(i){return jm(i)}function jm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const a=Ma(n);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Va(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Te.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let a="[",o=!0;for(const c of n.values||[])o?o=!1:a+=",",a+=jm(c);return a+"]"})(i.arrayValue):"mapValue"in i?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of a)c?c=!1:o+=",",o+=`${u}:${jm(n.fields[u])}`;return o+"}"})(i.mapValue):De(61005,{value:i})}function Dh(i){switch(Pa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gf(i);return e?16+Dh(e):16;case 5:return 2*i.stringValue.length;case 6:return Va(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Dh(c)),0)})(i.arrayValue);case 10:case 11:return(function(a){let o=0;return qa(a.fields,((c,u)=>{o+=c.length+Dh(u)})),o})(i.mapValue);default:throw De(13486,{value:i})}}function z1(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function zm(i){return!!i&&"integerValue"in i}function Np(i){return!!i&&"arrayValue"in i}function H1(i){return!!i&&"nullValue"in i}function q1(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Rh(i){return!!i&&"mapValue"in i}function cD(i){return(i?.mapValue?.fields||{})[L2]?.stringValue===U2}function mc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return qa(i.mapValue.fields,((n,a)=>e.mapValue.fields[n]=mc(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mc(i.arrayValue.values[n]);return e}return{...i}}function uD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===lD}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(n)}setAll(e){let n=rn.emptyPath(),a={},o=[];e.forEach(((u,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=p.popLast()}u?a[p.lastSegment()]=mc(u):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,a,o)}delete(e){const n=this.field(e.popLast());Rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){qa(n,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Cn(mc(this.value))}}function j2(i){const e=[];return qa(i.fields,((n,a)=>{const o=new rn([n]);if(Rh(a)){const c=j2(a.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new zn(e)}class un{constructor(e,n,a,o,c,u,p){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new un(e,0,Re.min(),Re.min(),Re.min(),Cn.empty(),0)}static newFoundDocument(e,n,a,o){return new un(e,1,n,Re.min(),a,o,0)}static newNoDocument(e,n){return new un(e,2,n,Re.min(),Re.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Re.min(),Re.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sf{constructor(e,n){this.position=e,this.inclusive=n}}function G1(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?a=Te.comparator(Te.fromName(u.referenceValue),n.key):a=qo(u,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function K1(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ci(i.position[n],e.position[n]))return!1;return!0}class Sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function hD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class z2{}class Ft extends z2{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new dD(e,n,a):n==="array-contains"?new gD(e,a):n==="in"?new yD(e,a):n==="not-in"?new vD(e,a):n==="array-contains-any"?new xD(e,a):new Ft(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new mD(e,a):new pD(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qo(n,this.value)):n!==null&&Pa(this.value)===Pa(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends z2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Dr(e,n)}matches(e){return H2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H2(i){return i.op==="and"}function q2(i){return fD(i)&&H2(i)}function fD(i){for(const e of i.filters)if(e instanceof Dr)return!1;return!0}function Hm(i){if(i instanceof Ft)return i.field.canonicalString()+i.op.toString()+Go(i.value);if(q2(i))return i.filters.map((e=>Hm(e))).join(",");{const e=i.filters.map((n=>Hm(n))).join(",");return`${i.op}(${e})`}}function G2(i,e){return i instanceof Ft?(function(a,o){return o instanceof Ft&&a.op===o.op&&a.field.isEqual(o.field)&&ci(a.value,o.value)})(i,e):i instanceof Dr?(function(a,o){return o instanceof Dr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,u,p)=>c&&G2(u,o.filters[p])),!0):!1})(i,e):void De(19439)}function K2(i){return i instanceof Ft?(function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`})(i):i instanceof Dr?(function(n){return n.op.toString()+" {"+n.getFilters().map(K2).join(" ,")+"}"})(i):"Filter"}class dD extends Ft{constructor(e,n,a){super(e,n,a),this.key=Te.fromName(a.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class mD extends Ft{constructor(e,n){super(e,"in",n),this.keys=$2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class pD extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=$2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $2(i,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class gD extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Np(n)&&wc(n.arrayValue,this.value)}}class yD extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}}class vD extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wc(this.value.arrayValue,n)}}class xD extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>wc(this.value.arrayValue,a)))}}class _D{constructor(e,n=null,a=[],o=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=u,this.endAt=p,this.Te=null}}function $1(i,e=null,n=[],a=[],o=null,c=null,u=null){return new _D(i,e,n,a,o,c,u)}function kp(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Hm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),qf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Go(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Go(a))).join(",")),e.Te=n}return e.Te}function Bp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!hD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!G2(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!K1(i.startAt,e.startAt)&&K1(i.endAt,e.endAt)}function qm(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class rl{constructor(e,n=null,a=[],o=[],c=null,u="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ED(i,e,n,a,o,c,u,p){return new rl(i,e,n,a,o,c,u,p)}function Kf(i){return new rl(i)}function Q1(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Q2(i){return i.collectionGroup!==null}function pc(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new Ht(rn.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((d=>{d.isInequality()&&(p=p.add(d.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Sc(c,a))})),n.has(rn.keyField().canonicalString())||e.Ie.push(new Sc(rn.keyField(),a))}return e.Ie}function ai(i){const e=Ne(i);return e.Ee||(e.Ee=bD(e,pc(i))),e.Ee}function bD(i,e){if(i.limitType==="F")return $1(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Sc(o.field,c)}));const n=i.endAt?new Sf(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Sf(i.startAt.position,i.startAt.inclusive):null;return $1(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function Gm(i,e){const n=i.filters.concat([e]);return new rl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Km(i,e,n){return new rl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function $f(i,e){return Bp(ai(i),ai(e))&&i.limitType===e.limitType}function Y2(i){return`${kp(ai(i))}|lt:${i.limitType}`}function ko(i){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>K2(o))).join(", ")}]`),qf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Go(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Go(o))).join(",")),`Target(${a})`})(ai(i))}; limitType=${i.limitType})`}function Qf(i,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Te.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(i,e)&&(function(a,o){for(const c of pc(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(a,o){return!(a.startAt&&!(function(u,p,g){const d=G1(u,p,g);return u.inclusive?d<=0:d<0})(a.startAt,pc(a),o)||a.endAt&&!(function(u,p,g){const d=G1(u,p,g);return u.inclusive?d>=0:d>0})(a.endAt,pc(a),o))})(i,e)}function AD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function X2(i){return(e,n)=>{let a=!1;for(const o of pc(i)){const c=TD(o,e,n);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function TD(i,e,n){const a=i.field.isKeyField()?Te.comparator(e.key,n.key):(function(c,u,p){const g=u.data.field(c),d=p.data.field(c);return g!==null&&d!==null?qo(g,d):De(42886)})(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return De(19790,{direction:i.dir})}}class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,((n,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return B2(this.inner)}size(){return this.innerSize}}const CD=new xt(Te.comparator);function ji(){return CD}const W2=new xt(Te.comparator);function cc(...i){let e=W2;for(const n of i)e=e.insert(n.key,n);return e}function Z2(i){let e=W2;return i.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Es(){return gc()}function J2(){return gc()}function gc(){return new Bs((i=>i.toString()),((i,e)=>i.isEqual(e)))}const wD=new xt(Te.comparator),SD=new Ht(Te.comparator);function je(...i){let e=SD;for(const n of i)e=e.add(n);return e}const DD=new Ht(Ue);function RD(){return DD}function Op(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(e)?"-0":e}}function eb(i){return{integerValue:""+i}}function ID(i,e){return rD(e)?eb(e):Op(i,e)}class Yf{constructor(){this._=void 0}}function ND(i,e,n){return i instanceof Df?(function(o,c){const u={fields:{[V2]:{stringValue:M2},[F2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ip(c)&&(c=Gf(c)),c&&(u.fields[P2]=c),{mapValue:u}})(n,e):i instanceof Dc?nb(i,e):i instanceof Rc?rb(i,e):(function(o,c){const u=tb(o,c),p=Y1(u)+Y1(o.Ae);return zm(u)&&zm(o.Ae)?eb(p):Op(o.serializer,p)})(i,e)}function kD(i,e,n){return i instanceof Dc?nb(i,e):i instanceof Rc?rb(i,e):n}function tb(i,e){return i instanceof Rf?(function(a){return zm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Df extends Yf{}class Dc extends Yf{constructor(e){super(),this.elements=e}}function nb(i,e){const n=ib(e);for(const a of i.elements)n.some((o=>ci(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Rc extends Yf{constructor(e){super(),this.elements=e}}function rb(i,e){let n=ib(e);for(const a of i.elements)n=n.filter((o=>!ci(o,a)));return{arrayValue:{values:n}}}class Rf extends Yf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Y1(i){return wt(i.integerValue||i.doubleValue)}function ib(i){return Np(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function BD(i,e){return i.field.isEqual(e.field)&&(function(a,o){return a instanceof Dc&&o instanceof Dc||a instanceof Rc&&o instanceof Rc?Ho(a.elements,o.elements,ci):a instanceof Rf&&o instanceof Rf?ci(a.Ae,o.Ae):a instanceof Df&&o instanceof Df})(i.transform,e.transform)}class OD{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Xf{}function ab(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Mp(i.key,lr.none()):new Uc(i.key,i.data,lr.none());{const n=i.data,a=Cn.empty();let o=new Ht(rn.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?a.delete(c):a.set(c,u),o=o.add(c)}return new Ga(i.key,a,new zn(o.toArray()),lr.none())}}function MD(i,e,n){i instanceof Uc?(function(o,c,u){const p=o.value.clone(),g=W1(o.fieldTransforms,c,u.transformResults);p.setAll(g),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(i,e,n):i instanceof Ga?(function(o,c,u){if(!Ih(o.precondition,c))return void c.convertToUnknownDocument(u.version);const p=W1(o.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(sb(o)),g.setAll(p),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(i,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function yc(i,e,n,a){return i instanceof Uc?(function(c,u,p,g){if(!Ih(c.precondition,u))return p;const d=c.value.clone(),y=Z1(c.fieldTransforms,g,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(i,e,n,a):i instanceof Ga?(function(c,u,p,g){if(!Ih(c.precondition,u))return p;const d=Z1(c.fieldTransforms,g,u),y=u.data;return y.setAll(sb(c)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((v=>v.field)))})(i,e,n,a):(function(c,u,p){return Ih(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(i,e,n)}function VD(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),c=tb(a.transform,o||null);c!=null&&(n===null&&(n=Cn.empty()),n.set(a.field,c))}return n||null}function X1(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ho(a,o,((c,u)=>BD(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Uc extends Xf{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ga extends Xf{constructor(e,n,a,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function sb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}})),e}function W1(i,e,n){const a=new Map;Xe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],u=c.transform,p=e.data.field(c.field);a.set(c.field,kD(u,p,n[o]))}return a}function Z1(i,e,n){const a=new Map;for(const o of i){const c=o.transform,u=n.data.field(o.field);a.set(o.field,ND(c,u,e))}return a}class Mp extends Xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PD extends Xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FD{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&MD(c,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=yc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=yc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=J2();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=n.has(o.key)?null:p;const g=ab(u,p);g!==null&&a.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Re.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&Ho(this.mutations,e.mutations,((n,a)=>X1(n,a)))&&Ho(this.baseMutations,e.baseMutations,((n,a)=>X1(n,a)))}}class Vp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Xe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return wD})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,a[u].version);return new Vp(e,n,a,o)}}class LD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UD{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,qe;function jD(i){switch(i){case se.OK:return De(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return De(15467,{code:i})}}function ob(i){if(i===void 0)return Ui("GRPC error has no .code"),se.UNKNOWN;switch(i){case Pt.OK:return se.OK;case Pt.CANCELLED:return se.CANCELLED;case Pt.UNKNOWN:return se.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return se.INTERNAL;case Pt.UNAVAILABLE:return se.UNAVAILABLE;case Pt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Pt.NOT_FOUND:return se.NOT_FOUND;case Pt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Pt.ABORTED:return se.ABORTED;case Pt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Pt.DATA_LOSS:return se.DATA_LOSS;default:return De(39323,{code:i})}}(qe=Pt||(Pt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function zD(){return new TextEncoder}const HD=new Ia([4294967295,4294967295],0);function J1(i){const e=zD().encode(i),n=new b2;return n.update(e),new Uint8Array(n.digest())}function e_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ia([n,a],0),new Ia([o,c],0)]}class Pp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new uc(`Invalid padding: ${n}`);if(a<0)throw new uc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ia.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Ia.fromNumber(a)));return o.compare(HD)===1&&(o=new Ia([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=J1(e),[a,o]=e_(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(a,o,c);if(!this.we(u))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Pp(c,o,n);return a.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const n=J1(e),[a,o]=e_(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(a,o,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wf{constructor(e,n,a,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Wf(Re.min(),o,new xt(Ue),ji(),je())}}class jc{constructor(e,n,a,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new jc(a,n,je(),je(),je())}}class Nh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class lb{constructor(e,n){this.targetId=e,this.Ce=n}}class cb{constructor(e,n,a=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class t_{constructor(){this.ve=0,this.Fe=n_(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),a=je();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:De(38017,{changeType:c})}})),new jc(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=n_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qD{constructor(e){this.Ge=e,this.ze=new Map,this.je=ji(),this.Je=xh(),this.He=xh(),this.Ye=new xt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(qm(c))if(a===0){const u=new Te(c.path);this.et(n,u,un.newNoDocument(u,Re.min()))}else Xe(a===1,20013,{expectedCount:a});else{const u=this._t(n);if(u!==a){const p=this.ut(e),g=p?this.ct(p,e,u):1;if(g!==0){this.it(n);const d=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=n;let u,p;try{u=Va(a).toUint8Array()}catch(g){if(g instanceof O2)return zo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Pp(u,o,c)}catch(g){return zo(g instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((c=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const p=this.ot(u);if(p){if(c.current&&qm(p.target)){const g=new Te(p.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,un.newNoDocument(g,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let a=je();this.He.forEach(((c,u)=>{let p=!0;u.forEachWhile((g=>{const d=this.ot(g);return!d||d.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Wf(e,n,this.Ye,this.je,a);return this.je=ji(),this.Je=xh(),this.He=xh(),this.Ye=new xt(Ue),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new t_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xh(){return new xt(Te.comparator)}function n_(){return new xt(Te.comparator)}const GD={asc:"ASCENDING",desc:"DESCENDING"},KD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$D={and:"AND",or:"OR"};class QD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(i,e){return i.useProto3Json||qf(e)?e:{value:e}}function If(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ub(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function YD(i,e){return If(i,e.toTimestamp())}function si(i){return Xe(!!i,49232),Re.fromTimestamp((function(n){const a=Ma(n);return new ht(a.seconds,a.nanos)})(i))}function Fp(i,e){return Qm(i,e).canonicalString()}function Qm(i,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function hb(i){const e=ot.fromString(i);return Xe(gb(e),10190,{key:e.toString()}),e}function Ym(i,e){return Fp(i.databaseId,e.path)}function Am(i,e){const n=hb(e);if(n.get(1)!==i.databaseId.projectId)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Te(db(n))}function fb(i,e){return Fp(i.databaseId,e)}function XD(i){const e=hb(i);return e.length===4?ot.emptyPath():db(e)}function Xm(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function db(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function r_(i,e,n){return{name:Ym(i,e),fields:n.value.mapValue.fields}}function WD(i,e){let n;if("targetChange"in e){e.targetChange;const a=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:De(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(d,y){return d.useProto3Json?(Xe(y===void 0||typeof y=="string",58123),an.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),an.fromUint8Array(y||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(d){const y=d.code===void 0?se.UNKNOWN:ob(d.code);return new me(y,d.message||"")})(u);n=new cb(a,o,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Am(i,a.document.name),c=si(a.document.updateTime),u=a.document.createTime?si(a.document.createTime):Re.min(),p=new Cn({mapValue:{fields:a.document.fields}}),g=un.newFoundDocument(o,c,u,p),d=a.targetIds||[],y=a.removedTargetIds||[];n=new Nh(d,y,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Am(i,a.document),c=a.readTime?si(a.readTime):Re.min(),u=un.newNoDocument(o,c),p=a.removedTargetIds||[];n=new Nh([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Am(i,a.document),c=a.removedTargetIds||[];n=new Nh([],c,o,null)}else{if(!("filter"in e))return De(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,u=new UD(o,c),p=a.targetId;n=new lb(p,u)}}return n}function ZD(i,e){let n;if(e instanceof Uc)n={update:r_(i,e.key,e.value)};else if(e instanceof Mp)n={delete:Ym(i,e.key)};else if(e instanceof Ga)n={update:r_(i,e.key,e.data),updateMask:o8(e.fieldMask)};else{if(!(e instanceof PD))return De(16599,{Vt:e.type});n={verify:Ym(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(c,u){const p=u.transform;if(p instanceof Df)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Dc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Rc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Rf)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw De(20930,{transform:u.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:YD(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:De(27497)})(i,e.precondition)),n}function JD(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map((n=>(function(o,c){let u=o.updateTime?si(o.updateTime):si(c);return u.isEqual(Re.min())&&(u=si(c)),new OD(u,o.transformResults||[])})(n,e)))):[]}function e8(i,e){return{documents:[fb(i,e.path)]}}function t8(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=fb(i,o);const c=(function(d){if(d.length!==0)return pb(Dr.create(d,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(d){if(d.length!==0)return d.map((y=>(function(_){return{field:Bo(_.field),direction:i8(_.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const p=$m(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:o}}function n8(i){let e=XD(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Xe(a===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let c=[];n.where&&(c=(function(v){const _=mb(v);return _ instanceof Dr&&q2(_)?_.getFilters():[_]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((_=>(function(C){return new Sc(Oo(C.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(_)))})(n.orderBy));let p=null;n.limit&&(p=(function(v){let _;return _=typeof v=="object"?v.value:v,qf(_)?null:_})(n.limit));let g=null;n.startAt&&(g=(function(v){const _=!!v.before,A=v.values||[];return new Sf(A,_)})(n.startAt));let d=null;return n.endAt&&(d=(function(v){const _=!v.before,A=v.values||[];return new Sf(A,_)})(n.endAt)),ED(e,o,u,c,p,"F",g,d)}function r8(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Oo(n.unaryFilter.field);return Ft.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(n.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Oo(n.unaryFilter.field);return Ft.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Oo(n.unaryFilter.field);return Ft.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ft.create(Oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Dr.create(n.compositeFilter.filters.map((a=>mb(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(i):De(30097,{filter:i})}function i8(i){return GD[i]}function a8(i){return KD[i]}function s8(i){return $D[i]}function Bo(i){return{fieldPath:i.canonicalString()}}function Oo(i){return rn.fromServerFormat(i.fieldPath)}function pb(i){return i instanceof Ft?(function(n){if(n.op==="=="){if(q1(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(H1(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q1(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(H1(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:a8(n.op),value:n.value}}})(i):i instanceof Dr?(function(n){const a=n.getFilters().map((o=>pb(o)));return a.length===1?a[0]:{compositeFilter:{op:s8(n.op),filters:a}}})(i):De(54877,{filter:i})}function o8(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function gb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class wa{constructor(e,n,a,o,c=Re.min(),u=Re.min(),p=an.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class l8{constructor(e){this.yt=e}}function c8(i){const e=n8({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Km(e,e.limit,"L"):e}class u8{constructor(){this.Cn=new h8}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Oa.min())}updateCollectionGroup(e,n,a){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class h8{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Ht(ot.comparator),c=!o.has(a);return this.index[n]=o.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ht(ot.comparator)).toArray()}}const i_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yb=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(yb,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class Ko{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ko(0)}static cr(){return new Ko(-1)}}const a_="LruGarbageCollector",f8=1048576;function s_([i,e],[n,a]){const o=Ue(i,n);return o===0?Ue(e,a):o}class d8{constructor(e){this.Ir=e,this.buffer=new Ht(s_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();s_(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class m8{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(a_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nl(n)?ye(a_,"Ignoring IndexedDB error during garbage collection: ",n):await tl(n)}await this.Vr(3e5)}))}}class p8{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Hf.ce);const a=new d8(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(i_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,c,u,p,g,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(a=v,p=Date.now(),this.removeTargets(e,a,n)))).next((v=>(c=v,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((v=>(d=Date.now(),No()<=Le.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(p-u)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${v} documents in `+(d-g)+`ms
Total Duration: ${d-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:v}))))}}function g8(i,e){return new p8(i,e)}class y8{constructor(){this.changes=new Bs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ce.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class v8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class x8{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&yc(a.mutation,o,zn.empty(),ht.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,je()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=je()){const o=Es();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((c=>{let u=cc();return c.forEach(((p,g)=>{u=u.insert(p,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const a=Es();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,je())))}populateOverlays(e,n,a){const o=[];return a.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,p)=>{n.set(u,p)}))}))}computeViews(e,n,a,o){let c=ji();const u=gc(),p=(function(){return gc()})();return n.forEach(((g,d)=>{const y=a.get(d.key);o.has(d.key)&&(y===void 0||y.mutation instanceof Ga)?c=c.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),yc(y.mutation,d,y.mutation.getFieldMask(),ht.now())):u.set(d.key,zn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((d,y)=>u.set(d,y))),n.forEach(((d,y)=>p.set(d,new v8(y,u.get(d)??null)))),p)))}recalculateAndSaveOverlays(e,n){const a=gc();let o=new xt(((u,p)=>u-p)),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const p of u)p.keys().forEach((g=>{const d=n.get(g);if(d===null)return;let y=a.get(g)||zn.empty();y=p.applyToLocalView(d,y),a.set(g,y);const v=(o.get(p.batchId)||je()).add(g);o=o.insert(p.batchId,v)}))})).next((()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),d=g.key,y=g.value,v=J2();y.forEach((_=>{if(!c.has(_)){const A=ab(n.get(_),a.get(_));A!==null&&v.set(_,A),c=c.add(_)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return ce.waitFor(u)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Q2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-c.size):ce.resolve(Es());let p=Ac,g=c;return u.next((d=>ce.forEach(d,((y,v)=>(p<v.largestBatchId&&(p=v.largestBatchId),c.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next((_=>{g=g.insert(y,_)}))))).next((()=>this.populateOverlays(e,d,c))).next((()=>this.computeViews(e,g,d,je()))).next((y=>({batchId:p,changes:Z2(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((a=>{let o=cc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const c=n.collectionGroup;let u=cc();return this.indexManager.getCollectionParents(e,c).next((p=>ce.forEach(p,(g=>{const d=(function(v,_){return new rl(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,d,a,o).next((y=>{y.forEach(((v,_)=>{u=u.insert(v,_)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,o)))).next((u=>{c.forEach(((g,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,un.newInvalidDocument(y)))}));let p=cc();return u.forEach(((g,d)=>{const y=c.get(g);y!==void 0&&yc(y.mutation,d,zn.empty(),ht.now()),Qf(n,d)&&(p=p.insert(g,d))})),p}))}}class _8{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:c8(o.bundledQuery),readTime:si(o.readTime)}})(n)),ce.resolve()}}class E8{constructor(){this.overlays=new xt(Te.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Es();return ce.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,c)=>{this.St(e,n,c)})),ce.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),ce.resolve()}getOverlaysForCollection(e,n,a){const o=Es(),c=n.length+1,u=new Te(n.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const g=p.getNext().value,d=g.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===c&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let c=new xt(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>a){let y=c.get(d.largestBatchId);y===null&&(y=Es(),c=c.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const p=Es(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((d,y)=>p.set(d,y))),!(p.size()>=o)););return ce.resolve(p)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(a.key,new LD(n,a));let c=this.qr.get(n);c===void 0&&(c=je(),this.qr.set(n,c)),this.qr.set(n,c.add(a.key))}}class b8{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}class Lp{constructor(){this.Qr=new Ht(Qt.$r),this.Ur=new Ht(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Qt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Te(new ot([])),a=new Qt(n,e),o=new Qt(n,e+1),c=[];return this.Ur.forEachInRange([a,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new ot([])),a=new Qt(n,e),o=new Qt(n,e+1);let c=je();return this.Ur.forEachInRange([a,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new Qt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}class A8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Qt.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new FD(c,n,a,o);this.mutationQueue.push(u);for(const p of o)this.Zr=this.Zr.add(new Qt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),c=o<0?0:o;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Rp:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Qt(n,0),o=new Qt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(u=>{const p=this.Xr(u.Yr);c.push(p)})),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Ht(Ue);return n.forEach((o=>{const c=new Qt(o,0),u=new Qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(p=>{a=a.add(p.Yr)}))})),ce.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let c=a;Te.isDocumentKey(c)||(c=c.child(""));const u=new Qt(new Te(c),0);let p=new Ht(Ue);return this.Zr.forEachWhile((g=>{const d=g.key.path;return!!a.isPrefixOf(d)&&(d.length===o&&(p=p.add(g.Yr)),!0)}),u),ce.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ce.forEach(n.mutations,(o=>{const c=new Qt(o.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new Qt(n,0),o=this.Zr.firstAfterOrEqual(a);return ce.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class T8{constructor(e){this.ri=e,this.docs=(function(){return new xt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),c=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ce.resolve(a?a.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let a=ji();return n.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():un.newInvalidDocument(o))})),ce.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let c=ji();const u=n.path,p=new Te(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:d,value:{document:y}}=g.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||J3(Z3(y),a)<=0||(o.has(y.key)||Qf(n,y))&&(c=c.insert(y.key,y.mutableCopy()))}return ce.resolve(c)}getAllFromCollectionGroup(e,n,a,o){De(9500)}ii(e,n){return ce.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new C8(this)}getSize(e){return ce.resolve(this.size)}}class C8 extends y8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class w8{constructor(e){this.persistence=e,this.si=new Bs((n=>kp(n)),Bp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Lp,this.targetCount=0,this.ai=Ko.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ko(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,a){let o=0;const c=[];return this.si.forEach(((u,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ce.waitFor(c).next((()=>o))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ce.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ce.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ce.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ce.resolve(a)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}class vb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hf(0),this.li=!1,this.li=!0,this.hi=new b8,this.referenceDelegate=e(this),this.Pi=new w8(this),this.indexManager=new u8,this.remoteDocumentCache=(function(o){return new T8(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new l8(n),this.Ii=new _8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new A8(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ye("MemoryPersistence","Starting transaction:",e);const o=new S8(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ce.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class S8 extends tD{constructor(e){super(),this.currentSequenceNumber=e}}class Up{constructor(e){this.persistence=e,this.Ri=new Lp,this.Vi=null}static mi(e){return new Up(e)}get fi(){if(this.Vi)return this.Vi;throw De(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ce.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(a=>{const o=Te.fromPath(a);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nf{constructor(e,n){this.persistence=e,this.pi=new Bs((a=>iD(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=g8(this,n)}static mi(e,n){return new Nf(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return ce.forEach(this.pi,((a,o)=>this.br(e,a,o).next((c=>c?ce.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((p=>{p||(a++,c.removeEntry(u,Re.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dh(e.data.value)),n}br(e,n,a){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ce.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class jp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=je(),o=je();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new jp(e,n.fromCache,a,o)}}class D8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class R8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nw()?8:nD(hn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,o,a).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new D8;return this.Ss(e,n,u).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,u,p.size)}))})).next((()=>c.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(No()<=Le.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(No()<=Le.DEBUG&&ye("QueryEngine","Query:",ko(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(No()<=Le.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):ce.resolve())}ys(e,n){if(Q1(n))return ce.resolve(null);let a=ai(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Km(n,null,"F"),a=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const u=je(...c);return this.ps.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,a).next((g=>{const d=this.Ds(n,p);return this.Cs(n,d,u,g.readTime)?this.ys(e,Km(n,null,"F")):this.vs(e,d,n,g)}))))})))))}ws(e,n,a,o){return Q1(n)||o.isEqual(Re.min())?ce.resolve(null):this.ps.getDocuments(e,a).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,a,o)?ce.resolve(null):(No()<=Le.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ko(n)),this.vs(e,u,n,W3(o,Ac)).next((p=>p)))}))}Ds(e,n){let a=new Ht(X2(e));return n.forEach(((o,c)=>{Qf(e,c)&&(a=a.add(c))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,a){return No()<=Le.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",ko(n)),this.ps.getDocumentsMatchingQuery(e,n,Oa.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const zp="LocalStore",I8=3e8;class N8{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new xt(Ue),this.xs=new Bs((c=>kp(c)),Bp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function k8(i,e,n,a){return new N8(i,e,n,a)}async function xb(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((c=>{const u=[],p=[];let g=je();for(const d of o){u.push(d.batchId);for(const y of d.mutations)g=g.add(y.key)}for(const d of c){p.push(d.batchId);for(const y of d.mutations)g=g.add(y.key)}return n.localDocuments.getDocuments(a,g).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:p})))}))}))}function B8(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,d,y){const v=d.batch,_=v.keys();let A=ce.resolve();return _.forEach((C=>{A=A.next((()=>y.getEntry(g,C))).next((N=>{const S=d.docVersions.get(C);Xe(S!==null,48541),N.version.compareTo(S)<0&&(v.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),y.addEntry(N)))}))})),A.next((()=>p.mutationQueue.removeMutationBatch(g,v)))})(n,a,e,c).next((()=>c.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let g=je();for(let d=0;d<p.mutationResults.length;++d)p.mutationResults[d].transformResults.length>0&&(g=g.add(p.batch.mutations[d].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function _b(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function O8(i,e){const n=Ne(i),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((y,v)=>{const _=o.get(v);if(!_)return;p.push(n.Pi.removeMatchingKeys(c,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(c,y.addedDocuments,v))));let A=_.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(an.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,a)),o=o.insert(v,A),(function(N,S,U){return N.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=I8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(_,A,y)&&p.push(n.Pi.updateTargetData(c,A))}));let g=ji(),d=je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,y))})),p.push(M8(c,u,e.documentUpdates).next((y=>{g=y.ks,d=y.qs}))),!a.isEqual(Re.min())){const y=n.Pi.getLastRemoteSnapshotVersion(c).next((v=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(y)}return ce.waitFor(p).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,d))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function M8(i,e,n){let a=je(),o=je();return n.forEach((c=>a=a.add(c))),e.getEntries(i,a).next((c=>{let u=ji();return n.forEach(((p,g)=>{const d=c.get(p);g.isFoundDocument()!==d.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),u=u.insert(p,g)):!d.isValidDocument()||g.version.compareTo(d.version)>0||g.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(g),u=u.insert(p,g)):ye(zp,"Ignoring outdated watch update for ",p,". Current version:",d.version," Watch version:",g.version)})),{ks:u,qs:o}}))}function V8(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Rp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function P8(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((c=>c?(o=c,ce.resolve(o)):n.Pi.allocateTargetId(a).next((u=>(o=new wa(e,u,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Wm(i,e,n){const a=Ne(i),o=a.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,(u=>a.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!nl(u))throw u;ye(zp,`Failed to update sequence numbers for target ${e}: ${u}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function o_(i,e,n){const a=Ne(i);let o=Re.min(),c=je();return a.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,d,y){const v=Ne(g),_=v.xs.get(y);return _!==void 0?ce.resolve(v.Ms.get(_)):v.Pi.getTargetData(d,y)})(a,u,ai(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(u,p.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(u,e,n?o:Re.min(),n?c:je()))).next((p=>(F8(a,AD(e),p),{documents:p,Qs:c})))))}function F8(i,e,n){let a=i.Os.get(e)||Re.min();n.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),i.Os.set(e,a)}class l_{constructor(){this.activeTargetIds=RD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L8{constructor(){this.Mo=new l_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new l_,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class U8{Oo(e){}shutdown(){}}const c_="ConnectivityMonitor";class u_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(c_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(c_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _h=null;function Zm(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}const Tm="RestConnection",j8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z8{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Cf?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,c){const u=Zm(),p=this.zo(e,n.toUriEncodedString());ye(Tm,`Sending RPC '${e}' ${u}:`,p,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:d}=new URL(p),y=Zo(d);return this.Jo(e,p,g,a,y).then((v=>(ye(Tm,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw zo(Tm,`RPC '${e}' ${u} failed with error: `,v,"url: ",p,"request:",a),v}))}Ho(e,n,a,o,c,u){return this.Go(e,n,a,o,c)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const a=j8[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class H8{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ln="WebChannelConnection";class q8 extends z8{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,c){const u=Zm();return new Promise(((p,g)=>{const d=new A2;d.setWithCredentials(!0),d.listenOnce(T2.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Sh.NO_ERROR:const v=d.getResponseJson();ye(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),p(v);break;case Sh.TIMEOUT:ye(ln,`RPC '${e}' ${u} timed out`),g(new me(se.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const _=d.getStatus();if(ye(ln,`RPC '${e}' ${u} failed with status:`,_,"response text:",d.getResponseText()),_>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A?.error;if(C&&C.status&&C.message){const N=(function(U){const k=U.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(k)>=0?k:se.UNKNOWN})(C.status);g(new me(N,C.message))}else g(new me(se.UNKNOWN,"Server responded with status "+d.getStatus()))}else g(new me(se.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ye(ln,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(o);ye(ln,`RPC '${e}' ${u} sending request:`,o),d.send(n,"POST",y,a,15)}))}T_(e,n,a){const o=Zm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=S2(),p=w2(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(g.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const y=c.join("");ye(ln,`Creating RPC '${e}' stream ${o}: ${y}`,g);const v=u.createWebChannel(y,g);this.I_(v);let _=!1,A=!1;const C=new H8({Yo:S=>{A?ye(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(_||(ye(ln,`Opening RPC '${e}' stream ${o} transport.`),v.open(),_=!0),ye(ln,`RPC '${e}' stream ${o} sending:`,S),v.send(S))},Zo:()=>v.close()}),N=(S,U,k)=>{S.listen(U,(V=>{try{k(V)}catch(j){setTimeout((()=>{throw j}),0)}}))};return N(v,lc.EventType.OPEN,(()=>{A||(ye(ln,`RPC '${e}' stream ${o} transport opened.`),C.o_())})),N(v,lc.EventType.CLOSE,(()=>{A||(A=!0,ye(ln,`RPC '${e}' stream ${o} transport closed`),C.a_(),this.E_(v))})),N(v,lc.EventType.ERROR,(S=>{A||(A=!0,zo(ln,`RPC '${e}' stream ${o} transport errored. Name:`,S.name,"Message:",S.message),C.a_(new me(se.UNAVAILABLE,"The operation could not be completed")))})),N(v,lc.EventType.MESSAGE,(S=>{if(!A){const U=S.data[0];Xe(!!U,16349);const k=U,V=k?.error||k[0]?.error;if(V){ye(ln,`RPC '${e}' stream ${o} received error:`,V);const j=V.status;let q=(function(w){const O=Pt[w];if(O!==void 0)return ob(O)})(j),z=V.message;q===void 0&&(q=se.INTERNAL,z="Unknown error status: "+j+" with message "+V.message),A=!0,C.a_(new me(q,z)),v.close()}else ye(ln,`RPC '${e}' stream ${o} received:`,U),C.u_(U)}})),N(p,C2.STAT_EVENT,(S=>{S.stat===Lm.PROXY?ye(ln,`RPC '${e}' stream ${o} detected buffering proxy`):S.stat===Lm.NOPROXY&&ye(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Cm(){return typeof document<"u"?document:null}function Zf(i){return new QD(i,!0)}class Eb{constructor(e,n,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const h_="PersistentStream";class bb{constructor(e,n,a,o,c,u,p,g){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Eb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new me(se.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(h_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ye(h_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class G8 extends bb{constructor(e,n,a,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=WD(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Re.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?si(u.readTime):Re.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Xm(this.serializer),n.addTarget=(function(c,u){let p;const g=u.target;if(p=qm(g)?{documents:e8(c,g)}:{query:t8(c,g).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=ub(c,u.resumeToken);const d=$m(c,u.expectedCount);d!==null&&(p.expectedCount=d)}else if(u.snapshotVersion.compareTo(Re.min())>0){p.readTime=If(c,u.snapshotVersion.toTimestamp());const d=$m(c,u.expectedCount);d!==null&&(p.expectedCount=d)}return p})(this.serializer,e);const a=r8(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Xm(this.serializer),n.removeTarget=e,this.q_(n)}}class K8 extends bb{constructor(e,n,a,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JD(e.writeResults,e.commitTime),a=si(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Xm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>ZD(this.serializer,a)))};this.q_(n)}}class $8{}class Q8 extends $8{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Qm(n,a),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(se.UNKNOWN,c.toString())}))}Ho(e,n,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.Ho(e,Qm(n,a),o,u,p,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Y8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ns="RemoteStore";class X8{constructor(e,n,a,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{a.enqueueAndForget((async()=>{Os(this)&&(ye(Ns,"Restarting streams for network reachability change."),await(async function(g){const d=Ne(g);d.Ea.add(4),await zc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Jf(d)})(this))}))})),this.Ra=new Y8(a,o)}}async function Jf(i){if(Os(i))for(const e of i.da)await e(!0)}async function zc(i){for(const e of i.da)await e(!1)}function Ab(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kp(n)?Gp(n):il(n).O_()&&qp(n,e))}function Hp(i,e){const n=Ne(i),a=il(n);n.Ia.delete(e),a.O_()&&Tb(n,e),n.Ia.size===0&&(a.O_()?a.L_():Os(n)&&n.Ra.set("Unknown"))}function qp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}il(i).Y_(e)}function Tb(i,e){i.Va.Ue(e),il(i).Z_(e)}function Gp(i){i.Va=new qD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),il(i).start(),i.Ra.ua()}function Kp(i){return Os(i)&&!il(i).x_()&&i.Ia.size>0}function Os(i){return Ne(i).Ea.size===0}function Cb(i){i.Va=void 0}async function W8(i){i.Ra.set("Online")}async function Z8(i){i.Ia.forEach(((e,n)=>{qp(i,e)}))}async function J8(i,e){Cb(i),Kp(i)?(i.Ra.ha(e),Gp(i)):i.Ra.set("Unknown")}async function eR(i,e,n){if(i.Ra.set("Online"),e instanceof cb&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,u),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(a){ye(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await kf(i,a)}else if(e instanceof Nh?i.Va.Ze(e):e instanceof lb?i.Va.st(e):i.Va.tt(e),!n.isEqual(Re.min()))try{const a=await _b(i.localStore);n.compareTo(a)>=0&&await(function(c,u){const p=c.Va.Tt(u);return p.targetChanges.forEach(((g,d)=>{if(g.resumeToken.approximateByteSize()>0){const y=c.Ia.get(d);y&&c.Ia.set(d,y.withResumeToken(g.resumeToken,u))}})),p.targetMismatches.forEach(((g,d)=>{const y=c.Ia.get(g);if(!y)return;c.Ia.set(g,y.withResumeToken(an.EMPTY_BYTE_STRING,y.snapshotVersion)),Tb(c,g);const v=new wa(y.target,g,d,y.sequenceNumber);qp(c,v)})),c.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(a){ye(Ns,"Failed to raise snapshot:",a),await kf(i,a)}}async function kf(i,e,n){if(!nl(e))throw e;i.Ea.add(1),await zc(i),i.Ra.set("Offline"),n||(n=()=>_b(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ye(Ns,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Jf(i)}))}function wb(i,e){return e().catch((n=>kf(i,n,e)))}async function e0(i){const e=Ne(i),n=Fa(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rp;for(;tR(e);)try{const o=await V8(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,nR(e,o)}catch(o){await kf(e,o)}Sb(e)&&Db(e)}function tR(i){return Os(i)&&i.Ta.length<10}function nR(i,e){i.Ta.push(e);const n=Fa(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Sb(i){return Os(i)&&!Fa(i).x_()&&i.Ta.length>0}function Db(i){Fa(i).start()}async function rR(i){Fa(i).ra()}async function iR(i){const e=Fa(i);for(const n of i.Ta)e.ea(n.mutations)}async function aR(i,e,n){const a=i.Ta.shift(),o=Vp.from(a,e,n);await wb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await e0(i)}async function sR(i,e){e&&Fa(i).X_&&await(async function(a,o){if((function(u){return jD(u)&&u!==se.ABORTED})(o.code)){const c=a.Ta.shift();Fa(a).B_(),await wb(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await e0(a)}})(i,e),Sb(i)&&Db(i)}async function f_(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),ye(Ns,"RemoteStore received new credentials");const a=Os(n);n.Ea.add(3),await zc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jf(n)}async function oR(i,e){const n=Ne(i);e?(n.Ea.delete(2),await Jf(n)):e||(n.Ea.add(2),await zc(n),n.Ra.set("Unknown"))}function il(i){return i.ma||(i.ma=(function(n,a,o){const c=Ne(n);return c.sa(),new G8(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:W8.bind(null,i),t_:Z8.bind(null,i),r_:J8.bind(null,i),H_:eR.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Kp(i)?Gp(i):i.Ra.set("Unknown")):(await i.ma.stop(),Cb(i))}))),i.ma}function Fa(i){return i.fa||(i.fa=(function(n,a,o){const c=Ne(n);return c.sa(),new K8(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:rR.bind(null,i),r_:sR.bind(null,i),ta:iR.bind(null,i),na:aR.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await e0(i)):(await i.fa.stop(),i.Ta.length>0&&(ye(Ns,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class $p{constructor(e,n,a,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,c){const u=Date.now()+a,p=new $p(e,n,u,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(i,e){if(Ui("AsyncQueue",`${e}: ${i}`),nl(i))return new me(se.UNAVAILABLE,`${e}: ${i}`);throw i}class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Te.comparator(n.key,a.key):(n,a)=>Te.comparator(n.key,a.key),this.keyedMap=cc(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Fo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class d_{constructor(){this.ga=new xt(Te.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class $o{constructor(e,n,a,o,c,u,p,g,d){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=d}static fromInitialDocuments(e,n,a,o,c){const u=[];return n.forEach((p=>{u.push({type:0,doc:p})})),new $o(e,n,Fo.emptySet(n),u,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class lR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class cR{constructor(){this.queries=m_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ne(n),c=o.queries;o.queries=m_(),c.forEach(((u,p)=>{for(const g of p.Sa)g.onError(a)}))})(this,new me(se.ABORTED,"Firestore shutting down"))}}function m_(){return new Bs((i=>Y2(i)),$f)}async function Rb(i,e){const n=Ne(i);let a=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new lR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const p=Qp(u,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Yp(n)}async function Ib(i,e){const n=Ne(i),a=e.query;let o=3;const c=n.queries.get(a);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function uR(i,e){const n=Ne(i);let a=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const p of u.Sa)p.Fa(o)&&(a=!0);u.wa=o}}a&&Yp(n)}function hR(i,e,n){const a=Ne(i),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);a.queries.delete(e)}function Yp(i){i.Ca.forEach((e=>{e.next()}))}var Jm,p_;(p_=Jm||(Jm={})).Ma="default",p_.Cache="cache";class Nb{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new $o(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jm.Cache}}class kb{constructor(e){this.key=e}}class Bb{constructor(e){this.key=e}}class fR{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=X2(e),this.tu=new Fo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new d_,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,d=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,v)=>{const _=o.get(y),A=Qf(this.query,v)?v:null,C=!!_&&this.mutatedKeys.has(_.key),N=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let S=!1;_&&A?_.data.isEqual(A.data)?C!==N&&(a.track({type:3,doc:A}),S=!0):this.su(_,A)||(a.track({type:2,doc:A}),S=!0,(g&&this.eu(A,g)>0||d&&this.eu(A,d)<0)&&(p=!0)):!_&&A?(a.track({type:0,doc:A}),S=!0):_&&!A&&(a.track({type:1,doc:_}),S=!0,(g||d)&&(p=!0)),S&&(A?(u=u.add(A),c=N?c.add(y):c.delete(y)):(u=u.delete(y),c=c.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),c=c.delete(y.key),a.track({type:1,doc:y})}return{tu:u,iu:a,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(A,C){const N=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Rt:S})}};return N(A)-N(C)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(a),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,d=g!==this.Za;return this.Za=g,u.length!==0||d?{snapshot:new $o(this.query,e.tu,c,u,e.mutatedKeys,g===0,d,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new Bb(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new kb(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return $o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xp="SyncEngine";class dR{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class mR{constructor(e){this.key=e,this.hu=!1}}class pR{constructor(e,n,a,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Bs((p=>Y2(p)),$f),this.Iu=new Map,this.Eu=new Set,this.du=new xt(Te.comparator),this.Au=new Map,this.Ru=new Lp,this.Vu={},this.mu=new Map,this.fu=Ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gR(i,e,n=!0){const a=Lb(i);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Ob(a,e,n,!0),o}async function yR(i,e){const n=Lb(i);await Ob(n,e,!0,!1)}async function Ob(i,e,n,a){const o=await P8(i.localStore,ai(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,n);let p;return a&&(p=await vR(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&n&&Ab(i.remoteStore,o),p}async function vR(i,e,n,a,o){i.pu=(v,_,A)=>(async function(N,S,U,k){let V=S.view.ru(U);V.Cs&&(V=await o_(N.localStore,S.query,!1).then((({documents:T})=>S.view.ru(T,V))));const j=k&&k.targetChanges.get(S.targetId),q=k&&k.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(V,N.isPrimaryClient,j,q);return y_(N,S.targetId,z.au),z.snapshot})(i,v,_,A);const c=await o_(i.localStore,e,!0),u=new fR(e,c.Qs),p=u.ru(c.documents),g=jc.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),d=u.applyChanges(p,i.isPrimaryClient,g);y_(i,n,d.au);const y=new dR(e,n,u);return i.Tu.set(e,y),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),d.snapshot}async function xR(i,e,n){const a=Ne(i),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((u=>!$f(u,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Wm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Hp(a.remoteStore,o.targetId),ep(a,o.targetId)})).catch(tl)):(ep(a,o.targetId),await Wm(a.localStore,o.targetId,!0))}async function _R(i,e){const n=Ne(i),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Hp(n.remoteStore,a.targetId))}async function ER(i,e,n){const a=DR(i);try{const o=await(function(u,p){const g=Ne(u),d=ht.now(),y=p.reduce(((A,C)=>A.add(C.key)),je());let v,_;return g.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let C=ji(),N=je();return g.Ns.getEntries(A,y).next((S=>{C=S,C.forEach(((U,k)=>{k.isValidDocument()||(N=N.add(U))}))})).next((()=>g.localDocuments.getOverlayedDocuments(A,C))).next((S=>{v=S;const U=[];for(const k of p){const V=VD(k,v.get(k.key).overlayedDocument);V!=null&&U.push(new Ga(k.key,V,j2(V.value.mapValue),lr.exists(!0)))}return g.mutationQueue.addMutationBatch(A,d,U,p)})).next((S=>{_=S;const U=S.applyToLocalDocumentSet(v,N);return g.documentOverlayCache.saveOverlays(A,S.batchId,U)}))})).then((()=>({batchId:_.batchId,changes:Z2(v)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(u,p,g){let d=u.Vu[u.currentUser.toKey()];d||(d=new xt(Ue)),d=d.insert(p,g),u.Vu[u.currentUser.toKey()]=d})(a,o.batchId,n),await Hc(a,o.changes),await e0(a.remoteStore)}catch(o){const c=Qp(o,"Failed to persist write");n.reject(c)}}async function Mb(i,e){const n=Ne(i);try{const a=await O8(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Xe(u.hu,14607):o.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await Hc(n,a,e)}catch(a){await tl(a)}}function g_(i,e,n){const a=Ne(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((c,u)=>{const p=u.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,p){const g=Ne(u);g.onlineState=p;let d=!1;g.queries.forEach(((y,v)=>{for(const _ of v.Sa)_.va(p)&&(d=!0)})),d&&Yp(g)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function bR(i,e,n){const a=Ne(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),c=o&&o.key;if(c){let u=new xt(Te.comparator);u=u.insert(c,un.newNoDocument(c,Re.min()));const p=je().add(c),g=new Wf(Re.min(),new Map,new xt(Ue),u,p);await Mb(a,g),a.du=a.du.remove(c),a.Au.delete(e),Wp(a)}else await Wm(a.localStore,e,!1).then((()=>ep(a,e,n))).catch(tl)}async function AR(i,e){const n=Ne(i),a=e.batch.batchId;try{const o=await B8(n.localStore,e);Pb(n,a,null),Vb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Hc(n,o)}catch(o){await tl(o)}}async function TR(i,e,n){const a=Ne(i);try{const o=await(function(u,p){const g=Ne(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return g.mutationQueue.lookupMutationBatch(d,p).next((v=>(Xe(v!==null,37113),y=v.keys(),g.mutationQueue.removeMutationBatch(d,v)))).next((()=>g.mutationQueue.performConsistencyCheck(d))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(d,y,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>g.localDocuments.getDocuments(d,y)))}))})(a.localStore,e);Pb(a,e,n),Vb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Hc(a,o)}catch(o){await tl(o)}}function Vb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Pb(i,e,n){const a=Ne(i);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function ep(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),n&&i.Pu.yu(a,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||Fb(i,a)}))}function Fb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Hp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Wp(i))}function y_(i,e,n){for(const a of n)a instanceof kb?(i.Ru.addReference(a.key,e),CR(i,a)):a instanceof Bb?(ye(Xp,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||Fb(i,a.key)):De(19791,{wu:a})}function CR(i,e){const n=e.key,a=n.path.canonicalString();i.du.get(n)||i.Eu.has(a)||(ye(Xp,"New document in limbo: "+n),i.Eu.add(a),Wp(i))}function Wp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Te(ot.fromString(e)),a=i.fu.next();i.Au.set(a,new mR(n)),i.du=i.du.insert(n,a),Ab(i.remoteStore,new wa(ai(Kf(n.path)),a,"TargetPurposeLimboResolution",Hf.ce))}}async function Hc(i,e,n){const a=Ne(i),o=[],c=[],u=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,g)=>{u.push(a.pu(g,e,n).then((d=>{if((d||n)&&a.isPrimaryClient){const y=d?!d.fromCache:n?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,y?"current":"not-current")}if(d){o.push(d);const y=jp.As(g.targetId,d);c.push(y)}})))})),await Promise.all(u),a.Pu.H_(o),await(async function(g,d){const y=Ne(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ce.forEach(d,(_=>ce.forEach(_.Es,(A=>y.persistence.referenceDelegate.addReference(v,_.targetId,A))).next((()=>ce.forEach(_.ds,(A=>y.persistence.referenceDelegate.removeReference(v,_.targetId,A)))))))))}catch(v){if(!nl(v))throw v;ye(zp,"Failed to update sequence numbers: "+v)}for(const v of d){const _=v.targetId;if(!v.fromCache){const A=y.Ms.get(_),C=A.snapshotVersion,N=A.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(_,N)}}})(a.localStore,c))}async function wR(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){ye(Xp,"User change. New user:",e.toKey());const a=await xb(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new me(se.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Hc(n,a.Ls)}}function SR(i,e){const n=Ne(i),a=n.Au.get(e);if(a&&a.hu)return je().add(a.key);{let o=je();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const p=n.Tu.get(u);o=o.unionWith(p.view.nu)}return o}}function Lb(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bR.bind(null,e),e.Pu.H_=uR.bind(null,e.eventManager),e.Pu.yu=hR.bind(null,e.eventManager),e}function DR(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TR.bind(null,e),e}class Bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return k8(this.persistence,new R8,e.initialUser,this.serializer)}Cu(e){return new vb(Up.mi,this.serializer)}Du(e){return new L8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bf.provider={build:()=>new Bf};class RR extends Bf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Nf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new m8(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new vb((a=>Nf.mi(a,n)),this.serializer)}}class tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>g_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=wR.bind(null,this.syncEngine),await oR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cR})()}createDatastore(e){const n=Zf(e.databaseInfo.databaseId),a=(function(c){return new q8(c)})(e.databaseInfo);return(function(c,u,p,g){return new Q8(c,u,p,g)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,c,u,p){return new X8(a,o,c,u,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>g_(this.syncEngine,n,0)),(function(){return u_.v()?new u_:new U8})())}createSyncEngine(e,n){return(function(o,c,u,p,g,d,y){const v=new pR(o,c,u,p,g,d);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ne(n);ye(Ns,"RemoteStore shutting down."),a.Ea.add(5),await zc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tp.provider={build:()=>new tp};class Ub{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const La="FirestoreClient";class IR{constructor(e,n,a,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async u=>{ye(La,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(a,(u=>(ye(La,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Qp(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function wm(i,e){i.asyncQueue.verifyOperationInProgress(),ye(La,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener((async o=>{a.isEqual(o)||(await xb(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function v_(i,e){i.asyncQueue.verifyOperationInProgress();const n=await NR(i);ye(La,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((a=>f_(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,o)=>f_(e.remoteStore,o))),i._onlineComponents=e}async function NR(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ye(La,"Using user provided OfflineComponentProvider");try{await wm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await wm(i,new Bf)}}else ye(La,"Using default OfflineComponentProvider"),await wm(i,new RR(void 0));return i._offlineComponents}async function jb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ye(La,"Using user provided OnlineComponentProvider"),await v_(i,i._uninitializedComponentsProvider._online)):(ye(La,"Using default OnlineComponentProvider"),await v_(i,new tp))),i._onlineComponents}function kR(i){return jb(i).then((e=>e.syncEngine))}async function np(i){const e=await jb(i),n=e.eventManager;return n.onListen=gR.bind(null,e.syncEngine),n.onUnlisten=xR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_R.bind(null,e.syncEngine),n}function BR(i,e,n={}){const a=new Na;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,p,g,d){const y=new Ub({next:_=>{y.Nu(),u.enqueueAndForget((()=>Ib(c,v)));const A=_.docs.has(p);!A&&_.fromCache?d.reject(new me(se.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&_.fromCache&&g&&g.source==="server"?d.reject(new me(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),v=new Nb(Kf(p.path),y,{includeMetadataChanges:!0,qa:!0});return Rb(c,v)})(await np(i),i.asyncQueue,e,n,a))),a.promise}function zb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const x_=new Map;const Hb="firestore.googleapis.com",__=!0;class E_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hb,this.ssl=__}else this.host=e.host,this.ssl=e.ssl??__;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f8)throw new me(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class t0{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new U3;switch(a.type){case"firstParty":return new q3(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new me(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=x_.get(n);a&&(ye("ComponentProvider","Removing Datastore"),x_.delete(n),a.terminate())})(this),Promise.resolve()}}function OR(i,e,n,a={}){i=or(i,t0);const o=Zo(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;o&&(OE(`https://${p}`),ME("Firestore",!0)),c.host!==Hb&&c.host!==p&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:a};if(!ws(g,u)&&(i._setSettings(g),a.mockUserToken)){let d,y;if(typeof a.mockUserToken=="string")d=a.mockUserToken,y=cn.MOCK_USER;else{d=$C(a.mockUserToken,i._app?.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new me(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new cn(v)}i._authCredentials=new j3(new R2(d,y))}}class Ms{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class bt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Lc(n,bt._jsonSchema))return new bt(e,a||null,new Te(ot.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Lt("string",bt._jsonSchemaVersion),referencePath:Lt("string")};class ka extends Ms{constructor(e,n,a){super(e,n,Kf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new Te(e))}withConverter(e){return new ka(this.firestore,e,this._path)}}function Vi(i,e,...n){if(i=Ut(i),I2("collection","path",e),i instanceof t0){const a=ot.fromString(e,...n);return O1(a),new ka(i,null,a)}{if(!(i instanceof bt||i instanceof ka))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ot.fromString(e,...n));return O1(a),new ka(i.firestore,null,a)}}function Yt(i,e,...n){if(i=Ut(i),arguments.length===1&&(e=Dp.newId()),I2("doc","path",e),i instanceof t0){const a=ot.fromString(e,...n);return B1(a),new bt(i,null,new Te(a))}{if(!(i instanceof bt||i instanceof ka))throw new me(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ot.fromString(e,...n));return B1(a),new bt(i.firestore,i instanceof ka?i.converter:null,new Te(a))}}const b_="AsyncQueue";class A_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Eb(this,"async_queue_retry"),this._c=()=>{const a=Cm();a&&ye(b_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nl(e))throw e;ye(b_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",T_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=$p.createAndSchedule(this,e,n,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&De(47125,{Pc:T_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function T_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function C_(i){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class Ua extends t0{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new A_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A_(e),this._firestoreClient=void 0,await e}}}function MR(i,e){const n=typeof i=="object"?i:LE(),a=typeof i=="string"?i:Cf,o=gp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=GC("firestore");c&&OR(o,...c)}return o}function Zp(i){if(i._terminated)throw new me(se.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||VR(i),i._firestoreClient}function VR(i){const e=i._freezeSettings(),n=(function(o,c,u,p){return new oD(o,c,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,zb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new IR(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sr(an.fromBase64String(e))}catch(n){throw new me(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new sr(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lc(e,sr._jsonSchema))return sr.fromBase64String(e.bytes)}}sr._jsonSchemaVersion="firestore/bytes/1.0",sr._jsonSchema={type:Lt("string",sr._jsonSchemaVersion),bytes:Lt("string")};class n0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jp{constructor(e){this._methodName=e}}class oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(e){if(Lc(e,oi._jsonSchema))return new oi(e.latitude,e.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:Lt("string",oi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lc(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new li(e.vectorValues);throw new me(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Lt("string",li._jsonSchemaVersion),vectorValues:Lt("object")};const PR=/^__.*__$/;class FR{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class qb{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Ga(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ac:i})}}class eg{constructor(e,n,a,o,c,u){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new eg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Of(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Gb(this.Ac)&&PR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class LR{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Zf(e)}Cc(e,n,a,o=!1){return new eg({Ac:e,methodName:n,Dc:a,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function r0(i){const e=i._freezeSettings(),n=Zf(i._databaseId);return new LR(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Kb(i,e,n,a,o,c={}){const u=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);tg("Data must be an object, but it was:",u,a);const p=$b(a,u);let g,d;if(c.merge)g=new zn(u.fieldMask),d=u.fieldTransforms;else if(c.mergeFields){const y=[];for(const v of c.mergeFields){const _=rp(e,v,n);if(!u.contains(_))throw new me(se.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Yb(y,_)||y.push(_)}g=new zn(y),d=u.fieldTransforms.filter((v=>g.covers(v.field)))}else g=null,d=u.fieldTransforms;return new FR(new Cn(p),g,d)}class i0 extends Jp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof i0}}function UR(i,e,n,a){const o=i.Cc(1,e,n);tg("Data must be an object, but it was:",o,a);const c=[],u=Cn.empty();qa(a,((g,d)=>{const y=ng(e,g,n);d=Ut(d);const v=o.yc(y);if(d instanceof i0)c.push(y);else{const _=qc(d,v);_!=null&&(c.push(y),u.set(y,_))}}));const p=new zn(c);return new qb(u,p,o.fieldTransforms)}function jR(i,e,n,a,o,c){const u=i.Cc(1,e,n),p=[rp(e,a,n)],g=[o];if(c.length%2!=0)throw new me(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<c.length;_+=2)p.push(rp(e,c[_])),g.push(c[_+1]);const d=[],y=Cn.empty();for(let _=p.length-1;_>=0;--_)if(!Yb(d,p[_])){const A=p[_];let C=g[_];C=Ut(C);const N=u.yc(A);if(C instanceof i0)d.push(A);else{const S=qc(C,N);S!=null&&(d.push(A),y.set(A,S))}}const v=new zn(d);return new qb(y,v,u.fieldTransforms)}function zR(i,e,n,a=!1){return qc(n,i.Cc(a?4:3,e))}function qc(i,e){if(Qb(i=Ut(i)))return tg("Unsupported field value:",e,i),$b(i,e);if(i instanceof Jp)return(function(a,o){if(!Gb(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let u=0;for(const p of a){let g=qc(p,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(i,e)}return(function(a,o){if((a=Ut(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ID(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ht.fromDate(a);return{timestampValue:If(o.serializer,c)}}if(a instanceof ht){const c=new ht(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:If(o.serializer,c)}}if(a instanceof oi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof sr)return{bytesValue:ub(o.serializer,a._byteString)};if(a instanceof bt){const c=o.databaseId,u=a.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof li)return(function(u,p){return{mapValue:{fields:{[L2]:{stringValue:U2},[wf]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw p.Sc("VectorValues must only contain numeric values.");return Op(p.serializer,d)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${zf(a)}`)})(i,e)}function $b(i,e){const n={};return B2(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(i,((a,o)=>{const c=qc(o,e.mc(a));c!=null&&(n[a]=c)})),{mapValue:{fields:n}}}function Qb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ht||i instanceof oi||i instanceof sr||i instanceof bt||i instanceof Jp||i instanceof li)}function tg(i,e,n){if(!Qb(n)||!N2(n)){const a=zf(n);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function rp(i,e,n){if((e=Ut(e))instanceof n0)return e._internalPath;if(typeof e=="string")return ng(i,e);throw Of("Field path arguments must be of type string or ",i,!1,void 0,n)}const HR=new RegExp("[~\\*/\\[\\]]");function ng(i,e,n){if(e.search(HR)>=0)throw Of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new n0(...e.split("."))._internalPath}catch{throw Of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Of(i,e,n,a,o){const c=a&&!a.isEmpty(),u=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${a}`),u&&(g+=` in document ${o}`),g+=")"),new me(se.INVALID_ARGUMENT,p+i+g)}function Yb(i,e){return i.some((n=>n.isEqual(e)))}class Xb{constructor(e,n,a,o,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(a0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qR extends Xb{data(){return super.data()}}function a0(i,e){return typeof e=="string"?ng(i,e):e instanceof n0?e._internalPath:e._delegate._internalPath}function GR(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class Wb extends rg{}function bs(i,e,...n){let a=[];e instanceof rg&&a.push(e),a=a.concat(n),(function(c){const u=c.filter((g=>g instanceof ig)).length,p=c.filter((g=>g instanceof s0)).length;if(u>1||u>0&&p>0)throw new me(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)i=o._apply(i);return i}class s0 extends Wb{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new s0(e,n,a)}_apply(e){const n=this._parse(e);return Zb(e._query,n),new Ms(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=r0(e.firestore);return(function(c,u,p,g,d,y,v){let _;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new me(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){S_(v,y);const C=[];for(const N of v)C.push(w_(g,c,N));_={arrayValue:{values:C}}}else _=w_(g,c,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||S_(v,y),_=zR(p,u,v,y==="in"||y==="not-in");return Ft.create(d,y,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Bi(i,e,n){const a=e,o=a0("where",i);return s0._create(o,a,n)}class ig extends rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ig(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let u=o;const p=c.getFlattenedFilters();for(const g of p)Zb(u,g),u=Gm(u,g)})(e._query,n),new Ms(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ag extends Wb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ag(e,n)}_apply(e){const n=(function(o,c,u){if(o.startAt!==null)throw new me(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sc(c,u)})(e._query,this._field,this._direction);return new Ms(e.firestore,e.converter,(function(o,c){const u=o.explicitOrderBy.concat([c]);return new rl(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function As(i,e="asc"){const n=e,a=a0("orderBy",i);return ag._create(a,n)}function w_(i,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new me(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q2(e)&&n.indexOf("/")!==-1)throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(ot.fromString(n));if(!Te.isDocumentKey(a))throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return z1(i,new Te(a))}if(n instanceof bt)return z1(i,n._key);throw new me(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(n)}.`)}function S_(i,e){if(!Array.isArray(i)||i.length===0)throw new me(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zb(i,e){const n=(function(o,c){for(const u of o)for(const p of u.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class KR{convertValue(e,n="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return qa(e,((o,c)=>{a[o]=this.convertValue(c,n)})),a}convertVectorValue(e){const n=e.fields?.[wf].arrayValue?.values?.map((a=>wt(a.doubleValue)));return new li(n)}convertGeoPoint(e){return new oi(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Gf(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=Ma(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ot.fromString(e);Xe(gb(a),9688,{name:e});const o=new Cc(a.get(1),a.get(3)),c=new Te(a.popFirst(5));return o.isEqual(n)||Ui(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function Jb(i,e,n){let a;return a=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,a}class hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ts extends Xb{constructor(e,n,a,o,c,u){super(e,n,a,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(a0("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ts._jsonSchema={type:Lt("string",Ts._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class kh extends Ts{data(e={}){return super.data(e)}}class Lo{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new hc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new kh(this._firestore,this._userDataWriter,a.key,a,new hc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((p=>{const g=new kh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new hc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new kh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new hc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let d=-1,y=-1;return p.type!==0&&(d=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),y=u.indexOf(p.doc.key)),{type:$R(p.type),doc:g,oldIndex:d,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $R(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:i})}}function eA(i){i=or(i,bt);const e=or(i.firestore,Ua);return BR(Zp(e),i._key).then((n=>nA(e,i,n)))}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:Lt("string",Lo._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class tA extends KR{constructor(e){super(),this.firestore=e}convertBytes(e){return new sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function Qo(i,e,n){i=or(i,bt);const a=or(i.firestore,Ua),o=Jb(i.converter,e,n);return o0(a,[Kb(r0(a),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,lr.none())])}function Cs(i,e,n,...a){i=or(i,bt);const o=or(i.firestore,Ua),c=r0(o);let u;return u=typeof(e=Ut(e))=="string"||e instanceof n0?jR(c,"updateDoc",i._key,e,n,a):UR(c,"updateDoc",i._key,e),o0(o,[u.toMutation(i._key,lr.exists(!0))])}function sg(i){return o0(or(i.firestore,Ua),[new Mp(i._key,lr.none())])}function Ic(i,e){const n=or(i.firestore,Ua),a=Yt(i),o=Jb(i.converter,e);return o0(n,[Kb(r0(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,lr.exists(!1))]).then((()=>a))}function Gc(i,...e){i=Ut(i);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||C_(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(C_(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,u,p;if(i instanceof bt)u=or(i.firestore,Ua),p=Kf(i._key.path),c={next:g=>{e[a]&&e[a](nA(u,i,g))},error:e[a+1],complete:e[a+2]};else{const g=or(i,Ms);u=or(g.firestore,Ua),p=g._query;const d=new tA(u);c={next:y=>{e[a]&&e[a](new Lo(u,d,g,y))},error:e[a+1],complete:e[a+2]},GR(i._query)}return(function(d,y,v,_){const A=new Ub(_),C=new Nb(y,A,v);return d.asyncQueue.enqueueAndForget((async()=>Rb(await np(d),C))),()=>{A.Nu(),d.asyncQueue.enqueueAndForget((async()=>Ib(await np(d),C)))}})(Zp(u),p,o,c)}function o0(i,e){return(function(a,o){const c=new Na;return a.asyncQueue.enqueueAndForget((async()=>ER(await kR(a),o,c))),c.promise})(Zp(i),e)}function nA(i,e,n){const a=n.docs.get(e._key),o=new tA(i);return new Ts(i,o,e._key,a,new hc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){el=o})(Jo),jo(new Ss("firestore",((a,{instanceIdentifier:o,options:c})=>{const u=a.getProvider("app").getImmediate(),p=new Ua(new z3(a.getProvider("auth-internal")),new G3(u,a.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new me(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(d.options.projectId,y)})(u,o),u);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ra(R1,I1,e),Ra(R1,I1,"esm2020")})();const QR={apiKey:"AIzaSyDo6mqSgh8ifjBCbPJmRDCHJvDhkq_o61o",authDomain:"mynotbusyagenda.firebaseapp.com",projectId:"mynotbusyagenda",storageBucket:"mynotbusyagenda.firebasestorage.app",messagingSenderId:"290830129452",appId:"1:290830129452:web:c051a1cbd6d8a230303489",measurementId:"G-S7H89W117V"},rA=FE(QR),ba=V3(rA),YR=new Ii,st=MR(rA),iA=K.createContext();function Ir(){return K.useContext(iA)}function XR({children:i}){const[e,n]=K.useState(null),[a,o]=K.useState(!0);K.useEffect(()=>T6(ba,_=>{n(_),o(!1)}),[]);const y={user:e,loading:a,signInWithGoogle:async()=>{try{await G6(ba,YR)}catch(v){throw console.error("Error signing in with Google:",v),v}},loginWithEmail:async(v,_)=>{try{await E6(ba,v,_)}catch(A){throw console.error("Error signing in with email:",A),A}},linkEmailPassword:async v=>{try{if(!ba.currentUser)throw new Error("No user logged in");const _=ks.credential(ba.currentUser.email,v);await x6(ba.currentUser,_)}catch(_){throw console.error("Error linking credential:",_),_}},registerWithEmail:async(v,_)=>{try{await _6(ba,v,_)}catch(A){throw console.error("Error registering with email:",A),A}},logout:async()=>{try{await C6(ba)}catch(v){throw console.error("Error signing out:",v),v}}};return I.jsx(iA.Provider,{value:y,children:i})}const WR={en:{common:{loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",close:"Close",back:"Back",today:"Today",clear_filter:"Clear filter",view_history:"View History",undo:"Undo",task_deleted:"Task deleted",entry_deleted:"Entry deleted",edited:"(Edited)"},auth:{welcome:"Welcome back",subtitle:"Sign in to your account",sign_in_google:"Sign in with Google",sign_out:"Sign Out",email_login:"Sign in with Email",email_placeholder:"Email address",password_placeholder:"Password",sign_in:"Sign In",signing_in:"Signing in...",sign_up:"Sign Up",signing_up:"Signing up...",need_account:"Need an account? Sign Up",already_have_account:"Already have an account? Sign In",cancel:"Cancel",or:"Or",email_in_use:"Email already in use. Please sign in instead.",weak_password:"Password should be at least 6 characters.",auth_failed:"Failed to authenticate.",google_failed:"Failed to sign in with Google."},profile:{title:"Profile Settings",email_label:"Email",set_password_label:"Set Password for Alternative Login",new_password_placeholder:"Enter new password",save_password:"Set Password",saving:"Saving...",success:"Password set successfully! You can now log in with email.",error_recent_login:"For security, please log out and log in again to set a password.",error_email_in_use:"This email is already associated with a password.",error_generic:"Failed to set password.",error_short_password:"Password must be at least 6 characters",preferences:"Preferences",language:"Language",theme:"Theme",theme_dark:"Dark",theme_light:"Light"},dashboard:{greeting:{morning:"Good Morning",afternoon:"Good Afternoon",evening:"Good Evening"},subtitle:"Ready for a clear mind?",focus_title:"Focus for Today",focus_placeholder:"What is your main goal?",tasks_card:{title:"Tasks",pending:"Pending",action:"View Tasks"},journal_card:{title:"Journal",subtitle:"Reflect",action:"Write"}},tasks:{title:"Tasks",subtitle:"Organize your day.",past_title:"Past Tasks",past_subtitle:"Viewing tasks for",future_title:"Future Tasks",future_subtitle:"Viewing tasks for",placeholder:"Add a new task...",empty:"No tasks yet. Add one above!",empty_past:"No tasks found for this date.",delete_label:"Delete task",edit_label:"Edit task",created:"Created",select_date:"Select date",for_date:"For",view_incomplete:"View Incomplete Tasks",incomplete_title:"Incomplete Tasks",no_incomplete:"All tasks completed! Great job!"},journal:{title:"Journal",subtitle:"Reflect on your thoughts.",past_title:"Past Entries",past_subtitle:"Viewing entries for",placeholder:"What's on your mind?",empty:"No entries yet. Start writing!",empty_past:"No entries found for this date.",submit:"Send",archive_title:"Journal Archive",view_archive:"View Archive",no_archived_entries:"No entries found.",month_view:"Month View"},calendar:{select_date:"Select Date",summary_title:"Summary for",tasks_section:"Tasks",journal_section:"Journal Entries",no_tasks:"No tasks recorded.",no_entries:"No journal entries."}},es:{common:{loading:"Cargando...",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",close:"Cerrar",back:"Volver",today:"Hoy",clear_filter:"Borrar filtro",view_history:"Ver Historial",undo:"Deshacer",task_deleted:"Tarea eliminada",entry_deleted:"Entrada eliminada",edited:"(Editado)"},auth:{welcome:"Bienvenido de nuevo",subtitle:"Inicia sesin en tu cuenta",sign_in_google:"Iniciar sesin con Google",sign_out:"Cerrar Sesin",email_login:"Iniciar sesin con Email",email_placeholder:"Correo electrnico",password_placeholder:"Contrasea",sign_in:"Iniciar Sesin",signing_in:"Iniciando sesin...",sign_up:"Registrarse",signing_up:"Registrando...",need_account:"Necesitas una cuenta? Regstrate",already_have_account:"Ya tienes cuenta? Inicia sesin",cancel:"Cancelar",or:"O",email_in_use:"El correo ya est en uso. Por favor inicia sesin.",weak_password:"La contrasea debe tener al menos 6 caracteres.",auth_failed:"Fallo en la autenticacin.",google_failed:"Fallo al iniciar sesin con Google."},profile:{title:"Configuracin de Perfil",email_label:"Correo",set_password_label:"Establecer contrasea para inicio alternativo",new_password_placeholder:"Introduce nueva contrasea",save_password:"Fijar Contrasea",saving:"Guardando...",success:"Contrasea establecida! Ahora puedes entrar con email.",error_recent_login:"Por seguridad, por favor cierra sesin y vuelve a entrar para fijar la contrasea.",error_email_in_use:"Este correo ya est asociado a una contrasea.",error_generic:"Fallo al establecer contrasea.",error_short_password:"La contrasea debe tener al menos 6 caracteres",preferences:"Preferencias",language:"Idioma",theme:"Tema",theme_dark:"Oscuro",theme_light:"Claro"},dashboard:{greeting:{morning:"Buenos Das",afternoon:"Buenas Tardes",evening:"Buenas Noches"},subtitle:"Listo para una mente clara?",focus_title:"Enfoque de Hoy",focus_placeholder:"Cul es tu objetivo principal?",tasks_card:{title:"Tareas",pending:"Pendientes",action:"Ver Tareas"},journal_card:{title:"Diario",subtitle:"Reflexiona",action:"Escribir"}},tasks:{title:"Tareas",subtitle:"Organiza tu da.",past_title:"Tareas Pasadas",past_subtitle:"Viendo tareas del",future_title:"Tareas Futuras",future_subtitle:"Viendo tareas del",placeholder:"Aadir nueva tarea...",empty:"No hay tareas. Aade una arriba!",empty_past:"No se encontraron tareas para esta fecha.",delete_label:"Eliminar tarea",edit_label:"Editar tarea",created:"Creada",select_date:"Seleccionar fecha",for_date:"Para",view_incomplete:"Ver Tareas Incompletas",incomplete_title:"Tareas Incompletas",no_incomplete:"Todas las tareas completadas! Buen trabajo!"},journal:{title:"Diario",subtitle:"Reflexiona sobre tus pensamientos.",past_title:"Entradas Pasadas",past_subtitle:"Viendo entradas del",placeholder:"Qu tienes en mente?",empty:"No hay entradas. Empieza a escribir!",empty_past:"No se encontraron entradas para esta fecha.",submit:"Enviar",archive_title:"Archivo del Diario",view_archive:"Ver Archivo",no_archived_entries:"No se encontraron entradas.",month_view:"Vista Mensual"},calendar:{select_date:"Seleccionar Fecha",summary_title:"Resumen del",tasks_section:"Tareas",journal_section:"Entradas del Diario",no_tasks:"No hay tareas registradas.",no_entries:"No hay entradas en el diario."}},zh:{common:{loading:"...",save:"",cancel:"",delete:"",edit:"",close:"",back:"",today:"",clear_filter:"",view_history:"",undo:"",task_deleted:"",entry_deleted:"",edited:"()"},auth:{welcome:"",subtitle:"",sign_in_google:" Google ",sign_out:"",email_login:"",email_placeholder:"",password_placeholder:"",sign_in:"",signing_in:"...",sign_up:"",signing_up:"...",need_account:"",already_have_account:"",cancel:"",or:"",email_in_use:"",weak_password:" 6 ",auth_failed:"",google_failed:"Google "},profile:{title:"",email_label:"",set_password_label:"",new_password_placeholder:"",save_password:"",saving:"...",success:"",error_recent_login:"",error_email_in_use:"",error_generic:"",error_short_password:" 6 ",preferences:"",language:"",theme:"",theme_dark:"",theme_light:""},dashboard:{greeting:{morning:"",afternoon:"",evening:""},subtitle:"",focus_title:"",focus_placeholder:"",tasks_card:{title:"",pending:"",action:""},journal_card:{title:"",subtitle:"",action:""}},tasks:{title:"",subtitle:"",past_title:"",past_subtitle:"",future_title:"",future_subtitle:"",placeholder:"...",empty:"",empty_past:"",delete_label:"",created:"",select_date:"",for_date:"",view_incomplete:"",incomplete_title:"",no_incomplete:""},journal:{title:"",subtitle:"",past_title:"",past_subtitle:"",placeholder:"",empty:"",empty_past:"",submit:"",archive_title:"",view_archive:"",no_archived_entries:"",month_view:""},calendar:{select_date:"",summary_title:"",tasks_section:"",journal_section:"",no_tasks:"",no_entries:""}},fr:{common:{loading:"Chargement...",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",close:"Fermer",back:"Retour",today:"Aujourd'hui",clear_filter:"Effacer le filtre",view_history:"Voir l'historique",undo:"Annuler",task_deleted:"Tche supprime",entry_deleted:"Entre supprime",edited:"(Modifi)"},auth:{welcome:"Bon retour",subtitle:"Connectez-vous  votre compte",sign_in_google:"Se connecter avec Google",sign_out:"Se dconnecter",email_login:"Se connecter avec Email",email_placeholder:"Adresse email",password_placeholder:"Mot de passe",sign_in:"Se connecter",signing_in:"Connexion...",sign_up:"S'inscrire",signing_up:"Inscription...",need_account:"Besoin d'un compte ? S'inscrire",already_have_account:"Dj un compte ? Se connecter",cancel:"Annuler",or:"Ou",email_in_use:"Email dj utilis. Veuillez vous connecter.",weak_password:"Le mot de passe doit contenir au moins 6 caractres.",auth_failed:"chec de l'authentification.",google_failed:"chec de la connexion avec Google."},profile:{title:"Paramtres du profil",email_label:"Email",set_password_label:"Dfinir un mot de passe pour la connexion alternative",new_password_placeholder:"Entrer le nouveau mot de passe",save_password:"Dfinir le mot de passe",saving:"Enregistrement...",success:"Mot de passe dfini avec succs ! Vous pouvez maintenant vous connecter par email.",error_recent_login:"Par scurit, veuillez vous dconnecter et vous reconnecter pour dfinir un mot de passe.",error_email_in_use:"Cet email est dj associ  un mot de passe.",error_generic:"chec de la dfinition du mot de passe.",error_short_password:"Le mot de passe doit contenir au moins 6 caractres",preferences:"Prfrences",language:"Langue",theme:"Thme",theme_dark:"Sombre",theme_light:"Clair"},dashboard:{greeting:{morning:"Bonjour",afternoon:"Bon aprs-midi",evening:"Bonsoir"},subtitle:"Prt pour un esprit clair ?",focus_title:"Objectif du jour",focus_placeholder:"Quel est votre objectif principal ?",tasks_card:{title:"Tches",pending:"En attente",action:"Voir les tches"},journal_card:{title:"Journal",subtitle:"Rflchir",action:"crire"}},tasks:{title:"Tches",subtitle:"Organisez votre journe.",past_title:"Tches passes",past_subtitle:"Tches du",future_title:"Tches futures",future_subtitle:"Tches du",placeholder:"Ajouter une nouvelle tche...",empty:"Pas encore de tches. Ajoutez-en une ci-dessus !",empty_past:"Aucune tche trouve pour cette date.",delete_label:"Supprimer la tche",created:"Cr",select_date:"Slectionner une date",for_date:"Pour",view_incomplete:"Voir les Tches Incompltes",incomplete_title:"Tches Incompltes",no_incomplete:"Toutes les tches termines ! Bon travail !"},journal:{title:"Journal",subtitle:"Rflchissez  vos penses.",past_title:"Entres passes",past_subtitle:"Entres du",placeholder:"Qu'avez-vous en tte ?",empty:"Pas encore d'entres. Commencez  crire !",empty_past:"Aucune entre trouve pour cette date.",submit:"Envoyer",archive_title:"Archives du Journal",view_archive:"Voir les archives",no_archived_entries:"Aucune entre trouve.",month_view:"Vue Mensuelle"},calendar:{select_date:"Slectionner une date",summary_title:"Rsum du",tasks_section:"Tches",journal_section:"Entres du journal",no_tasks:"Aucune tche enregistre.",no_entries:"Aucune entre de journal."}},de:{common:{loading:"Laden...",save:"Speichern",cancel:"Abbrechen",delete:"Lschen",edit:"Bearbeiten",close:"Schlieen",back:"Zurck",today:"Heute",clear_filter:"Filter lschen",view_history:"Verlauf anzeigen",undo:"Rckgngig",task_deleted:"Aufgabe gelscht",entry_deleted:"Eintrag gelscht",edited:"(Bearbeitet)"},auth:{welcome:"Willkommen zurck",subtitle:"Melden Sie sich an",sign_in_google:"Mit Google anmelden",sign_out:"Abmelden",email_login:"Mit E-Mail anmelden",email_placeholder:"E-Mail-Adresse",password_placeholder:"Passwort",sign_in:"Anmelden",signing_in:"Anmelden...",sign_up:"Registrieren",signing_up:"Registrieren...",need_account:"Noch kein Konto? Registrieren",already_have_account:"Bereits ein Konto? Anmelden",cancel:"Abbrechen",or:"Oder",email_in_use:"E-Mail wird bereits verwendet. Bitte melden Sie sich an.",weak_password:"Das Passwort muss mindestens 6 Zeichen lang sein.",auth_failed:"Authentifizierung fehlgeschlagen.",google_failed:"Anmeldung mit Google fehlgeschlagen."},profile:{title:"Profileinstellungen",email_label:"E-Mail",set_password_label:"Passwort fr alternativen Login festlegen",new_password_placeholder:"Neues Passwort eingeben",save_password:"Passwort festlegen",saving:"Speichern...",success:"Passwort erfolgreich festgelegt! Sie knnen sich jetzt mit E-Mail anmelden.",error_recent_login:"Aus Sicherheitsgrnden, bitte melden Sie sich ab und wieder an, um ein Passwort festzulegen.",error_email_in_use:"Diese E-Mail ist bereits mit einem Passwort verknpft.",error_generic:"Fehler beim Festlegen des Passworts.",error_short_password:"Das Passwort muss mindestens 6 Zeichen lang sein",preferences:"Einstellungen",language:"Sprache",theme:"Thema",theme_dark:"Dunkel",theme_light:"Hell"},dashboard:{greeting:{morning:"Guten Morgen",afternoon:"Guten Tag",evening:"Guten Abend"},subtitle:"Bereit fr einen klaren Kopf?",focus_title:"Fokus fr heute",focus_placeholder:"Was ist Ihr Hauptziel?",tasks_card:{title:"Aufgaben",pending:"Ausstehend",action:"Aufgaben ansehen"},journal_card:{title:"Journal",subtitle:"Reflektieren",action:"Schreiben"}},tasks:{title:"Aufgaben",subtitle:"Organisieren Sie Ihren Tag.",past_title:"Vergangene Aufgaben",past_subtitle:"Aufgaben vom",future_title:"Zuknftige Aufgaben",future_subtitle:"Aufgaben vom",placeholder:"Neue Aufgabe hinzufgen...",empty:"Noch keine Aufgaben. Fgen Sie oben eine hinzu!",empty_past:"Keine Aufgaben fr dieses Datum gefunden.",delete_label:"Aufgabe lschen",created:"Erstellt",select_date:"Datum auswhlen",for_date:"Fr",view_incomplete:"Unvollstndige Aufgaben anzeigen",incomplete_title:"Unvollstndige Aufgaben",no_incomplete:"Alle Aufgaben erledigt! Tolle Arbeit!"},journal:{title:"Journal",subtitle:"Reflektieren Sie Ihre Gedanken.",past_title:"Vergangene Eintrge",past_subtitle:"Eintrge vom",placeholder:"Was beschftigt Sie?",empty:"Noch keine Eintrge. Fangen Sie an zu schreiben!",empty_past:"Keine Eintrge fr dieses Datum gefunden.",submit:"Senden",archive_title:"Journal Archiv",view_archive:"Archiv ansehen",no_archived_entries:"Keine Eintrge gefunden.",month_view:"Monatsansicht"},calendar:{select_date:"Datum auswhlen",summary_title:"Zusammenfassung fr",tasks_section:"Aufgaben",journal_section:"Journaleintrge",no_tasks:"Keine Aufgaben aufgezeichnet.",no_entries:"Keine Journaleintrge."}}},aA=K.createContext();function ZR({children:i}){const{user:e}=Ir(),[n,a]=K.useState(()=>localStorage.getItem("language")||"en"),o=async u=>{if(a(u),e)try{const p=Yt(st,"users",e.uid);await Qo(p,{preferences:{language:u}},{merge:!0})}catch(p){console.error("Error updating language:",p)}};K.useEffect(()=>{localStorage.setItem("language",n)},[n]),K.useEffect(()=>{(async()=>{if(e)try{const p=Yt(st,"users",e.uid),g=await eA(p);if(g.exists()&&g.data().preferences?.language){const d=g.data().preferences.language;d!==n&&a(d)}else await Qo(p,{preferences:{language:n}},{merge:!0})}catch(p){console.error("Error syncing language:",p)}})()},[e]);const c=u=>{const p=u.split(".");let g=WR[n];for(const d of p){if(g[d]===void 0)return console.warn(`Translation missing for key: ${u} in language: ${n}`),u;g=g[d]}return g};return I.jsx(aA.Provider,{value:{language:n,setLanguage:o,t:c},children:i})}function wn(){const i=K.useContext(aA);if(!i)throw new Error("useLanguage must be used within a LanguageProvider");return i}const sA=K.createContext();function JR({children:i}){const[e,n]=K.useState(null),a=K.useCallback((u,p,g,d,y)=>{e&&(e.timeoutId&&clearTimeout(e.timeoutId),n(null)),Promise.resolve(y()).catch(_=>{console.error("Error during immediate deletion:",_)});const v=setTimeout(()=>{n(_=>_&&_.id===u?null:_)},5e3);n({id:u,type:p,data:g,onUndo:d,onConfirm:y,timestamp:Date.now(),timeoutId:v})},[e]),o=K.useCallback(()=>{e&&(e.timeoutId&&clearTimeout(e.timeoutId),e.onUndo(),n(null))},[e]),c=K.useCallback(()=>{e&&(e.timeoutId&&clearTimeout(e.timeoutId),e.onConfirm(),n(null))},[e]);return I.jsx(sA.Provider,{value:{pendingDelete:e,scheduleDelete:a,undo:o,dismiss:c},children:i})}function l0(){const i=K.useContext(sA);if(!i)throw new Error("useUndo must be used within UndoProvider");return i}const e5=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),t5=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),D_=i=>{const e=t5(i);return e.charAt(0).toUpperCase()+e.slice(1)},oA=(...i)=>i.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim(),n5=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var r5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const i5=K.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:u,...p},g)=>K.createElement("svg",{ref:g,...r5,width:e,height:e,stroke:i,strokeWidth:a?Number(n)*24/Number(e):n,className:oA("lucide",o),...!c&&!n5(p)&&{"aria-hidden":"true"},...p},[...u.map(([d,y])=>K.createElement(d,y)),...Array.isArray(c)?c:[c]]));const at=(i,e)=>{const n=K.forwardRef(({className:a,...o},c)=>K.createElement(i5,{ref:c,iconNode:e,className:oA(`lucide-${e5(D_(i))}`,`lucide-${i}`,a),...o}));return n.displayName=D_(i),n};const a5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],R_=at("arrow-right",a5);const s5=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],o5=at("book-open",s5);const l5=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],c5=at("book",l5);const u5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],c0=at("calendar",u5);const h5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],f5=at("check",h5);const d5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],m5=at("chevron-down",d5);const p5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lA=at("chevron-right",p5);const g5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],y5=at("chevron-left",g5);const v5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],x5=at("chevron-up",v5);const _5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],og=at("circle-check-big",_5);const E5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],u0=at("circle",E5);const b5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cA=at("clock",b5);const A5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],T5=at("download",A5);const C5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],w5=at("house",C5);const S5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],D5=at("list",S5);const R5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],I5=at("lock",R5);const N5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],k5=at("log-out",N5);const B5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],uA=at("moon",B5);const O5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],lg=at("pencil",O5);const M5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],V5=at("plus",M5);const P5=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],F5=at("send",P5);const L5=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],U5=at("square-check-big",L5);const j5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],hA=at("sun",j5);const z5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cg=at("trash-2",z5);const H5=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],q5=at("undo-2",H5);const G5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],K5=at("user",G5);const $5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ka=at("x",$5),fA=K.createContext();function Q5({children:i}){const{user:e}=Ir(),[n,a]=K.useState(()=>{const c=localStorage.getItem("my_not_busy_agenda_theme");return c?JSON.parse(c):!1});K.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("my_not_busy_agenda_theme",JSON.stringify(n))},[n]),K.useEffect(()=>{(async()=>{if(e)try{const u=Yt(st,"users",e.uid),p=await eA(u);if(p.exists()&&p.data().preferences?.theme!==void 0){const g=p.data().preferences.theme;g!==n&&a(g==="dark")}else await Qo(u,{preferences:{theme:n?"dark":"light"}},{merge:!0})}catch(u){console.error("Error syncing theme:",u)}})()},[e]);const o=async()=>{const c=!n;if(a(c),e)try{const u=Yt(st,"users",e.uid);await Qo(u,{preferences:{theme:c?"dark":"light"}},{merge:!0})}catch(u){console.error("Error updating theme:",u)}};return I.jsx(fA.Provider,{value:{isDark:n,toggleDarkMode:o},children:i})}function ug(){const i=K.useContext(fA);if(!i)throw new Error("useTheme must be used within a ThemeProvider");return i}function Y5(){const{pendingDelete:i,undo:e}=l0(),{t:n}=wn(),[a,o]=K.useState(!1),[c,u]=K.useState(100);if(K.useEffect(()=>{if(i){o(!0),u(100);const g=Date.now(),d=5e3,y=()=>{const v=Date.now()-g,_=Math.max(0,100-v/d*100);u(_),_>0&&requestAnimationFrame(y)};requestAnimationFrame(y)}else{const g=setTimeout(()=>o(!1),300);return()=>clearTimeout(g)}},[i]),!a)return null;const p=i?.type==="todo"?n("common.task_deleted"):n("common.entry_deleted");return I.jsx("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 z-50 transition-all duration-300",style:{opacity:i?1:0,transform:i?"translateY(0)":"translateY(20px)"},children:I.jsxs("div",{className:"min-w-[300px] max-w-md rounded-xl shadow-2xl overflow-hidden",style:{backgroundColor:"var(--color-bg-card)"},children:[I.jsx("div",{className:"h-1 bg-gray-200 dark:bg-gray-700",children:I.jsx("div",{className:"h-full transition-all duration-100 ease-linear",style:{width:`${c}%`,backgroundColor:"#d1bd9f"}})}),I.jsxs("div",{className:"flex items-center justify-between gap-4 p-4",children:[I.jsx("span",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:p}),I.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all hover:opacity-80",style:{backgroundColor:"var(--color-accent)",color:"white"},children:[I.jsx(q5,{size:16}),n("common.undo")]})]})]})})}const Sm=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"zh",name:"",flag:""},{code:"fr",name:"Franais",flag:""},{code:"de",name:"Deutsch",flag:""}];function dA(){const{language:i,setLanguage:e}=wn(),[n,a]=K.useState(!1),o=K.useRef(null),c=Sm.find(u=>u.code===i)||Sm[0];return K.useEffect(()=>{const u=p=>{o.current&&!o.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),I.jsxs("div",{className:"relative",ref:o,children:[I.jsxs("button",{onClick:()=>a(!n),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-[var(--color-bg-secondary)] transition-colors text-sm font-medium",style:{color:"var(--color-text-primary)"},children:[I.jsx("span",{className:"text-lg",children:c.flag}),I.jsx("span",{className:"hidden md:inline",children:c.name}),I.jsx(x5,{size:16,className:`transition-transform duration-200 ${n?"rotate-180":""}`})]}),n&&I.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-[var(--color-bg-primary)] border border-[var(--color-border)] rounded-xl shadow-lg overflow-hidden py-1 z-50",children:Sm.map(u=>I.jsxs("button",{onClick:()=>{e(u.code),a(!1)},className:`w-full flex items-center gap-3 px-4 py-2 text-left hover:bg-[var(--color-bg-secondary)] transition-colors ${i===u.code?"bg-[var(--color-bg-secondary)]":""}`,style:{color:"var(--color-text-primary)"},children:[I.jsx("span",{className:"text-lg",children:u.flag}),I.jsx("span",{className:"text-sm",children:u.name})]},u.code))})]})}function X5({isOpen:i,onClose:e}){const{user:n,linkEmailPassword:a}=Ir(),{t:o}=wn(),{isDark:c,toggleDarkMode:u}=ug(),[p,g]=K.useState(""),[d,y]=K.useState({type:"",message:""}),[v,_]=K.useState(!1);if(!i)return null;const A=async C=>{if(C.preventDefault(),_(!0),y({type:"",message:""}),p.length<6){y({type:"error",message:o("profile.error_short_password")}),_(!1);return}try{await a(p),y({type:"success",message:o("profile.success")}),g("")}catch(N){console.error(N),N.code==="auth/requires-recent-login"?y({type:"error",message:o("profile.error_recent_login")}):N.code==="auth/email-already-in-use"||N.message.includes("credential-already-in-use")?y({type:"error",message:o("profile.error_email_in_use")}):y({type:"error",message:o("profile.error_generic")+" "+N.message})}finally{_(!1)}};return I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:I.jsxs("div",{className:"w-full max-w-md rounded-2xl border shadow-xl animate-in fade-in zoom-in duration-200",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},children:[I.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--color-border)"},children:[I.jsx("h2",{className:"text-xl font-semibold",children:o("profile.title")}),I.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",children:I.jsx(Ka,{size:20})})]}),I.jsxs("div",{className:"p-6",children:[I.jsxs("div",{className:"mb-6 pb-6 border-b",style:{borderColor:"var(--color-border)"},children:[I.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:"var(--color-text-primary)"},children:o("profile.preferences")||"Preferences"}),I.jsxs("div",{className:"flex flex-col gap-4",children:[I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("span",{style:{color:"var(--color-text-primary)"},children:o("profile.language")||"Language"}),I.jsx(dA,{})]}),I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("span",{style:{color:"var(--color-text-primary)"},children:o("profile.theme")||"Theme"}),I.jsx("button",{onClick:u,className:"p-2 rounded-lg transition-colors flex items-center gap-2 border",style:{backgroundColor:"var(--color-bg-secondary)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},children:c?I.jsxs(I.Fragment,{children:[I.jsx(uA,{size:18}),I.jsx("span",{children:o("profile.theme_dark")})]}):I.jsxs(I.Fragment,{children:[I.jsx(hA,{size:18}),I.jsx("span",{children:o("profile.theme_light")})]})})]})]})]}),I.jsxs("div",{className:"mb-6",children:[I.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:o("profile.email_label")}),I.jsx("div",{className:"p-3 rounded-lg bg-[var(--color-bg-secondary)] text-[var(--color-text-primary)]",children:n?.email})]}),I.jsxs("form",{onSubmit:A,className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:o("profile.set_password_label")}),I.jsxs("div",{className:"relative",children:[I.jsx(I5,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--color-text-muted)]",size:18}),I.jsx("input",{type:"password",value:p,onChange:C=>g(C.target.value),placeholder:o("profile.new_password_placeholder"),className:"w-full pl-10 pr-4 py-2 rounded-lg border bg-[var(--color-bg-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"}})]})]}),d.message&&I.jsx("div",{className:`text-sm p-3 rounded-lg ${d.type==="success"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:d.message}),I.jsx("button",{type:"submit",disabled:v||!p,className:"w-full py-2 px-4 rounded-lg font-medium transition-all hover:opacity-90 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-accent)",color:"#ffffff"},children:v?o("profile.saving"):I.jsxs(I.Fragment,{children:[I.jsx(f5,{size:18}),o("profile.save_password")]})})]})]})]})})}function mA(i){var e,n,a="";if(typeof i=="string"||typeof i=="number")a+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(n=mA(i[e]))&&(a&&(a+=" "),a+=n)}else for(n in i)i[n]&&(a&&(a+=" "),a+=n);return a}function Mf(){for(var i,e,n=0,a="",o=arguments.length;n<o;n++)(i=arguments[n])&&(e=mA(i))&&(a&&(a+=" "),a+=e);return a}const pA="/MyNotBusyAgenda/assets/logo-Bj79zbMH.png";function W5(){const[i,e]=K.useState(null),[n,a]=K.useState(!1);return K.useEffect(()=>{const c=u=>{u.preventDefault(),e(u),a(!0)};return window.addEventListener("beforeinstallprompt",c),()=>{window.removeEventListener("beforeinstallprompt",c)}},[]),{isInstallable:n,install:async()=>{if(!i)return;i.prompt();const{outcome:c}=await i.userChoice;e(null),a(!1)}}}function Z5(){const{isInstallable:i,install:e}=W5();return i?I.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-full hover:bg-blue-700 transition-colors shadow-sm",title:"Install App",children:[I.jsx(T5,{size:16}),I.jsx("span",{className:"hidden sm:inline",children:"Install"})]}):null}function J5(){const i=zi(),{logout:e}=Ir(),[n,a]=K.useState(!1);ug();const o=[{path:"/",icon:w5,label:"Home"},{path:"/todos",icon:U5,label:"Todos"},{path:"/journal",icon:o5,label:"Journal"}],c=async()=>{try{await e()}catch(u){console.error("Failed to log out:",u)}};return I.jsxs("div",{className:"min-h-screen transition-colors duration-200 pb-20 relative",style:{backgroundColor:"var(--color-bg-primary)",color:"var(--color-text-primary)"},children:[I.jsx("header",{className:"px-6 py-4 sticky top-0 z-10 backdrop-blur-md bg-opacity-80 border-b",style:{backgroundColor:"var(--color-bg-primary)",borderColor:"var(--color-border)"},children:I.jsxs("div",{className:"content-container flex justify-between items-center",children:[I.jsx("div",{className:"flex items-center gap-3",children:I.jsx(Uo,{to:"/",className:"hover:opacity-80 transition-opacity",children:I.jsx("img",{src:pA,alt:"MyNotBusyAgenda Logo",className:"h-10 w-16"})})}),I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsx(Z5,{}),I.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",title:"Profile Settings",children:I.jsx(K5,{size:20})}),I.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors text-red-400",children:I.jsx(k5,{size:20})})]})]})}),I.jsx("main",{className:"p-6",children:I.jsx(tC,{})}),I.jsx("nav",{className:"absolute bottom-0 left-0 right-0 backdrop-blur-md py-4 z-10",style:{backgroundColor:"var(--color-bg-secondary)cc",borderTop:"1px solid var(--color-border)"},children:I.jsx("div",{className:"content-container flex justify-between items-center",children:o.map(({path:u,icon:p,label:g})=>I.jsxs(Uo,{to:u,className:Mf("flex flex-col items-center gap-1 transition-all duration-200",i.pathname===u?"scale-110":""),style:{color:i.pathname===u?"var(--color-text-primary)":"var(--color-text-muted)"},children:[I.jsx(p,{size:24,strokeWidth:i.pathname===u?2.5:2}),I.jsx("span",{className:"text-[10px] font-medium tracking-wide",children:g})]},u))})}),I.jsx(Y5,{}),I.jsx(X5,{isOpen:n,onClose:()=>a(!1)})]})}function eI(){const[i,e]=K.useState({text:"",date:new Date().toISOString(),completed:!1}),{user:n}=Ir();return K.useEffect(()=>{if(!n){e({text:"",date:new Date().toISOString(),completed:!1});return}const c=new Date().toISOString().split("T")[0],u=Yt(st,"users",n.uid,"focus",c);return Gc(u,g=>{if(g.exists()){const d=g.data();e({text:d.text||"",date:d.date?.toDate?.()?.toISOString()||d.date,completed:d.completed||!1})}else e({text:"",date:new Date().toISOString(),completed:!1})})},[n]),{focus:i,setFocusText:async c=>{if(n)try{const u=new Date().toISOString().split("T")[0],p=Yt(st,"users",n.uid,"focus",u);await Qo(p,{text:c,date:new Date,completed:i.completed},{merge:!0})}catch(u){console.error("Error setting focus:",u)}},toggleFocus:async()=>{if(n)try{const c=new Date().toISOString().split("T")[0],u=Yt(st,"users",n.uid,"focus",c);await Qo(u,{text:i.text,date:new Date,completed:!i.completed},{merge:!0})}catch(c){console.error("Error toggling focus:",c)}}}}var Bh={exports:{}};function tI(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Oh={exports:{}};const nI={},rI=Object.freeze(Object.defineProperty({__proto__:null,default:nI},Symbol.toStringTag,{value:"Module"})),iI=ZT(rI);var aI=Oh.exports,I_;function He(){return I_||(I_=1,(function(i,e){(function(n,a){i.exports=a()})(aI,function(){var n=n||(function(a,o){var c;if(typeof window<"u"&&window.crypto&&(c=window.crypto),typeof self<"u"&&self.crypto&&(c=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(c=globalThis.crypto),!c&&typeof window<"u"&&window.msCrypto&&(c=window.msCrypto),!c&&typeof sm<"u"&&sm.crypto&&(c=sm.crypto),!c&&typeof tI=="function")try{c=iI}catch{}var u=function(){if(c){if(typeof c.getRandomValues=="function")try{return c.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof c.randomBytes=="function")try{return c.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},p=Object.create||(function(){function k(){}return function(V){var j;return k.prototype=V,j=new k,k.prototype=null,j}})(),g={},d=g.lib={},y=d.Base=(function(){return{extend:function(k){var V=p(this);return k&&V.mixIn(k),(!V.hasOwnProperty("init")||this.init===V.init)&&(V.init=function(){V.$super.init.apply(this,arguments)}),V.init.prototype=V,V.$super=this,V},create:function(){var k=this.extend();return k.init.apply(k,arguments),k},init:function(){},mixIn:function(k){for(var V in k)k.hasOwnProperty(V)&&(this[V]=k[V]);k.hasOwnProperty("toString")&&(this.toString=k.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),v=d.WordArray=y.extend({init:function(k,V){k=this.words=k||[],V!=o?this.sigBytes=V:this.sigBytes=k.length*4},toString:function(k){return(k||A).stringify(this)},concat:function(k){var V=this.words,j=k.words,q=this.sigBytes,z=k.sigBytes;if(this.clamp(),q%4)for(var T=0;T<z;T++){var w=j[T>>>2]>>>24-T%4*8&255;V[q+T>>>2]|=w<<24-(q+T)%4*8}else for(var O=0;O<z;O+=4)V[q+O>>>2]=j[O>>>2];return this.sigBytes+=z,this},clamp:function(){var k=this.words,V=this.sigBytes;k[V>>>2]&=4294967295<<32-V%4*8,k.length=a.ceil(V/4)},clone:function(){var k=y.clone.call(this);return k.words=this.words.slice(0),k},random:function(k){for(var V=[],j=0;j<k;j+=4)V.push(u());return new v.init(V,k)}}),_=g.enc={},A=_.Hex={stringify:function(k){for(var V=k.words,j=k.sigBytes,q=[],z=0;z<j;z++){var T=V[z>>>2]>>>24-z%4*8&255;q.push((T>>>4).toString(16)),q.push((T&15).toString(16))}return q.join("")},parse:function(k){for(var V=k.length,j=[],q=0;q<V;q+=2)j[q>>>3]|=parseInt(k.substr(q,2),16)<<24-q%8*4;return new v.init(j,V/2)}},C=_.Latin1={stringify:function(k){for(var V=k.words,j=k.sigBytes,q=[],z=0;z<j;z++){var T=V[z>>>2]>>>24-z%4*8&255;q.push(String.fromCharCode(T))}return q.join("")},parse:function(k){for(var V=k.length,j=[],q=0;q<V;q++)j[q>>>2]|=(k.charCodeAt(q)&255)<<24-q%4*8;return new v.init(j,V)}},N=_.Utf8={stringify:function(k){try{return decodeURIComponent(escape(C.stringify(k)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(k){return C.parse(unescape(encodeURIComponent(k)))}},S=d.BufferedBlockAlgorithm=y.extend({reset:function(){this._data=new v.init,this._nDataBytes=0},_append:function(k){typeof k=="string"&&(k=N.parse(k)),this._data.concat(k),this._nDataBytes+=k.sigBytes},_process:function(k){var V,j=this._data,q=j.words,z=j.sigBytes,T=this.blockSize,w=T*4,O=z/w;k?O=a.ceil(O):O=a.max((O|0)-this._minBufferSize,0);var D=O*T,R=a.min(D*4,z);if(D){for(var L=0;L<D;L+=T)this._doProcessBlock(q,L);V=q.splice(0,D),j.sigBytes-=R}return new v.init(V,R)},clone:function(){var k=y.clone.call(this);return k._data=this._data.clone(),k},_minBufferSize:0});d.Hasher=S.extend({cfg:y.extend(),init:function(k){this.cfg=this.cfg.extend(k),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(k){return this._append(k),this._process(),this},finalize:function(k){k&&this._append(k);var V=this._doFinalize();return V},blockSize:16,_createHelper:function(k){return function(V,j){return new k.init(j).finalize(V)}},_createHmacHelper:function(k){return function(V,j){return new U.HMAC.init(k,j).finalize(V)}}});var U=g.algo={};return g})(Math);return n})})(Oh)),Oh.exports}var Mh={exports:{}},sI=Mh.exports,N_;function h0(){return N_||(N_=1,(function(i,e){(function(n,a){i.exports=a(He())})(sI,function(n){return(function(a){var o=n,c=o.lib,u=c.Base,p=c.WordArray,g=o.x64={};g.Word=u.extend({init:function(d,y){this.high=d,this.low=y}}),g.WordArray=u.extend({init:function(d,y){d=this.words=d||[],y!=a?this.sigBytes=y:this.sigBytes=d.length*8},toX32:function(){for(var d=this.words,y=d.length,v=[],_=0;_<y;_++){var A=d[_];v.push(A.high),v.push(A.low)}return p.create(v,this.sigBytes)},clone:function(){for(var d=u.clone.call(this),y=d.words=this.words.slice(0),v=y.length,_=0;_<v;_++)y[_]=y[_].clone();return d}})})(),n})})(Mh)),Mh.exports}var Vh={exports:{}},oI=Vh.exports,k_;function lI(){return k_||(k_=1,(function(i,e){(function(n,a){i.exports=a(He())})(oI,function(n){return(function(){if(typeof ArrayBuffer=="function"){var a=n,o=a.lib,c=o.WordArray,u=c.init,p=c.init=function(g){if(g instanceof ArrayBuffer&&(g=new Uint8Array(g)),(g instanceof Int8Array||typeof Uint8ClampedArray<"u"&&g instanceof Uint8ClampedArray||g instanceof Int16Array||g instanceof Uint16Array||g instanceof Int32Array||g instanceof Uint32Array||g instanceof Float32Array||g instanceof Float64Array)&&(g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength)),g instanceof Uint8Array){for(var d=g.byteLength,y=[],v=0;v<d;v++)y[v>>>2]|=g[v]<<24-v%4*8;u.call(this,y,d)}else u.apply(this,arguments)};p.prototype=c}})(),n.lib.WordArray})})(Vh)),Vh.exports}var Ph={exports:{}},cI=Ph.exports,B_;function uI(){return B_||(B_=1,(function(i,e){(function(n,a){i.exports=a(He())})(cI,function(n){return(function(){var a=n,o=a.lib,c=o.WordArray,u=a.enc;u.Utf16=u.Utf16BE={stringify:function(g){for(var d=g.words,y=g.sigBytes,v=[],_=0;_<y;_+=2){var A=d[_>>>2]>>>16-_%4*8&65535;v.push(String.fromCharCode(A))}return v.join("")},parse:function(g){for(var d=g.length,y=[],v=0;v<d;v++)y[v>>>1]|=g.charCodeAt(v)<<16-v%2*16;return c.create(y,d*2)}},u.Utf16LE={stringify:function(g){for(var d=g.words,y=g.sigBytes,v=[],_=0;_<y;_+=2){var A=p(d[_>>>2]>>>16-_%4*8&65535);v.push(String.fromCharCode(A))}return v.join("")},parse:function(g){for(var d=g.length,y=[],v=0;v<d;v++)y[v>>>1]|=p(g.charCodeAt(v)<<16-v%2*16);return c.create(y,d*2)}};function p(g){return g<<8&4278255360|g>>>8&16711935}})(),n.enc.Utf16})})(Ph)),Ph.exports}var Fh={exports:{}},hI=Fh.exports,O_;function Vs(){return O_||(O_=1,(function(i,e){(function(n,a){i.exports=a(He())})(hI,function(n){return(function(){var a=n,o=a.lib,c=o.WordArray,u=a.enc;u.Base64={stringify:function(g){var d=g.words,y=g.sigBytes,v=this._map;g.clamp();for(var _=[],A=0;A<y;A+=3)for(var C=d[A>>>2]>>>24-A%4*8&255,N=d[A+1>>>2]>>>24-(A+1)%4*8&255,S=d[A+2>>>2]>>>24-(A+2)%4*8&255,U=C<<16|N<<8|S,k=0;k<4&&A+k*.75<y;k++)_.push(v.charAt(U>>>6*(3-k)&63));var V=v.charAt(64);if(V)for(;_.length%4;)_.push(V);return _.join("")},parse:function(g){var d=g.length,y=this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var _=0;_<y.length;_++)v[y.charCodeAt(_)]=_}var A=y.charAt(64);if(A){var C=g.indexOf(A);C!==-1&&(d=C)}return p(g,d,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function p(g,d,y){for(var v=[],_=0,A=0;A<d;A++)if(A%4){var C=y[g.charCodeAt(A-1)]<<A%4*2,N=y[g.charCodeAt(A)]>>>6-A%4*2,S=C|N;v[_>>>2]|=S<<24-_%4*8,_++}return c.create(v,_)}})(),n.enc.Base64})})(Fh)),Fh.exports}var Lh={exports:{}},fI=Lh.exports,M_;function dI(){return M_||(M_=1,(function(i,e){(function(n,a){i.exports=a(He())})(fI,function(n){return(function(){var a=n,o=a.lib,c=o.WordArray,u=a.enc;u.Base64url={stringify:function(g,d){d===void 0&&(d=!0);var y=g.words,v=g.sigBytes,_=d?this._safe_map:this._map;g.clamp();for(var A=[],C=0;C<v;C+=3)for(var N=y[C>>>2]>>>24-C%4*8&255,S=y[C+1>>>2]>>>24-(C+1)%4*8&255,U=y[C+2>>>2]>>>24-(C+2)%4*8&255,k=N<<16|S<<8|U,V=0;V<4&&C+V*.75<v;V++)A.push(_.charAt(k>>>6*(3-V)&63));var j=_.charAt(64);if(j)for(;A.length%4;)A.push(j);return A.join("")},parse:function(g,d){d===void 0&&(d=!0);var y=g.length,v=d?this._safe_map:this._map,_=this._reverseMap;if(!_){_=this._reverseMap=[];for(var A=0;A<v.length;A++)_[v.charCodeAt(A)]=A}var C=v.charAt(64);if(C){var N=g.indexOf(C);N!==-1&&(y=N)}return p(g,y,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function p(g,d,y){for(var v=[],_=0,A=0;A<d;A++)if(A%4){var C=y[g.charCodeAt(A-1)]<<A%4*2,N=y[g.charCodeAt(A)]>>>6-A%4*2,S=C|N;v[_>>>2]|=S<<24-_%4*8,_++}return c.create(v,_)}})(),n.enc.Base64url})})(Lh)),Lh.exports}var Uh={exports:{}},mI=Uh.exports,V_;function Ps(){return V_||(V_=1,(function(i,e){(function(n,a){i.exports=a(He())})(mI,function(n){return(function(a){var o=n,c=o.lib,u=c.WordArray,p=c.Hasher,g=o.algo,d=[];(function(){for(var N=0;N<64;N++)d[N]=a.abs(a.sin(N+1))*4294967296|0})();var y=g.MD5=p.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(N,S){for(var U=0;U<16;U++){var k=S+U,V=N[k];N[k]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}var j=this._hash.words,q=N[S+0],z=N[S+1],T=N[S+2],w=N[S+3],O=N[S+4],D=N[S+5],R=N[S+6],L=N[S+7],M=N[S+8],le=N[S+9],de=N[S+10],X=N[S+11],ue=N[S+12],he=N[S+13],_e=N[S+14],Ee=N[S+15],F=j[0],G=j[1],Y=j[2],W=j[3];F=v(F,G,Y,W,q,7,d[0]),W=v(W,F,G,Y,z,12,d[1]),Y=v(Y,W,F,G,T,17,d[2]),G=v(G,Y,W,F,w,22,d[3]),F=v(F,G,Y,W,O,7,d[4]),W=v(W,F,G,Y,D,12,d[5]),Y=v(Y,W,F,G,R,17,d[6]),G=v(G,Y,W,F,L,22,d[7]),F=v(F,G,Y,W,M,7,d[8]),W=v(W,F,G,Y,le,12,d[9]),Y=v(Y,W,F,G,de,17,d[10]),G=v(G,Y,W,F,X,22,d[11]),F=v(F,G,Y,W,ue,7,d[12]),W=v(W,F,G,Y,he,12,d[13]),Y=v(Y,W,F,G,_e,17,d[14]),G=v(G,Y,W,F,Ee,22,d[15]),F=_(F,G,Y,W,z,5,d[16]),W=_(W,F,G,Y,R,9,d[17]),Y=_(Y,W,F,G,X,14,d[18]),G=_(G,Y,W,F,q,20,d[19]),F=_(F,G,Y,W,D,5,d[20]),W=_(W,F,G,Y,de,9,d[21]),Y=_(Y,W,F,G,Ee,14,d[22]),G=_(G,Y,W,F,O,20,d[23]),F=_(F,G,Y,W,le,5,d[24]),W=_(W,F,G,Y,_e,9,d[25]),Y=_(Y,W,F,G,w,14,d[26]),G=_(G,Y,W,F,M,20,d[27]),F=_(F,G,Y,W,he,5,d[28]),W=_(W,F,G,Y,T,9,d[29]),Y=_(Y,W,F,G,L,14,d[30]),G=_(G,Y,W,F,ue,20,d[31]),F=A(F,G,Y,W,D,4,d[32]),W=A(W,F,G,Y,M,11,d[33]),Y=A(Y,W,F,G,X,16,d[34]),G=A(G,Y,W,F,_e,23,d[35]),F=A(F,G,Y,W,z,4,d[36]),W=A(W,F,G,Y,O,11,d[37]),Y=A(Y,W,F,G,L,16,d[38]),G=A(G,Y,W,F,de,23,d[39]),F=A(F,G,Y,W,he,4,d[40]),W=A(W,F,G,Y,q,11,d[41]),Y=A(Y,W,F,G,w,16,d[42]),G=A(G,Y,W,F,R,23,d[43]),F=A(F,G,Y,W,le,4,d[44]),W=A(W,F,G,Y,ue,11,d[45]),Y=A(Y,W,F,G,Ee,16,d[46]),G=A(G,Y,W,F,T,23,d[47]),F=C(F,G,Y,W,q,6,d[48]),W=C(W,F,G,Y,L,10,d[49]),Y=C(Y,W,F,G,_e,15,d[50]),G=C(G,Y,W,F,D,21,d[51]),F=C(F,G,Y,W,ue,6,d[52]),W=C(W,F,G,Y,w,10,d[53]),Y=C(Y,W,F,G,de,15,d[54]),G=C(G,Y,W,F,z,21,d[55]),F=C(F,G,Y,W,M,6,d[56]),W=C(W,F,G,Y,Ee,10,d[57]),Y=C(Y,W,F,G,R,15,d[58]),G=C(G,Y,W,F,he,21,d[59]),F=C(F,G,Y,W,O,6,d[60]),W=C(W,F,G,Y,X,10,d[61]),Y=C(Y,W,F,G,T,15,d[62]),G=C(G,Y,W,F,le,21,d[63]),j[0]=j[0]+F|0,j[1]=j[1]+G|0,j[2]=j[2]+Y|0,j[3]=j[3]+W|0},_doFinalize:function(){var N=this._data,S=N.words,U=this._nDataBytes*8,k=N.sigBytes*8;S[k>>>5]|=128<<24-k%32;var V=a.floor(U/4294967296),j=U;S[(k+64>>>9<<4)+15]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,S[(k+64>>>9<<4)+14]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,N.sigBytes=(S.length+1)*4,this._process();for(var q=this._hash,z=q.words,T=0;T<4;T++){var w=z[T];z[T]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}return q},clone:function(){var N=p.clone.call(this);return N._hash=this._hash.clone(),N}});function v(N,S,U,k,V,j,q){var z=N+(S&U|~S&k)+V+q;return(z<<j|z>>>32-j)+S}function _(N,S,U,k,V,j,q){var z=N+(S&k|U&~k)+V+q;return(z<<j|z>>>32-j)+S}function A(N,S,U,k,V,j,q){var z=N+(S^U^k)+V+q;return(z<<j|z>>>32-j)+S}function C(N,S,U,k,V,j,q){var z=N+(U^(S|~k))+V+q;return(z<<j|z>>>32-j)+S}o.MD5=p._createHelper(y),o.HmacMD5=p._createHmacHelper(y)})(Math),n.MD5})})(Uh)),Uh.exports}var jh={exports:{}},pI=jh.exports,P_;function gA(){return P_||(P_=1,(function(i,e){(function(n,a){i.exports=a(He())})(pI,function(n){return(function(){var a=n,o=a.lib,c=o.WordArray,u=o.Hasher,p=a.algo,g=[],d=p.SHA1=u.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,v){for(var _=this._hash.words,A=_[0],C=_[1],N=_[2],S=_[3],U=_[4],k=0;k<80;k++){if(k<16)g[k]=y[v+k]|0;else{var V=g[k-3]^g[k-8]^g[k-14]^g[k-16];g[k]=V<<1|V>>>31}var j=(A<<5|A>>>27)+U+g[k];k<20?j+=(C&N|~C&S)+1518500249:k<40?j+=(C^N^S)+1859775393:k<60?j+=(C&N|C&S|N&S)-1894007588:j+=(C^N^S)-899497514,U=S,S=N,N=C<<30|C>>>2,C=A,A=j}_[0]=_[0]+A|0,_[1]=_[1]+C|0,_[2]=_[2]+N|0,_[3]=_[3]+S|0,_[4]=_[4]+U|0},_doFinalize:function(){var y=this._data,v=y.words,_=this._nDataBytes*8,A=y.sigBytes*8;return v[A>>>5]|=128<<24-A%32,v[(A+64>>>9<<4)+14]=Math.floor(_/4294967296),v[(A+64>>>9<<4)+15]=_,y.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var y=u.clone.call(this);return y._hash=this._hash.clone(),y}});a.SHA1=u._createHelper(d),a.HmacSHA1=u._createHmacHelper(d)})(),n.SHA1})})(jh)),jh.exports}var zh={exports:{}},gI=zh.exports,F_;function hg(){return F_||(F_=1,(function(i,e){(function(n,a){i.exports=a(He())})(gI,function(n){return(function(a){var o=n,c=o.lib,u=c.WordArray,p=c.Hasher,g=o.algo,d=[],y=[];(function(){function A(U){for(var k=a.sqrt(U),V=2;V<=k;V++)if(!(U%V))return!1;return!0}function C(U){return(U-(U|0))*4294967296|0}for(var N=2,S=0;S<64;)A(N)&&(S<8&&(d[S]=C(a.pow(N,1/2))),y[S]=C(a.pow(N,1/3)),S++),N++})();var v=[],_=g.SHA256=p.extend({_doReset:function(){this._hash=new u.init(d.slice(0))},_doProcessBlock:function(A,C){for(var N=this._hash.words,S=N[0],U=N[1],k=N[2],V=N[3],j=N[4],q=N[5],z=N[6],T=N[7],w=0;w<64;w++){if(w<16)v[w]=A[C+w]|0;else{var O=v[w-15],D=(O<<25|O>>>7)^(O<<14|O>>>18)^O>>>3,R=v[w-2],L=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;v[w]=D+v[w-7]+L+v[w-16]}var M=j&q^~j&z,le=S&U^S&k^U&k,de=(S<<30|S>>>2)^(S<<19|S>>>13)^(S<<10|S>>>22),X=(j<<26|j>>>6)^(j<<21|j>>>11)^(j<<7|j>>>25),ue=T+X+M+y[w]+v[w],he=de+le;T=z,z=q,q=j,j=V+ue|0,V=k,k=U,U=S,S=ue+he|0}N[0]=N[0]+S|0,N[1]=N[1]+U|0,N[2]=N[2]+k|0,N[3]=N[3]+V|0,N[4]=N[4]+j|0,N[5]=N[5]+q|0,N[6]=N[6]+z|0,N[7]=N[7]+T|0},_doFinalize:function(){var A=this._data,C=A.words,N=this._nDataBytes*8,S=A.sigBytes*8;return C[S>>>5]|=128<<24-S%32,C[(S+64>>>9<<4)+14]=a.floor(N/4294967296),C[(S+64>>>9<<4)+15]=N,A.sigBytes=C.length*4,this._process(),this._hash},clone:function(){var A=p.clone.call(this);return A._hash=this._hash.clone(),A}});o.SHA256=p._createHelper(_),o.HmacSHA256=p._createHmacHelper(_)})(Math),n.SHA256})})(zh)),zh.exports}var Hh={exports:{}},yI=Hh.exports,L_;function vI(){return L_||(L_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),hg())})(yI,function(n){return(function(){var a=n,o=a.lib,c=o.WordArray,u=a.algo,p=u.SHA256,g=u.SHA224=p.extend({_doReset:function(){this._hash=new c.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var d=p._doFinalize.call(this);return d.sigBytes-=4,d}});a.SHA224=p._createHelper(g),a.HmacSHA224=p._createHmacHelper(g)})(),n.SHA224})})(Hh)),Hh.exports}var qh={exports:{}},xI=qh.exports,U_;function yA(){return U_||(U_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),h0())})(xI,function(n){return(function(){var a=n,o=a.lib,c=o.Hasher,u=a.x64,p=u.Word,g=u.WordArray,d=a.algo;function y(){return p.create.apply(p,arguments)}var v=[y(1116352408,3609767458),y(1899447441,602891725),y(3049323471,3964484399),y(3921009573,2173295548),y(961987163,4081628472),y(1508970993,3053834265),y(2453635748,2937671579),y(2870763221,3664609560),y(3624381080,2734883394),y(310598401,1164996542),y(607225278,1323610764),y(1426881987,3590304994),y(1925078388,4068182383),y(2162078206,991336113),y(2614888103,633803317),y(3248222580,3479774868),y(3835390401,2666613458),y(4022224774,944711139),y(264347078,2341262773),y(604807628,2007800933),y(770255983,1495990901),y(1249150122,1856431235),y(1555081692,3175218132),y(1996064986,2198950837),y(2554220882,3999719339),y(2821834349,766784016),y(2952996808,2566594879),y(3210313671,3203337956),y(3336571891,1034457026),y(3584528711,2466948901),y(113926993,3758326383),y(338241895,168717936),y(666307205,1188179964),y(773529912,1546045734),y(1294757372,1522805485),y(1396182291,2643833823),y(1695183700,2343527390),y(1986661051,1014477480),y(2177026350,1206759142),y(2456956037,344077627),y(2730485921,1290863460),y(2820302411,3158454273),y(3259730800,3505952657),y(3345764771,106217008),y(3516065817,3606008344),y(3600352804,1432725776),y(4094571909,1467031594),y(275423344,851169720),y(430227734,3100823752),y(506948616,1363258195),y(659060556,3750685593),y(883997877,3785050280),y(958139571,3318307427),y(1322822218,3812723403),y(1537002063,2003034995),y(1747873779,3602036899),y(1955562222,1575990012),y(2024104815,1125592928),y(2227730452,2716904306),y(2361852424,442776044),y(2428436474,593698344),y(2756734187,3733110249),y(3204031479,2999351573),y(3329325298,3815920427),y(3391569614,3928383900),y(3515267271,566280711),y(3940187606,3454069534),y(4118630271,4000239992),y(116418474,1914138554),y(174292421,2731055270),y(289380356,3203993006),y(460393269,320620315),y(685471733,587496836),y(852142971,1086792851),y(1017036298,365543100),y(1126000580,2618297676),y(1288033470,3409855158),y(1501505948,4234509866),y(1607167915,987167468),y(1816402316,1246189591)],_=[];(function(){for(var C=0;C<80;C++)_[C]=y()})();var A=d.SHA512=c.extend({_doReset:function(){this._hash=new g.init([new p.init(1779033703,4089235720),new p.init(3144134277,2227873595),new p.init(1013904242,4271175723),new p.init(2773480762,1595750129),new p.init(1359893119,2917565137),new p.init(2600822924,725511199),new p.init(528734635,4215389547),new p.init(1541459225,327033209)])},_doProcessBlock:function(C,N){for(var S=this._hash.words,U=S[0],k=S[1],V=S[2],j=S[3],q=S[4],z=S[5],T=S[6],w=S[7],O=U.high,D=U.low,R=k.high,L=k.low,M=V.high,le=V.low,de=j.high,X=j.low,ue=q.high,he=q.low,_e=z.high,Ee=z.low,F=T.high,G=T.low,Y=w.high,W=w.low,pe=O,ge=D,Se=R,be=L,Ye=M,pn=le,Nr=de,Hn=X,qt=ue,ft=he,kr=_e,Sn=Ee,Br=F,fr=G,dt=Y,lt=W,St=0;St<80;St++){var sn,Dn,Dt=_[St];if(St<16)Dn=Dt.high=C[N+St*2]|0,sn=Dt.low=C[N+St*2+1]|0;else{var Or=_[St-15],qn=Or.high,dr=Or.low,Mr=(qn>>>1|dr<<31)^(qn>>>8|dr<<24)^qn>>>7,Fs=(dr>>>1|qn<<31)^(dr>>>8|qn<<24)^(dr>>>7|qn<<25),Qa=_[St-2],mr=Qa.high,Vr=Qa.low,Rn=(mr>>>19|Vr<<13)^(mr<<3|Vr>>>29)^mr>>>6,Rt=(Vr>>>19|mr<<13)^(Vr<<3|mr>>>29)^(Vr>>>6|mr<<26),fn=_[St-7],yt=fn.high,Ls=fn.low,ui=_[St-16],Us=ui.high,In=ui.low;sn=Fs+Ls,Dn=Mr+yt+(sn>>>0<Fs>>>0?1:0),sn=sn+Rt,Dn=Dn+Rn+(sn>>>0<Rt>>>0?1:0),sn=sn+In,Dn=Dn+Us+(sn>>>0<In>>>0?1:0),Dt.high=Dn,Dt.low=sn}var hi=qt&kr^~qt&Br,vt=ft&Sn^~ft&fr,Gn=pe&Se^pe&Ye^Se&Ye,Kn=ge&be^ge&pn^be&pn,Nn=(pe>>>28|ge<<4)^(pe<<30|ge>>>2)^(pe<<25|ge>>>7),js=(ge>>>28|pe<<4)^(ge<<30|pe>>>2)^(ge<<25|pe>>>7),zs=(qt>>>14|ft<<18)^(qt>>>18|ft<<14)^(qt<<23|ft>>>9),$n=(ft>>>14|qt<<18)^(ft>>>18|qt<<14)^(ft<<23|qt>>>9),Pr=v[St],al=Pr.high,Fr=Pr.low,jt=lt+$n,gn=dt+zs+(jt>>>0<lt>>>0?1:0),jt=jt+vt,gn=gn+hi+(jt>>>0<vt>>>0?1:0),jt=jt+Fr,gn=gn+al+(jt>>>0<Fr>>>0?1:0),jt=jt+sn,gn=gn+Dn+(jt>>>0<sn>>>0?1:0),Lr=js+Kn,pr=Nn+Gn+(Lr>>>0<js>>>0?1:0);dt=Br,lt=fr,Br=kr,fr=Sn,kr=qt,Sn=ft,ft=Hn+jt|0,qt=Nr+gn+(ft>>>0<Hn>>>0?1:0)|0,Nr=Ye,Hn=pn,Ye=Se,pn=be,Se=pe,be=ge,ge=jt+Lr|0,pe=gn+pr+(ge>>>0<jt>>>0?1:0)|0}D=U.low=D+ge,U.high=O+pe+(D>>>0<ge>>>0?1:0),L=k.low=L+be,k.high=R+Se+(L>>>0<be>>>0?1:0),le=V.low=le+pn,V.high=M+Ye+(le>>>0<pn>>>0?1:0),X=j.low=X+Hn,j.high=de+Nr+(X>>>0<Hn>>>0?1:0),he=q.low=he+ft,q.high=ue+qt+(he>>>0<ft>>>0?1:0),Ee=z.low=Ee+Sn,z.high=_e+kr+(Ee>>>0<Sn>>>0?1:0),G=T.low=G+fr,T.high=F+Br+(G>>>0<fr>>>0?1:0),W=w.low=W+lt,w.high=Y+dt+(W>>>0<lt>>>0?1:0)},_doFinalize:function(){var C=this._data,N=C.words,S=this._nDataBytes*8,U=C.sigBytes*8;N[U>>>5]|=128<<24-U%32,N[(U+128>>>10<<5)+30]=Math.floor(S/4294967296),N[(U+128>>>10<<5)+31]=S,C.sigBytes=N.length*4,this._process();var k=this._hash.toX32();return k},clone:function(){var C=c.clone.call(this);return C._hash=this._hash.clone(),C},blockSize:1024/32});a.SHA512=c._createHelper(A),a.HmacSHA512=c._createHmacHelper(A)})(),n.SHA512})})(qh)),qh.exports}var Gh={exports:{}},_I=Gh.exports,j_;function EI(){return j_||(j_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),h0(),yA())})(_I,function(n){return(function(){var a=n,o=a.x64,c=o.Word,u=o.WordArray,p=a.algo,g=p.SHA512,d=p.SHA384=g.extend({_doReset:function(){this._hash=new u.init([new c.init(3418070365,3238371032),new c.init(1654270250,914150663),new c.init(2438529370,812702999),new c.init(355462360,4144912697),new c.init(1731405415,4290775857),new c.init(2394180231,1750603025),new c.init(3675008525,1694076839),new c.init(1203062813,3204075428)])},_doFinalize:function(){var y=g._doFinalize.call(this);return y.sigBytes-=16,y}});a.SHA384=g._createHelper(d),a.HmacSHA384=g._createHmacHelper(d)})(),n.SHA384})})(Gh)),Gh.exports}var Kh={exports:{}},bI=Kh.exports,z_;function AI(){return z_||(z_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),h0())})(bI,function(n){return(function(a){var o=n,c=o.lib,u=c.WordArray,p=c.Hasher,g=o.x64,d=g.Word,y=o.algo,v=[],_=[],A=[];(function(){for(var S=1,U=0,k=0;k<24;k++){v[S+5*U]=(k+1)*(k+2)/2%64;var V=U%5,j=(2*S+3*U)%5;S=V,U=j}for(var S=0;S<5;S++)for(var U=0;U<5;U++)_[S+5*U]=U+(2*S+3*U)%5*5;for(var q=1,z=0;z<24;z++){for(var T=0,w=0,O=0;O<7;O++){if(q&1){var D=(1<<O)-1;D<32?w^=1<<D:T^=1<<D-32}q&128?q=q<<1^113:q<<=1}A[z]=d.create(T,w)}})();var C=[];(function(){for(var S=0;S<25;S++)C[S]=d.create()})();var N=y.SHA3=p.extend({cfg:p.cfg.extend({outputLength:512}),_doReset:function(){for(var S=this._state=[],U=0;U<25;U++)S[U]=new d.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(S,U){for(var k=this._state,V=this.blockSize/2,j=0;j<V;j++){var q=S[U+2*j],z=S[U+2*j+1];q=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360,z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360;var T=k[j];T.high^=z,T.low^=q}for(var w=0;w<24;w++){for(var O=0;O<5;O++){for(var D=0,R=0,L=0;L<5;L++){var T=k[O+5*L];D^=T.high,R^=T.low}var M=C[O];M.high=D,M.low=R}for(var O=0;O<5;O++)for(var le=C[(O+4)%5],de=C[(O+1)%5],X=de.high,ue=de.low,D=le.high^(X<<1|ue>>>31),R=le.low^(ue<<1|X>>>31),L=0;L<5;L++){var T=k[O+5*L];T.high^=D,T.low^=R}for(var he=1;he<25;he++){var D,R,T=k[he],_e=T.high,Ee=T.low,F=v[he];F<32?(D=_e<<F|Ee>>>32-F,R=Ee<<F|_e>>>32-F):(D=Ee<<F-32|_e>>>64-F,R=_e<<F-32|Ee>>>64-F);var G=C[_[he]];G.high=D,G.low=R}var Y=C[0],W=k[0];Y.high=W.high,Y.low=W.low;for(var O=0;O<5;O++)for(var L=0;L<5;L++){var he=O+5*L,T=k[he],pe=C[he],ge=C[(O+1)%5+5*L],Se=C[(O+2)%5+5*L];T.high=pe.high^~ge.high&Se.high,T.low=pe.low^~ge.low&Se.low}var T=k[0],be=A[w];T.high^=be.high,T.low^=be.low}},_doFinalize:function(){var S=this._data,U=S.words;this._nDataBytes*8;var k=S.sigBytes*8,V=this.blockSize*32;U[k>>>5]|=1<<24-k%32,U[(a.ceil((k+1)/V)*V>>>5)-1]|=128,S.sigBytes=U.length*4,this._process();for(var j=this._state,q=this.cfg.outputLength/8,z=q/8,T=[],w=0;w<z;w++){var O=j[w],D=O.high,R=O.low;D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,T.push(R),T.push(D)}return new u.init(T,q)},clone:function(){for(var S=p.clone.call(this),U=S._state=this._state.slice(0),k=0;k<25;k++)U[k]=U[k].clone();return S}});o.SHA3=p._createHelper(N),o.HmacSHA3=p._createHmacHelper(N)})(Math),n.SHA3})})(Kh)),Kh.exports}var $h={exports:{}},TI=$h.exports,H_;function CI(){return H_||(H_=1,(function(i,e){(function(n,a){i.exports=a(He())})(TI,function(n){return(function(a){var o=n,c=o.lib,u=c.WordArray,p=c.Hasher,g=o.algo,d=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),y=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),v=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),_=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),A=u.create([0,1518500249,1859775393,2400959708,2840853838]),C=u.create([1352829926,1548603684,1836072691,2053994217,0]),N=g.RIPEMD160=p.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(z,T){for(var w=0;w<16;w++){var O=T+w,D=z[O];z[O]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var R=this._hash.words,L=A.words,M=C.words,le=d.words,de=y.words,X=v.words,ue=_.words,he,_e,Ee,F,G,Y,W,pe,ge,Se;Y=he=R[0],W=_e=R[1],pe=Ee=R[2],ge=F=R[3],Se=G=R[4];for(var be,w=0;w<80;w+=1)be=he+z[T+le[w]]|0,w<16?be+=S(_e,Ee,F)+L[0]:w<32?be+=U(_e,Ee,F)+L[1]:w<48?be+=k(_e,Ee,F)+L[2]:w<64?be+=V(_e,Ee,F)+L[3]:be+=j(_e,Ee,F)+L[4],be=be|0,be=q(be,X[w]),be=be+G|0,he=G,G=F,F=q(Ee,10),Ee=_e,_e=be,be=Y+z[T+de[w]]|0,w<16?be+=j(W,pe,ge)+M[0]:w<32?be+=V(W,pe,ge)+M[1]:w<48?be+=k(W,pe,ge)+M[2]:w<64?be+=U(W,pe,ge)+M[3]:be+=S(W,pe,ge)+M[4],be=be|0,be=q(be,ue[w]),be=be+Se|0,Y=Se,Se=ge,ge=q(pe,10),pe=W,W=be;be=R[1]+Ee+ge|0,R[1]=R[2]+F+Se|0,R[2]=R[3]+G+Y|0,R[3]=R[4]+he+W|0,R[4]=R[0]+_e+pe|0,R[0]=be},_doFinalize:function(){var z=this._data,T=z.words,w=this._nDataBytes*8,O=z.sigBytes*8;T[O>>>5]|=128<<24-O%32,T[(O+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,z.sigBytes=(T.length+1)*4,this._process();for(var D=this._hash,R=D.words,L=0;L<5;L++){var M=R[L];R[L]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}return D},clone:function(){var z=p.clone.call(this);return z._hash=this._hash.clone(),z}});function S(z,T,w){return z^T^w}function U(z,T,w){return z&T|~z&w}function k(z,T,w){return(z|~T)^w}function V(z,T,w){return z&w|T&~w}function j(z,T,w){return z^(T|~w)}function q(z,T){return z<<T|z>>>32-T}o.RIPEMD160=p._createHelper(N),o.HmacRIPEMD160=p._createHmacHelper(N)})(),n.RIPEMD160})})($h)),$h.exports}var Qh={exports:{}},wI=Qh.exports,q_;function fg(){return q_||(q_=1,(function(i,e){(function(n,a){i.exports=a(He())})(wI,function(n){(function(){var a=n,o=a.lib,c=o.Base,u=a.enc,p=u.Utf8,g=a.algo;g.HMAC=c.extend({init:function(d,y){d=this._hasher=new d.init,typeof y=="string"&&(y=p.parse(y));var v=d.blockSize,_=v*4;y.sigBytes>_&&(y=d.finalize(y)),y.clamp();for(var A=this._oKey=y.clone(),C=this._iKey=y.clone(),N=A.words,S=C.words,U=0;U<v;U++)N[U]^=1549556828,S[U]^=909522486;A.sigBytes=C.sigBytes=_,this.reset()},reset:function(){var d=this._hasher;d.reset(),d.update(this._iKey)},update:function(d){return this._hasher.update(d),this},finalize:function(d){var y=this._hasher,v=y.finalize(d);y.reset();var _=y.finalize(this._oKey.clone().concat(v));return _}})})()})})(Qh)),Qh.exports}var Yh={exports:{}},SI=Yh.exports,G_;function DI(){return G_||(G_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),hg(),fg())})(SI,function(n){return(function(){var a=n,o=a.lib,c=o.Base,u=o.WordArray,p=a.algo,g=p.SHA256,d=p.HMAC,y=p.PBKDF2=c.extend({cfg:c.extend({keySize:128/32,hasher:g,iterations:25e4}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,_){for(var A=this.cfg,C=d.create(A.hasher,v),N=u.create(),S=u.create([1]),U=N.words,k=S.words,V=A.keySize,j=A.iterations;U.length<V;){var q=C.update(_).finalize(S);C.reset();for(var z=q.words,T=z.length,w=q,O=1;O<j;O++){w=C.finalize(w),C.reset();for(var D=w.words,R=0;R<T;R++)z[R]^=D[R]}N.concat(q),k[0]++}return N.sigBytes=V*4,N}});a.PBKDF2=function(v,_,A){return y.create(A).compute(v,_)}})(),n.PBKDF2})})(Yh)),Yh.exports}var Xh={exports:{}},RI=Xh.exports,K_;function $a(){return K_||(K_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),gA(),fg())})(RI,function(n){return(function(){var a=n,o=a.lib,c=o.Base,u=o.WordArray,p=a.algo,g=p.MD5,d=p.EvpKDF=c.extend({cfg:c.extend({keySize:128/32,hasher:g,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,v){for(var _,A=this.cfg,C=A.hasher.create(),N=u.create(),S=N.words,U=A.keySize,k=A.iterations;S.length<U;){_&&C.update(_),_=C.update(y).finalize(v),C.reset();for(var V=1;V<k;V++)_=C.finalize(_),C.reset();N.concat(_)}return N.sigBytes=U*4,N}});a.EvpKDF=function(y,v,_){return d.create(_).compute(y,v)}})(),n.EvpKDF})})(Xh)),Xh.exports}var Wh={exports:{}},II=Wh.exports,$_;function Xt(){return $_||($_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),$a())})(II,function(n){n.lib.Cipher||(function(a){var o=n,c=o.lib,u=c.Base,p=c.WordArray,g=c.BufferedBlockAlgorithm,d=o.enc;d.Utf8;var y=d.Base64,v=o.algo,_=v.EvpKDF,A=c.Cipher=g.extend({cfg:u.extend(),createEncryptor:function(D,R){return this.create(this._ENC_XFORM_MODE,D,R)},createDecryptor:function(D,R){return this.create(this._DEC_XFORM_MODE,D,R)},init:function(D,R,L){this.cfg=this.cfg.extend(L),this._xformMode=D,this._key=R,this.reset()},reset:function(){g.reset.call(this),this._doReset()},process:function(D){return this._append(D),this._process()},finalize:function(D){D&&this._append(D);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function D(R){return typeof R=="string"?O:z}return function(R){return{encrypt:function(L,M,le){return D(M).encrypt(R,L,M,le)},decrypt:function(L,M,le){return D(M).decrypt(R,L,M,le)}}}})()});c.StreamCipher=A.extend({_doFinalize:function(){var D=this._process(!0);return D},blockSize:1});var C=o.mode={},N=c.BlockCipherMode=u.extend({createEncryptor:function(D,R){return this.Encryptor.create(D,R)},createDecryptor:function(D,R){return this.Decryptor.create(D,R)},init:function(D,R){this._cipher=D,this._iv=R}}),S=C.CBC=(function(){var D=N.extend();D.Encryptor=D.extend({processBlock:function(L,M){var le=this._cipher,de=le.blockSize;R.call(this,L,M,de),le.encryptBlock(L,M),this._prevBlock=L.slice(M,M+de)}}),D.Decryptor=D.extend({processBlock:function(L,M){var le=this._cipher,de=le.blockSize,X=L.slice(M,M+de);le.decryptBlock(L,M),R.call(this,L,M,de),this._prevBlock=X}});function R(L,M,le){var de,X=this._iv;X?(de=X,this._iv=a):de=this._prevBlock;for(var ue=0;ue<le;ue++)L[M+ue]^=de[ue]}return D})(),U=o.pad={},k=U.Pkcs7={pad:function(D,R){for(var L=R*4,M=L-D.sigBytes%L,le=M<<24|M<<16|M<<8|M,de=[],X=0;X<M;X+=4)de.push(le);var ue=p.create(de,M);D.concat(ue)},unpad:function(D){var R=D.words[D.sigBytes-1>>>2]&255;D.sigBytes-=R}};c.BlockCipher=A.extend({cfg:A.cfg.extend({mode:S,padding:k}),reset:function(){var D;A.reset.call(this);var R=this.cfg,L=R.iv,M=R.mode;this._xformMode==this._ENC_XFORM_MODE?D=M.createEncryptor:(D=M.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==D?this._mode.init(this,L&&L.words):(this._mode=D.call(M,this,L&&L.words),this._mode.__creator=D)},_doProcessBlock:function(D,R){this._mode.processBlock(D,R)},_doFinalize:function(){var D,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),D=this._process(!0)):(D=this._process(!0),R.unpad(D)),D},blockSize:128/32});var V=c.CipherParams=u.extend({init:function(D){this.mixIn(D)},toString:function(D){return(D||this.formatter).stringify(this)}}),j=o.format={},q=j.OpenSSL={stringify:function(D){var R,L=D.ciphertext,M=D.salt;return M?R=p.create([1398893684,1701076831]).concat(M).concat(L):R=L,R.toString(y)},parse:function(D){var R,L=y.parse(D),M=L.words;return M[0]==1398893684&&M[1]==1701076831&&(R=p.create(M.slice(2,4)),M.splice(0,4),L.sigBytes-=16),V.create({ciphertext:L,salt:R})}},z=c.SerializableCipher=u.extend({cfg:u.extend({format:q}),encrypt:function(D,R,L,M){M=this.cfg.extend(M);var le=D.createEncryptor(L,M),de=le.finalize(R),X=le.cfg;return V.create({ciphertext:de,key:L,iv:X.iv,algorithm:D,mode:X.mode,padding:X.padding,blockSize:D.blockSize,formatter:M.format})},decrypt:function(D,R,L,M){M=this.cfg.extend(M),R=this._parse(R,M.format);var le=D.createDecryptor(L,M).finalize(R.ciphertext);return le},_parse:function(D,R){return typeof D=="string"?R.parse(D,this):D}}),T=o.kdf={},w=T.OpenSSL={execute:function(D,R,L,M,le){if(M||(M=p.random(64/8)),le)var de=_.create({keySize:R+L,hasher:le}).compute(D,M);else var de=_.create({keySize:R+L}).compute(D,M);var X=p.create(de.words.slice(R),L*4);return de.sigBytes=R*4,V.create({key:de,iv:X,salt:M})}},O=c.PasswordBasedCipher=z.extend({cfg:z.cfg.extend({kdf:w}),encrypt:function(D,R,L,M){M=this.cfg.extend(M);var le=M.kdf.execute(L,D.keySize,D.ivSize,M.salt,M.hasher);M.iv=le.iv;var de=z.encrypt.call(this,D,R,le.key,M);return de.mixIn(le),de},decrypt:function(D,R,L,M){M=this.cfg.extend(M),R=this._parse(R,M.format);var le=M.kdf.execute(L,D.keySize,D.ivSize,R.salt,M.hasher);M.iv=le.iv;var de=z.decrypt.call(this,D,R,le.key,M);return de}})})()})})(Wh)),Wh.exports}var Zh={exports:{}},NI=Zh.exports,Q_;function kI(){return Q_||(Q_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Xt())})(NI,function(n){return n.mode.CFB=(function(){var a=n.lib.BlockCipherMode.extend();a.Encryptor=a.extend({processBlock:function(c,u){var p=this._cipher,g=p.blockSize;o.call(this,c,u,g,p),this._prevBlock=c.slice(u,u+g)}}),a.Decryptor=a.extend({processBlock:function(c,u){var p=this._cipher,g=p.blockSize,d=c.slice(u,u+g);o.call(this,c,u,g,p),this._prevBlock=d}});function o(c,u,p,g){var d,y=this._iv;y?(d=y.slice(0),this._iv=void 0):d=this._prevBlock,g.encryptBlock(d,0);for(var v=0;v<p;v++)c[u+v]^=d[v]}return a})(),n.mode.CFB})})(Zh)),Zh.exports}var Jh={exports:{}},BI=Jh.exports,Y_;function OI(){return Y_||(Y_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Xt())})(BI,function(n){return n.mode.CTR=(function(){var a=n.lib.BlockCipherMode.extend(),o=a.Encryptor=a.extend({processBlock:function(c,u){var p=this._cipher,g=p.blockSize,d=this._iv,y=this._counter;d&&(y=this._counter=d.slice(0),this._iv=void 0);var v=y.slice(0);p.encryptBlock(v,0),y[g-1]=y[g-1]+1|0;for(var _=0;_<g;_++)c[u+_]^=v[_]}});return a.Decryptor=o,a})(),n.mode.CTR})})(Jh)),Jh.exports}var ef={exports:{}},MI=ef.exports,X_;function VI(){return X_||(X_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Xt())})(MI,function(n){return n.mode.CTRGladman=(function(){var a=n.lib.BlockCipherMode.extend();function o(p){if((p>>24&255)===255){var g=p>>16&255,d=p>>8&255,y=p&255;g===255?(g=0,d===255?(d=0,y===255?y=0:++y):++d):++g,p=0,p+=g<<16,p+=d<<8,p+=y}else p+=1<<24;return p}function c(p){return(p[0]=o(p[0]))===0&&(p[1]=o(p[1])),p}var u=a.Encryptor=a.extend({processBlock:function(p,g){var d=this._cipher,y=d.blockSize,v=this._iv,_=this._counter;v&&(_=this._counter=v.slice(0),this._iv=void 0),c(_);var A=_.slice(0);d.encryptBlock(A,0);for(var C=0;C<y;C++)p[g+C]^=A[C]}});return a.Decryptor=u,a})(),n.mode.CTRGladman})})(ef)),ef.exports}var tf={exports:{}},PI=tf.exports,W_;function FI(){return W_||(W_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Xt())})(PI,function(n){return n.mode.OFB=(function(){var a=n.lib.BlockCipherMode.extend(),o=a.Encryptor=a.extend({processBlock:function(c,u){var p=this._cipher,g=p.blockSize,d=this._iv,y=this._keystream;d&&(y=this._keystream=d.slice(0),this._iv=void 0),p.encryptBlock(y,0);for(var v=0;v<g;v++)c[u+v]^=y[v]}});return a.Decryptor=o,a})(),n.mode.OFB})})(tf)),tf.exports}var nf={exports:{}},LI=nf.exports,Z_;function UI(){return Z_||(Z_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Xt())})(LI,function(n){return n.mode.ECB=(function(){var a=n.lib.BlockCipherMode.extend();return a.Encryptor=a.extend({processBlock:function(o,c){this._cipher.encryptBlock(o,c)}}),a.Decryptor=a.extend({processBlock:function(o,c){this._cipher.decryptBlock(o,c)}}),a})(),n.mode.ECB})})(nf)),nf.exports}var rf={exports:{}},jI=rf.exports,J_;function zI(){return J_||(J_=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Xt())})(jI,function(n){return n.pad.AnsiX923={pad:function(a,o){var c=a.sigBytes,u=o*4,p=u-c%u,g=c+p-1;a.clamp(),a.words[g>>>2]|=p<<24-g%4*8,a.sigBytes+=p},unpad:function(a){var o=a.words[a.sigBytes-1>>>2]&255;a.sigBytes-=o}},n.pad.Ansix923})})(rf)),rf.exports}var af={exports:{}},HI=af.exports,eE;function qI(){return eE||(eE=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Xt())})(HI,function(n){return n.pad.Iso10126={pad:function(a,o){var c=o*4,u=c-a.sigBytes%c;a.concat(n.lib.WordArray.random(u-1)).concat(n.lib.WordArray.create([u<<24],1))},unpad:function(a){var o=a.words[a.sigBytes-1>>>2]&255;a.sigBytes-=o}},n.pad.Iso10126})})(af)),af.exports}var sf={exports:{}},GI=sf.exports,tE;function KI(){return tE||(tE=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Xt())})(GI,function(n){return n.pad.Iso97971={pad:function(a,o){a.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(a,o)},unpad:function(a){n.pad.ZeroPadding.unpad(a),a.sigBytes--}},n.pad.Iso97971})})(sf)),sf.exports}var of={exports:{}},$I=of.exports,nE;function QI(){return nE||(nE=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Xt())})($I,function(n){return n.pad.ZeroPadding={pad:function(a,o){var c=o*4;a.clamp(),a.sigBytes+=c-(a.sigBytes%c||c)},unpad:function(a){for(var o=a.words,c=a.sigBytes-1,c=a.sigBytes-1;c>=0;c--)if(o[c>>>2]>>>24-c%4*8&255){a.sigBytes=c+1;break}}},n.pad.ZeroPadding})})(of)),of.exports}var lf={exports:{}},YI=lf.exports,rE;function XI(){return rE||(rE=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Xt())})(YI,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})})(lf)),lf.exports}var cf={exports:{}},WI=cf.exports,iE;function ZI(){return iE||(iE=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Xt())})(WI,function(n){return(function(a){var o=n,c=o.lib,u=c.CipherParams,p=o.enc,g=p.Hex,d=o.format;d.Hex={stringify:function(y){return y.ciphertext.toString(g)},parse:function(y){var v=g.parse(y);return u.create({ciphertext:v})}}})(),n.format.Hex})})(cf)),cf.exports}var uf={exports:{}},JI=uf.exports,aE;function e9(){return aE||(aE=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Vs(),Ps(),$a(),Xt())})(JI,function(n){return(function(){var a=n,o=a.lib,c=o.BlockCipher,u=a.algo,p=[],g=[],d=[],y=[],v=[],_=[],A=[],C=[],N=[],S=[];(function(){for(var V=[],j=0;j<256;j++)j<128?V[j]=j<<1:V[j]=j<<1^283;for(var q=0,z=0,j=0;j<256;j++){var T=z^z<<1^z<<2^z<<3^z<<4;T=T>>>8^T&255^99,p[q]=T,g[T]=q;var w=V[q],O=V[w],D=V[O],R=V[T]*257^T*16843008;d[q]=R<<24|R>>>8,y[q]=R<<16|R>>>16,v[q]=R<<8|R>>>24,_[q]=R;var R=D*16843009^O*65537^w*257^q*16843008;A[T]=R<<24|R>>>8,C[T]=R<<16|R>>>16,N[T]=R<<8|R>>>24,S[T]=R,q?(q=w^V[V[V[D^w]]],z^=V[V[z]]):q=z=1}})();var U=[0,1,2,4,8,16,32,64,128,27,54],k=u.AES=c.extend({_doReset:function(){var V;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var j=this._keyPriorReset=this._key,q=j.words,z=j.sigBytes/4,T=this._nRounds=z+6,w=(T+1)*4,O=this._keySchedule=[],D=0;D<w;D++)D<z?O[D]=q[D]:(V=O[D-1],D%z?z>6&&D%z==4&&(V=p[V>>>24]<<24|p[V>>>16&255]<<16|p[V>>>8&255]<<8|p[V&255]):(V=V<<8|V>>>24,V=p[V>>>24]<<24|p[V>>>16&255]<<16|p[V>>>8&255]<<8|p[V&255],V^=U[D/z|0]<<24),O[D]=O[D-z]^V);for(var R=this._invKeySchedule=[],L=0;L<w;L++){var D=w-L;if(L%4)var V=O[D];else var V=O[D-4];L<4||D<=4?R[L]=V:R[L]=A[p[V>>>24]]^C[p[V>>>16&255]]^N[p[V>>>8&255]]^S[p[V&255]]}}},encryptBlock:function(V,j){this._doCryptBlock(V,j,this._keySchedule,d,y,v,_,p)},decryptBlock:function(V,j){var q=V[j+1];V[j+1]=V[j+3],V[j+3]=q,this._doCryptBlock(V,j,this._invKeySchedule,A,C,N,S,g);var q=V[j+1];V[j+1]=V[j+3],V[j+3]=q},_doCryptBlock:function(V,j,q,z,T,w,O,D){for(var R=this._nRounds,L=V[j]^q[0],M=V[j+1]^q[1],le=V[j+2]^q[2],de=V[j+3]^q[3],X=4,ue=1;ue<R;ue++){var he=z[L>>>24]^T[M>>>16&255]^w[le>>>8&255]^O[de&255]^q[X++],_e=z[M>>>24]^T[le>>>16&255]^w[de>>>8&255]^O[L&255]^q[X++],Ee=z[le>>>24]^T[de>>>16&255]^w[L>>>8&255]^O[M&255]^q[X++],F=z[de>>>24]^T[L>>>16&255]^w[M>>>8&255]^O[le&255]^q[X++];L=he,M=_e,le=Ee,de=F}var he=(D[L>>>24]<<24|D[M>>>16&255]<<16|D[le>>>8&255]<<8|D[de&255])^q[X++],_e=(D[M>>>24]<<24|D[le>>>16&255]<<16|D[de>>>8&255]<<8|D[L&255])^q[X++],Ee=(D[le>>>24]<<24|D[de>>>16&255]<<16|D[L>>>8&255]<<8|D[M&255])^q[X++],F=(D[de>>>24]<<24|D[L>>>16&255]<<16|D[M>>>8&255]<<8|D[le&255])^q[X++];V[j]=he,V[j+1]=_e,V[j+2]=Ee,V[j+3]=F},keySize:256/32});a.AES=c._createHelper(k)})(),n.AES})})(uf)),uf.exports}var hf={exports:{}},t9=hf.exports,sE;function n9(){return sE||(sE=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Vs(),Ps(),$a(),Xt())})(t9,function(n){return(function(){var a=n,o=a.lib,c=o.WordArray,u=o.BlockCipher,p=a.algo,g=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],y=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],_=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],A=p.DES=u.extend({_doReset:function(){for(var U=this._key,k=U.words,V=[],j=0;j<56;j++){var q=g[j]-1;V[j]=k[q>>>5]>>>31-q%32&1}for(var z=this._subKeys=[],T=0;T<16;T++){for(var w=z[T]=[],O=y[T],j=0;j<24;j++)w[j/6|0]|=V[(d[j]-1+O)%28]<<31-j%6,w[4+(j/6|0)]|=V[28+(d[j+24]-1+O)%28]<<31-j%6;w[0]=w[0]<<1|w[0]>>>31;for(var j=1;j<7;j++)w[j]=w[j]>>>(j-1)*4+3;w[7]=w[7]<<5|w[7]>>>27}for(var D=this._invSubKeys=[],j=0;j<16;j++)D[j]=z[15-j]},encryptBlock:function(U,k){this._doCryptBlock(U,k,this._subKeys)},decryptBlock:function(U,k){this._doCryptBlock(U,k,this._invSubKeys)},_doCryptBlock:function(U,k,V){this._lBlock=U[k],this._rBlock=U[k+1],C.call(this,4,252645135),C.call(this,16,65535),N.call(this,2,858993459),N.call(this,8,16711935),C.call(this,1,1431655765);for(var j=0;j<16;j++){for(var q=V[j],z=this._lBlock,T=this._rBlock,w=0,O=0;O<8;O++)w|=v[O][((T^q[O])&_[O])>>>0];this._lBlock=T,this._rBlock=z^w}var D=this._lBlock;this._lBlock=this._rBlock,this._rBlock=D,C.call(this,1,1431655765),N.call(this,8,16711935),N.call(this,2,858993459),C.call(this,16,65535),C.call(this,4,252645135),U[k]=this._lBlock,U[k+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function C(U,k){var V=(this._lBlock>>>U^this._rBlock)&k;this._rBlock^=V,this._lBlock^=V<<U}function N(U,k){var V=(this._rBlock>>>U^this._lBlock)&k;this._lBlock^=V,this._rBlock^=V<<U}a.DES=u._createHelper(A);var S=p.TripleDES=u.extend({_doReset:function(){var U=this._key,k=U.words;if(k.length!==2&&k.length!==4&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var V=k.slice(0,2),j=k.length<4?k.slice(0,2):k.slice(2,4),q=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=A.createEncryptor(c.create(V)),this._des2=A.createEncryptor(c.create(j)),this._des3=A.createEncryptor(c.create(q))},encryptBlock:function(U,k){this._des1.encryptBlock(U,k),this._des2.decryptBlock(U,k),this._des3.encryptBlock(U,k)},decryptBlock:function(U,k){this._des3.decryptBlock(U,k),this._des2.encryptBlock(U,k),this._des1.decryptBlock(U,k)},keySize:192/32,ivSize:64/32,blockSize:64/32});a.TripleDES=u._createHelper(S)})(),n.TripleDES})})(hf)),hf.exports}var ff={exports:{}},r9=ff.exports,oE;function i9(){return oE||(oE=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Vs(),Ps(),$a(),Xt())})(r9,function(n){return(function(){var a=n,o=a.lib,c=o.StreamCipher,u=a.algo,p=u.RC4=c.extend({_doReset:function(){for(var y=this._key,v=y.words,_=y.sigBytes,A=this._S=[],C=0;C<256;C++)A[C]=C;for(var C=0,N=0;C<256;C++){var S=C%_,U=v[S>>>2]>>>24-S%4*8&255;N=(N+A[C]+U)%256;var k=A[C];A[C]=A[N],A[N]=k}this._i=this._j=0},_doProcessBlock:function(y,v){y[v]^=g.call(this)},keySize:256/32,ivSize:0});function g(){for(var y=this._S,v=this._i,_=this._j,A=0,C=0;C<4;C++){v=(v+1)%256,_=(_+y[v])%256;var N=y[v];y[v]=y[_],y[_]=N,A|=y[(y[v]+y[_])%256]<<24-C*8}return this._i=v,this._j=_,A}a.RC4=c._createHelper(p);var d=u.RC4Drop=p.extend({cfg:p.cfg.extend({drop:192}),_doReset:function(){p._doReset.call(this);for(var y=this.cfg.drop;y>0;y--)g.call(this)}});a.RC4Drop=c._createHelper(d)})(),n.RC4})})(ff)),ff.exports}var df={exports:{}},a9=df.exports,lE;function s9(){return lE||(lE=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Vs(),Ps(),$a(),Xt())})(a9,function(n){return(function(){var a=n,o=a.lib,c=o.StreamCipher,u=a.algo,p=[],g=[],d=[],y=u.Rabbit=c.extend({_doReset:function(){for(var _=this._key.words,A=this.cfg.iv,C=0;C<4;C++)_[C]=(_[C]<<8|_[C]>>>24)&16711935|(_[C]<<24|_[C]>>>8)&4278255360;var N=this._X=[_[0],_[3]<<16|_[2]>>>16,_[1],_[0]<<16|_[3]>>>16,_[2],_[1]<<16|_[0]>>>16,_[3],_[2]<<16|_[1]>>>16],S=this._C=[_[2]<<16|_[2]>>>16,_[0]&4294901760|_[1]&65535,_[3]<<16|_[3]>>>16,_[1]&4294901760|_[2]&65535,_[0]<<16|_[0]>>>16,_[2]&4294901760|_[3]&65535,_[1]<<16|_[1]>>>16,_[3]&4294901760|_[0]&65535];this._b=0;for(var C=0;C<4;C++)v.call(this);for(var C=0;C<8;C++)S[C]^=N[C+4&7];if(A){var U=A.words,k=U[0],V=U[1],j=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,q=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,z=j>>>16|q&4294901760,T=q<<16|j&65535;S[0]^=j,S[1]^=z,S[2]^=q,S[3]^=T,S[4]^=j,S[5]^=z,S[6]^=q,S[7]^=T;for(var C=0;C<4;C++)v.call(this)}},_doProcessBlock:function(_,A){var C=this._X;v.call(this),p[0]=C[0]^C[5]>>>16^C[3]<<16,p[1]=C[2]^C[7]>>>16^C[5]<<16,p[2]=C[4]^C[1]>>>16^C[7]<<16,p[3]=C[6]^C[3]>>>16^C[1]<<16;for(var N=0;N<4;N++)p[N]=(p[N]<<8|p[N]>>>24)&16711935|(p[N]<<24|p[N]>>>8)&4278255360,_[A+N]^=p[N]},blockSize:128/32,ivSize:64/32});function v(){for(var _=this._X,A=this._C,C=0;C<8;C++)g[C]=A[C];A[0]=A[0]+1295307597+this._b|0,A[1]=A[1]+3545052371+(A[0]>>>0<g[0]>>>0?1:0)|0,A[2]=A[2]+886263092+(A[1]>>>0<g[1]>>>0?1:0)|0,A[3]=A[3]+1295307597+(A[2]>>>0<g[2]>>>0?1:0)|0,A[4]=A[4]+3545052371+(A[3]>>>0<g[3]>>>0?1:0)|0,A[5]=A[5]+886263092+(A[4]>>>0<g[4]>>>0?1:0)|0,A[6]=A[6]+1295307597+(A[5]>>>0<g[5]>>>0?1:0)|0,A[7]=A[7]+3545052371+(A[6]>>>0<g[6]>>>0?1:0)|0,this._b=A[7]>>>0<g[7]>>>0?1:0;for(var C=0;C<8;C++){var N=_[C]+A[C],S=N&65535,U=N>>>16,k=((S*S>>>17)+S*U>>>15)+U*U,V=((N&4294901760)*N|0)+((N&65535)*N|0);d[C]=k^V}_[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,_[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,_[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,_[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,_[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,_[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,_[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,_[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}a.Rabbit=c._createHelper(y)})(),n.Rabbit})})(df)),df.exports}var mf={exports:{}},o9=mf.exports,cE;function l9(){return cE||(cE=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Vs(),Ps(),$a(),Xt())})(o9,function(n){return(function(){var a=n,o=a.lib,c=o.StreamCipher,u=a.algo,p=[],g=[],d=[],y=u.RabbitLegacy=c.extend({_doReset:function(){var _=this._key.words,A=this.cfg.iv,C=this._X=[_[0],_[3]<<16|_[2]>>>16,_[1],_[0]<<16|_[3]>>>16,_[2],_[1]<<16|_[0]>>>16,_[3],_[2]<<16|_[1]>>>16],N=this._C=[_[2]<<16|_[2]>>>16,_[0]&4294901760|_[1]&65535,_[3]<<16|_[3]>>>16,_[1]&4294901760|_[2]&65535,_[0]<<16|_[0]>>>16,_[2]&4294901760|_[3]&65535,_[1]<<16|_[1]>>>16,_[3]&4294901760|_[0]&65535];this._b=0;for(var S=0;S<4;S++)v.call(this);for(var S=0;S<8;S++)N[S]^=C[S+4&7];if(A){var U=A.words,k=U[0],V=U[1],j=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,q=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,z=j>>>16|q&4294901760,T=q<<16|j&65535;N[0]^=j,N[1]^=z,N[2]^=q,N[3]^=T,N[4]^=j,N[5]^=z,N[6]^=q,N[7]^=T;for(var S=0;S<4;S++)v.call(this)}},_doProcessBlock:function(_,A){var C=this._X;v.call(this),p[0]=C[0]^C[5]>>>16^C[3]<<16,p[1]=C[2]^C[7]>>>16^C[5]<<16,p[2]=C[4]^C[1]>>>16^C[7]<<16,p[3]=C[6]^C[3]>>>16^C[1]<<16;for(var N=0;N<4;N++)p[N]=(p[N]<<8|p[N]>>>24)&16711935|(p[N]<<24|p[N]>>>8)&4278255360,_[A+N]^=p[N]},blockSize:128/32,ivSize:64/32});function v(){for(var _=this._X,A=this._C,C=0;C<8;C++)g[C]=A[C];A[0]=A[0]+1295307597+this._b|0,A[1]=A[1]+3545052371+(A[0]>>>0<g[0]>>>0?1:0)|0,A[2]=A[2]+886263092+(A[1]>>>0<g[1]>>>0?1:0)|0,A[3]=A[3]+1295307597+(A[2]>>>0<g[2]>>>0?1:0)|0,A[4]=A[4]+3545052371+(A[3]>>>0<g[3]>>>0?1:0)|0,A[5]=A[5]+886263092+(A[4]>>>0<g[4]>>>0?1:0)|0,A[6]=A[6]+1295307597+(A[5]>>>0<g[5]>>>0?1:0)|0,A[7]=A[7]+3545052371+(A[6]>>>0<g[6]>>>0?1:0)|0,this._b=A[7]>>>0<g[7]>>>0?1:0;for(var C=0;C<8;C++){var N=_[C]+A[C],S=N&65535,U=N>>>16,k=((S*S>>>17)+S*U>>>15)+U*U,V=((N&4294901760)*N|0)+((N&65535)*N|0);d[C]=k^V}_[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,_[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,_[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,_[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,_[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,_[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,_[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,_[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}a.RabbitLegacy=c._createHelper(y)})(),n.RabbitLegacy})})(mf)),mf.exports}var pf={exports:{}},c9=pf.exports,uE;function u9(){return uE||(uE=1,(function(i,e){(function(n,a,o){i.exports=a(He(),Vs(),Ps(),$a(),Xt())})(c9,function(n){return(function(){var a=n,o=a.lib,c=o.BlockCipher,u=a.algo;const p=16,g=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],d=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var y={pbox:[],sbox:[]};function v(S,U){let k=U>>24&255,V=U>>16&255,j=U>>8&255,q=U&255,z=S.sbox[0][k]+S.sbox[1][V];return z=z^S.sbox[2][j],z=z+S.sbox[3][q],z}function _(S,U,k){let V=U,j=k,q;for(let z=0;z<p;++z)V=V^S.pbox[z],j=v(S,V)^j,q=V,V=j,j=q;return q=V,V=j,j=q,j=j^S.pbox[p],V=V^S.pbox[p+1],{left:V,right:j}}function A(S,U,k){let V=U,j=k,q;for(let z=p+1;z>1;--z)V=V^S.pbox[z],j=v(S,V)^j,q=V,V=j,j=q;return q=V,V=j,j=q,j=j^S.pbox[1],V=V^S.pbox[0],{left:V,right:j}}function C(S,U,k){for(let T=0;T<4;T++){S.sbox[T]=[];for(let w=0;w<256;w++)S.sbox[T][w]=d[T][w]}let V=0;for(let T=0;T<p+2;T++)S.pbox[T]=g[T]^U[V],V++,V>=k&&(V=0);let j=0,q=0,z=0;for(let T=0;T<p+2;T+=2)z=_(S,j,q),j=z.left,q=z.right,S.pbox[T]=j,S.pbox[T+1]=q;for(let T=0;T<4;T++)for(let w=0;w<256;w+=2)z=_(S,j,q),j=z.left,q=z.right,S.sbox[T][w]=j,S.sbox[T][w+1]=q;return!0}var N=u.Blowfish=c.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var S=this._keyPriorReset=this._key,U=S.words,k=S.sigBytes/4;C(y,U,k)}},encryptBlock:function(S,U){var k=_(y,S[U],S[U+1]);S[U]=k.left,S[U+1]=k.right},decryptBlock:function(S,U){var k=A(y,S[U],S[U+1]);S[U]=k.left,S[U+1]=k.right},blockSize:64/32,keySize:128/32,ivSize:64/32});a.Blowfish=c._createHelper(N)})(),n.Blowfish})})(pf)),pf.exports}var h9=Bh.exports,hE;function f9(){return hE||(hE=1,(function(i,e){(function(n,a,o){i.exports=a(He(),h0(),lI(),uI(),Vs(),dI(),Ps(),gA(),hg(),vI(),yA(),EI(),AI(),CI(),fg(),DI(),$a(),Xt(),kI(),OI(),VI(),FI(),UI(),zI(),qI(),KI(),QI(),XI(),ZI(),e9(),n9(),i9(),s9(),l9(),u9())})(h9,function(n){return n})})(Bh)),Bh.exports}var d9=f9();const ip=WT(d9),m9="my-not-busy-agenda-secret-key-2024",vA=i=>`${m9}-${i}`,Ba=(i,e)=>{if(!i||!e)return i;try{const n=vA(e);return ip.AES.encrypt(i,n).toString()}catch(n){return console.error("Encryption error:",n),i}},dg=(i,e)=>{if(!i||!e)return i;try{const n=vA(e),o=ip.AES.decrypt(i,n).toString(ip.enc.Utf8);return o||i}catch{return i}};function mg(i=null){const[e,n]=K.useState([]),{user:a}=Ir(),{scheduleDelete:o}=l0();return K.useEffect(()=>{if(!a){n([]);return}const y=Vi(st,"users",a.uid,"todos");let v;if(i){const A=new Date(i);A.setHours(0,0,0,0);const C=new Date(i);C.setHours(23,59,59,999),v=bs(y,Bi("createdAt",">=",A),Bi("createdAt","<=",C),As("createdAt","desc"))}else v=bs(y,As("createdAt","desc"));return Gc(v,A=>{let C=A.docs.map(N=>{const S=N.data();return{id:N.id,...S,text:dg(S.text,a.uid)}});if(!i){const N=new Date;N.setHours(0,0,0,0),C=C.filter(S=>{const U=new Date(S.createdAt.toDate());return U.setHours(0,0,0,0),U.getTime()>N.getTime()?!1:U.getTime()<N.getTime()?!S.completed:!0})}n(C)})},[a,i]),{todos:e,addTodo:async(y,v="general",_=null)=>{if(!(!y.trim()||!a))try{const A=_||new Date,C=Ba(y,a.uid);await Ic(Vi(st,"users",a.uid,"todos"),{text:C,completed:!1,category:v,createdAt:A})}catch(A){console.error("Error adding todo:",A)}},toggleTodo:async y=>{if(a)try{const v=e.find(A=>A.id===y),_=Yt(st,"users",a.uid,"todos",y);await Cs(_,{completed:!v.completed})}catch(v){console.error("Error toggling todo:",v)}},deleteTodo:async y=>{if(a)try{const v=e.find(_=>_.id===y);if(!v)return;o(y,"todo",v,async()=>{try{const _=Ba(v.text,a.uid);await Ic(Vi(st,"users",a.uid,"todos"),{text:_,completed:v.completed,category:v.category,createdAt:v.createdAt})}catch(_){console.error("Error restoring todo:",_)}},async()=>{try{await sg(Yt(st,"users",a.uid,"todos",y))}catch(_){console.error("Error deleting todo:",_)}})}catch(v){console.error("Error scheduling todo deletion:",v)}},updateTodoText:async(y,v)=>{if(!a||!v.trim())return;const _=v.trim();n(A=>A.map(C=>C.id===y?{...C,text:_}:C));try{const A=Ba(_,a.uid),C=Yt(st,"users",a.uid,"todos",y);await Cs(C,{text:A})}catch(A){console.error("Error updating todo text:",A)}},rescheduleTodo:async(y,v)=>{if(a)try{const _=Yt(st,"users",a.uid,"todos",y),A=new Date(v);A.setHours(0,0,0,0),await Cs(_,{createdAt:A})}catch(_){console.error("Error rescheduling todo:",_)}}}}function p9(){const[i,e]=K.useState(new Date),{t:n,language:a}=wn();K.useEffect(()=>{const u=setInterval(()=>{e(new Date)},1e3);return()=>clearInterval(u)},[]);const o=()=>{const u=i.getHours();return u<12?n("dashboard.greeting.morning"):u<18?n("dashboard.greeting.afternoon"):n("dashboard.greeting.evening")},c=()=>i.toLocaleTimeString(a,{hour:"2-digit",minute:"2-digit",hour12:!1});return{time:i,greeting:o(),formattedTime:c()}}function xA({onDateSelect:i,selectedDate:e}){const[n,a]=K.useState(new Date),[o,c]=K.useState([]),{language:u}=wn(),{user:p}=Ir(),g=n.getMonth(),d=n.getFullYear(),y=new Date;K.useEffect(()=>{if(!p){c([]);return}const T=new Date(d,g,1);T.setHours(0,0,0,0);const w=new Date(d,g+1,0);w.setHours(23,59,59,999);const O=Vi(st,"users",p.uid,"todos"),D=bs(O,Bi("createdAt",">=",T),Bi("createdAt","<=",w),As("createdAt","desc"));return Gc(D,L=>{const M=L.docs.map(le=>({id:le.id,...le.data()}));c(M)})},[p,g,d]);const v=T=>{if(!T)return null;const w=new Date(d,g,T);w.setHours(0,0,0,0);const O=o.filter(R=>{const L=new Date(R.createdAt.toDate());return L.setHours(0,0,0,0),L.getTime()===w.getTime()});return O.length===0?null:O.every(R=>R.completed)?"complete":"incomplete"},_=new Date(d,g,1).getDay(),A=_===0?6:_-1,C=new Date(d,g+1,0).getDate(),N=n.toLocaleString(u,{month:"long"}),S=()=>{a(new Date(d,g-1,1))},U=()=>{a(new Date(d,g+1,1))},k=T=>{if(!T)return;const w=new Date(d,g,T);i&&i(w)},V=T=>!e||!T?!1:e.getDate()===T&&e.getMonth()===g&&e.getFullYear()===d,j=T=>T?y.getDate()===T&&y.getMonth()===g&&y.getFullYear()===d:!1,q=[];for(let T=0;T<A;T++)q.push(null);for(let T=1;T<=C;T++)q.push(T);const z=Array.from({length:7},(T,w)=>new Date(2023,0,w+2).toLocaleString(u,{weekday:"short"}));return I.jsxs("div",{className:"p-5 rounded-2xl border",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsxs("div",{className:"flex items-center justify-between mb-4",children:[I.jsxs("h3",{className:"text-lg font-semibold capitalize",style:{color:"var(--color-text-primary)"},children:[N," ",d]}),I.jsxs("div",{className:"flex gap-1",children:[I.jsx("button",{onClick:S,className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:I.jsx(y5,{size:20})}),I.jsx("button",{onClick:U,className:"p-1 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:I.jsx(lA,{size:20})})]})]}),I.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[z.map(T=>I.jsx("div",{className:"text-center text-xs font-medium py-2 capitalize",style:{color:"var(--color-text-tertiary)"},children:T},T)),q.map((T,w)=>{const O=V(T),D=j(T),R=v(T);return I.jsxs("button",{onClick:()=>k(T),disabled:!T,className:`aspect-square flex flex-col items-center justify-center text-sm rounded-lg transition-all relative ${T?"hover:bg-black/5 dark:hover:bg-white/5 cursor-pointer":""}`,style:{backgroundColor:O?"var(--color-accent)":D?"var(--color-bg-hover)":"transparent",color:O?"#ffffff":T?"var(--color-text-primary)":"transparent",fontWeight:O||D?"600":"400",border:D&&!O?"1px solid var(--color-accent)":"none"},children:[I.jsx("span",{children:T||""}),R&&I.jsx("div",{className:"absolute bottom-1",style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:R==="complete"?"#22c55e":"transparent",border:R==="incomplete"?"1.5px solid #22c55e":"none"}})]},w)})]})]})}function pg(i=null,e=!1){const[n,a]=K.useState([]),{user:o}=Ir(),{scheduleDelete:c}=l0();return K.useEffect(()=>{if(!o){a([]);return}const d=Vi(st,"users",o.uid,"journal");let y;if(e)y=bs(d,As("date","desc"));else if(i){const _=new Date(i);_.setHours(0,0,0,0);const A=new Date(i);A.setHours(23,59,59,999),y=bs(d,Bi("date",">=",_),Bi("date","<=",A),As("date","desc"))}else{const _=new Date;_.setHours(0,0,0,0);const A=new Date;A.setHours(23,59,59,999),y=bs(d,Bi("date",">=",_),Bi("date","<=",A),As("date","desc"))}return Gc(y,_=>{const A=_.docs.map(C=>{const N=C.data();return{id:C.id,...N,text:dg(N.text,o.uid),date:N.date?.toDate?.()?.toISOString()||N.date,updatedAt:N.updatedAt?.toDate?.()?.toISOString()||N.updatedAt}});a(A)})},[o,i,e]),{entries:n,addEntry:async d=>{if(!(!d.trim()||!o))try{const y=Ba(d,o.uid);await Ic(Vi(st,"users",o.uid,"journal"),{text:y,date:new Date})}catch(y){console.error("Error adding journal entry:",y)}},deleteEntry:async d=>{if(o)try{const y=n.find(v=>v.id===d);if(!y)return;c(d,"entry",y,async()=>{try{const v=Ba(y.text,o.uid);await Ic(Vi(st,"users",o.uid,"journal"),{text:v,date:new Date(y.date),...y.updatedAt&&{updatedAt:new Date(y.updatedAt)}})}catch(v){console.error("Error restoring journal entry:",v)}},async()=>{try{await sg(Yt(st,"users",o.uid,"journal",d))}catch(v){console.error("Error deleting journal entry:",v)}})}catch(y){console.error("Error scheduling journal entry deletion:",y)}},updateEntry:async(d,y)=>{if(!(!y.trim()||!o))try{const v=Ba(y,o.uid);await Cs(Yt(st,"users",o.uid,"journal",d),{text:v,updatedAt:new Date})}catch(v){console.error("Error updating journal entry:",v)}}}}function g9({isOpen:i,onClose:e,date:n}){const{todos:a,toggleTodo:o}=mg(n),{entries:c}=pg(n),{t:u,language:p}=wn();if(!i||!n)return null;const g=d=>{o(d)};return I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:I.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl shadow-xl overflow-hidden max-h-[80vh] flex flex-col",style:{backgroundColor:"var(--color-bg-card)"},children:[I.jsxs("div",{className:"flex items-center justify-between p-4 border-b shrink-0",style:{borderColor:"var(--color-border)"},children:[I.jsxs("h2",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:[u("calendar.summary_title")," ",n.toLocaleDateString(p)]}),I.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:I.jsx(Ka,{size:20})})]}),I.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[I.jsxs("div",{children:[I.jsxs("h3",{className:"text-sm font-medium mb-3 uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:[u("calendar.tasks_section")," (",a.length,")"]}),a.length===0?I.jsx("p",{className:"text-sm italic",style:{color:"var(--color-text-muted)"},children:u("calendar.no_tasks")}):I.jsx("ul",{className:"space-y-2",children:a.map(d=>I.jsx("li",{children:I.jsxs("button",{onClick:()=>g(d.id),className:"flex items-start gap-2 text-sm w-full text-left p-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[d.completed?I.jsx(og,{size:18,className:"mt-0.5 shrink-0",style:{color:"var(--color-accent)"}}):I.jsx(u0,{size:18,className:"mt-0.5 shrink-0",style:{color:"var(--color-text-muted)"}}),I.jsx("span",{style:{color:"var(--color-text-primary)",textDecoration:d.completed?"line-through":"none",opacity:d.completed?.7:1},children:d.text})]})},d.id))})]}),I.jsxs("div",{children:[I.jsxs("h3",{className:"text-sm font-medium mb-3 uppercase tracking-wider",style:{color:"var(--color-text-secondary)"},children:[u("calendar.journal_section")," (",c.length,")"]}),c.length===0?I.jsx("p",{className:"text-sm italic",style:{color:"var(--color-text-muted)"},children:u("calendar.no_entries")}):I.jsx("div",{className:"space-y-3",children:c.map(d=>I.jsxs("div",{className:"p-3 rounded-lg border",style:{borderColor:"var(--color-border)"},children:[I.jsx("p",{className:"text-xs mb-1",style:{color:"var(--color-text-tertiary)"},children:new Date(d.date).toLocaleTimeString(p,{hour:"2-digit",minute:"2-digit"})}),I.jsx("p",{className:"text-sm whitespace-pre-wrap",style:{color:"var(--color-text-primary)"},children:d.text})]},d.id))})]})]})]})})}function y9(){const{focus:i,setFocusText:e,toggleFocus:n}=eI(),{todos:a}=mg(),{greeting:o,formattedTime:c}=p9(),{t:u}=wn(),[p,g]=K.useState(!i.text),[d,y]=K.useState(null),[v,_]=K.useState(!1),A=a.filter(S=>!S.completed).length,C=S=>{S.preventDefault(),g(!1)},N=S=>{y(S),_(!0)};return I.jsxs("div",{className:"content-container space-y-8",children:[I.jsxs("header",{className:"flex items-start justify-between",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:o}),I.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:u("dashboard.subtitle")})]}),I.jsx("div",{className:"text-right",children:I.jsx("div",{className:"text-3xl font-semibold tabular-nums",style:{color:"var(--color-text-primary)"},children:c})})]}),I.jsxs("div",{className:"p-6 rounded-2xl border",style:{backgroundColor:"var(--color-bg-hover)",borderColor:"var(--color-border)"},children:[I.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--color-text-primary)"},children:u("dashboard.focus_title")}),p?I.jsx("form",{onSubmit:C,children:I.jsx("input",{type:"text",value:i.text,onChange:S=>e(S.target.value),placeholder:u("dashboard.focus_placeholder"),className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--color-bg-input)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},autoFocus:!0,onBlur:()=>{i.text&&g(!1)}})}):I.jsxs("div",{className:"flex items-center gap-3 group cursor-pointer",onClick:n,children:[I.jsx("button",{style:{color:"var(--color-accent)"},children:i.completed?I.jsx(og,{size:24}):I.jsx(u0,{size:24})}),I.jsx("span",{className:Mf("text-xl font-medium flex-1",i.completed&&"line-through opacity-75"),style:{color:"var(--color-text-primary)"},children:i.text}),I.jsx("button",{onClick:S=>{S.stopPropagation(),g(!0)},className:"text-xs opacity-0 group-hover:opacity-100 transition-opacity",style:{color:"var(--color-text-tertiary)"},children:u("common.edit")})]})]}),I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs(Uo,{to:"/todos",className:"p-5 rounded-2xl border shadow-sm hover:shadow-md transition-all flex flex-col justify-between h-full",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsxs("div",{children:[I.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:u("dashboard.tasks_card.title")}),I.jsxs("p",{className:"text-xl sm:text-2xl font-bold break-words",style:{color:"var(--color-text-primary)"},children:[A," ",u("dashboard.tasks_card.pending")]})]}),I.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium",style:{color:"var(--color-accent)"},children:[u("dashboard.tasks_card.action")," ",I.jsx(R_,{size:16,className:"ml-1"})]})]}),I.jsxs(Uo,{to:"/journal",className:"p-5 rounded-2xl border shadow-sm hover:shadow-md transition-all flex flex-col justify-between h-full",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsxs("div",{children:[I.jsx("h3",{className:"text-sm font-medium mb-1",style:{color:"var(--color-text-secondary)"},children:u("dashboard.journal_card.title")}),I.jsx("p",{className:"text-xl sm:text-2xl font-bold break-words",style:{color:"var(--color-text-primary)"},children:u("dashboard.journal_card.subtitle")})]}),I.jsxs("div",{className:"mt-4 flex items-center text-sm font-medium",style:{color:"var(--color-accent)"},children:[u("dashboard.journal_card.action")," ",I.jsx(R_,{size:16,className:"ml-1"})]})]})]}),I.jsx(xA,{onDateSelect:N,selectedDate:d}),I.jsx(g9,{isOpen:v,onClose:()=>_(!1),date:d})]})}function _A({isOpen:i,onClose:e,onDateSelect:n,selectedDate:a}){const{t:o}=wn();return i?I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:I.jsxs("div",{className:"relative w-full max-w-md rounded-2xl shadow-xl overflow-hidden",style:{backgroundColor:"var(--color-bg-card)"},children:[I.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--color-border)"},children:[I.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:o("calendar.select_date")}),I.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:I.jsx(Ka,{size:20})})]}),I.jsx("div",{className:"p-4",children:I.jsx(xA,{onDateSelect:c=>{const u=new Date;u.setHours(0,0,0,0);const p=new Date(c);p.setHours(0,0,0,0),p.getTime()===u.getTime()?n(null):n(c),e()},selectedDate:a})})]})}):null}function v9(){const[i,e]=K.useState([]),[n,a]=K.useState({}),{user:o}=Ir(),{scheduleDelete:c}=l0();return K.useEffect(()=>{if(!o){e([]),a({});return}const y=Vi(st,"users",o.uid,"todos"),v=bs(y,Bi("completed","==",!1),As("createdAt","desc"));return Gc(v,A=>{const C=A.docs.map(S=>{const U=S.data();return{id:S.id,...U,text:dg(U.text,o.uid)}});e(C);const N={};C.forEach(S=>{const U=new Date(S.createdAt.toDate());U.setHours(0,0,0,0);const k=U.toISOString();N[k]||(N[k]={date:U,todos:[]}),N[k].todos.push(S)}),a(N)})},[o]),{incompleteTodos:i,groupedTodos:n,toggleTodo:async y=>{if(o)try{const v=i.find(A=>A.id===y),_=Yt(st,"users",o.uid,"todos",y);await Cs(_,{completed:!v.completed})}catch(v){console.error("Error toggling todo:",v)}},deleteTodo:async y=>{if(o)try{const v=i.find(_=>_.id===y);if(!v)return;e(_=>_.filter(A=>A.id!==y)),a(_=>{const A={..._};for(const C in A)A[C]={...A[C],todos:A[C].todos.filter(N=>N.id!==y)},A[C].todos.length===0&&delete A[C];return A}),c(y,"todo",v,async()=>{try{e(A=>[...A,v]),a(A=>{const C=new Date(v.createdAt.toDate());C.setHours(0,0,0,0);const N=C.toISOString(),S={...A};return S[N]?S[N]={...S[N]}:S[N]={date:C,todos:[]},S[N].todos=[...S[N].todos,v],S});const _=Ba(v.text,o.uid);await Ic(Vi(st,"users",o.uid,"todos"),{text:_,completed:v.completed,category:v.category,createdAt:v.createdAt})}catch(_){console.error("Error restoring todo:",_)}},async()=>{try{await sg(Yt(st,"users",o.uid,"todos",y))}catch(_){console.error("Error deleting todo:",_)}})}catch(v){console.error("Error scheduling todo deletion:",v)}},updateTodoText:async(y,v)=>{if(!o||!v.trim())return;const _=v.trim();e(A=>A.map(C=>C.id===y?{...C,text:_}:C)),a(A=>{const C={...A};for(const N in C){const S=C[N];S.todos.some(U=>U.id===y)&&(C[N]={...S,todos:S.todos.map(U=>U.id===y?{...U,text:_}:U)})}return C});try{const A=Ba(_,o.uid),C=Yt(st,"users",o.uid,"todos",y);await Cs(C,{text:A})}catch(A){console.error("Error updating todo text:",A)}},rescheduleTodo:async(y,v)=>{if(o)try{const _=Yt(st,"users",o.uid,"todos",y),A=new Date(v);A.setHours(0,0,0,0),await Cs(_,{createdAt:A})}catch(_){console.error("Error rescheduling todo:",_)}}}}function ap({selectedDate:i,onDateChange:e,autoOpen:n=!1}){const[a,o]=K.useState(n),[c,u]=K.useState(i||new Date),[p,g]=K.useState({top:0,right:0}),d=K.useRef(null),y=K.useRef(null),{t:v}=wn();K.useEffect(()=>{function z(T){y.current&&!y.current.contains(T.target)&&d.current&&!d.current.contains(T.target)&&o(!1)}if(a)return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[a]),K.useEffect(()=>{if(a&&d.current){const z=d.current.getBoundingClientRect();g({top:z.bottom+window.scrollY+8,right:window.innerWidth-z.right+window.scrollX})}},[a]);const _=z=>{const T=z.getFullYear(),w=z.getMonth(),O=new Date(T,w,1),R=new Date(T,w+1,0).getDate(),L=O.getDay();return{daysInMonth:R,startingDayOfWeek:L}},A=z=>{const T=new Date;return z.toDateString()===T.toDateString()},C=(z,T)=>T?z.toDateString()===T.toDateString():!1,N=z=>{const T=new Date(c.getFullYear(),c.getMonth(),z);e(T),o(!1)},S=()=>{u(new Date(c.getFullYear(),c.getMonth()-1))},U=()=>{u(new Date(c.getFullYear(),c.getMonth()+1))},k=z=>{z.stopPropagation(),e(null),o(!1)},{daysInMonth:V,startingDayOfWeek:j}=_(c),q=c.toLocaleDateString("default",{month:"long",year:"numeric"});return I.jsxs(I.Fragment,{children:[I.jsxs("button",{ref:d,type:"button",onClick:()=>o(!a),className:"flex items-center gap-1.5 p-2 rounded-md transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{color:i?"var(--color-accent)":"var(--color-text-secondary)",backgroundColor:i?"var(--color-accent)20":"transparent"},children:[I.jsx(c0,{size:18}),i&&I.jsx(Ka,{size:14,onClick:k,className:"hover:text-red-600 transition-colors"})]}),a&&VC.createPortal(I.jsxs("div",{ref:y,className:"fixed p-4 rounded-xl border shadow-xl",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",minWidth:"280px",top:`${p.top}px`,right:`${p.right}px`,zIndex:99999},children:[I.jsxs("div",{className:"flex items-center justify-between mb-4",children:[I.jsx("button",{type:"button",onClick:S,className:"p-1 rounded hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:""}),I.jsx("span",{className:"font-semibold",style:{color:"var(--color-text-primary)"},children:q}),I.jsx("button",{type:"button",onClick:U,className:"p-1 rounded hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{color:"var(--color-text-primary)"},children:""})]}),I.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["S","M","T","W","T","F","S"].map((z,T)=>I.jsx("div",{className:"text-center text-xs font-semibold py-1",style:{color:"var(--color-text-muted)"},children:z},T))}),I.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:j}).map((z,T)=>I.jsx("div",{},`empty-${T}`)),Array.from({length:V}).map((z,T)=>{const w=T+1,O=new Date(c.getFullYear(),c.getMonth(),w),D=C(O,i),R=A(O);return I.jsx("button",{type:"button",onClick:()=>N(w),className:"aspect-square rounded-lg text-sm transition-all hover:bg-black/10 dark:hover:bg-white/10",style:{backgroundColor:D?"var(--color-accent)":R?"var(--color-accent-light)":"transparent",color:D?"white":R?"var(--color-accent)":"var(--color-text-primary)",fontWeight:R||D?"600":"400"},children:w},w)})]})]}),document.body)]})}function x9({isOpen:i,onClose:e}){const{t:n}=wn(),{incompleteTodos:a,groupedTodos:o,toggleTodo:c,deleteTodo:u,rescheduleTodo:p,updateTodoText:g}=v9(),[d,y]=K.useState(null),[v,_]=K.useState(null),[A,C]=K.useState(""),N=j=>{_(j.id),C(j.text)},S=()=>{v&&A.trim()&&(g(v,A),_(null),C(""))},U=()=>{_(null),C("")},k=j=>{j.key==="Enter"?S():j.key==="Escape"&&U()};if(!i)return null;const V=Object.keys(o).sort((j,q)=>new Date(j)-new Date(q));return I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e,children:I.jsxs("div",{className:"relative w-full max-w-2xl max-h-[80vh] rounded-2xl shadow-xl overflow-hidden flex flex-col",style:{backgroundColor:"var(--color-bg-card)"},onClick:j=>j.stopPropagation(),children:[I.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--color-border)"},children:[I.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:n("tasks.incomplete_title")}),I.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",style:{color:"var(--color-text-secondary)"},children:I.jsx(Ka,{size:20})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.length===0?I.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-muted)"},children:I.jsx("p",{children:n("tasks.no_incomplete")})}):I.jsx("div",{className:"space-y-6",children:V.map(j=>{const q=o[j],z=q.date.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),T=new Date;T.setHours(0,0,0,0);const w=q.date.getTime()===T.getTime(),O=q.date.getTime()<T.getTime();return I.jsxs("div",{children:[I.jsxs("h3",{className:"text-sm font-semibold mb-3 px-2",style:{color:O?"#ef4444":"var(--color-text-secondary)"},children:[w?n("common.today"):z,O&&" "]}),I.jsx("div",{className:"space-y-2",children:q.todos.map(D=>I.jsxs("div",{className:"flex items-center justify-between rounded-xl border shadow-sm transition-all hover:shadow-md p-3",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsxs("div",{className:"flex items-start gap-3 flex-1 text-left min-w-0",children:[I.jsx("button",{onClick:()=>c(D.id),className:"mt-0.5 flex-shrink-0",children:I.jsx(u0,{size:20,style:{color:"var(--color-text-muted)"}})}),I.jsx("div",{className:"flex-1 min-w-0",children:v===D.id?I.jsx("input",{type:"text",value:A,onChange:R=>C(R.target.value),onBlur:S,onKeyDown:k,autoFocus:!0,className:"w-full bg-transparent border-b border-gray-300 dark:border-gray-600 focus:outline-none focus:border-blue-500 px-1 py-0.5",style:{color:"var(--color-text-primary)"}}):I.jsx("button",{onClick:()=>c(D.id),className:"text-left w-full",children:I.jsx("span",{className:"text-base block",style:{color:"var(--color-text-primary)",wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word"},children:D.text})})})]}),I.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[I.jsx("button",{onClick:()=>N(D),className:"p-2 hover:text-blue-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":n("tasks.edit_label"),children:I.jsx(lg,{size:18})}),d===D.id?I.jsx(ap,{selectedDate:null,onDateChange:R=>{R&&p(D.id,R),y(null)},autoOpen:!0}):I.jsx("button",{onClick:()=>y(D.id),className:"p-2 hover:text-blue-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":"Reschedule task",children:I.jsx(c0,{size:18})}),I.jsx("button",{onClick:()=>u(D.id),className:"p-2 hover:text-red-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":n("tasks.delete_label"),children:I.jsx(cg,{size:18})})]})]},D.id))})]},j)})})})]})})}function _9(){const[i,e]=K.useState(null),[n,a]=K.useState(!1),[o,c]=K.useState(!1),[u,p]=K.useState(null),{todos:g,addTodo:d,toggleTodo:y,deleteTodo:v,rescheduleTodo:_,updateTodoText:A}=mg(i),[C,N]=K.useState(""),[S,U]=K.useState(null),{t:k}=wn(),[V,j]=K.useState(null),[q,z]=K.useState(""),T=le=>{j(le.id),z(le.text)},w=()=>{V&&q.trim()&&(A(V,q),j(null),z(""))},O=()=>{j(null),z("")},D=le=>{le.key==="Enter"?w():le.key==="Escape"&&O()},R=le=>{if(le.preventDefault(),C.trim()){const de=u?new Date(u.setHours(0,0,0,0)):null;d(C,"general",de),N(""),p(null)}},L=!!i,M=i&&(()=>{const le=new Date;le.setHours(0,0,0,0);const de=new Date(i);return de.setHours(0,0,0,0),de.getTime()>le.getTime()})();return I.jsxs("div",{className:"content-container space-y-6",children:[I.jsxs("header",{className:"flex items-start justify-between",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:k(L?M?"tasks.future_title":"tasks.past_title":"tasks.title")}),I.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:L?`${k(M?"tasks.future_subtitle":"tasks.past_subtitle")} ${i.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}`:k("tasks.subtitle")})]}),I.jsxs("div",{className:"flex gap-2",children:[L&&I.jsx("button",{onClick:()=>e(null),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},title:k("common.clear_filter"),children:I.jsx(Ka,{size:24})}),!L&&I.jsx("button",{onClick:()=>c(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:k("tasks.view_incomplete"),children:I.jsx(D5,{size:24})}),I.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:k("common.view_history"),children:I.jsx(cA,{size:24})})]})]}),!L&&I.jsxs("form",{onSubmit:R,className:"relative",children:[I.jsx("input",{type:"text",value:C,onChange:le=>N(le.target.value),placeholder:k("tasks.placeholder"),className:"w-full p-4 pr-32 rounded-xl border shadow-sm focus:outline-none focus:ring-2 transition-all",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"}}),I.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[I.jsx(ap,{selectedDate:u,onDateChange:p}),I.jsx("div",{className:"w-px h-6 mx-1",style:{backgroundColor:"var(--color-border)"}}),I.jsx("button",{type:"submit",className:"p-2 text-white rounded-lg transition-colors",style:{backgroundColor:"var(--color-accent)"},children:I.jsx(V5,{size:20})})]})]}),I.jsx("div",{className:"space-y-3",children:g.length===0?I.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-muted)"},children:I.jsx("p",{children:k(L?"tasks.empty_past":"tasks.empty")})}):g.map(le=>{const de=new Date(le.createdAt.toDate());de.setHours(0,0,0,0);const X=new Date;X.setHours(0,0,0,0);const ue=!le.completed&&de.getTime()<X.getTime();return I.jsxs("div",{className:Mf("group flex items-center justify-between rounded-xl border shadow-sm transition-all hover:shadow-md",le.completed&&"opacity-75",ue?"p-5":"p-4"),style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsxs("div",{className:"flex items-start gap-3 flex-1 text-left min-w-0",children:[I.jsx("button",{onClick:()=>y(le.id),className:"mt-0.5 flex-shrink-0",children:le.completed?I.jsx(og,{className:"text-green-600",size:24}):I.jsx(u0,{size:24,style:{color:"var(--color-text-muted)"}})}),I.jsxs("div",{className:"flex-1 min-w-0",children:[V===le.id?I.jsx("input",{type:"text",value:q,onChange:he=>z(he.target.value),onBlur:w,onKeyDown:D,autoFocus:!0,className:"w-full bg-transparent border-b border-gray-300 dark:border-gray-600 focus:outline-none focus:border-blue-500 px-1 py-0.5",style:{color:"var(--color-text-primary)"}}):I.jsx("button",{onClick:()=>y(le.id),className:"text-left w-full",children:I.jsx("span",{className:Mf("text-lg transition-all block",le.completed&&"line-through"),style:{color:le.completed?"var(--color-text-muted)":"var(--color-text-primary)",wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word"},children:le.text})}),ue&&!V&&I.jsxs("span",{className:"text-sm mt-1 block",style:{color:"#ef4444"},children:[k("tasks.created"),": ",de.toLocaleDateString()]})]})]}),!L&&I.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[I.jsx("button",{onClick:()=>T(le),className:"p-2 hover:text-blue-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":k("tasks.edit_label"),children:I.jsx(lg,{size:20})}),S===le.id?I.jsx(ap,{selectedDate:null,onDateChange:he=>{he&&_(le.id,he),U(null)},autoOpen:!0}):I.jsx("button",{onClick:()=>U(le.id),className:"p-2 hover:text-blue-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":"Reschedule task",children:I.jsx(c0,{size:20})}),I.jsx("button",{onClick:()=>v(le.id),className:"p-2 hover:text-red-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":k("tasks.delete_label"),children:I.jsx(cg,{size:20})})]})]},le.id)})}),I.jsx(_A,{isOpen:n,onClose:()=>a(!1),onDateSelect:e,selectedDate:i}),o&&I.jsx(x9,{isOpen:!0,onClose:()=>c(!1)})]})}function E9({isOpen:i,onClose:e}){const{t:n}=wn(),{entries:a}=pg(null,!0),[o,c]=K.useState({}),u=K.useMemo(()=>{const g={};return a.forEach(d=>{const v=new Date(d.date).toLocaleString("default",{month:"long",year:"numeric"});g[v]||(g[v]=[]),g[v].push(d)}),g},[a]),p=g=>{c(d=>({...d,[g]:!d[g]}))};return i?I.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:I.jsxs("div",{className:"w-full max-w-md rounded-2xl border shadow-xl flex flex-col max-h-[80vh]",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"},children:[I.jsxs("div",{className:"flex items-center justify-between p-4 border-b shrink-0",style:{borderColor:"var(--color-border)"},children:[I.jsx("h2",{className:"text-xl font-semibold",children:n("journal.archive_title")||"Journal Archive"}),I.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",children:I.jsx(Ka,{size:20})})]}),I.jsx("div",{className:"p-4 overflow-y-auto flex-1 custom-scrollbar",children:Object.keys(u).length===0?I.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text-muted)"},children:n("journal.no_archived_entries")||"No entries found."}):Object.entries(u).map(([g,d])=>I.jsxs("div",{className:"mb-6 last:mb-0",children:[I.jsxs("button",{onClick:()=>p(g),className:"w-full text-lg font-medium mb-3 sticky top-0 py-2 backdrop-blur-sm z-10 flex items-center gap-2 hover:opacity-80 transition-opacity text-left",style:{color:"var(--color-accent)",backgroundColor:"var(--color-bg-card)"},children:[o[g]?I.jsx(lA,{size:20}):I.jsx(m5,{size:20}),I.jsx(c0,{size:18}),g,I.jsx("span",{className:"text-sm font-normal ml-auto opacity-70",style:{color:"var(--color-text-secondary)"},children:d.length})]}),!o[g]&&I.jsx("div",{className:"space-y-3 pl-4 border-l-2 animate-in slide-in-from-top-2 duration-200",style:{borderColor:"var(--color-border)"},children:d.map(y=>{const v=y.updatedAt?new Date(y.updatedAt):new Date(y.date);return I.jsxs("div",{className:"p-3 rounded-lg hover:bg-[var(--color-bg-secondary)] transition-colors",children:[I.jsxs("div",{className:"text-xs font-medium mb-1 opacity-70",children:[v.toLocaleDateString(void 0,{weekday:"short",day:"numeric"}),"  ",v.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}),y.updatedAt&&` ${n("common.edited")}`]}),I.jsx("p",{className:"whitespace-pre-wrap text-sm line-clamp-3",children:y.text})]},y.id)})})]},g))})]})}):null}function b9(){const[i,e]=K.useState(null),[n,a]=K.useState(!1),[o,c]=K.useState(!1),{entries:u,addEntry:p,deleteEntry:g,updateEntry:d}=pg(i),[y,v]=K.useState(""),{t:_}=wn(),[A,C]=K.useState(null),[N,S]=K.useState(""),U=z=>{C(z.id),S(z.text)},k=()=>{C(null),S("")},V=async()=>{A&&(await d(A,N),C(null),S(""))},j=z=>{z.preventDefault(),y.trim()&&(p(y),v(""))},q=!!i;return I.jsxs("div",{className:"content-container space-y-6",children:[I.jsxs("header",{className:"flex items-start justify-between",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-4xl font-serif font-bold tracking-tight",style:{color:"var(--color-text-primary)"},children:_(q?"journal.past_title":"journal.title")}),I.jsx("p",{className:"mt-1",style:{color:"var(--color-text-secondary)"},children:q?`${_("journal.past_subtitle")} ${i.toLocaleDateString()}`:_("journal.subtitle")})]}),I.jsxs("div",{className:"flex gap-2",children:[q&&I.jsx("button",{onClick:()=>e(null),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},title:_("common.clear_filter"),children:I.jsx(Ka,{size:24})}),!q&&I.jsx("button",{onClick:()=>c(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:_("journal.view_archive"),children:I.jsx(c5,{size:24})}),I.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-xl border transition-all hover:bg-black/5 dark:hover:bg-white/5",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},title:_("common.view_history"),children:I.jsx(cA,{size:24})})]})]}),!q&&I.jsxs("form",{onSubmit:j,className:"relative",children:[I.jsx("textarea",{value:y,onChange:z=>v(z.target.value),placeholder:_("journal.placeholder"),className:"w-full p-4 pr-12 rounded-xl border shadow-sm focus:outline-none focus:ring-2 transition-all min-h-[120px] resize-none",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)",color:"var(--color-text-primary)"}}),I.jsx("button",{type:"submit",className:"absolute right-2 bottom-2 p-2 text-white rounded-lg transition-colors",style:{backgroundColor:"var(--color-accent)"},children:I.jsx(F5,{size:20})})]}),I.jsx("div",{className:"space-y-4",children:u.length===0?I.jsx("div",{className:"text-center py-12",style:{color:"var(--color-text-muted)"},children:I.jsx("p",{children:_(q?"journal.empty_past":"journal.empty")})}):u.map(z=>I.jsxs("div",{className:"p-5 rounded-xl border shadow-sm hover:shadow-md transition-all group",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsxs("div",{className:"flex justify-between items-start mb-2",children:[I.jsx("span",{className:"text-xs font-medium",style:{color:"var(--color-text-tertiary)"},children:z.updatedAt?`${new Date(z.updatedAt).toLocaleString()} ${_("common.edited")}`:new Date(z.date).toLocaleString()}),!q&&I.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[I.jsx("button",{onClick:()=>U(z),className:"p-1 hover:text-blue-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":_("common.edit"),children:I.jsx(lg,{size:16})}),I.jsx("button",{onClick:()=>g(z.id),className:"p-1 hover:text-red-600 transition-colors",style:{color:"var(--color-text-muted)"},"aria-label":_("common.delete"),children:I.jsx(cg,{size:16})})]})]}),A===z.id?I.jsxs("div",{className:"mt-2",children:[I.jsx("textarea",{value:N,onChange:T=>S(T.target.value),className:"w-full p-2 rounded-lg border bg-transparent focus:outline-none focus:ring-2 min-h-[100px]",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},autoFocus:!0}),I.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[I.jsx("button",{onClick:k,className:"px-3 py-1 text-sm rounded-lg border hover:bg-black/5 dark:hover:bg-white/5 transition-colors",style:{borderColor:"var(--color-border)",color:"var(--color-text-secondary)"},children:_("common.cancel")}),I.jsx("button",{onClick:V,className:"px-3 py-1 text-sm rounded-lg text-white transition-colors",style:{backgroundColor:"var(--color-accent)"},children:_("common.save")})]})]}):I.jsx("p",{className:"whitespace-pre-wrap",style:{color:"var(--color-text-primary)",wordWrap:"break-word",overflowWrap:"break-word",wordBreak:"break-word"},children:z.text})]},z.id))}),I.jsx(_A,{isOpen:n,onClose:()=>a(!1),onDateSelect:e,selectedDate:i}),I.jsx(E9,{isOpen:o,onClose:()=>c(!1)})]})}function A9(){const{signInWithGoogle:i,loginWithEmail:e,registerWithEmail:n}=Ir(),{t:a}=wn(),{isDark:o,toggleDarkMode:c}=ug(),[u,p]=K.useState(!1),[g,d]=K.useState(!1),[y,v]=K.useState(""),[_,A]=K.useState(""),[C,N]=K.useState(""),[S,U]=K.useState(!1),k=async()=>{try{await i()}catch(j){console.error("Failed to sign in:",j),N(a("auth.google_failed"))}},V=async j=>{j.preventDefault(),N(""),U(!0);try{g?await n(y,_):await e(y,_)}catch(q){console.error("Failed to authenticate:",q),q.code==="auth/email-already-in-use"?N(a("auth.email_in_use")):q.code==="auth/weak-password"?N(a("auth.weak_password")):N(a("auth.auth_failed"))}finally{U(!1)}};return I.jsxs("div",{className:"min-h-screen flex items-center justify-center font-sans relative",style:{backgroundColor:"var(--color-bg-primary)"},children:[I.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[I.jsx(dA,{}),I.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-[var(--color-bg-secondary)] transition-colors",style:{color:"var(--color-text-primary)"},children:o?I.jsx(hA,{size:20}):I.jsx(uA,{size:20})})]}),I.jsxs("div",{className:"w-full max-w-md p-8",children:[I.jsxs("div",{className:"text-center mb-8",children:[I.jsx("img",{src:pA,alt:"MyNotBusyAgenda Logo",className:"h-50 w-100 mx-auto mb-4"}),I.jsx("h1",{className:"text-3xl font-serif font-bold mb-2",style:{color:"var(--color-text-primary)"},children:"MyNotBusyAgenda"}),I.jsx("p",{className:"text-lg",style:{color:"var(--color-text-secondary)"},children:a("auth.subtitle")})]}),I.jsxs("div",{className:"p-8 rounded-2xl border",style:{backgroundColor:"var(--color-bg-card)",borderColor:"var(--color-border)"},children:[I.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",style:{color:"var(--color-text-primary)"},children:a("auth.welcome")}),C&&I.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 text-red-500 text-sm",children:C}),I.jsxs("div",{className:"space-y-4",children:[I.jsxs("button",{onClick:k,className:"w-full py-3 px-4 rounded-lg font-medium transition-all hover:opacity-90 flex items-center justify-center gap-3",style:{backgroundColor:"var(--color-accent)",color:"#ffffff"},children:[I.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[I.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),I.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),I.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),I.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),a("auth.sign_in_google")]}),I.jsxs("div",{className:"relative flex py-2 items-center",children:[I.jsx("div",{className:"flex-grow border-t",style:{borderColor:"var(--color-border)"}}),I.jsx("span",{className:"flex-shrink-0 mx-4 text-sm",style:{color:"var(--color-text-secondary)"},children:a("auth.or")}),I.jsx("div",{className:"flex-grow border-t",style:{borderColor:"var(--color-border)"}})]}),u?I.jsxs("form",{onSubmit:V,className:"space-y-4 animate-in slide-in-from-top-4 fade-in duration-200",children:[I.jsx("div",{children:I.jsx("input",{type:"email",value:y,onChange:j=>v(j.target.value),placeholder:a("auth.email_placeholder"),className:"w-full px-4 py-2 rounded-lg border bg-[var(--color-bg-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},required:!0})}),I.jsx("div",{children:I.jsx("input",{type:"password",value:_,onChange:j=>A(j.target.value),placeholder:a("auth.password_placeholder"),className:"w-full px-4 py-2 rounded-lg border bg-[var(--color-bg-secondary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},required:!0})}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{type:"button",onClick:()=>{p(!1),d(!1),N("")},className:"flex-1 py-2 px-4 rounded-lg font-medium transition-all hover:bg-[var(--color-bg-secondary)] text-sm",style:{color:"var(--color-text-secondary)"},children:a("auth.cancel")}),I.jsx("button",{type:"submit",disabled:S,className:"flex-1 py-2 px-4 rounded-lg font-medium transition-all hover:opacity-90 text-white disabled:opacity-50",style:{backgroundColor:"var(--color-accent)"},children:a(S?g?"auth.signing_up":"auth.signing_in":g?"auth.sign_up":"auth.sign_in")})]}),I.jsx("div",{className:"text-center pt-2",children:I.jsx("button",{type:"button",onClick:()=>{d(!g),N("")},className:"text-sm underline hover:opacity-80 transition-opacity",style:{color:"var(--color-text-secondary)"},children:a(g?"auth.already_have_account":"auth.need_account")})})]}):I.jsxs(I.Fragment,{children:[I.jsx("button",{onClick:()=>p(!0),className:"w-full py-3 px-4 rounded-lg font-medium transition-all hover:bg-[var(--color-bg-secondary)] border",style:{borderColor:"var(--color-border)",color:"var(--color-text-primary)"},children:a("auth.email_login")}),I.jsx("div",{className:"text-center pt-3",children:I.jsx("button",{onClick:()=>{p(!0),d(!0)},className:"text-sm underline hover:opacity-80 transition-opacity",style:{color:"var(--color-text-secondary)"},children:a("auth.need_account")})})]})]})]})]})]})}function T9(){const{user:i,loading:e}=Ir();return e?I.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--color-bg-primary)"},children:I.jsx("div",{className:"text-center",children:I.jsx("div",{className:"text-2xl font-semibold",style:{color:"var(--color-text-primary)"},children:"Loading..."})})}):i?I.jsxs(rC,{children:[I.jsxs(Io,{path:"/",element:I.jsx(J5,{}),children:[I.jsx(Io,{index:!0,element:I.jsx(y9,{})}),I.jsx(Io,{path:"todos",element:I.jsx(_9,{})}),I.jsx(Io,{path:"journal",element:I.jsx(b9,{})})]}),I.jsx(Io,{path:"*",element:I.jsx(eC,{to:"/",replace:!0})})]}):I.jsx(A9,{})}function C9(){return I.jsx(XR,{children:I.jsx(ZR,{children:I.jsx(Q5,{children:I.jsx(JR,{children:I.jsx(wC,{children:I.jsx(T9,{})})})})})})}o4.createRoot(document.getElementById("root")).render(I.jsx(K.StrictMode,{children:I.jsx(C9,{})}));
